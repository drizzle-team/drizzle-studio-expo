var ent=Object.defineProperty;var EEe=Wr=>{throw TypeError(Wr)};var tnt=(Wr,pr,Yr)=>pr in Wr?ent(Wr,pr,{enumerable:!0,configurable:!0,writable:!0,value:Yr}):Wr[pr]=Yr;var O=(Wr,pr,Yr)=>tnt(Wr,typeof pr!="symbol"?pr+"":pr,Yr),gEe=(Wr,pr,Yr)=>pr.has(Wr)||EEe("Cannot "+Yr);var _a=(Wr,pr,Yr)=>(gEe(Wr,pr,"read from private field"),Yr?Yr.call(Wr):pr.get(Wr)),Yb=(Wr,pr,Yr)=>pr.has(Wr)?EEe("Cannot add the same private member more than once"):pr instanceof WeakSet?pr.add(Wr):pr.set(Wr,Yr),Ic=(Wr,pr,Yr,ed)=>(gEe(Wr,pr,"write to private field"),ed?ed.call(Wr,Yr):pr.set(Wr,Yr),Yr);var j5=(Wr,pr,Yr,ed)=>({set _(Lh){Ic(Wr,pr,Lh,Yr)},get _(){return _a(Wr,pr,ed)}});(function(){"use strict";var gse,qk,Tse,Sse,Kk,vse,Xk,yse,Qk,Ase,Jk,Rse,Nse,bse,Cse,xse,wse,Ose,Ise,_se,Lse,Dse,Mse,Pse,kse,Use,jse,Bse,Fse,Hse,$se,Gse,Vse,zse,Wse,Yse,qse,Kse,Xse,Qse,Jse,Zse,xb,eie,tie,rie,nie,sie,iie,oie,aie,Zk,lie,cie,uie,die,hie,fie,mie,pie,Eie,gie,Tie,Sie,vie,yie,Aie,Rie,Nie,bie,Cie,xie,wie,Oie,Iie,_ie,Lie,Die,Mie,Pie,kie,Uie,jie,Bie,Fie,Hie,$ie,Gie,Vie,zie,Wie,Yie,qie,Kie,Xie,Qie,Jie,Zie,eoe,toe,roe,noe,soe,ioe,ooe,aoe,loe,coe,uoe,doe,hoe,foe,moe,poe,Eoe,goe,Toe,Soe,voe,yoe,Aoe,Roe,Noe,boe,Coe,xoe,woe,Ooe,Ioe,_oe,Loe,Doe,Moe,Poe,koe,Uoe,joe,Boe,Foe,Hoe,$oe,Goe,Voe,zoe,Woe,Yoe,qoe,Koe,Xoe,Qoe,Joe,Zoe,eae,tae,rae,nae,sae,iae,oae,aae,lae,cae,uae,dae,hae,fae,mae,pae,Eae,gae,Tae,Sae,vae,yae,Aae,Rae,Nae,bae,Cae,xae,wae,Oae,Iae,_ae,Lae,Dae,Mae,Pae,kae,Uae,jae,Bae,Fae,Hae,$ae,Gae,Vae,zae,Wae,Yae,qae,Kae,Xae,Qae,Jae,Zae,ele,tle,rle,nle,sle,ile,ole,ale,lle,cle,ule,dle,hle,fle,mle,ple,Ele,gle,Tle,Sle,vle,yle,Ale,Rle,Nle,ble,Cle,xle,wle,Ole,Ile,_le,e5,Lle,t5,Dle,Mle,Ple,kle,Ule,jle,Ble,Fle,r5,Hle,n5,$le,s5,Gle,i5,Vle,o5,zle,a5,Wle,Yle,qle,Kle,Xle,Qle,Jle,Zle,ece,tce,rce,nce,sce,ice,oce,ace,lce,cce,uce,dce,hce,fce,mce,pce,Ece,gce,Tce,Sce,vce,yce,Ace,Rce,Nce,bce,Cce,xce,wce,Oce,Ice,_ce,Lce,Dce,Mce,Pce,kce,Uce,jce,Bce,Fce,Hce,$ce,Gce,Vce,zce,Wce,Yce,qce,Kce,Xce,Qce,Jce,Zce,eue,tue,rue,nue,sue,iue,oue,aue,lue,cue,uue,due,hue,fue,mue,pue,Eue,gue,Tue,Sue,vue,yue,Aue,Rue,Nue,bue,Cue,xue,wue,Oue,Iue,_ue,Lue,Due,Mue,Pue,kue,Uue,jue,Bue,Fue,Hue,$ue,Gue,Vue,zue,Wue,Yue,que,Kue,Xue,Que,Jue,Zue,ede,tde,rde,nde,sde,ide,ode,ade,lde,cde,ude,dde,hde,fde,mde,pde,Ede,gde,Tde,Sde,vde,yde,Ade,Rde,Nde,bde,Cde,xde,wde,Ode,Ide,_de,Lde,Dde,Mde,Pde,l5,kde,c5,Ude,u5,jde,d5,Bde,Fde,Hde,$de,Gde,Vde,h5,zde,Wde,Yde,qde,Kde,Xde,Qde,f5,Jde,Zde,ehe,the,m5,rhe,nhe,p5,she,ihe,E5,ohe,ahe,lhe,che,uhe,dhe,hhe,fhe,mhe,g5,phe,Ehe,po,xh,wh,ghe,The,She,vhe,yhe,T5,Ahe,S5,Rhe,Nhe,bhe,Che,xhe,whe,Ohe,Ihe,_he,Lhe,Dhe,v5,Mhe,Phe,khe,Uhe,jhe,Bhe,Fhe,Hhe,$he,Ghe,Vhe,zhe,y5,Whe,Yhe,qhe,Khe,Xhe,Qhe,A5,Jhe,R5,Zhe,efe,tfe,rfe,nfe,N5,sfe,ife,b5,ofe,afe,lfe,cfe,ufe,dfe,hfe,ffe,mfe,pfe,Efe,gfe,Tfe,Sfe,vfe,yfe,Afe,Rfe,Nfe,bfe,Cfe,xfe,wfe,Ofe,Ife,_fe,C5,Lfe,Dfe,Mfe,Pfe,kfe,Ufe,jfe,Bfe,Ffe,Hfe,$fe,Gfe,Vfe,zfe,Wfe,Yfe,qfe,Kfe,Xfe,Qfe,Jfe,Zfe,eme,tme,rme,nme,sme,ime,ome,ame,lme,cme,ume,dme,hme,fme,mme,pme,Eme,gme,Tme,Sme,vme,yme,Ame,Rme,Nme,bme,Cme,xme,wme,Ome,Ime,_me,Lme,Dme,Mme,Pme,kme,Ume,jme,Bme,Fme,Hme,$me,Gme,Vme,zme,Wme,Yme,qme,Kme,Xme,Qme,Jme,Zme,epe,tpe,rpe,npe,spe,ipe,ope,ape,lpe,cpe,upe,dpe,hpe,fpe,mpe,ppe,Epe,gpe,Tpe,Spe,vpe,ype,Ape,Rpe,Npe,bpe,Cpe,x5,xpe,wpe,Ope,Ipe,_pe,Lpe,Dpe,Mpe,Ppe,kpe,Upe,jpe,Bpe,Fpe,Hpe,$pe,Gpe,Vpe,zpe,Wpe,Ype,qpe,Kpe,Xpe,Qpe,Jpe,Zpe,eEe,tEe,rEe,nEe,sEe,iEe,oEe,aEe,lEe,cEe,uEe,dEe,hEe,fEe,mEe,pEe;function Wr(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ed={exports:{}},Lh={},B5={exports:{}},lr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp=Symbol.for("react.element"),vEe=Symbol.for("react.portal"),yEe=Symbol.for("react.fragment"),AEe=Symbol.for("react.strict_mode"),REe=Symbol.for("react.profiler"),NEe=Symbol.for("react.provider"),bEe=Symbol.for("react.context"),CEe=Symbol.for("react.forward_ref"),xEe=Symbol.for("react.suspense"),wEe=Symbol.for("react.memo"),OEe=Symbol.for("react.lazy"),F5=Symbol.iterator;function IEe(t){return t===null||typeof t!="object"?null:(t=F5&&t[F5]||t["@@iterator"],typeof t=="function"?t:null)}var H5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$5=Object.assign,G5={};function Dh(t,e,r){this.props=t,this.context=e,this.refs=G5,this.updater=r||H5}Dh.prototype.isReactComponent={},Dh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},Dh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function V5(){}V5.prototype=Dh.prototype;function qb(t,e,r){this.props=t,this.context=e,this.refs=G5,this.updater=r||H5}var Kb=qb.prototype=new V5;Kb.constructor=qb,$5(Kb,Dh.prototype),Kb.isPureReactComponent=!0;var z5=Array.isArray,W5=Object.prototype.hasOwnProperty,Xb={current:null},Y5={key:!0,ref:!0,__self:!0,__source:!0};function q5(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)W5.call(e,n)&&!Y5.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Sp,type:t,key:i,ref:o,props:s,_owner:Xb.current}}function _Ee(t,e){return{$$typeof:Sp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sp}function LEe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var K5=/\/+/g;function Jb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LEe(""+t.key):e.toString(36)}function bS(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sp:case vEe:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Jb(o,0):n,z5(s)?(r="",t!=null&&(r=t.replace(K5,"$&/")+"/"),bS(s,e,r,"",function(c){return c})):s!=null&&(Qb(s)&&(s=_Ee(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(K5,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",z5(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Jb(i,a);o+=bS(i,e,r,l,s)}else if(l=IEe(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Jb(i,a++),o+=bS(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function CS(t,e,r){if(t==null)return t;var n=[],s=0;return bS(t,n,"","",function(i){return e.call(r,i,s++)}),n}function DEe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ai={current:null},xS={transition:null},MEe={ReactCurrentDispatcher:ai,ReactCurrentBatchConfig:xS,ReactCurrentOwner:Xb};function X5(){throw Error("act(...) is not supported in production builds of React.")}lr.Children={map:CS,forEach:function(t,e,r){CS(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return CS(t,function(){e++}),e},toArray:function(t){return CS(t,function(e){return e})||[]},only:function(t){if(!Qb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},lr.Component=Dh,lr.Fragment=yEe,lr.Profiler=REe,lr.PureComponent=qb,lr.StrictMode=AEe,lr.Suspense=xEe,lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MEe,lr.act=X5,lr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=$5({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Xb.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)W5.call(e,l)&&!Y5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Sp,type:t.type,key:s,ref:i,props:n,_owner:o}},lr.createContext=function(t){return t={$$typeof:bEe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NEe,_context:t},t.Consumer=t},lr.createElement=q5,lr.createFactory=function(t){var e=q5.bind(null,t);return e.type=t,e},lr.createRef=function(){return{current:null}},lr.forwardRef=function(t){return{$$typeof:CEe,render:t}},lr.isValidElement=Qb,lr.lazy=function(t){return{$$typeof:OEe,_payload:{_status:-1,_result:t},_init:DEe}},lr.memo=function(t,e){return{$$typeof:wEe,type:t,compare:e===void 0?null:e}},lr.startTransition=function(t){var e=xS.transition;xS.transition={};try{t()}finally{xS.transition=e}},lr.unstable_act=X5,lr.useCallback=function(t,e){return ai.current.useCallback(t,e)},lr.useContext=function(t){return ai.current.useContext(t)},lr.useDebugValue=function(){},lr.useDeferredValue=function(t){return ai.current.useDeferredValue(t)},lr.useEffect=function(t,e){return ai.current.useEffect(t,e)},lr.useId=function(){return ai.current.useId()},lr.useImperativeHandle=function(t,e,r){return ai.current.useImperativeHandle(t,e,r)},lr.useInsertionEffect=function(t,e){return ai.current.useInsertionEffect(t,e)},lr.useLayoutEffect=function(t,e){return ai.current.useLayoutEffect(t,e)},lr.useMemo=function(t,e){return ai.current.useMemo(t,e)},lr.useReducer=function(t,e,r){return ai.current.useReducer(t,e,r)},lr.useRef=function(t){return ai.current.useRef(t)},lr.useState=function(t){return ai.current.useState(t)},lr.useSyncExternalStore=function(t,e,r){return ai.current.useSyncExternalStore(t,e,r)},lr.useTransition=function(){return ai.current.useTransition()},lr.version="18.3.1",B5.exports=lr;var y=B5.exports;const Fe=Yr(y),Zb=Wr({__proto__:null,default:Fe},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PEe=y,kEe=Symbol.for("react.element"),UEe=Symbol.for("react.fragment"),jEe=Object.prototype.hasOwnProperty,BEe=PEe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FEe={key:!0,ref:!0,__self:!0,__source:!0};function Q5(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)jEe.call(e,n)&&!FEe.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:kEe,type:t,key:i,ref:o,props:s,_owner:BEe.current}}Lh.Fragment=UEe,Lh.jsx=Q5,Lh.jsxs=Q5,ed.exports=Lh;var u=ed.exports;function J5(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=J5(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ea(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=J5(t))&&(n&&(n+=" "),n+=e);return n}const e1="-",HEe=t=>{const e=GEe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(e1);return a[0]===""&&a.length!==1&&a.shift(),Z5(a,e)||$Ee(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},Z5=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Z5(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(e1);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},eU=/^\[(.+)\]$/,$Ee=t=>{if(eU.test(t)){const e=eU.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},GEe=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const s in r)t1(r[s],n,s,e);return n},t1=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:tU(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(VEe(s)){t1(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{t1(o,tU(e,i),r,n)})})},tU=(t,e)=>{let r=t;return e.split(e1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},VEe=t=>t.isThemeGetter,zEe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},r1="!",n1=":",WEe=n1.length,YEe=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=s=>{const i=[];let o=0,a=0,l=0,c;for(let p=0;p<s.length;p++){let E=s[p];if(o===0&&a===0){if(E===n1){i.push(s.slice(l,p)),l=p+WEe;continue}if(E==="/"){c=p;continue}}E==="["?o++:E==="]"?o--:E==="("?a++:E===")"&&a--}const d=i.length===0?s:s.substring(l),h=qEe(d),m=h!==d,f=c&&c>l?c-l:void 0;return{modifiers:i,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:f}};if(e){const s=e+n1,i=n;n=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const s=n;n=i=>r({className:i,parseClassName:s})}return n},qEe=t=>t.endsWith(r1)?t.substring(0,t.length-1):t.startsWith(r1)?t.substring(1):t,KEe=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let i=[];return n.forEach(o=>{o[0]==="["||e[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},XEe=t=>({cache:zEe(t.cacheSize),parseClassName:YEe(t),sortModifiers:KEe(t),...HEe(t)}),QEe=/\s+/,JEe=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(QEe);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{isExternal:h,modifiers:m,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:E}=r(d);if(h){l=d+(l.length>0?" "+l:l);continue}let g=!!E,T=n(g?p.substring(0,E):p);if(!T){if(!g){l=d+(l.length>0?" "+l:l);continue}if(T=n(p),!T){l=d+(l.length>0?" "+l:l);continue}g=!1}const S=i(m).join(":"),v=f?S+r1:S,N=v+T;if(o.includes(N))continue;o.push(N);const C=s(T,g);for(let x=0;x<C.length;++x){const A=C[x];o.push(v+A)}l=d+(l.length>0?" "+l:l)}return l};function ZEe(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=rU(e))&&(n&&(n+=" "),n+=r);return n}const rU=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=rU(t[n]))&&(r&&(r+=" "),r+=e);return r};function ege(t,...e){let r,n,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return r=XEe(c),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const c=n(l);if(c)return c;const d=JEe(l,r);return s(l,d),d}return function(){return i(ZEe.apply(null,arguments))}}const es=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},nU=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,sU=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tge=/^\d+\/\d+$/,rge=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nge=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sge=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ige=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oge=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mh=t=>tge.test(t),tr=t=>!!t&&!Number.isNaN(Number(t)),_c=t=>!!t&&Number.isInteger(Number(t)),s1=t=>t.endsWith("%")&&tr(t.slice(0,-1)),_l=t=>rge.test(t),age=()=>!0,lge=t=>nge.test(t)&&!sge.test(t),iU=()=>!1,cge=t=>ige.test(t),uge=t=>oge.test(t),dge=t=>!yt(t)&&!At(t),hge=t=>Ph(t,uU,iU),yt=t=>nU.test(t),td=t=>Ph(t,dU,lge),i1=t=>Ph(t,gge,tr),oU=t=>Ph(t,lU,iU),fge=t=>Ph(t,cU,uge),wS=t=>Ph(t,hU,cge),At=t=>sU.test(t),vp=t=>kh(t,dU),mge=t=>kh(t,Tge),aU=t=>kh(t,lU),pge=t=>kh(t,uU),Ege=t=>kh(t,cU),OS=t=>kh(t,hU,!0),Ph=(t,e,r)=>{const n=nU.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},kh=(t,e,r=!1)=>{const n=sU.exec(t);return n?n[1]?e(n[1]):r:!1},lU=t=>t==="position"||t==="percentage",cU=t=>t==="image"||t==="url",uU=t=>t==="length"||t==="size"||t==="bg-size",dU=t=>t==="length",gge=t=>t==="number",Tge=t=>t==="family-name",hU=t=>t==="shadow",Sge=ege(()=>{const t=es("color"),e=es("font"),r=es("text"),n=es("font-weight"),s=es("tracking"),i=es("leading"),o=es("breakpoint"),a=es("container"),l=es("spacing"),c=es("radius"),d=es("shadow"),h=es("inset-shadow"),m=es("text-shadow"),f=es("drop-shadow"),p=es("blur"),E=es("perspective"),g=es("aspect"),T=es("ease"),S=es("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...N(),At,yt],x=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],b=()=>[At,yt,l],_=()=>[Mh,"full","auto",...b()],U=()=>[_c,"none","subgrid",At,yt],j=()=>["auto",{span:["full",_c,At,yt]},_c,At,yt],L=()=>[_c,"auto",At,yt],P=()=>["auto","min","max","fr",At,yt],I=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...b()],Y=()=>[Mh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],k=()=>[t,At,yt],V=()=>[...N(),aU,oU,{position:[At,yt]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",pge,hge,{size:[At,yt]}],B=()=>[s1,vp,td],X=()=>["","none","full",c,At,yt],J=()=>["",tr,vp,td],Z=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[tr,s1,aU,oU],ie=()=>["","none",p,At,yt],Te=()=>["none",tr,At,yt],ve=()=>["none",tr,At,yt],_e=()=>[tr,At,yt],fe=()=>[Mh,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_l],breakpoint:[_l],color:[age],container:[_l],"drop-shadow":[_l],ease:["in","out","in-out"],font:[dge],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_l],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_l],shadow:[_l],spacing:["px",tr],text:[_l],"text-shadow":[_l],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Mh,yt,At,g]}],container:["container"],columns:[{columns:[tr,yt,At,a]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[_c,"auto",At,yt]}],basis:[{basis:[Mh,"full","auto",a,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[tr,Mh,"auto","initial","none",yt]}],grow:[{grow:["",tr,At,yt]}],shrink:[{shrink:["",tr,At,yt]}],order:[{order:[_c,"first","last","none",At,yt]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:[...I(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...I()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":I()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[a,"screen",...Y()]}],"min-w":[{"min-w":[a,"screen","none",...Y()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",r,vp,td]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,At,i1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",s1,yt]}],"font-family":[{font:[mge,yt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,At,yt]}],"line-clamp":[{"line-clamp":[tr,"none",At,i1]}],leading:[{leading:[i,...b()]}],"list-image":[{"list-image":["none",At,yt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",At,yt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:k()}],"text-color":[{text:k()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[tr,"from-font","auto",At,td]}],"text-decoration-color":[{decoration:k()}],"underline-offset":[{"underline-offset":[tr,"auto",At,yt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",At,yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",At,yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_c,At,yt],radial:["",At,yt],conic:[_c,At,yt]},Ege,fge]}],"bg-color":[{bg:k()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:k()}],"gradient-via":[{via:k()}],"gradient-to":[{to:k()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:k()}],"border-color-x":[{"border-x":k()}],"border-color-y":[{"border-y":k()}],"border-color-s":[{"border-s":k()}],"border-color-e":[{"border-e":k()}],"border-color-t":[{"border-t":k()}],"border-color-r":[{"border-r":k()}],"border-color-b":[{"border-b":k()}],"border-color-l":[{"border-l":k()}],"divide-color":[{divide:k()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[tr,At,yt]}],"outline-w":[{outline:["",tr,vp,td]}],"outline-color":[{outline:k()}],shadow:[{shadow:["","none",d,OS,wS]}],"shadow-color":[{shadow:k()}],"inset-shadow":[{"inset-shadow":["none",h,OS,wS]}],"inset-shadow-color":[{"inset-shadow":k()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:k()}],"ring-offset-w":[{"ring-offset":[tr,td]}],"ring-offset-color":[{"ring-offset":k()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":k()}],"text-shadow":[{"text-shadow":["none",m,OS,wS]}],"text-shadow-color":[{"text-shadow":k()}],opacity:[{opacity:[tr,At,yt]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[tr]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":k()}],"mask-image-linear-to-color":[{"mask-linear-to":k()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":k()}],"mask-image-t-to-color":[{"mask-t-to":k()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":k()}],"mask-image-r-to-color":[{"mask-r-to":k()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":k()}],"mask-image-b-to-color":[{"mask-b-to":k()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":k()}],"mask-image-l-to-color":[{"mask-l-to":k()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":k()}],"mask-image-x-to-color":[{"mask-x-to":k()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":k()}],"mask-image-y-to-color":[{"mask-y-to":k()}],"mask-image-radial":[{"mask-radial":[At,yt]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":k()}],"mask-image-radial-to-color":[{"mask-radial-to":k()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[tr]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":k()}],"mask-image-conic-to-color":[{"mask-conic-to":k()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",At,yt]}],filter:[{filter:["","none",At,yt]}],blur:[{blur:ie()}],brightness:[{brightness:[tr,At,yt]}],contrast:[{contrast:[tr,At,yt]}],"drop-shadow":[{"drop-shadow":["","none",f,OS,wS]}],"drop-shadow-color":[{"drop-shadow":k()}],grayscale:[{grayscale:["",tr,At,yt]}],"hue-rotate":[{"hue-rotate":[tr,At,yt]}],invert:[{invert:["",tr,At,yt]}],saturate:[{saturate:[tr,At,yt]}],sepia:[{sepia:["",tr,At,yt]}],"backdrop-filter":[{"backdrop-filter":["","none",At,yt]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[tr,At,yt]}],"backdrop-contrast":[{"backdrop-contrast":[tr,At,yt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",tr,At,yt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[tr,At,yt]}],"backdrop-invert":[{"backdrop-invert":["",tr,At,yt]}],"backdrop-opacity":[{"backdrop-opacity":[tr,At,yt]}],"backdrop-saturate":[{"backdrop-saturate":[tr,At,yt]}],"backdrop-sepia":[{"backdrop-sepia":["",tr,At,yt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",At,yt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[tr,"initial",At,yt]}],ease:[{ease:["linear","initial",T,At,yt]}],delay:[{delay:[tr,At,yt]}],animate:[{animate:["none",S,At,yt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,At,yt]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:Te()}],"rotate-x":[{"rotate-x":Te()}],"rotate-y":[{"rotate-y":Te()}],"rotate-z":[{"rotate-z":Te()}],scale:[{scale:ve()}],"scale-x":[{"scale-x":ve()}],"scale-y":[{"scale-y":ve()}],"scale-z":[{"scale-z":ve()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[At,yt,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:k()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:k()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",At,yt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",At,yt]}],fill:[{fill:["none",...k()]}],"stroke-w":[{stroke:[tr,vp,td,i1]}],stroke:[{stroke:["none",...k()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function z(...t){return Sge(ea(t))}const vge=["Roboto Mono","Inconsolata","Source Code Pro","IBM Plex Mono","Space Mono","Ubuntu Mono","DM Mono","Courier Prime","PT Mono","Cousine","JetBrains Mono","Fira Mono","Anonymous Pro","Share Tech Mono","VT323","Cutive Mono","Fira Code","B612 Mono","Overpass Mono","Chivo Mono","Oxygen Mono","Nova Mono","Azeret Mono","Syne Mono","Xanh Mono","Fragment Mono","Red Hat Mono","Martian Mono","Major Mono Display","Sixtyfour","Workbench","Monofett","Spline Sans Mono","M PLUS 1 Code","Sometype Mono","Victor Mono"],yge=["Roboto","Open Sans","Noto Sans JP","Montserrat","Lato","Poppins","Inter","Roboto Condensed","Oswald","Noto Sans","Raleway","Nunito Sans","Nunito","Ubuntu","Rubik","Noto Sans KR","PT Sans","Noto Sans TC","Kanit","Work Sans","Fira Sans","Mulish","DM Sans","Barlow","Quicksand","IBM Plex Sans","Titillium Web","Heebo","Manrope","Karla","Libre Franklin","Noto Sans SC","Josefin Sans","Nanum Gothic","Noto Color Emoji","Arimo","Dosis","Bebas Neue","Noto Sans HK","PT Sans Narrow","Mukta","Cabin","Abel","Hind Siliguri","Anton","Cairo","Archivo","Oxygen","Barlow Condensed","Jost","Hind","Exo 2","Outfit","Teko","Assistant","Space Grotesk","Public Sans","Fjalla One","Prompt","Overpass","Signika Negative","Sora","M PLUS Rounded 1c","Varela Round","Red Hat Display","Maven Pro","Rajdhani","Chakra Petch","Play","Asap","Fira Sans Condensed","Signika","Barlow Semi Condensed","Lexend","Tajawal","Source Sans 3","Archivo Black","Figtree","Merriweather Sans","Questrial","Noto Sans Arabic","Plus Jakarta Sans","Almarai","Catamaran","IBM Plex Sans Arabic","Yanone Kaffeesatz","Montserrat Alternates","Hind Madurai","Didact Gothic","Asap Condensed","Urbanist","Sarabun","Archivo Narrow","M PLUS 1p","Russo One","Acme","Orbitron","Exo","Roboto Flex","Saira Condensed","ABeeZee","Philosopher","Alegreya Sans","Chivo","Noto Kufi Arabic","Noto Sans Thai","Changa","Lexend Deca","Ubuntu Condensed","PT Sans Caption","Cantarell","Encode Sans","Noto Sans Display","El Messiri","IBM Plex Sans Condensed","Paytone One","Arsenal","Francois One","Be Vietnam Pro","Gothic A1","Alata","Khand","Unbounded","Gruppo","Pathway Gothic One","Saira","Noto Sans Bengali","Yantramanav","Sawarabi Gothic","Cuprum","Alegreya Sans SC","Readex Pro","Red Hat Text","Inter Tight","Quattrocento Sans","Advent Pro","Commissioner","Encode Sans Condensed","Rubik Mono One","League Spartan","Sen","Fira Sans Extra Condensed","News Cycle","Zen Kaku Gothic New","Mitr","Kosugi Maru","Tenor Sans","Epilogue","Amaranth","Gudea","Antonio","Mukta Malar","Blinker","Secular One","Ropa Sans","Mada","Noto Sans Devanagari","Hind Vadodara","Saira Semi Condensed","Albert Sans","Zen Maru Gothic","Viga","Monda","Hammersmith One","Ruda","Actor","Istok Web","Kumbh Sans","Voltaire","Bai Jamjuree","Pragati Narrow","Varela","Armata","Mandali","League Gothic","Cabin Condensed","Fredoka","Jura","Krub","Pontano Sans","Palanquin","Jaldi","BenchNine","Sarala","Noto Sans Tamil","Syne","Days One","Sansita","Geologica","Noto Sans Mono","Martel Sans","Six Caps","Alef","Khula","Atkinson Hyperlegible","BIZ UDPGothic","Quantico","Niramit","Laila","Economica","Julius Sans One","Basic","Noto Sans Hebrew","Black Han Sans","Alexandria","Electrolize","Reem Kufi","Scada","Ramabhadra","Sofia Sans Condensed","Hind Guntur","Sintony","Antic","Saira Extra Condensed","Alatsi","Candal","Alumni Sans","Noto Sans Malayalam","Palanquin Dark","Akshar","Syncopate","Michroma","Darker Grotesque","Athiti","Aclonica","Pathway Extreme","Telex","Hanken Grotesk","Nobile","Allerta Stencil","K2D","Golos Text","Sofia Sans","Pattaya","Anuphan","Andika","Georama","Belleza","NTR","Do Hyeon","Aldrich","Jua","Livvic","Allerta","M PLUS 1","Vazirmatn","Marmelad","Krona One","IBM Plex Sans Thai","AR One Sans","Mallanna","Biryani","Metrophobic","B612","IBM Plex Sans KR","Carrois Gothic","Miriam Libre","Spinnaker","Magra","Encode Sans Semi Condensed","Manjari","Average Sans","Fahkwang","Rambla","Kosugi","Rosario","Sulphur Point","Proza Libre","Amiko","Jockey One","Arya","Zen Kaku Gothic Antique","Glory","Mina","Instrument Sans","Thasadith","DotGothic16","Montserrat Subrayada","Capriola","KoHo","Molengo","Wix Madefor Display","Sunflower","Tomorrow","Noto Sans Kannada","Homenaje","Geo","Schibsted Grotesk","Padauk","Cambay","Share","Marvel","Wix Madefor Text","Cantora One","Fresca","Noto Sans Sinhala","Duru Sans","Tenali Ramakrishna","Inder","Lekton","Kodchasan","ZCOOL XiaoWei","Sofia Sans Extra Condensed","Zen Kurenaido","Gafata","Mouse Memoirs","Anaheim","Encode Sans Expanded","Radio Canada","RocknRoll One","Mukta Vaani","Farro","Yusei Magic","Familjen Grotesk","Anek Malayalam","M PLUS 2","BIZ UDGothic","Encode Sans Semi Expanded","Kufam","Noto Sans Armenian","Meera Inimai","Federo","Lexend Zetta","Carme","Noto Sans Meetei Mayek","Nokora","Asul","Numans","Lexend Exa","Convergence","Harmattan","Timmana","Noto Sans NKo Unjoined","Notable","Noto Sans Myanmar","Gantari","Onest","Gotu","Imprima","Bayon","Bubbler One","Wendy One","ZCOOL QingKe HuangYou","Puritan","Mako","Dongle","Pavanam","Wire One","Noto Sans Georgian","Mukta Mahee","Recursive","Monomaniac One","Varta","Noto Sans Khmer","ZCOOL KuaiLe","IBM Plex Sans JP","Share Tech","Shanti","Spline Sans","Mochiy Pop One","Noto Sans Gujarati","Sarpanch","Lexend Peta","Port Lligat Sans","Voces","Chau Philomene One","Noto Emoji","Orienta","Inria Sans","Gayathri","Doppio One","Anek Tamil","Gowun Dodum","Bricolage Grotesque","Rum Raisin","Sofia Sans Semi Condensed","Stick","Noto Sans Telugu","Tauri","REM","Anek Devanagari","Mochiy Pop P One","Galdeano","Gasoek One","Anek Latin","Kite One","Stylish","Strait","Murecho","Anek Bangla","Gemunu Libre","Carrois Gothic SC","Genos","Mohave","Kulim Park","Dorsa","Denk One","IBM Plex Sans Hebrew","Shippori Antique","Lexend Giga","Cagliostro","IBM Plex Sans Thai Looped","Kantumruy Pro","Lexend Mega","Rationale","Khmer","Kdam Thmor Pro","Anek Telugu","Noto Sans Lao","Shippori Antique B1","Noto Sans Oriya","Noto Sans Anatolian Hieroglyphs","Noto Sans Adlam","Trispace","Text Me One","Akatab","Englebert","Stick No Bills","Rethink Sans","Sono","Yaldevi","Ruluko","Afacad","Noto Sans Gothic","Qahiri","Noto Sans Tai Le","Carlito","Alumni Sans Collegiate One","Encode Sans SC","Finlandica","Belanosima","Gidugu","Chathura","Noto Sans Thai Looped","Seymour One","Noto Sans Math","Ysabeau","Snippet","Braah One","Noto Sans Ethiopic","Smooch Sans","Anek Gujarati","Anek Gurmukhi","Nuosu SIL","Hubballi","Noto Sans Lao Looped","Agdasima","Noto Sans Samaritan","Anek Kannada","Cairo Play","Preahvihear","Siemreap","Ysabeau Office","Ysabeau Infant","Lexend Tera","Comme","GFS Neohellenic","Dhurjati","IBM Plex Sans Devanagari","Anek Odia","Noto Sans Tai Viet","Noto Sans Gurmukhi","Inclusive Sans","Moulpali","Mooli","Truculenta","Noto Sans Osmanya","Reem Kufi Ink","Hedvig Letters Sans","Alumni Sans Pinstripe","Noto Sans Syloti Nagri","Reem Kufi Fun","Noto Sans Javanese","Noto Music","Noto Sans Tagbanwa","Noto Sans Buhid","Tsukimi Rounded","Ysabeau SC","Noto Sans Tamil Supplement","Noto Sans Tagalog","Orbit","Noto Sans Coptic","Noto Sans Thaana","Noto Sans Tangsa","Noto Sans Mayan Numerals","Noto Sans Mongolian","Noto Sans Tifinagh","Noto Sans Miao","Noto Sans Sora Sompeng","Noto Sans Imperial Aramaic","M PLUS Code Latin","Noto Sans Glagolitic","Noto Sans Egyptian Hieroglyphs","Noto Sans Marchen","Noto Sans Canadian Aboriginal","Lunasima","Noto Sans Tirhuta","Noto Sans Old Hungarian","Noto Sans Old Italic","Noto Sans Pahawh Hmong","Noto Sans Cypro Minoan","Noto Sans Lepcha","Noto Sans Vithkuqi","Noto Sans Tai Tham","Noto Sans Limbu","Noto Sans Takri","Noto Sans Kawi","Noto Traditional Nushu","Noto Sans Chorasmian","Noto Sans Nag Mundari","Noto Sans Linear A","Noto Sans Deseret","Noto Sans Carian","Noto Sans Cherokee","Noto Sans Cypriot","Noto Sans Inscriptional Pahlavi","Noto Sans Kayah Li","Noto Sans Duployan","Noto Sans Balinese","Noto Sans Old Turkic","Noto Sans Cham","Noto Sans Khudawadi","Noto Sans Sundanese","Noto Sans Bhaiksuki","Noto Sans NKo","Noto Sans Saurashtra","Noto Sans Old Persian","Noto Sans Newa","Noto Sans Indic Siyaq Numbers","Mingzat","Noto Sans Sharada","Noto Sans Kaithi","Noto Sans Nandinagari","Noto Sans Lycian","Noto Sans Multani","Noto Sans Adlam Unjoined","Noto Sans Masaram Gondi","Noto Sans Avestan","Noto Sans Warang Citi","Noto Sans Batak","Noto Sans Hanunoo","Noto Sans Bamum","Noto Sans Phags Pa","Noto Sans Bassa Vah","Noto Sans Syriac Eastern","Noto Sans Modi","Noto Sans Brahmi","Noto Sans Medefaidrin","Noto Sans Lisu","Noto Sans Cuneiform","Noto Sans Mro","Noto Sans Lydian","Noto Sans Ol Chiki","Noto Sans Vai","Noto Sans Mende Kikakui","Noto Sans Siddham","Noto Sans Wancho","Noto Sans Palmyrene","Noto Sans Yi","Noto Sans Osage","Noto Sans Old North Arabian","Noto Sans Chakma","Noto Sans Inscriptional Parthian","Noto Sans Psalter Pahlavi","Noto Sans Zanabazar Square","Noto Sans Grantha","Noto Sans Buginese","Noto Sans Old South Arabian","Noto Sans Elbasan","Noto Sans Linear B","Noto Sans Runic","Noto Sans Caucasian Albanian","Noto Sans Nabataean","Noto Sans Gunjala Gondi","Noto Sans Rejang","Noto Sans Sogdian","Noto Sans Hatran","Noto Sans Old Permic","Noto Sans Syriac","Noto Sans New Tai Lue","Noto Sans Mandaic","Noto Sans Hanifi Rohingya","Noto Sans Phoenician","Noto Sans Ogham","Noto Sans Kharoshthi","Noto Sans Soyombo","Noto Sans Mahajani","Noto Sans SignWriting","Noto Sans Meroitic","Noto Sans Khojki","Noto Sans Pau Cin Hau","Noto Sans Elymaic","Noto Sans Ugaritic","Noto Sans Old Sogdian","Noto Sans Shavian","Noto Sans Manichaean","Noto Sans Nushu"],Age=t=>{if(typeof t!="object"||t===null)return!1;for(let e in t)if(typeof e!="string"||typeof t[e]!="string")return!1;return!0},Rge=(t,e,r)=>{const n=document.querySelector(e);if(!n){console.error(`Element with selector "${e}" not found`);return}r&&(t["--background"]="#F0F0F0"),Object.entries(t).forEach(([s,i])=>{n.style.setProperty(s,i)}),n.style.setProperty("--page-background",t["--page-background"]??t["--card"]),n.style.setProperty("--buttons-variant",t["--buttons-variant"]??"default"),n.style.setProperty("--dialog",t["--popover"]),n.style.setProperty("--table-row",t["--background"]),n.style.setProperty("--table-row-hover",t["--muted"]),n.style.setProperty("--tab-background",t["--background"]),n.style.setProperty("--tab-background-hover",t["--accent"]),n.style.setProperty("--tab-background-active",r?"#efefef":t["--secondary"]),n.style.setProperty("--tab-foreground",t["--foreground"]),n.style.setProperty("--tab-foreground-hover",t["--foreground"]),n.style.setProperty("--tab-foreground-active",t["--foreground"]),n.style.setProperty("--tab-border-active",t["--border"]),n.style.setProperty("--tab-close-active",t["--foreground"]),n.style.setProperty("--tab-foreground-active",t["--foreground"]),n.style.setProperty("--tab-border-active",t["--border"]),n.style.setProperty("--tab-close-active",t["--foreground"]),n.style.setProperty("--button-outline",t["--accent"]),n.style.setProperty("--filters-toolbar",t["--filters-toolbar"]??t["--secondary"]),n.style.setProperty("--edit",t["--edit"]??"#FDE68A"),n.style.setProperty("--edit-foreground",t["--edit-foreground"]??"#92400E"),n.style.setProperty("--submit",t["--submit"]??"#16813D"),n.style.setProperty("--submit-foreground",t["--submit-foreground"]??"#FAFAFA"),n.style.setProperty("--radius",r?"0rem":t["--radius"]??"0.5rem"),n.style.setProperty("--checkbox-radius",t["--checkbox-radius"]??"2px")},fU=(t,e)=>{if(!Age(t)){console.error("Invalid theme format");return}t["--editor-font"]&&mU(t["--editor-font"]),t["--table-font"]&&mU(t["--table-font"]),t["--interface-font"]&&bge(t["--interface-font"]),Rge(t,".custom",e)},Nge=()=>{const t=document.documentElement.style;t.cssText=""},mU=t=>{if(["menlo","operator","geist mono"].includes(t.toLowerCase()))return;const e=vge.find(s=>s.toLowerCase()===t.toLowerCase());if(!e||document.querySelector(`link[data-font="${e}"]`))return;const n=document.createElement("link");n.rel="stylesheet",n.href=`https://fonts.googleapis.com/css?family=${encodeURIComponent(e)}`,n.setAttribute("data-font",e),document.head.appendChild(n)},bge=t=>{if(["system-ui","geist sans"].includes(t.toLowerCase()))return;const e=yge.find(s=>s.toLowerCase()===t.toLowerCase());if(!e||document.querySelector(`link[data-font="${e}"]`))return;const n=document.createElement("link");n.rel="stylesheet",n.href=`https://fonts.googleapis.com/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap`,n.setAttribute("data-font",e),document.head.appendChild(n)},Cge={},pU=t=>{let e;const r=new Set,n=(d,h)=>{const m=typeof d=="function"?d(e):d;if(!Object.is(m,e)){const f=e;e=h??(typeof m!="object"||m===null)?m:Object.assign({},e,m),r.forEach(p=>p(e,f))}},s=()=>e,l={setState:n,getState:s,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(Cge?"expo-plugin":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=e=t(n,s,l);return l},EU=t=>t?pU(t):pU;var gU={exports:{}},TU={},SU={exports:{}},vU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=y;function xge(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wge=typeof Object.is=="function"?Object.is:xge,Oge=Uh.useState,Ige=Uh.useEffect,_ge=Uh.useLayoutEffect,Lge=Uh.useDebugValue;function Dge(t,e){var r=e(),n=Oge({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return _ge(function(){s.value=r,s.getSnapshot=e,o1(s)&&i({inst:s})},[t,r,e]),Ige(function(){return o1(s)&&i({inst:s}),t(function(){o1(s)&&i({inst:s})})},[t]),Lge(r),r}function o1(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!wge(t,r)}catch{return!0}}function Mge(t,e){return e()}var Pge=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Mge:Dge;vU.useSyncExternalStore=Uh.useSyncExternalStore!==void 0?Uh.useSyncExternalStore:Pge,SU.exports=vU;var kge=SU.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS=y,Uge=kge;function jge(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bge=typeof Object.is=="function"?Object.is:jge,Fge=Uge.useSyncExternalStore,Hge=IS.useRef,$ge=IS.useEffect,Gge=IS.useMemo,Vge=IS.useDebugValue;TU.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=Hge(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Gge(function(){function l(f){if(!c){if(c=!0,d=f,f=n(f),s!==void 0&&o.hasValue){var p=o.value;if(s(p,f))return h=p}return h=f}if(p=h,Bge(d,f))return p;var E=n(f);return s!==void 0&&s(p,E)?(d=f,p):(d=f,h=E)}var c=!1,d,h,m=r===void 0?null:r;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,r,n,s]);var a=Fge(t,i[0],i[1]);return $ge(function(){o.hasValue=!0,o.value=a},[a]),Vge(a),a},gU.exports=TU;var zge=gU.exports;const yU=Yr(zge),AU={},{useDebugValue:Wge}=Fe,{useSyncExternalStoreWithSelector:Yge}=yU;let RU=!1;const qge=t=>t;function Kge(t,e=qge,r){(AU?"expo-plugin":void 0)!=="production"&&r&&!RU&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),RU=!0);const n=Yge(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return Wge(n),n}const NU=t=>{(AU?"expo-plugin":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?EU(t):t,r=(n,s)=>Kge(e,n,s);return Object.assign(r,e),r},yp=t=>t?NU(t):NU,Is=yp((t,e)=>{if(!["custom-local","demo","sqlite"].includes("expo-plugin"))return{theme:"light",customTheme:null,customThemes:[],customThemeIDs:[],themeToast:{isShown:!1,status:"loading"},changeTheme:()=>{},addCustomTheme:()=>{},removeTheme:()=>{}};const r=window.matchMedia("(prefers-color-scheme: dark)").matches,n=localStorage.getItem("drizzle-theme"),s=localStorage.getItem("drizzle-custom-theme"),i=localStorage.getItem("drizzle-custom-theme-ids"),o=n||(r?"dark":"light");let a=null;s&&(a=JSON.parse(s));const l=i?JSON.parse(i):[];if(o==="dark")document.documentElement.className="dark";else if(o==="light")document.documentElement.className="";else if(o==="custom"&&a){const d=a.type;document.documentElement.className=`${d==="dark"?"dark ":""}custom ${a.id==="qsLXlcSlGvWMqmVK-vswg"?"htmx":""}`,fU(a.data,a.id==="qsLXlcSlGvWMqmVK-vswg")}const c=document.getElementById("highlight-style");return c&&(c.href=`https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github${o==="dark"||o==="custom"&&(a==null?void 0:a.type)==="dark"?"-dark":""}.min.css`),{theme:o,customTheme:a,customThemes:[],customThemeIDs:l,themeToast:{isShown:!1,status:"loading"},changeTheme:(d,h)=>{const{customThemes:m}=e(),f=document.documentElement;let p;if(Nge(),d==="dark")f.className="dark";else if(d==="light")f.className="";else if(d==="custom"){if(p=m.find(g=>g.id===h),!p)return;t({customTheme:p}),document.documentElement.className=`${p.type==="dark"?"dark ":""}custom ${p.id==="qsLXlcSlGvWMqmVK-vswg"?"htmx":""}`,localStorage.setItem("drizzle-custom-theme",JSON.stringify(p)),fU(p.data,p.id==="qsLXlcSlGvWMqmVK-vswg")}const E=document.getElementById("highlight-style");E&&(E.href=`https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github${d==="dark"||d==="custom"&&(p==null?void 0:p.type)==="dark"?"-dark":""}.min.css`),t({theme:d}),localStorage.setItem("drizzle-theme",d)},addCustomTheme:async d=>{const{changeTheme:h,customThemeIDs:m}=e();if(!m.some(f=>f===d.id)){const f=[d.id,...m],{customThemes:p}=e();t({customThemes:[d,...p],customThemeIDs:f}),localStorage.setItem("drizzle-custom-theme-ids",JSON.stringify(f))}t({customTheme:d}),h("custom",d.id),localStorage.setItem("drizzle-custom-theme",JSON.stringify(d))},removeTheme:d=>{const{customThemes:h,changeTheme:m,customTheme:f}=e(),p=h.filter(g=>g.id!==d),E=p.map(g=>g.id);if(t({customThemes:p,customThemeIDs:E}),localStorage.setItem("drizzle-custom-theme-ids",JSON.stringify(E)),d===(f==null?void 0:f.id))if(p.length>0){const g=p[0];m("custom",g.id),localStorage.setItem("drizzle-custom-theme",JSON.stringify(g))}else m("dark"),localStorage.removeItem("drizzle-custom-theme")}}}),jn=({className:t})=>{const{theme:e}=Is();return u.jsxs("div",{className:"loader",children:[u.jsx("div",{className:z("loader-blade",t)}),u.jsx("div",{className:z("loader-blade",t)}),u.jsx("div",{className:z("loader-blade",t)}),u.jsx("div",{className:z("loader-blade",t)}),u.jsx("div",{className:z("loader-blade",t)}),u.jsx("div",{className:z("loader-blade",t)}),u.jsx("div",{className:z("loader-blade",t)}),u.jsx("div",{className:z("loader-blade",t)})]})},ds=(t,e)=>{try{ht.getState().onError(t,{isUnexpected:e})}catch{}};var Je=(t=>(t.equals="=",t.notEquals="<>",t.greaterThan=">",t.greaterThanOrEquals=">=",t.lessThan="<",t.lessThanOrEquals="<=",t.like="like",t.ilike="ilike",t.notLike="not like",t.in="in",t.isNull="is",t.isNotNull="is not",t))(Je||{});const jh=t=>{const e=Object.values(t.columns).filter(r=>r.isPrimary).map(r=>r.name);return e.length===0&&t.sqliteRowidAlias?[t.sqliteRowidAlias]:e},Xge=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),Qge=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),Jge=new RegExp("(\\d)\\p{Ll}|(\\p{L})\\d","u"),Zge=/[^\p{L}\d]+/giu,bU="$1\0$2",CU="";function xU(t){let e=t.trim();e=e.replace(Xge,bU).replace(Qge,bU),e=e.replace(Zge,"\0");let r=0,n=e.length;for(;e.charAt(r)==="\0";)r++;if(r===n)return[];for(;e.charAt(n-1)==="\0";)n--;return e.slice(r,n).split(/\0/g)}function eTe(t){const e=xU(t);for(let r=0;r<e.length;r++){const n=e[r],s=Jge.exec(n);if(s){const i=s.index+(s[1]??s[2]).length;e.splice(r,1,n.slice(0,i),n.slice(i))}}return e}function tTe(t,e){const[r,n,s]=oTe(t,e),i=rTe(e==null?void 0:e.locale),o=nTe(e==null?void 0:e.locale),a=e!=null&&e.mergeAmbiguousCharacters?sTe(i,o):iTe(i,o);return r+n.map((l,c)=>c===0?i(l):a(l,c)).join((e==null?void 0:e.delimiter)??"")+s}function rTe(t){return t===!1?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t)}function nTe(t){return t===!1?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t)}function sTe(t,e){return r=>`${e(r[0])}${t(r.slice(1))}`}function iTe(t,e){return(r,n)=>{const s=r[0];return(n>0&&s>="0"&&s<="9"?"_"+s:e(s))+t(r.slice(1))}}function oTe(t,e={}){const r=e.split??(e.separateNumbers?eTe:xU),n=e.prefixCharacters??CU,s=e.suffixCharacters??CU;let i=0,o=t.length;for(;i<t.length;){const a=t.charAt(i);if(!n.includes(a))break;i++}for(;o>i;){const a=o-1,l=t.charAt(a);if(!s.includes(l))break;o=a}return[t.slice(0,i),r(t.slice(i,o)),t.slice(o)]}const ne=Symbol.for("drizzle:entityKind");function ge(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ne))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(ne in r&&r[ne]===e[ne])return!0;r=Object.getPrototypeOf(r)}return!1}let nr=(gse=ne,qk=class{constructor(e,r){O(this,"name");O(this,"keyAsName");O(this,"primary");O(this,"notNull");O(this,"default");O(this,"defaultFn");O(this,"onUpdateFn");O(this,"hasDefault");O(this,"isUnique");O(this,"uniqueName");O(this,"uniqueType");O(this,"uniqueNameExplicit");O(this,"dataType");O(this,"columnType");O(this,"enumValues");O(this,"generated");O(this,"generatedIdentity");O(this,"config");this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.uniqueNameExplicit=r.uniqueNameExplicit,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}},O(qk,gse,"Column"),qk);Tse=ne;class _S{constructor(e,r,n){O(this,"config");O(this,"$default",this.$defaultFn);O(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}O(_S,Tse,"ColumnBuilder");const Ni=Symbol.for("drizzle:Name");let wU=(Sse=ne,Kk=class{constructor(e,r){O(this,"reference");O(this,"_onUpdate","no action");O(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:s,foreignColumns:i}=e();return{name:n,columns:s,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new aTe(e,this)}},O(Kk,Sse,"PgForeignKeyBuilder"),Kk),aTe=(vse=ne,Xk=class{constructor(e,r){O(this,"reference");O(this,"onUpdate");O(this,"onDelete");this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),s=r.map(a=>a.name),i=n.map(a=>a.name),o=[this.table[Ni],...s,n[0].table[Ni],...i];return e??`${o.join("_")}_fk`}},O(Xk,vse,"PgForeignKey"),Xk);function lTe(t,...e){return t(...e)}function OU(t,e){return`${t[Ni]}_${e.join("_")}_unique`}let cTe=(yse=ne,Qk=class{constructor(e,r){O(this,"columns");O(this,"nullsNotDistinctConfig",!1);this.name=r,this.columns=e}nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new uTe(e,this.columns,this.nullsNotDistinctConfig,this.name)}},O(Qk,yse,"PgUniqueConstraintBuilder"),Qk),uTe=(Ase=ne,Jk=class{constructor(e,r,n,s){O(this,"columns");O(this,"name");O(this,"explicitName");O(this,"nullsNotDistinct",!1);this.table=e,this.columns=r,this.name=s??OU(this.table,this.columns.map(i=>i.name)),this.explicitName=!!s,this.nullsNotDistinct=n}getName(){return this.name}isNameExplicit(){return this.explicitName}},O(Jk,Ase,"PgUniqueConstraint"),Jk);function IU(t,e,r){for(let n=e;n<t.length;n++){const s=t[n];if(s==="\\"){n++;continue}if(s==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(s===","||s==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function _U(t,e=0){const r=[];let n=e,s=!1;for(;n<t.length;){const i=t[n];if(i===","){(s||n===e)&&r.push(""),s=!0,n++;continue}if(s=!1,i==="\\"){n+=2;continue}if(i==='"'){const[l,c]=IU(t,n+1,!0);r.push(l),n=c;continue}if(i==="}")return[r,n+1];if(i==="{"){const[l,c]=_U(t,n+1);r.push(l),n=c;continue}const[o,a]=IU(t,n,!1);r.push(o),n=a}return[r,n]}function dTe(t){const[e]=_U(t,1);return e}function LU(t){return`{${t.map(e=>Array.isArray(e)?LU(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class rr extends(Nse=_S,Rse=ne,Nse){constructor(){super(...arguments);O(this,"foreignKeyConfigs",[])}array(r){return new a1(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,config:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this.config.uniqueNameExplicit=!!r,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:s,config:i})=>lTe((o,a)=>{const l=new wU(()=>{const c=o();return{name:a.name,columns:[r],foreignColumns:[c]}});return a.onUpdate&&l.onUpdate(a.onUpdate),a.onDelete&&l.onDelete(a.onDelete),l.build(n)},s,i))}buildExtraConfigColumn(r){return new DU(r,this.config)}}O(rr,Rse,"PgColumnBuilder");class Ut extends(Cse=nr,bse=ne,Cse){constructor(e,r){r.uniqueName||(r.uniqueName=OU(e,[r.name])),super(e,r),this.table=e}}O(Ut,bse,"PgColumn");class DU extends(wse=Ut,xse=ne,wse){constructor(){super(...arguments);O(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});O(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}O(DU,xse,"ExtraConfigColumn");class a1 extends(Ise=rr,Ose=ne,Ise){constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new Ap(e,this.config,r)}}O(a1,Ose,"PgArrayBuilder");const Cb=class Cb extends(Lse=Ut,_se=ne,Lse){constructor(r,n,s,i){super(r,n);O(this,"size");this.baseColumn=s,this.range=i,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=dTe(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const s=r.map(i=>i===null?null:ge(this.baseColumn,Cb)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?s:LU(s)}};O(Cb,_se,"PgArray");let Ap=Cb;class MU extends(Mse=rr,Dse=ne,Mse){constructor(e,r){super(e,"string","PgEnumObjectColumn"),this.config.enum=r}build(e){return new PU(e,this.config)}}O(MU,Dse,"PgEnumObjectColumnBuilder");class PU extends(kse=Ut,Pse=ne,kse){constructor(r,n){super(r,n);O(this,"enum");O(this,"enumValues",this.config.enum.enumValues);this.enum=n.enum}getSQLType(){return this.enum.enumName}}O(PU,Pse,"PgEnumObjectColumn");const LS=Symbol.for("drizzle:isPgEnum");function hTe(t){return!!t&&typeof t=="function"&&LS in t&&t[LS]===!0}class kU extends(jse=rr,Use=ne,jse){constructor(e,r){super(e,"string","PgEnumColumn"),this.config.enum=r}build(e){return new UU(e,this.config)}}O(kU,Use,"PgEnumColumnBuilder");class UU extends(Fse=Ut,Bse=ne,Fse){constructor(r,n){super(r,n);O(this,"enum",this.config.enum);O(this,"enumValues",this.config.enum.enumValues);this.enum=n.enum}getSQLType(){return this.enum.enumName}}O(UU,Bse,"PgEnumColumn");function fTe(t,e){return Array.isArray(e)?jU(t,[...e],void 0):BU(t,e,void 0)}function jU(t,e,r){const n=Object.assign(s=>new kU(s??"",n),{enumName:t,enumValues:e,schema:r,[LS]:!0});return n}function BU(t,e,r){const n=Object.assign(s=>new MU(s??"",n),{enumName:t,enumValues:Object.values(e),schema:r,[LS]:!0});return n}Hse=ne;class qr{constructor(e,r,n,s=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:s}}}O(qr,Hse,"Subquery");class rd extends(Gse=qr,$se=ne,Gse){}O(rd,$se,"WithSubquery");const _s={startActiveSpan(t,e){return e()}},gr=Symbol.for("drizzle:ViewBaseConfig"),DS=Symbol.for("drizzle:Schema"),Rp=Symbol.for("drizzle:Columns"),FU=Symbol.for("drizzle:ExtraConfigColumns"),l1=Symbol.for("drizzle:OriginalName"),c1=Symbol.for("drizzle:BaseName"),MS=Symbol.for("drizzle:IsAlias"),HU=Symbol.for("drizzle:ExtraConfigBuilder"),mTe=Symbol.for("drizzle:IsDrizzleTable");let We=(Zse=ne,Jse=Ni,Qse=l1,Xse=DS,Kse=Rp,qse=FU,Yse=c1,Wse=MS,zse=mTe,Vse=HU,xb=class{constructor(e,r,n){O(this,Jse);O(this,Qse);O(this,Xse);O(this,Kse);O(this,qse);O(this,Yse);O(this,Wse,!1);O(this,zse,!0);O(this,Vse);this[Ni]=this[l1]=e,this[DS]=r,this[c1]=n}},O(xb,Zse,"Table"),O(xb,"Symbol",{Name:Ni,Schema:DS,OriginalName:l1,Columns:Rp,ExtraConfigColumns:FU,BaseName:c1,IsAlias:MS,ExtraConfigBuilder:HU}),xb);function Ls(t){return t[Ni]}function Lc(t){return`${t[DS]??"public"}.${t[Ni]}`}function $U(t){return t!=null&&typeof t.getSQL=="function"}function pTe(t){var r;const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),(r=n.typings)!=null&&r.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}eie=ne;class hs{constructor(e){O(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new nt([this])}}O(hs,eie,"StringChunk"),tie=ne;const Ch=class Ch{constructor(e){O(this,"decoder",GU);O(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return _s.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:a,inlineParams:l,paramStartIndex:c}=n;return pTe(e.map(d=>{var h;if(ge(d,hs))return{sql:d.value.join(""),params:[]};if(ge(d,PS))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const m=[new hs("(")];for(const[f,p]of d.entries())m.push(p),f<d.length-1&&m.push(new hs(", "));return m.push(new hs(")")),this.buildQueryFromSourceParams(m,n)}if(ge(d,Ch))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:l||d.shouldInlineParams});if(ge(d,We)){const m=d[We.Symbol.Schema],f=d[We.Symbol.Name];return{sql:m===void 0||d[MS]?i(f):i(m)+"."+i(f),params:[]}}if(ge(d,nr)){const m=s.getColumnCasing(d);if(r.invokeSource==="indexes")return{sql:i(m),params:[]};const f=d.table[We.Symbol.Schema];return{sql:d.table[MS]||f===void 0?i(d.table[We.Symbol.Name])+"."+i(m):i(f)+"."+i(d.table[We.Symbol.Name])+"."+i(m),params:[]}}if(ge(d,So)){const m=d[gr].schema,f=d[gr].name;return{sql:m===void 0||d[gr].isAlias?i(f):i(m)+"."+i(f),params:[]}}if(ge(d,zs)){if(ge(d.value,nd))return{sql:o(c.value++,d),params:[d],typings:["none"]};const m=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(ge(m,Ch))return this.buildQueryFromSourceParams([m],n);if(l)return{sql:this.mapInlineParam(m,n),params:[]};let f=["none"];return a&&(f=[a(d.encoder)]),{sql:o(c.value++,m),params:[m],typings:f}}return ge(d,nd)?{sql:o(c.value++,d),params:[d],typings:["none"]}:ge(d,Ch.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:ge(d,qr)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new hs("("),d._.sql,new hs(") "),new PS(d._.alias)],n):hTe(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:$U(d)?(h=d.shouldOmitSQLParens)!=null&&h.call(d)?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new hs("("),d.getSQL(),new hs(")")],n):l?{sql:this.mapInlineParam(d,n),params:[]}:{sql:o(c.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Ch.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};O(Ch,tie,"SQL");let nt=Ch;rie=ne;class PS{constructor(e){O(this,"brand");this.value=e}getSQL(){return new nt([this])}}O(PS,rie,"Name");function ETe(t){return typeof t=="object"&&t!==null&&"mapToDriverValue"in t&&typeof t.mapToDriverValue=="function"}const GU={mapFromDriverValue:t=>t},VU={mapToDriverValue:t=>t};({...GU,...VU},nie=ne);class zs{constructor(e,r=VU){O(this,"brand");this.value=e,this.encoder=r}getSQL(){return new nt([this])}}O(zs,nie,"Param");function q(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new hs(t[0]));for(const[n,s]of e.entries())r.push(s,new hs(t[n+1]));return new nt(r)}(t=>{function e(){return new nt([])}t.empty=e;function r(l){return new nt(l)}t.fromList=r;function n(l){return new nt([new hs(l)])}t.raw=n;function s(l,c){const d=[];for(const[h,m]of l.entries())h>0&&c!==void 0&&d.push(c),d.push(m);return new nt(d)}t.join=s;function i(l){return new PS(l)}t.identifier=i;function o(l){return new nd(l)}t.placeholder=o;function a(l,c){return new zs(l,c)}t.param=a})(q||(q={})),(t=>{var r;r=ne;const n=class n{constructor(i,o){O(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};O(n,r,"SQL.Aliased");let e=n;t.Aliased=e})(nt||(nt={})),sie=ne;class nd{constructor(e){this.name=e}getSQL(){return new nt([this])}}O(nd,sie,"Placeholder");function sd(t,e){return t.map(r=>{if(ge(r,nd)){if(!(r.name in e))throw new Error(`No value for placeholder "${r.name}" was provided`);return e[r.name]}if(ge(r,zs)&&ge(r.value,nd)){if(!(r.value.name in e))throw new Error(`No value for placeholder "${r.value.name}" was provided`);return r.encoder.mapToDriverValue(e[r.value.name])}return r})}const gTe=Symbol.for("drizzle:IsDrizzleView");let So=(aie=ne,oie=gr,iie=gTe,Zk=class{constructor({name:e,schema:r,selectedFields:n,query:s}){O(this,oie);O(this,iie,!0);this[gr]={name:e,originalName:e,schema:r,selectedFields:n,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new nt([this])}},O(Zk,aie,"View"),Zk);nr.prototype.getSQL=function(){return new nt([this])},We.prototype.getSQL=function(){return new nt([this])},qr.prototype.getSQL=function(){return new nt([this])},lie=ne;class Np{constructor(e){this.table=e}get(e,r){return r==="table"?this.table:e[r]}}O(Np,lie,"ColumnAliasProxyHandler"),cie=ne;class kS{constructor(e,r){this.alias=e,this.replaceOriginalName=r}get(e,r){if(r===We.Symbol.IsAlias)return!0;if(r===We.Symbol.Name)return this.alias;if(this.replaceOriginalName&&r===We.Symbol.OriginalName)return this.alias;if(r===gr)return{...e[gr],name:this.alias,isAlias:!0};if(r===We.Symbol.Columns){const s=e[We.Symbol.Columns];if(!s)return s;const i={};return Object.keys(s).map(o=>{i[o]=new Proxy(s[o],new Np(new Proxy(e,this)))}),i}const n=e[r];return ge(n,nr)?new Proxy(n,new Np(new Proxy(e,this))):n}}O(kS,cie,"TableAliasProxyHandler");function vo(t,e){return new Proxy(t,new kS(e,!1))}function Tr(t,e){return new Proxy(t,new Np(new Proxy(t.table,new kS(e,!1))))}function bp(t,e){return new nt.Aliased(La(t.sql,e),t.fieldAlias)}function La(t,e){return q.join(t.queryChunks.map(r=>ge(r,nr)?Tr(r,e):ge(r,nt)?La(r,e):ge(r,nt.Aliased)?bp(r,e):r))}class id extends(die=Error,uie=ne,die){constructor({message:e,cause:r}){super(e),this.name="DrizzleError",this.cause=r}}O(id,uie,"DrizzleError");class u1 extends(fie=id,hie=ne,fie){constructor(){super({message:"Rollback"})}}O(u1,hie,"TransactionRollbackError"),mie=ne;class zU{write(e){console.log(e)}}O(zU,mie,"ConsoleLogWriter"),pie=ne;class US{constructor(e){O(this,"writer");this.writer=(e==null?void 0:e.writer)??new zU}logQuery(e,r){const n=r.map(i=>{try{return JSON.stringify(i)}catch{return String(i)}}),s=n.length?` -- params: [${n.join(", ")}]`:"";this.writer.write(`Query: ${e}${s}`)}}O(US,pie,"DefaultLogger"),Eie=ne;class jS{logQuery(){}}O(jS,Eie,"NoopLogger"),Tie=ne,gie=Symbol.toStringTag;class Bn{constructor(){O(this,gie,"QueryPromise")}catch(e){return this.then(void 0,e)}finally(e){return this.then(r=>(e==null||e(),r),r=>{throw e==null||e(),r})}then(e,r){return this.execute().then(e,r)}}O(Bn,Tie,"QueryPromise");function Cp(t,e,r){const n={},s=t.reduce((i,{path:o,field:a},l)=>{let c;ge(a,nr)?c=a:ge(a,nt)?c=a.decoder:c=a.sql.decoder;let d=i;for(const[h,m]of o.entries())if(h<o.length-1)m in d||(d[m]={}),d=d[m];else{const f=e[l],p=d[m]=f===null?null:c.mapFromDriverValue(f);if(r&&ge(a,nr)&&o.length===2){const E=o[0];E in n?typeof n[E]=="string"&&n[E]!==Ls(a.table)&&(n[E]=!1):n[E]=p===null?Ls(a.table):!1}}return i},{});if(r&&Object.keys(n).length>0)for(const[i,o]of Object.entries(n))typeof o=="string"&&!r[o]&&(s[i]=null);return s}function bi(t,e){return Object.entries(t).reduce((r,[n,s])=>{if(typeof n!="string")return r;const i=e?[...e,n]:[n];return ge(s,nr)||ge(s,nt)||ge(s,nt.Aliased)?r.push({path:i,field:s}):ge(s,We)?r.push(...bi(s[We.Symbol.Columns],i)):r.push(...bi(s,i)),r},[])}function Ll(t,e){const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const[s,i]of r.entries())if(i!==n[s])return!1;return!0}function Bh(t,e){const r=Object.entries(e).filter(([,n])=>n!==void 0).map(([n,s])=>ge(s,nt)||ge(s,nr)?[n,s]:[n,new zs(s,t[We.Symbol.Columns][n])]);if(r.length===0)throw new Error("No values to set");return Object.fromEntries(r)}function d1(t,e){for(const r of e)for(const n of Object.getOwnPropertyNames(r.prototype))n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))}function od(t){return t[We.Symbol.Columns]}function yo(t){return ge(t,qr)?t._.alias:ge(t,So)?t[gr].name:ge(t,nt)?void 0:t[We.Symbol.IsAlias]?t[We.Symbol.Name]:t[We.Symbol.BaseName]}function Vt(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class Fh extends(vie=rr,Sie=ne,vie){generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}O(Fh,Sie,"PgIntColumnBaseBuilder");class WU extends(Aie=Fh,yie=ne,Aie){constructor(e){super(e,"number","PgBigInt53")}build(e){return new h1(e,this.config)}}O(WU,yie,"PgBigInt53Builder");class h1 extends(Nie=Ut,Rie=ne,Nie){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}O(h1,Rie,"PgBigInt53");class YU extends(Cie=Fh,bie=ne,Cie){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new f1(e,this.config)}}O(YU,bie,"PgBigInt64Builder");class f1 extends(wie=Ut,xie=ne,wie){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}O(f1,xie,"PgBigInt64");function TTe(t,e){const{name:r,config:n}=Vt(t,e);return n.mode==="number"?new WU(r):new YU(r)}class qU extends(Iie=rr,Oie=ne,Iie){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new m1(e,this.config)}}O(qU,Oie,"PgBigSerial53Builder");class m1 extends(Lie=Ut,_ie=ne,Lie){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}O(m1,_ie,"PgBigSerial53");class KU extends(Mie=rr,Die=ne,Mie){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new p1(e,this.config)}}O(KU,Die,"PgBigSerial64Builder");class p1 extends(kie=Ut,Pie=ne,kie){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}O(p1,Pie,"PgBigSerial64");function STe(t,e){const{name:r,config:n}=Vt(t,e);return n.mode==="number"?new qU(r):new KU(r)}class E1 extends(jie=rr,Uie=ne,jie){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new XU(e,this.config)}}O(E1,Uie,"PgBooleanBuilder");class XU extends(Fie=Ut,Bie=ne,Fie){getSQLType(){return"boolean"}}O(XU,Bie,"PgBoolean");function vTe(t){return new E1(t??"")}class g1 extends($ie=rr,Hie=ne,$ie){constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new QU(e,this.config)}}O(g1,Hie,"PgCharBuilder");class QU extends(Vie=Ut,Gie=ne,Vie){constructor(){super(...arguments);O(this,"length",this.config.length);O(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}O(QU,Gie,"PgChar");function yTe(t,e={}){const{name:r,config:n}=Vt(t,e);return new g1(r,n)}class T1 extends(Wie=rr,zie=ne,Wie){constructor(e){super(e,"string","PgCidr")}build(e){return new JU(e,this.config)}}O(T1,zie,"PgCidrBuilder");class JU extends(qie=Ut,Yie=ne,qie){getSQLType(){return"cidr"}}O(JU,Yie,"PgCidr");function ATe(t){return new T1(t??"")}class ZU extends(Xie=rr,Kie=ne,Xie){constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new e3(e,this.config)}}O(ZU,Kie,"PgCustomColumnBuilder");class e3 extends(Jie=Ut,Qie=ne,Jie){constructor(r,n){super(r,n);O(this,"sqlName");O(this,"mapTo");O(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}O(e3,Qie,"PgCustomColumn");function S1(t){return(e,r)=>{const{name:n,config:s}=Vt(e,r);return new ZU(n,s,t)}}class Hh extends(eoe=rr,Zie=ne,eoe){defaultNow(){return this.default(q`now()`)}}O(Hh,Zie,"PgDateColumnBaseBuilder");class t3 extends(roe=Hh,toe=ne,roe){constructor(e){super(e,"date","PgDate")}build(e){return new BS(e,this.config)}}O(t3,toe,"PgDateBuilder");class BS extends(soe=Ut,noe=ne,soe){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}O(BS,noe,"PgDate");class v1 extends(ooe=Hh,ioe=ne,ooe){constructor(e){super(e,"string","PgDateString")}build(e){return new y1(e,this.config)}}O(v1,ioe,"PgDateStringBuilder");class y1 extends(loe=Ut,aoe=ne,loe){getSQLType(){return"date"}}O(y1,aoe,"PgDateString");function RTe(t,e){const{name:r,config:n}=Vt(t,e);return(n==null?void 0:n.mode)==="date"?new t3(r):new v1(r)}class A1 extends(uoe=rr,coe=ne,uoe){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new R1(e,this.config)}}O(A1,coe,"PgDoublePrecisionBuilder");class R1 extends(hoe=Ut,doe=ne,hoe){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}O(R1,doe,"PgDoublePrecision");function NTe(t){return new A1(t??"")}class N1 extends(moe=rr,foe=ne,moe){constructor(e){super(e,"string","PgInet")}build(e){return new r3(e,this.config)}}O(N1,foe,"PgInetBuilder");class r3 extends(Eoe=Ut,poe=ne,Eoe){getSQLType(){return"inet"}}O(r3,poe,"PgInet");function bTe(t){return new N1(t??"")}class FS extends(Toe=Fh,goe=ne,Toe){constructor(e){super(e,"number","PgInteger")}build(e){return new b1(e,this.config)}}O(FS,goe,"PgIntegerBuilder");class b1 extends(voe=Ut,Soe=ne,voe){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}O(b1,Soe,"PgInteger");function CTe(t){return new FS(t??"")}class C1 extends(Aoe=rr,yoe=ne,Aoe){constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new n3(e,this.config)}}O(C1,yoe,"PgIntervalBuilder");class n3 extends(Noe=Ut,Roe=ne,Noe){constructor(){super(...arguments);O(this,"fields",this.config.intervalConfig.fields);O(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}O(n3,Roe,"PgInterval");function xTe(t,e={}){const{name:r,config:n}=Vt(t,e);return new C1(r,n)}class x1 extends(Coe=rr,boe=ne,Coe){constructor(e){super(e,"json","PgJson")}build(e){return new w1(e,this.config)}}O(x1,boe,"PgJsonBuilder");class w1 extends(woe=Ut,xoe=ne,woe){constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}O(w1,xoe,"PgJson");function wTe(t){return new x1(t??"")}class O1 extends(Ioe=rr,Ooe=ne,Ioe){constructor(e){super(e,"json","PgJsonb")}build(e){return new I1(e,this.config)}}O(O1,Ooe,"PgJsonbBuilder");class I1 extends(Loe=Ut,_oe=ne,Loe){constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}O(I1,_oe,"PgJsonb");function OTe(t){return new O1(t??"")}class s3 extends(Moe=rr,Doe=ne,Moe){constructor(e){super(e,"array","PgLine")}build(e){return new i3(e,this.config)}}O(s3,Doe,"PgLineBuilder");class i3 extends(koe=Ut,Poe=ne,koe){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,s]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(s)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}O(i3,Poe,"PgLine");class o3 extends(joe=rr,Uoe=ne,joe){constructor(e){super(e,"json","PgLineABC")}build(e){return new a3(e,this.config)}}O(o3,Uoe,"PgLineABCBuilder");class a3 extends(Foe=Ut,Boe=ne,Foe){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,s]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(s)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}O(a3,Boe,"PgLineABC");function ITe(t,e){const{name:r,config:n}=Vt(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new s3(r):new o3(r)}class _1 extends($oe=rr,Hoe=ne,$oe){constructor(e){super(e,"string","PgMacaddr")}build(e){return new l3(e,this.config)}}O(_1,Hoe,"PgMacaddrBuilder");class l3 extends(Voe=Ut,Goe=ne,Voe){getSQLType(){return"macaddr"}}O(l3,Goe,"PgMacaddr");function _Te(t){return new _1(t??"")}class L1 extends(Woe=rr,zoe=ne,Woe){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new c3(e,this.config)}}O(L1,zoe,"PgMacaddr8Builder");class c3 extends(qoe=Ut,Yoe=ne,qoe){getSQLType(){return"macaddr8"}}O(c3,Yoe,"PgMacaddr8");function LTe(t){return new L1(t??"")}class D1 extends(Xoe=rr,Koe=ne,Xoe){constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new M1(e,this.config)}}O(D1,Koe,"PgNumericBuilder");class M1 extends(Joe=Ut,Qoe=ne,Joe){constructor(r,n){super(r,n);O(this,"precision");O(this,"scale");this.precision=n.precision,this.scale=n.scale}mapFromDriverValue(r){return typeof r=="string"?r:String(r)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}O(M1,Qoe,"PgNumeric");class u3 extends(eae=rr,Zoe=ne,eae){constructor(e,r,n){super(e,"number","PgNumericNumber"),this.config.precision=r,this.config.scale=n}build(e){return new d3(e,this.config)}}O(u3,Zoe,"PgNumericNumberBuilder");class d3 extends(rae=Ut,tae=ne,rae){constructor(r,n){super(r,n);O(this,"precision");O(this,"scale");O(this,"mapToDriverValue",String);this.precision=n.precision,this.scale=n.scale}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}O(d3,tae,"PgNumericNumber");class h3 extends(sae=rr,nae=ne,sae){constructor(e,r,n){super(e,"bigint","PgNumericBigInt"),this.config.precision=r,this.config.scale=n}build(e){return new f3(e,this.config)}}O(h3,nae,"PgNumericBigIntBuilder");class f3 extends(oae=Ut,iae=ne,oae){constructor(r,n){super(r,n);O(this,"precision");O(this,"scale");O(this,"mapFromDriverValue",BigInt);O(this,"mapToDriverValue",String);this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}O(f3,iae,"PgNumericBigInt");function DTe(t,e){const{name:r,config:n}=Vt(t,e),s=n==null?void 0:n.mode;return s==="number"?new u3(r,n==null?void 0:n.precision,n==null?void 0:n.scale):s==="bigint"?new h3(r,n==null?void 0:n.precision,n==null?void 0:n.scale):new D1(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}class m3 extends(lae=rr,aae=ne,lae){constructor(e){super(e,"array","PgPointTuple")}build(e){return new p3(e,this.config)}}O(m3,aae,"PgPointTupleBuilder");class p3 extends(uae=Ut,cae=ne,uae){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}O(p3,cae,"PgPointTuple");class E3 extends(hae=rr,dae=ne,hae){constructor(e){super(e,"json","PgPointObject")}build(e){return new g3(e,this.config)}}O(E3,dae,"PgPointObjectBuilder");class g3 extends(mae=Ut,fae=ne,mae){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}O(g3,fae,"PgPointObject");function MTe(t,e){const{name:r,config:n}=Vt(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new m3(r):new E3(r)}function PTe(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function T3(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let s=0;s<8;s++)n.setUint8(s,t[e+s]);return n.getFloat64(0,!0)}function S3(t){const e=PTe(t);let r=0;const n=e[r];r+=1;const s=new DataView(e.buffer),i=s.getUint32(r,n===1);if(r+=4,i&536870912&&(s.getUint32(r,n===1),r+=4),(i&65535)===1){const o=T3(e,r);r+=8;const a=T3(e,r);return r+=8,[o,a]}throw new Error("Unsupported geometry type")}class v3 extends(Eae=rr,pae=ne,Eae){constructor(e){super(e,"array","PgGeometry")}build(e){return new y3(e,this.config)}}O(v3,pae,"PgGeometryBuilder");class y3 extends(Tae=Ut,gae=ne,Tae){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return S3(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}O(y3,gae,"PgGeometry");class A3 extends(vae=rr,Sae=ne,vae){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new R3(e,this.config)}}O(A3,Sae,"PgGeometryObjectBuilder");class R3 extends(Aae=Ut,yae=ne,Aae){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=S3(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}O(R3,yae,"PgGeometryObject");function kTe(t,e){const{name:r,config:n}=Vt(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new v3(r):new A3(r)}class P1 extends(Nae=rr,Rae=ne,Nae){constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new k1(e,this.config)}}O(P1,Rae,"PgRealBuilder");class k1 extends(Cae=Ut,bae=ne,Cae){constructor(r,n){super(r,n);O(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}O(k1,bae,"PgReal");function UTe(t){return new P1(t??"")}class U1 extends(wae=rr,xae=ne,wae){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new j1(e,this.config)}}O(U1,xae,"PgSerialBuilder");class j1 extends(Iae=Ut,Oae=ne,Iae){getSQLType(){return"serial"}}O(j1,Oae,"PgSerial");function jTe(t){return new U1(t??"")}class HS extends(Lae=Fh,_ae=ne,Lae){constructor(e){super(e,"number","PgSmallInt")}build(e){return new B1(e,this.config)}}O(HS,_ae,"PgSmallIntBuilder");class B1 extends(Mae=Ut,Dae=ne,Mae){constructor(){super(...arguments);O(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}O(B1,Dae,"PgSmallInt");function BTe(t){return new HS(t??"")}class F1 extends(kae=rr,Pae=ne,kae){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new H1(e,this.config)}}O(F1,Pae,"PgSmallSerialBuilder");class H1 extends(jae=Ut,Uae=ne,jae){getSQLType(){return"smallserial"}}O(H1,Uae,"PgSmallSerial");function FTe(t){return new F1(t??"")}class $1 extends(Fae=rr,Bae=ne,Fae){constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new N3(e,this.config)}}O($1,Bae,"PgTextBuilder");class N3 extends($ae=Ut,Hae=ne,$ae){constructor(){super(...arguments);O(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}O(N3,Hae,"PgText");function HTe(t,e={}){const{name:r,config:n}=Vt(t,e);return new $1(r,n)}class G1 extends(Vae=Hh,Gae=ne,Vae){constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(e){return new V1(e,this.config)}}O(G1,Gae,"PgTimeBuilder");class V1 extends(Wae=Ut,zae=ne,Wae){constructor(r,n){super(r,n);O(this,"withTimezone");O(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}O(V1,zae,"PgTime");function $Te(t,e={}){const{name:r,config:n}=Vt(t,e);return new G1(r,n.withTimezone??!1,n.precision)}class b3 extends(qae=Hh,Yae=ne,qae){constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new $S(e,this.config)}}O(b3,Yae,"PgTimestampBuilder");class $S extends(Xae=Ut,Kae=ne,Xae){constructor(r,n){super(r,n);O(this,"withTimezone");O(this,"precision");O(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));O(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}O($S,Kae,"PgTimestamp");class z1 extends(Jae=Hh,Qae=ne,Jae){constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new W1(e,this.config)}}O(z1,Qae,"PgTimestampStringBuilder");class W1 extends(ele=Ut,Zae=ne,ele){constructor(r,n){super(r,n);O(this,"withTimezone");O(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}O(W1,Zae,"PgTimestampString");function GTe(t,e={}){const{name:r,config:n}=Vt(t,e);return(n==null?void 0:n.mode)==="string"?new z1(r,n.withTimezone??!1,n.precision):new b3(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}class Y1 extends(rle=rr,tle=ne,rle){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(q`gen_random_uuid()`)}build(e){return new q1(e,this.config)}}O(Y1,tle,"PgUUIDBuilder");class q1 extends(sle=Ut,nle=ne,sle){getSQLType(){return"uuid"}}O(q1,nle,"PgUUID");function VTe(t){return new Y1(t??"")}class K1 extends(ole=rr,ile=ne,ole){constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new C3(e,this.config)}}O(K1,ile,"PgVarcharBuilder");class C3 extends(lle=Ut,ale=ne,lle){constructor(){super(...arguments);O(this,"length",this.config.length);O(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}O(C3,ale,"PgVarchar");function zTe(t,e={}){const{name:r,config:n}=Vt(t,e);return new K1(r,n)}class x3 extends(ule=rr,cle=ne,ule){constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new w3(e,this.config)}}O(x3,cle,"PgBinaryVectorBuilder");class w3 extends(hle=Ut,dle=ne,hle){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}O(w3,dle,"PgBinaryVector");function WTe(t,e){const{name:r,config:n}=Vt(t,e);return new x3(r,n)}class O3 extends(mle=rr,fle=ne,mle){constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new I3(e,this.config)}}O(O3,fle,"PgHalfVectorBuilder");class I3 extends(Ele=Ut,ple=ne,Ele){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}O(I3,ple,"PgHalfVector");function YTe(t,e){const{name:r,config:n}=Vt(t,e);return new O3(r,n)}class _3 extends(Tle=rr,gle=ne,Tle){constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new L3(e,this.config)}}O(_3,gle,"PgSparseVectorBuilder");class L3 extends(vle=Ut,Sle=ne,vle){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}O(L3,Sle,"PgSparseVector");function qTe(t,e){const{name:r,config:n}=Vt(t,e);return new _3(r,n)}class X1 extends(Ale=rr,yle=ne,Ale){constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new D3(e,this.config)}}O(X1,yle,"PgVectorBuilder");class D3 extends(Nle=Ut,Rle=ne,Nle){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}O(D3,Rle,"PgVector");function KTe(t,e){const{name:r,config:n}=Vt(t,e);return new X1(r,n)}function XTe(){return{bigint:TTe,bigserial:STe,boolean:vTe,char:yTe,cidr:ATe,customType:S1,date:RTe,doublePrecision:NTe,inet:bTe,integer:CTe,interval:xTe,json:wTe,jsonb:OTe,line:ITe,macaddr:_Te,macaddr8:LTe,numeric:DTe,point:MTe,geometry:kTe,real:UTe,serial:jTe,smallint:BTe,smallserial:FTe,text:HTe,time:$Te,timestamp:GTe,uuid:VTe,varchar:zTe,bit:WTe,halfvec:YTe,sparsevec:qTe,vector:KTe}}const Q1=Symbol.for("drizzle:PgInlineForeignKeys"),M3=Symbol.for("drizzle:EnableRLS");class pn extends(Ile=We,Ole=ne,wle=Q1,xle=M3,Cle=We.Symbol.ExtraConfigBuilder,ble=We.Symbol.ExtraConfigColumns,Ile){constructor(){super(...arguments);O(this,wle,[]);O(this,xle,!1);O(this,Cle);O(this,ble,{})}}O(pn,Ole,"PgTable"),O(pn,"Symbol",Object.assign({},We.Symbol,{InlineForeignKeys:Q1,EnableRLS:M3}));function P3(t,e,r,n,s=t){const i=new pn(t,n,s),o=typeof e=="function"?e(XTe()):e,a=Object.fromEntries(Object.entries(o).map(([d,h])=>{const m=h;m.setName(d);const f=m.build(i);return i[Q1].push(...m.buildForeignKeys(f,i)),[d,f]})),l=Object.fromEntries(Object.entries(o).map(([d,h])=>{const m=h;m.setName(d);const f=m.buildExtraConfigColumn(i);return[d,f]})),c=Object.assign(i,a);return c[We.Symbol.Columns]=a,c[We.Symbol.ExtraConfigColumns]=l,r&&(c[pn.Symbol.ExtraConfigBuilder]=r),Object.assign(c,{enableRLS:()=>(c[pn.Symbol.EnableRLS]=!0,c)})}const J1=(t,e,r)=>P3(t,e,r,void 0);let GS=(_le=ne,e5=class{constructor(e,r){O(this,"columns");O(this,"name");this.columns=e,this.name=r}build(e){return new QTe(e,this.columns,this.name)}},O(e5,_le,"PgPrimaryKeyBuilder"),e5),QTe=(Lle=ne,t5=class{constructor(e,r,n){O(this,"columns");O(this,"name");this.table=e,this.columns=r,this.name=n}getName(){return this.name??`${this.table[pn.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}},O(t5,Lle,"PgPrimaryKey"),t5);function Ci(t,e){return ETe(e)&&!$U(t)&&!ge(t,zs)&&!ge(t,nd)&&!ge(t,nr)&&!ge(t,We)&&!ge(t,So)?new zs(t,e):t}const xp=(t,e)=>q`${t} = ${Ci(e,t)}`,JTe=(t,e)=>q`${t} <> ${Ci(e,t)}`;function Da(...t){const e=t.filter(r=>r!==void 0);if(e.length!==0)return e.length===1?new nt(e):new nt([new hs("("),q.join(e,new hs(" and ")),new hs(")")])}function k3(...t){const e=t.filter(r=>r!==void 0);if(e.length!==0)return e.length===1?new nt(e):new nt([new hs("("),q.join(e,new hs(" or ")),new hs(")")])}function ZTe(t){return q`not ${t}`}const eSe=(t,e)=>q`${t} > ${Ci(e,t)}`,tSe=(t,e)=>q`${t} >= ${Ci(e,t)}`,rSe=(t,e)=>q`${t} < ${Ci(e,t)}`,nSe=(t,e)=>q`${t} <= ${Ci(e,t)}`;function U3(t,e){return Array.isArray(e)?e.length===0?q`false`:q`${t} in ${e.map(r=>Ci(r,t))}`:q`${t} in ${Ci(e,t)}`}function sSe(t,e){return Array.isArray(e)?e.length===0?q`true`:q`${t} not in ${e.map(r=>Ci(r,t))}`:q`${t} not in ${Ci(e,t)}`}function j3(t){return q`${t} is null`}function B3(t){return q`${t} is not null`}function iSe(t){return q`exists ${t}`}function oSe(t){return q`not exists ${t}`}function aSe(t,e,r){return q`${t} between ${Ci(e,t)} and ${Ci(r,t)}`}function lSe(t,e,r){return q`${t} not between ${Ci(e,t)} and ${Ci(r,t)}`}function cSe(t,e){return q`${t} like ${e}`}function uSe(t,e){return q`${t} not like ${e}`}function dSe(t,e){return q`${t} ilike ${e}`}function hSe(t,e){return q`${t} not ilike ${e}`}function VS(t){return q`${t} asc`}function zS(t){return q`${t} desc`}Dle=ne;class Z1{constructor(e,r,n){O(this,"referencedTableName");O(this,"fieldName");this.sourceTable=e,this.referencedTable=r,this.relationName=n,this.referencedTableName=r[We.Symbol.Name]}}O(Z1,Dle,"Relation"),Mle=ne;class F3{constructor(e,r){this.table=e,this.config=r}}O(F3,Mle,"Relations");const wb=class wb extends(kle=Z1,Ple=ne,kle){constructor(e,r,n,s){super(e,r,n==null?void 0:n.relationName),this.config=n,this.isNullable=s}withFieldName(e){const r=new wb(this.sourceTable,this.referencedTable,this.config,this.isNullable);return r.fieldName=e,r}};O(wb,Ple,"One");let Ma=wb;const Ob=class Ob extends(jle=Z1,Ule=ne,jle){constructor(e,r,n){super(e,r,n==null?void 0:n.relationName),this.config=n}withFieldName(e){const r=new Ob(this.sourceTable,this.referencedTable,this.config);return r.fieldName=e,r}};O(Ob,Ule,"Many");let Dc=Ob;function WS(){return{and:Da,between:aSe,eq:xp,exists:iSe,gt:eSe,gte:tSe,ilike:dSe,inArray:U3,isNull:j3,isNotNull:B3,like:cSe,lt:rSe,lte:nSe,ne:JTe,not:ZTe,notBetween:lSe,notExists:oSe,notLike:uSe,notIlike:hSe,notInArray:sSe,or:k3,sql:q}}function YS(){return{sql:q,asc:VS,desc:zS}}function qS(t,e){var i;Object.keys(t).length===1&&"default"in t&&!ge(t.default,We)&&(t=t.default);const r={},n={},s={};for(const[o,a]of Object.entries(t))if(ge(a,We)){const l=Lc(a),c=n[l];r[l]=o,s[o]={tsName:o,dbName:a[We.Symbol.Name],schema:a[We.Symbol.Schema],columns:a[We.Symbol.Columns],relations:(c==null?void 0:c.relations)??{},primaryKey:(c==null?void 0:c.primaryKey)??[]};for(const h of Object.values(a[We.Symbol.Columns]))h.primary&&s[o].primaryKey.push(h);const d=(i=a[We.Symbol.ExtraConfigBuilder])==null?void 0:i.call(a,a[We.Symbol.ExtraConfigColumns]);if(d)for(const h of Object.values(d))ge(h,GS)&&s[o].primaryKey.push(...h.columns)}else if(ge(a,F3)){const l=Lc(a.table),c=r[l],d=a.config(e(a.table));let h;for(const[m,f]of Object.entries(d))if(c){const p=s[c];p.relations[m]=f}else l in n||(n[l]={relations:{},primaryKey:h}),n[l].relations[m]=f}return{tables:s,tableNamesMap:r}}function fSe(t){return function(r,n){return new Ma(t,r,n,(n==null?void 0:n.fields.reduce((s,i)=>s&&i.notNull,!0))??!1)}}function mSe(t){return function(r,n){return new Dc(t,r,n)}}function KS(t,e,r){if(ge(r,Ma)&&r.config)return{fields:r.config.fields,references:r.config.references};const n=e[Lc(r.referencedTable)];if(!n)throw new Error(`Table "${r.referencedTable[We.Symbol.Name]}" not found in schema`);const s=t[n];if(!s)throw new Error(`Table "${n}" not found in schema`);const i=r.sourceTable,o=e[Lc(i)];if(!o)throw new Error(`Table "${i[We.Symbol.Name]}" not found in schema`);const a=[];for(const l of Object.values(s.relations))(r.relationName&&r!==l&&l.relationName===r.relationName||!r.relationName&&l.referencedTable===r.sourceTable)&&a.push(l);if(a.length>1)throw r.relationName?new Error(`There are multiple relations with name "${r.relationName}" in table "${n}"`):new Error(`There are multiple relations between "${n}" and "${r.sourceTable[We.Symbol.Name]}". Please specify relation name`);if(a[0]&&ge(a[0],Ma)&&a[0].config)return{fields:a[0].config.references,references:a[0].config.fields};throw new Error(`There is not enough information to infer relation "${o}.${r.fieldName}"`)}function XS(t){return{one:fSe(t),many:mSe(t)}}function wp(t,e,r,n,s=i=>i){const i={};for(const[o,a]of n.entries())if(a.isJson){const l=e.relations[a.tsKey],c=r[o],d=typeof c=="string"?JSON.parse(c):c;i[a.tsKey]=ge(l,Ma)?d&&wp(t,t[a.relationTableTsKey],d,a.selection,s):d.map(h=>wp(t,t[a.relationTableTsKey],h,a.selection,s))}else{const l=s(r[o]),c=a.field;let d;ge(c,nr)?d=c:ge(c,nt)?d=c.decoder:d=c.sql.decoder,i[a.tsKey]=l===null?null:d.mapFromDriverValue(l)}return i}function pSe(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(r=>r.toLowerCase()).join("_")}function ESe(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((r,n,s)=>{const i=s===0?n.toLowerCase():`${n[0].toUpperCase()}${n.slice(1)}`;return r+i},"")}function gSe(t){return t}Ble=ne;class QS{constructor(e){O(this,"cache",{});O(this,"cachedTables",{});O(this,"convert");this.convert=e==="snake_case"?pSe:e==="camelCase"?ESe:gSe}getColumnCasing(e){if(!e.keyAsName)return e.name;const r=e.table[We.Symbol.Schema]??"public",n=e.table[We.Symbol.OriginalName],s=`${r}.${n}.${e.name}`;return this.cache[s]||this.cacheTable(e.table),this.cache[s]}cacheTable(e){const r=e[We.Symbol.Schema]??"public",n=e[We.Symbol.OriginalName],s=`${r}.${n}`;if(!this.cachedTables[s]){for(const i of Object.values(e[We.Symbol.Columns])){const o=`${s}.${i.name}`;this.cache[o]=this.convert(i.name)}this.cachedTables[s]=!0}}clearCache(){this.cache={},this.cachedTables={}}}O(QS,Ble,"CasingCache");const eC=[],tC=[],H3=new Set,Op=new Map,Ip=new Map,$3=t=>typeof t=="string"?new RegExp("^".concat(t,"$"),"i"):t,JS=(t,e)=>typeof e!="string"?t:t===e?e:t===t.toLowerCase()?e.toLowerCase():t===t.toUpperCase()?e.toUpperCase():t[0]===t[0].toUpperCase()?e.charAt(0).toUpperCase()+e.substr(1).toLowerCase():e.toLowerCase(),G3=(t,e,r)=>{if(!t.length||H3.has(t))return e;let{length:n}=r;for(;n--;){const s=r[n];if(s[0].test(e))return e.replace(s[0],function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];const[l,c]=o,d=s[1].replace(/\$(\d{1,2})/g,(h,m)=>o[m]||"");return JS(l===""?e[c-1]:l,d)})}return e},V3=(t,e,r,n)=>{const s=t.toLowerCase();return r.has(s)?JS(t,s):e.has(s)?JS(t,e.get(s)):G3(s,t,n)},z3=(t,e,r,n)=>{const s=t.toLowerCase();return r.has(s)?!0:e.has(s)?!1:G3(s,s,n)===s},fs=(t,e,r)=>{const n=e===1?fs.singular(t):fs.plural(t);return r?"".concat(e," ").concat(n):n};fs.plural=t=>V3(t,Ip,Op,eC),fs.singular=t=>V3(t,Op,Ip,tC),fs.addPluralRule=(t,e)=>{eC.push([$3(t),e])},fs.addSingularRule=(t,e)=>{tC.push([$3(t),e])},fs.addIrregularRule=(t,e)=>{const r=e.toLowerCase(),n=t.toLowerCase();Ip.set(n,r),Op.set(r,n)},fs.addUncountableRule=t=>{if(typeof t=="string"){H3.add(t.toLowerCase());return}fs.addPluralRule(t,"$0"),fs.addSingularRule(t,"$0")},fs.isPlural=t=>z3(t,Ip,Op,eC),fs.isSingular=t=>z3(t,Op,Ip,tC);const TSe=[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]],SSe=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]],vSe=[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]],ySe=["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i];for(const[t,e]of TSe)fs.addIrregularRule(t,e);for(const[t,e]of SSe)fs.addPluralRule(t,e);for(const[t,e]of vSe)fs.addSingularRule(t,e);for(const t of ySe)fs.addUncountableRule(t);function Zr(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function Ds(t){return function e(r){return arguments.length===0||Zr(r)?e:t.apply(this,arguments)}}function sn(t){return function e(r,n){switch(arguments.length){case 0:return e;case 1:return Zr(r)?e:Ds(function(s){return t(r,s)});default:return Zr(r)&&Zr(n)?e:Zr(r)?Ds(function(s){return t(s,n)}):Zr(n)?Ds(function(s){return t(r,s)}):t(r,n)}}}function W3(t,e){t=t||[],e=e||[];var r,n=t.length,s=e.length,i=[];for(r=0;r<n;)i[i.length]=t[r],r+=1;for(r=0;r<s;)i[i.length]=e[r],r+=1;return i}function ZS(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,n){return e.apply(this,arguments)};case 3:return function(r,n,s){return e.apply(this,arguments)};case 4:return function(r,n,s,i){return e.apply(this,arguments)};case 5:return function(r,n,s,i,o){return e.apply(this,arguments)};case 6:return function(r,n,s,i,o,a){return e.apply(this,arguments)};case 7:return function(r,n,s,i,o,a,l){return e.apply(this,arguments)};case 8:return function(r,n,s,i,o,a,l,c){return e.apply(this,arguments)};case 9:return function(r,n,s,i,o,a,l,c,d){return e.apply(this,arguments)};case 10:return function(r,n,s,i,o,a,l,c,d,h){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Y3(t,e,r){return function(){for(var n=[],s=0,i=t,o=0,a=!1;o<e.length||s<arguments.length;){var l;o<e.length&&(!Zr(e[o])||s>=arguments.length)?l=e[o]:(l=arguments[s],s+=1),n[o]=l,Zr(l)?a=!0:i-=1,o+=1}return!a&&i<=0?r.apply(this,n):ZS(Math.max(0,i),Y3(t,n,r))}}var ASe=sn(function(e,r){return e===1?Ds(r):ZS(e,Y3(e,[],r))});function Pa(t){return function e(r,n,s){switch(arguments.length){case 0:return e;case 1:return Zr(r)?e:sn(function(i,o){return t(r,i,o)});case 2:return Zr(r)&&Zr(n)?e:Zr(r)?sn(function(i,o){return t(i,n,o)}):Zr(n)?sn(function(i,o){return t(r,i,o)}):Ds(function(i){return t(r,n,i)});default:return Zr(r)&&Zr(n)&&Zr(s)?e:Zr(r)&&Zr(n)?sn(function(i,o){return t(i,o,s)}):Zr(r)&&Zr(s)?sn(function(i,o){return t(i,n,o)}):Zr(n)&&Zr(s)?sn(function(i,o){return t(r,i,o)}):Zr(r)?Ds(function(i){return t(i,n,s)}):Zr(n)?Ds(function(i){return t(r,i,s)}):Zr(s)?Ds(function(i){return t(r,n,i)}):t(r,n,s)}}}var RSe=Pa(function(e,r,n){var s=n.length;if(e>=s||e<-s)return n;var i=(s+e)%s,o=W3(n);return o[i]=r(n[i]),o});const $h=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function NSe(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function rC(t,e,r){return function(){if(arguments.length===0)return r();var n=arguments[arguments.length-1];if(!$h(n)){for(var s=0;s<t.length;){if(typeof n[t[s]]=="function")return n[t[s]].apply(n,Array.prototype.slice.call(arguments,0,-1));s+=1}if(NSe(n)){var i=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return i(n)}}return r.apply(this,arguments)}}function bSe(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}const _p={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};function q3(t){for(var e=[],r;!(r=t.next()).done;)e.push(r.value);return e}function K3(t,e,r){for(var n=0,s=r.length;n<s;){if(t(e,r[n]))return!0;n+=1}return!1}function CSe(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}function ta(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function xSe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}const nC=typeof Object.is=="function"?Object.is:xSe;var X3=Object.prototype.toString,wSe=function(){return X3.call(arguments)==="[object Arguments]"?function(e){return X3.call(e)==="[object Arguments]"}:function(e){return ta("callee",e)}}(),OSe=!{toString:null}.propertyIsEnumerable("toString"),Q3=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],J3=function(){return arguments.propertyIsEnumerable("length")}(),ISe=function(e,r){for(var n=0;n<e.length;){if(e[n]===r)return!0;n+=1}return!1},Lp=Ds(typeof Object.keys=="function"&&!J3?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var r,n,s=[],i=J3&&wSe(e);for(r in e)ta(r,e)&&(!i||r!=="length")&&(s[s.length]=r);if(OSe)for(n=Q3.length-1;n>=0;)r=Q3[n],ta(r,e)&&!ISe(s,r)&&(s[s.length]=r),n-=1;return s}),Z3=Ds(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function ej(t,e,r,n){var s=q3(t),i=q3(e);function o(a,l){return sC(a,l,r.slice(),n.slice())}return!K3(function(a,l){return!K3(o,l,a)},i,s)}function sC(t,e,r,n){if(nC(t,e))return!0;var s=Z3(t);if(s!==Z3(e))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(s){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&CSe(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&nC(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!nC(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var i=r.length-1;i>=0;){if(r[i]===t)return n[i]===e;i-=1}switch(s){case"Map":return t.size!==e.size?!1:ej(t.entries(),e.entries(),r.concat([t]),n.concat([e]));case"Set":return t.size!==e.size?!1:ej(t.values(),e.values(),r.concat([t]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=Lp(t);if(o.length!==Lp(e).length)return!1;var a=r.concat([t]),l=n.concat([e]);for(i=o.length-1;i>=0;){var c=o[i];if(!(ta(c,e)&&sC(e[c],t[c],a,l)))return!1;i-=1}return!0}var Pr=sn(function(e,r){return sC(e,r,[],[])});function _Se(t,e){for(var r=0,n=e.length,s=Array(n);r<n;)s[r]=t(e[r]),r+=1;return s}function iC(t,e,r){for(var n=0,s=r.length;n<s;)e=t(e,r[n]),n+=1;return e}function LSe(t,e){for(var r=0,n=e.length,s=[];r<n;)t(e[r])&&(s[s.length]=e[r]),r+=1;return s}function oC(t){return Object.prototype.toString.call(t)==="[object Object]"}var DSe=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=_p.init,t.prototype["@@transducer/result"]=_p.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.xf["@@transducer/step"](e,r):e},t}();function MSe(t){return function(e){return new DSe(t,e)}}var Ws=sn(rC(["fantasy-land/filter","filter"],MSe,function(t,e){return oC(e)?iC(function(r,n){return t(e[n])&&(r[n]=e[n]),r},{},Lp(e)):LSe(t,e)})),PSe=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=_p.init,t.prototype["@@transducer/result"]=_p.result,t.prototype["@@transducer/step"]=function(e,r){return this.xf["@@transducer/step"](e,this.f(r))},t}(),kSe=function(e){return function(r){return new PSe(e,r)}},Dp=sn(rC(["fantasy-land/map","map"],kSe,function(e,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return ASe(r.length,function(){return e.call(this,r.apply(this,arguments))});case"[object Object]":return iC(function(n,s){return n[s]=e(r[s]),n},{},Lp(r));default:return _Se(e,r)}}));const Mp=Number.isInteger||function(e){return e<<0===e};function tj(t){return Object.prototype.toString.call(t)==="[object String]"}var USe=sn(function(e,r){var n=e<0?r.length+e:e;return tj(r)?r.charAt(n):r[n]}),jSe=Ds(function(e){return $h(e)?!0:!e||typeof e!="object"||tj(e)?!1:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),rj=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function BSe(t,e,r){return function(s,i,o){if(jSe(o))return t(s,i,o);if(o==null)return i;if(typeof o["fantasy-land/reduce"]=="function")return e(s,i,o,"fantasy-land/reduce");if(o[rj]!=null)return r(s,i,o[rj]());if(typeof o.next=="function")return r(s,i,o);if(typeof o.reduce=="function")return e(s,i,o,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function FSe(t,e,r){for(var n=0,s=r.length;n<s;){if(e=t["@@transducer/step"](e,r[n]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}var HSe=sn(function(e,r){return ZS(e.length,function(){return e.apply(r,arguments)})});function $Se(t,e,r){for(var n=r.next();!n.done;){if(e=t["@@transducer/step"](e,n.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=r.next()}return t["@@transducer/result"](e)}function GSe(t,e,r,n){return t["@@transducer/result"](r[n](HSe(t["@@transducer/step"],t),e))}var VSe=BSe(FSe,GSe,$Se),zSe=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,r){return this.f(e,r)},t}();function WSe(t){return new zSe(t)}var nj=Pa(function(t,e,r){return VSe(typeof t=="function"?WSe(t):t,e,r)}),YSe=Ds(function(e){return function(){return e}}),sj=sn(function(e,r){return W3(r,[e])});function qSe(t,e,r){if(Mp(t)&&$h(r)){var n=[].concat(r);return n[t]=e,n}var s={};for(var i in r)s[i]=r[i];return s[t]=e,s}var aC=Ds(function(e){return e==null}),$t=Pa(function t(e,r,n){if(e.length===0)return r;var s=e[0];if(e.length>1){var i=!aC(n)&&ta(s,n)&&typeof n[s]=="object"?n[s]:Mp(e[1])?[]:{};r=t(Array.prototype.slice.call(e,1),r,i)}return qSe(s,r,n)}),Pp=Pa(function(e,r,n){return $t([e],r,n)}),KSe=Pa(function(e,r,n){if(e>r)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<e?e:n>r?r:n});function XSe(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function ij(t,e){return function(){var r=arguments.length;if(r===0)return e();var n=arguments[r-1];return $h(n)||typeof n[t]!="function"?e.apply(this,arguments):n[t].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var QSe=Pa(ij("slice",function(e,r,n){return Array.prototype.slice.call(n,e,r)})),JSe=Ds(ij("tail",QSe(1,1/0)));function ZSe(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return ZS(arguments[0].length,nj(XSe,arguments[0],JSe(arguments)))}var eve=Pa(function(e,r,n){var s=Array.prototype.slice.call(n,0);return s.splice(e,r),s});function tve(t,e){if(e==null)return e;if(Mp(t)&&$h(e))return eve(t,1,e);var r={};for(var n in e)r[n]=e[n];return delete r[t],r}function rve(t,e){if(Mp(t)&&$h(e))return[].concat(e);var r={};for(var n in e)r[n]=e[n];return r}var zi=sn(function t(e,r){if(r==null)return r;switch(e.length){case 0:return r;case 1:return tve(e[0],r);default:var n=e[0],s=Array.prototype.slice.call(e,1);return r[n]==null?rve(n,r):Pp(n,t(s,r[n]),r)}}),ev=sn(function(e,r){return zi([e],r)}),nve=function(){function t(e,r){this.xf=r,this.f=e,this.found=!1}return t.prototype["@@transducer/init"]=_p.init,t.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)&&(this.found=!0,e=bSe(this.xf["@@transducer/step"](e,r))),e},t}();function sve(t){return function(e){return new nve(t,e)}}var oj=sn(rC(["find"],sve,function(e,r){for(var n=0,s=r.length;n<s;){if(e(r[n]))return r[n];n+=1}})),aj=Ds(function(e){for(var r={},n=0;n<e.length;)r[e[n][0]]=e[n][1],n+=1;return r}),ka=sn(function(e,r){if(e.length===0||aC(r))return!1;for(var n=r,s=0;s<e.length;)if(!aC(n)&&ta(e[s],n))n=n[e[s]],s+=1;else return!1;return!0});function ive(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1,n=arguments.length;r<n;){var s=arguments[r];if(s!=null)for(var i in s)ta(i,s)&&(e[i]=s[i]);r+=1}return e}const ove=typeof Object.assign=="function"?Object.assign:ive;var ave=Pa(function(e,r,n){return RSe(e,YSe(r),n)}),lve=sn(function(e,r){return e.map(function(n){for(var s=r,i=0,o;i<n.length;){if(s==null)return;o=n[i],s=Mp(o)?USe(o,s):s[o],i+=1}return s})}),xi=sn(function(e,r){return lve([e],r)[0]}),Ua=sn(function(e,r){return iC(function(n,s){return n[s]=e(r[s],s,r),n},{},Lp(r))}),lj=Ds(function(e){return ove.apply(null,[{}].concat(e))}),cve=Pa(function(e,r,n){var s={},i;r=r||{},n=n||{};for(i in r)ta(i,r)&&(s[i]=ta(i,n)?e(i,r[i],n[i]):r[i]);for(i in n)ta(i,n)&&!ta(i,s)&&(s[i]=n[i]);return s}),uve=Pa(function t(e,r,n){return cve(function(s,i,o){return oC(i)&&oC(o)?t(e,i,o):e(s,i,o)},r,n)}),dve=sn(function(e,r){return uve(function(n,s,i){return i},e,r)}),Gh=sn(function(e,r){for(var n={},s={},i=0,o=e.length;i<o;)s[e[i]]=1,i+=1;for(var a in r)s.hasOwnProperty(a)||(n[a]=r[a]);return n}),hve=sn(function(e,r){for(var n={},s=0;s<e.length;)e[s]in r&&(n[e[s]]=r[e[s]]),s+=1;return n}),cj=sn(function(e,r){var n={};for(var s in r)e(r[s],s,r)&&(n[s]=r[s]);return n});String.prototype.camelCase=function(){return tTe(String(this),{prefixCharacters:"_",suffixCharacters:"_"})},String.prototype.capitalise=function(){return this&&this.length>0?`${this[0].toUpperCase()}${this.slice(1)}`:String(this)};const fve=(t,e)=>(e?t.concat(e):t).reduce((s,i)=>{const o=s.findIndex(a=>Pr({...a,name:void 0},{...i,name:void 0}));return o!==-1?s[o]=i:s.push(i),s},[]);function ra(t){return Object.entries(t).reduce((e,[r,n])=>{if(r==="and")return Da(e,...n.map(s=>ra(s)));if(r==="or")return k3(e,...n.map(s=>ra(s)));if(r==="op"){const s=n,i=s[0],o=s[1],a=s[2];if(o==="in"){const l=a.split(",").filter(Boolean);return U3(q.identifier(i),l)}if(a===null){if(o==="is")return j3(q.identifier(i));if(o==="is not")return B3(q.identifier(i))}return q.join([q.identifier(i),q` `,q.raw(o),q` `,a])}throw new Error(`Unknown filter key: ${r}`)},void 0)}const uj=(t,e)=>{const r=(e==null?void 0:e.filter(s=>{const i=t[s.schema],o=t[s.refSchema];if(!i||!o)return!1;const a=i.tables[s.table],l=o.tables[s.refTable];if(!a||!l)return!1;const c=s.columns.map(h=>a.columns[h]).filter(Boolean),d=s.refColumns.map(h=>l.columns[h]).filter(Boolean);return!(c.length===0||d.length===0)}))||[],n=[];return Object.values(t).forEach(s=>{Object.values(s.tables).forEach(i=>{Object.values(i.constraints).filter(o=>o.type==="foreign").forEach((o,a,l)=>{const c=o.table,d=o.refTable,h=o.schema,m=o.refSchema,f=o.columns,p=o.refColumns,E=l.filter(v=>v.refTable===d&&v.refSchema===m&&v.table===c&&v.schema===h).length<=1,g=fs.singular(d);n.push({name:E?g:`${f.join("_")}_${g}_${p.join("_")}`,type:"one",schema:h,table:c,columns:f,refSchema:m,refTable:d,refColumns:p});const T=l.filter(v=>v.table===c&&v.schema===h&&v.refTable===d&&v.refSchema===m).length<=1,S=fs.plural(c);n.push({name:T?S:`${p.join("_")}_${S}_${f.join("_")}`,type:"many",schema:m,table:d,columns:p,refSchema:h,refTable:c,refColumns:f})})})}),fve(n,r)};let mve=(Fle=ne,r5=class{constructor(e,r){O(this,"brand");this.name=e,this.value=r}build(e){return new pve(e,this)}},O(r5,Fle,"MySqlCheckBuilder"),r5),pve=(Hle=ne,n5=class{constructor(e,r){O(this,"name");O(this,"value");this.table=e,this.name=r.name,this.value=r.value}},O(n5,Hle,"MySqlCheck"),n5),dj=($le=ne,s5=class{constructor(e,r){O(this,"reference");O(this,"_onUpdate");O(this,"_onDelete");this.reference=()=>{const{name:n,columns:s,foreignColumns:i}=e();return{name:n,columns:s,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e,this}onDelete(e){return this._onDelete=e,this}build(e){return new Eve(e,this)}},O(s5,$le,"MySqlForeignKeyBuilder"),s5),Eve=(Gle=ne,i5=class{constructor(e,r){O(this,"reference");O(this,"onUpdate");O(this,"onDelete");this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),s=r.map(a=>a.name),i=n.map(a=>a.name),o=[this.table[Ni],...s,n[0].table[Ni],...i];return e??`${o.join("_")}_fk`}},O(i5,Gle,"MySqlForeignKey"),i5);function hj(t,e){return`${t[Ni]}_${e.join("_")}_unique`}let gve=(Vle=ne,o5=class{constructor(e,r){O(this,"columns");this.name=r,this.columns=e}build(e){return new Tve(e,this.columns,this.name)}},O(o5,Vle,"MySqlUniqueConstraintBuilder"),o5),Tve=(zle=ne,a5=class{constructor(e,r,n){O(this,"columns");O(this,"name");O(this,"nullsNotDistinct",!1);this.table=e,this.columns=r,this.name=n??hj(this.table,this.columns.map(s=>s.name))}getName(){return this.name}},O(a5,zle,"MySqlUniqueConstraint"),a5);class Fn extends(Yle=_S,Wle=ne,Yle){constructor(){super(...arguments);O(this,"foreignKeyConfigs",[])}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r){return this.config.isUnique=!0,this.config.uniqueName=r,this}generatedAlwaysAs(r,n){return this.config.generated={as:r,type:"always",mode:(n==null?void 0:n.mode)??"virtual"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>((o,a)=>{const l=new dj(()=>{const c=o();return{columns:[r],foreignColumns:[c]}});return a.onUpdate&&l.onUpdate(a.onUpdate),a.onDelete&&l.onDelete(a.onDelete),l.build(n)})(s,i))}}O(Fn,Wle,"MySqlColumnBuilder");class on extends(Kle=nr,qle=ne,Kle){constructor(e,r){r.uniqueName||(r.uniqueName=hj(e,[r.name])),super(e,r),this.table=e}}O(on,qle,"MySqlColumn");class wi extends(Qle=Fn,Xle=ne,Qle){constructor(e,r,n){super(e,r,n),this.config.autoIncrement=!1}autoincrement(){return this.config.autoIncrement=!0,this.config.hasDefault=!0,this}}O(wi,Xle,"MySqlColumnBuilderWithAutoIncrement");class Oi extends(Zle=on,Jle=ne,Zle){constructor(){super(...arguments);O(this,"autoIncrement",this.config.autoIncrement)}}O(Oi,Jle,"MySqlColumnWithAutoIncrement");class lC extends(tce=wi,ece=ne,tce){constructor(e,r=!1){super(e,"number","MySqlBigInt53"),this.config.unsigned=r}build(e){return new cC(e,this.config)}}O(lC,ece,"MySqlBigInt53Builder");class cC extends(nce=Oi,rce=ne,nce){getSQLType(){return`bigint${this.config.unsigned?" unsigned":""}`}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}O(cC,rce,"MySqlBigInt53");class fj extends(ice=wi,sce=ne,ice){constructor(e,r=!1){super(e,"bigint","MySqlBigInt64"),this.config.unsigned=r}build(e){return new uC(e,this.config)}}O(fj,sce,"MySqlBigInt64Builder");class uC extends(ace=Oi,oce=ne,ace){getSQLType(){return`bigint${this.config.unsigned?" unsigned":""}`}mapFromDriverValue(e){return BigInt(e)}}O(uC,oce,"MySqlBigInt64");function Sve(t,e){const{name:r,config:n}=Vt(t,e);return n.mode==="number"?new lC(r,n.unsigned):new fj(r,n.unsigned)}class mj extends(cce=Fn,lce=ne,cce){constructor(e,r){super(e,"string","MySqlBinary"),this.config.length=r}build(e){return new pj(e,this.config)}}O(mj,lce,"MySqlBinaryBuilder");class pj extends(dce=on,uce=ne,dce){constructor(){super(...arguments);O(this,"length",this.config.length)}mapFromDriverValue(r){if(typeof r=="string")return r;if(Buffer.isBuffer(r))return r.toString();const n=[];for(const s of r)n.push(s===49?"1":"0");return n.join("")}getSQLType(){return this.length===void 0?"binary":`binary(${this.length})`}}O(pj,uce,"MySqlBinary");function vve(t,e={}){const{name:r,config:n}=Vt(t,e);return new mj(r,n.length)}class tv extends(fce=Fn,hce=ne,fce){constructor(e){super(e,"boolean","MySqlBoolean")}build(e){return new Ej(e,this.config)}}O(tv,hce,"MySqlBooleanBuilder");class Ej extends(pce=on,mce=ne,pce){getSQLType(){return"boolean"}mapFromDriverValue(e){return typeof e=="boolean"?e:e===1}}O(Ej,mce,"MySqlBoolean");function yve(t){return new tv(t??"")}class dC extends(gce=Fn,Ece=ne,gce){constructor(e,r){super(e,"string","MySqlChar"),this.config.length=r.length,this.config.enum=r.enum}build(e){return new gj(e,this.config)}}O(dC,Ece,"MySqlCharBuilder");class gj extends(Sce=on,Tce=ne,Sce){constructor(){super(...arguments);O(this,"length",this.config.length);O(this,"enumValues",this.config.enum)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}O(gj,Tce,"MySqlChar");function Ave(t,e={}){const{name:r,config:n}=Vt(t,e);return new dC(r,n)}class Tj extends(yce=Fn,vce=ne,yce){constructor(e,r,n){super(e,"custom","MySqlCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new Sj(e,this.config)}}O(Tj,vce,"MySqlCustomColumnBuilder");class Sj extends(Rce=on,Ace=ne,Rce){constructor(r,n){super(r,n);O(this,"sqlName");O(this,"mapTo");O(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}O(Sj,Ace,"MySqlCustomColumn");function vj(t){return(e,r)=>{const{name:n,config:s}=Vt(e,r);return new Tj(n,s,t)}}class yj extends(bce=Fn,Nce=ne,bce){constructor(e){super(e,"date","MySqlDate")}build(e){return new hC(e,this.config)}}O(yj,Nce,"MySqlDateBuilder");class hC extends(xce=on,Cce=ne,xce){constructor(e,r){super(e,r)}getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}}O(hC,Cce,"MySqlDate");class fC extends(Oce=Fn,wce=ne,Oce){constructor(e){super(e,"string","MySqlDateString")}build(e){return new Aj(e,this.config)}}O(fC,wce,"MySqlDateStringBuilder");class Aj extends(_ce=on,Ice=ne,_ce){constructor(e,r){super(e,r)}getSQLType(){return"date"}}O(Aj,Ice,"MySqlDateString");function Rve(t,e){const{name:r,config:n}=Vt(t,e);return(n==null?void 0:n.mode)==="string"?new fC(r):new yj(r)}class Rj extends(Dce=Fn,Lce=ne,Dce){constructor(e,r){super(e,"date","MySqlDateTime"),this.config.fsp=r==null?void 0:r.fsp}build(e){return new Nj(e,this.config)}}O(Rj,Lce,"MySqlDateTimeBuilder");class Nj extends(Pce=on,Mce=ne,Pce){constructor(r,n){super(r,n);O(this,"fsp");this.fsp=n.fsp}getSQLType(){return`datetime${this.fsp===void 0?"":`(${this.fsp})`}`}mapToDriverValue(r){return r.toISOString().replace("T"," ").replace("Z","")}mapFromDriverValue(r){return new Date(r.replace(" ","T")+"Z")}}O(Nj,Mce,"MySqlDateTime");class mC extends(Uce=Fn,kce=ne,Uce){constructor(e,r){super(e,"string","MySqlDateTimeString"),this.config.fsp=r==null?void 0:r.fsp}build(e){return new bj(e,this.config)}}O(mC,kce,"MySqlDateTimeStringBuilder");class bj extends(Bce=on,jce=ne,Bce){constructor(r,n){super(r,n);O(this,"fsp");this.fsp=n.fsp}getSQLType(){return`datetime${this.fsp===void 0?"":`(${this.fsp})`}`}}O(bj,jce,"MySqlDateTimeString");function Nve(t,e){const{name:r,config:n}=Vt(t,e);return(n==null?void 0:n.mode)==="string"?new mC(r,n):new Rj(r,n)}class pC extends(Hce=wi,Fce=ne,Hce){constructor(e,r){super(e,"string","MySqlDecimal"),this.config.precision=r==null?void 0:r.precision,this.config.scale=r==null?void 0:r.scale,this.config.unsigned=r==null?void 0:r.unsigned}build(e){return new Cj(e,this.config)}}O(pC,Fce,"MySqlDecimalBuilder");class Cj extends(Gce=Oi,$ce=ne,Gce){constructor(){super(...arguments);O(this,"precision",this.config.precision);O(this,"scale",this.config.scale);O(this,"unsigned",this.config.unsigned)}mapFromDriverValue(r){return typeof r=="string"?r:String(r)}getSQLType(){let r="";return this.precision!==void 0&&this.scale!==void 0?r+=`decimal(${this.precision},${this.scale})`:this.precision===void 0?r+="decimal":r+=`decimal(${this.precision})`,r=r==="decimal(10,0)"||r==="decimal(10)"?"decimal":r,this.unsigned?`${r} unsigned`:r}}O(Cj,$ce,"MySqlDecimal");class xj extends(zce=wi,Vce=ne,zce){constructor(e,r){super(e,"number","MySqlDecimalNumber"),this.config.precision=r==null?void 0:r.precision,this.config.scale=r==null?void 0:r.scale,this.config.unsigned=r==null?void 0:r.unsigned}build(e){return new wj(e,this.config)}}O(xj,Vce,"MySqlDecimalNumberBuilder");class wj extends(Yce=Oi,Wce=ne,Yce){constructor(){super(...arguments);O(this,"precision",this.config.precision);O(this,"scale",this.config.scale);O(this,"unsigned",this.config.unsigned);O(this,"mapToDriverValue",String)}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}getSQLType(){let r="";return this.precision!==void 0&&this.scale!==void 0?r+=`decimal(${this.precision},${this.scale})`:this.precision===void 0?r+="decimal":r+=`decimal(${this.precision})`,r=r==="decimal(10,0)"||r==="decimal(10)"?"decimal":r,this.unsigned?`${r} unsigned`:r}}O(wj,Wce,"MySqlDecimalNumber");class Oj extends(Kce=wi,qce=ne,Kce){constructor(e,r){super(e,"bigint","MySqlDecimalBigInt"),this.config.precision=r==null?void 0:r.precision,this.config.scale=r==null?void 0:r.scale,this.config.unsigned=r==null?void 0:r.unsigned}build(e){return new Ij(e,this.config)}}O(Oj,qce,"MySqlDecimalBigIntBuilder");class Ij extends(Qce=Oi,Xce=ne,Qce){constructor(){super(...arguments);O(this,"precision",this.config.precision);O(this,"scale",this.config.scale);O(this,"unsigned",this.config.unsigned);O(this,"mapFromDriverValue",BigInt);O(this,"mapToDriverValue",String)}getSQLType(){let r="";return this.precision!==void 0&&this.scale!==void 0?r+=`decimal(${this.precision},${this.scale})`:this.precision===void 0?r+="decimal":r+=`decimal(${this.precision})`,r=r==="decimal(10,0)"||r==="decimal(10)"?"decimal":r,this.unsigned?`${r} unsigned`:r}}O(Ij,Xce,"MySqlDecimalBigInt");function bve(t,e={}){const{name:r,config:n}=Vt(t,e),s=n==null?void 0:n.mode;return s==="number"?new xj(r,n):s==="bigint"?new Oj(r,n):new pC(r,n)}class EC extends(Zce=wi,Jce=ne,Zce){constructor(e,r){super(e,"number","MySqlDouble"),this.config.precision=r==null?void 0:r.precision,this.config.scale=r==null?void 0:r.scale,this.config.unsigned=r==null?void 0:r.unsigned}build(e){return new gC(e,this.config)}}O(EC,Jce,"MySqlDoubleBuilder");class gC extends(tue=Oi,eue=ne,tue){constructor(){super(...arguments);O(this,"precision",this.config.precision);O(this,"scale",this.config.scale);O(this,"unsigned",this.config.unsigned)}getSQLType(){let r="";return this.precision!==void 0&&this.scale!==void 0?r+=`double(${this.precision},${this.scale})`:this.precision===void 0?r+="double":r+=`double(${this.precision})`,this.unsigned?`${r} unsigned`:r}}O(gC,eue,"MySqlDouble");function Cve(t,e){const{name:r,config:n}=Vt(t,e);return new EC(r,n)}class TC extends(nue=Fn,rue=ne,nue){constructor(e,r){super(e,"string","MySqlEnumColumn"),this.config.enumValues=r}build(e){return new _j(e,this.config)}}O(TC,rue,"MySqlEnumColumnBuilder");class _j extends(iue=on,sue=ne,iue){constructor(){super(...arguments);O(this,"enumValues",this.config.enumValues)}getSQLType(){return`enum(${this.enumValues.map(r=>`'${r}'`).join(",")})`}}O(_j,sue,"MySqlEnumColumn");class Lj extends(aue=Fn,oue=ne,aue){constructor(e,r){super(e,"string","MySqlEnumObjectColumn"),this.config.enumValues=r}build(e){return new Dj(e,this.config)}}O(Lj,oue,"MySqlEnumObjectColumnBuilder");class Dj extends(cue=on,lue=ne,cue){constructor(){super(...arguments);O(this,"enumValues",this.config.enumValues)}getSQLType(){return`enum(${this.enumValues.map(r=>`'${r}'`).join(",")})`}}O(Dj,lue,"MySqlEnumObjectColumn");function xve(t,e){if(typeof t=="string"&&Array.isArray(e)||Array.isArray(t)){const r=typeof t=="string"&&t.length>0?t:"",n=(typeof t=="string"?e:t)??[];if(n.length===0)throw new Error(`You have an empty array for "${r}" enum values`);return new TC(r,n)}if(typeof t=="string"&&typeof e=="object"||typeof t=="object"){const r=typeof t=="object"?"":t,n=typeof t=="object"?Object.values(t):typeof e=="object"?Object.values(e):[];if(n.length===0)throw new Error(`You have an empty array for "${r}" enum values`);return new Lj(r,n)}}class SC extends(due=wi,uue=ne,due){constructor(e,r){super(e,"number","MySqlFloat"),this.config.precision=r==null?void 0:r.precision,this.config.scale=r==null?void 0:r.scale,this.config.unsigned=r==null?void 0:r.unsigned}build(e){return new vC(e,this.config)}}O(SC,uue,"MySqlFloatBuilder");class vC extends(fue=Oi,hue=ne,fue){constructor(){super(...arguments);O(this,"precision",this.config.precision);O(this,"scale",this.config.scale);O(this,"unsigned",this.config.unsigned)}getSQLType(){let r="";return this.precision!==void 0&&this.scale!==void 0?r+=`float(${this.precision},${this.scale})`:this.precision===void 0?r+="float":r+=`float(${this.precision})`,this.unsigned?`${r} unsigned`:r}}O(vC,hue,"MySqlFloat");function wve(t,e){const{name:r,config:n}=Vt(t,e);return new SC(r,n)}class yC extends(pue=wi,mue=ne,pue){constructor(e,r){super(e,"number","MySqlInt"),this.config.unsigned=r?r.unsigned:!1}build(e){return new AC(e,this.config)}}O(yC,mue,"MySqlIntBuilder");class AC extends(gue=Oi,Eue=ne,gue){getSQLType(){return`int${this.config.unsigned?" unsigned":""}`}mapFromDriverValue(e){return typeof e=="string"?Number(e):e}}O(AC,Eue,"MySqlInt");function Ove(t,e){const{name:r,config:n}=Vt(t,e);return new yC(r,n)}class RC extends(Sue=Fn,Tue=ne,Sue){constructor(e){super(e,"json","MySqlJson")}build(e){return new Mj(e,this.config)}}O(RC,Tue,"MySqlJsonBuilder");class Mj extends(yue=on,vue=ne,yue){getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}}O(Mj,vue,"MySqlJson");function Ive(t){return new RC(t??"")}class NC extends(Rue=wi,Aue=ne,Rue){constructor(e,r){super(e,"number","MySqlMediumInt"),this.config.unsigned=r?r.unsigned:!1}build(e){return new bC(e,this.config)}}O(NC,Aue,"MySqlMediumIntBuilder");class bC extends(bue=Oi,Nue=ne,bue){getSQLType(){return`mediumint${this.config.unsigned?" unsigned":""}`}mapFromDriverValue(e){return typeof e=="string"?Number(e):e}}O(bC,Nue,"MySqlMediumInt");function _ve(t,e){const{name:r,config:n}=Vt(t,e);return new NC(r,n)}class CC extends(xue=wi,Cue=ne,xue){constructor(e,r){super(e,"number","MySqlReal"),this.config.precision=r==null?void 0:r.precision,this.config.scale=r==null?void 0:r.scale}build(e){return new Pj(e,this.config)}}O(CC,Cue,"MySqlRealBuilder");class Pj extends(Oue=Oi,wue=ne,Oue){constructor(){super(...arguments);O(this,"precision",this.config.precision);O(this,"scale",this.config.scale)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`real(${this.precision}, ${this.scale})`:this.precision===void 0?"real":`real(${this.precision})`}}O(Pj,wue,"MySqlReal");function Lve(t,e={}){const{name:r,config:n}=Vt(t,e);return new CC(r,n)}class xC extends(_ue=wi,Iue=ne,_ue){constructor(e){super(e,"number","MySqlSerial"),this.config.hasDefault=!0,this.config.autoIncrement=!0}build(e){return new kj(e,this.config)}}O(xC,Iue,"MySqlSerialBuilder");class kj extends(Due=Oi,Lue=ne,Due){getSQLType(){return"serial"}mapFromDriverValue(e){return typeof e=="string"?Number(e):e}}O(kj,Lue,"MySqlSerial");function Dve(t){return new xC(t??"")}class wC extends(Pue=wi,Mue=ne,Pue){constructor(e,r){super(e,"number","MySqlSmallInt"),this.config.unsigned=r?r.unsigned:!1}build(e){return new OC(e,this.config)}}O(wC,Mue,"MySqlSmallIntBuilder");class OC extends(Uue=Oi,kue=ne,Uue){getSQLType(){return`smallint${this.config.unsigned?" unsigned":""}`}mapFromDriverValue(e){return typeof e=="string"?Number(e):e}}O(OC,kue,"MySqlSmallInt");function Mve(t,e){const{name:r,config:n}=Vt(t,e);return new wC(r,n)}class Dl extends(Bue=Fn,jue=ne,Bue){constructor(e,r,n){super(e,"string","MySqlText"),this.config.textType=r,this.config.enumValues=n.enum}build(e){return new Uj(e,this.config)}}O(Dl,jue,"MySqlTextBuilder");class Uj extends(Hue=on,Fue=ne,Hue){constructor(){super(...arguments);O(this,"textType",this.config.textType);O(this,"enumValues",this.config.enumValues)}getSQLType(){return this.textType}}O(Uj,Fue,"MySqlText");function Pve(t,e={}){const{name:r,config:n}=Vt(t,e);return new Dl(r,"text",n)}function kve(t,e={}){const{name:r,config:n}=Vt(t,e);return new Dl(r,"tinytext",n)}function Uve(t,e={}){const{name:r,config:n}=Vt(t,e);return new Dl(r,"mediumtext",n)}function jve(t,e={}){const{name:r,config:n}=Vt(t,e);return new Dl(r,"longtext",n)}class IC extends(Gue=Fn,$ue=ne,Gue){constructor(e,r){super(e,"string","MySqlTime"),this.config.fsp=r==null?void 0:r.fsp}build(e){return new jj(e,this.config)}}O(IC,$ue,"MySqlTimeBuilder");class jj extends(zue=on,Vue=ne,zue){constructor(){super(...arguments);O(this,"fsp",this.config.fsp)}getSQLType(){return`time${this.fsp===void 0?"":`(${this.fsp})`}`}}O(jj,Vue,"MySqlTime");function Bve(t,e){const{name:r,config:n}=Vt(t,e);return new IC(r,n)}class _C extends(Yue=Fn,Wue=ne,Yue){defaultNow(){return this.default(q`(now())`)}onUpdateNow(){return this.config.hasOnUpdateNow=!0,this.config.hasDefault=!0,this}}O(_C,Wue,"MySqlDateColumnBuilder");class LC extends(Kue=on,que=ne,Kue){constructor(){super(...arguments);O(this,"hasOnUpdateNow",this.config.hasOnUpdateNow)}}O(LC,que,"MySqlDateColumn");class Bj extends(Que=_C,Xue=ne,Que){constructor(e,r){super(e,"date","MySqlTimestamp"),this.config.fsp=r==null?void 0:r.fsp}build(e){return new DC(e,this.config)}}O(Bj,Xue,"MySqlTimestampBuilder");class DC extends(Zue=LC,Jue=ne,Zue){constructor(){super(...arguments);O(this,"fsp",this.config.fsp)}getSQLType(){return`timestamp${this.fsp===void 0?"":`(${this.fsp})`}`}mapFromDriverValue(r){return new Date(r+"+0000")}mapToDriverValue(r){return r.toISOString().slice(0,-1).replace("T"," ")}}O(DC,Jue,"MySqlTimestamp");class MC extends(tde=_C,ede=ne,tde){constructor(e,r){super(e,"string","MySqlTimestampString"),this.config.fsp=r==null?void 0:r.fsp}build(e){return new Fj(e,this.config)}}O(MC,ede,"MySqlTimestampStringBuilder");class Fj extends(nde=LC,rde=ne,nde){constructor(){super(...arguments);O(this,"fsp",this.config.fsp)}getSQLType(){return`timestamp${this.fsp===void 0?"":`(${this.fsp})`}`}}O(Fj,rde,"MySqlTimestampString");function Fve(t,e={}){const{name:r,config:n}=Vt(t,e);return(n==null?void 0:n.mode)==="string"?new MC(r,n):new Bj(r,n)}class PC extends(ide=wi,sde=ne,ide){constructor(e,r){super(e,"number","MySqlTinyInt"),this.config.unsigned=r?r.unsigned:!1}build(e){return new kC(e,this.config)}}O(PC,sde,"MySqlTinyIntBuilder");class kC extends(ade=Oi,ode=ne,ade){getSQLType(){return`tinyint${this.config.unsigned?" unsigned":""}`}mapFromDriverValue(e){return typeof e=="string"?Number(e):e}}O(kC,ode,"MySqlTinyInt");function Hve(t,e){const{name:r,config:n}=Vt(t,e);return new PC(r,n)}class Hj extends(cde=Fn,lde=ne,cde){constructor(e,r){super(e,"string","MySqlVarBinary"),this.config.length=r==null?void 0:r.length}build(e){return new $j(e,this.config)}}O(Hj,lde,"MySqlVarBinaryBuilder");class $j extends(dde=on,ude=ne,dde){constructor(){super(...arguments);O(this,"length",this.config.length)}mapFromDriverValue(r){if(typeof r=="string")return r;if(Buffer.isBuffer(r))return r.toString();const n=[];for(const s of r)n.push(s===49?"1":"0");return n.join("")}getSQLType(){return this.length===void 0?"varbinary":`varbinary(${this.length})`}}O($j,ude,"MySqlVarBinary");function $ve(t,e){const{name:r,config:n}=Vt(t,e);return new Hj(r,n)}class UC extends(fde=Fn,hde=ne,fde){constructor(e,r){super(e,"string","MySqlVarChar"),this.config.length=r.length,this.config.enum=r.enum}build(e){return new Gj(e,this.config)}}O(UC,hde,"MySqlVarCharBuilder");class Gj extends(pde=on,mde=ne,pde){constructor(){super(...arguments);O(this,"length",this.config.length);O(this,"enumValues",this.config.enum)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}O(Gj,mde,"MySqlVarChar");function Gve(t,e){const{name:r,config:n}=Vt(t,e);return new UC(r,n)}class jC extends(gde=Fn,Ede=ne,gde){constructor(e){super(e,"number","MySqlYear")}build(e){return new Vj(e,this.config)}}O(jC,Ede,"MySqlYearBuilder");class Vj extends(Sde=on,Tde=ne,Sde){getSQLType(){return"year"}}O(Vj,Tde,"MySqlYear");function Vve(t){return new jC(t??"")}vde=ne;const Ib=class Ib{constructor(e){O(this,"config");this.config={...e}}get(e,r){if(r==="_")return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(r===gr)return{...e[gr],selectedFields:new Proxy(e[gr].selectedFields,this)};if(typeof r=="symbol")return e[r];const s=(ge(e,qr)?e._.selectedFields:ge(e,So)?e[gr].selectedFields:e)[r];if(ge(s,nt.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!s.isSelectionField)return s.sql;const i=s.clone();return i.isSelectionField=!0,i}if(ge(s,nt)){if(this.config.sqlBehavior==="sql")return s;throw new Error(`You tried to reference "${r}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return ge(s,nr)?this.config.alias?new Proxy(s,new Np(new Proxy(s.table,new kS(this.config.alias,this.config.replaceOriginalName??!1)))):s:typeof s!="object"||s===null?s:new Proxy(s,new Ib(this.config))}};O(Ib,vde,"SelectionProxyHandler");let kt=Ib;const sS=class sS extends(Rde=nt,Ade=ne,yde=Symbol.toStringTag,Rde){constructor(r){super(sS.buildEmbeddedCount(r.source,r.filters).queryChunks);O(this,"sql");O(this,yde,"MySqlCountBuilder");O(this,"session");this.params=r,this.mapWith(Number),this.session=r.session,this.sql=sS.buildCount(r.source,r.filters)}static buildEmbeddedCount(r,n){return q`(select count(*) from ${r}${q.raw(" where ").if(n)}${n})`}static buildCount(r,n){return q`select count(*) as count from ${r}${q.raw(" where ").if(n)}${n}`}then(r,n){return Promise.resolve(this.session.count(this.sql)).then(r,n)}catch(r){return this.then(void 0,r)}finally(r){return this.then(n=>(r==null||r(),n),n=>{throw r==null||r(),n})}};O(sS,Ade,"MySqlCountBuilder");let BC=sS;class FC extends(bde=Bn,Nde=ne,bde){constructor(r,n,s,i){super();O(this,"config");O(this,"execute",r=>this.prepare().execute(r));O(this,"createIterator",()=>{const r=this;return async function*(n){yield*r.prepare().iterator(n)}});O(this,"iterator",this.createIterator());this.table=r,this.session=n,this.dialect=s,this.config={table:r,withList:i}}where(r){return this.config.where=r,this}orderBy(...r){if(typeof r[0]=="function"){const n=r[0](new Proxy(this.config.table[We.Symbol.Columns],new kt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(n)?n:[n];this.config.orderBy=s}else{const n=r;this.config.orderBy=n}return this}limit(r){return this.config.limit=r,this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){const{typings:r,...n}=this.dialect.sqlToQuery(this.getSQL());return n}prepare(){return this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning)}$dynamic(){return this}}O(FC,Nde,"MySqlDelete");function zve(){return{bigint:Sve,binary:vve,boolean:yve,char:Ave,customType:vj,date:Rve,datetime:Nve,decimal:bve,double:Cve,mysqlEnum:xve,float:wve,int:Ove,json:Ive,mediumint:_ve,real:Lve,serial:Dve,smallint:Mve,text:Pve,time:Bve,timestamp:Fve,tinyint:Hve,varbinary:$ve,varchar:Gve,year:Vve,longtext:jve,mediumtext:Uve,tinytext:kve}}const HC=Symbol.for("drizzle:MySqlInlineForeignKeys");class Nn extends(Ide=We,Ode=ne,wde=We.Symbol.Columns,xde=HC,Cde=We.Symbol.ExtraConfigBuilder,Ide){constructor(){super(...arguments);O(this,wde);O(this,xde,[]);O(this,Cde)}}O(Nn,Ode,"MySqlTable"),O(Nn,"Symbol",Object.assign({},We.Symbol,{InlineForeignKeys:HC}));function Wve(t,e,r,n,s=t){const i=new Nn(t,n,s),o=typeof e=="function"?e(zve()):e,a=Object.fromEntries(Object.entries(o).map(([c,d])=>{const h=d;h.setName(c);const m=h.build(i);return i[HC].push(...h.buildForeignKeys(m,i)),[c,m]})),l=Object.assign(i,a);return l[We.Symbol.Columns]=a,l[We.Symbol.ExtraConfigColumns]=a,r&&(l[Nn.Symbol.ExtraConfigBuilder]=r),l}const zj=(t,e,r)=>Wve(t,e,r,void 0,t);class rv extends(Lde=So,_de=ne,Lde){}O(rv,_de,"MySqlViewBase"),Dde=ne;class ad{constructor(e){O(this,"casing");this.casing=new QS(e==null?void 0:e.casing),e!=null&&e.escapeParam&&(this.escapeParam=e.escapeParam)}async migrate(e,r,n){const s=n.migrationsTable??"__drizzle_migrations",i=q`
			create table if not exists ${q.identifier(s)} (
				id serial primary key,
				hash text not null,
				created_at bigint
			)
		`;await r.execute(i);const a=(await r.all(q`select id, hash, created_at from ${q.identifier(s)} order by created_at desc limit 1`))[0];await r.transaction(async l=>{for(const c of e)if(!a||Number(a.created_at)<c.folderMillis){for(const d of c.sql)await l.execute(q.raw(d));await l.execute(q`insert into ${q.identifier(s)} (\`hash\`, \`created_at\`) values(${c.hash}, ${c.folderMillis})`)}})}escapeName(e){return`\`${e}\``}escapeParam(e){return"?"}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!(e!=null&&e.length))return;const r=[q`with `];for(const[n,s]of e.entries())r.push(q`${q.identifier(s._.alias)} as (${s._.sql})`),n<e.length-1&&r.push(q`, `);return r.push(q` `),q.join(r)}buildDeleteQuery({table:e,where:r,returning:n,withList:s,limit:i,orderBy:o}){const a=this.buildWithCTE(s),l=n?q` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,c=r?q` where ${r}`:void 0,d=this.buildOrderBy(o),h=this.buildLimit(i);return q`${a}delete from ${e}${c}${d}${h}${l}`}buildUpdateSet(e,r){const n=e[We.Symbol.Columns],s=Object.keys(n).filter(o=>{var a;return r[o]!==void 0||((a=n[o])==null?void 0:a.onUpdateFn)!==void 0}),i=s.length;return q.join(s.flatMap((o,a)=>{const l=n[o],c=r[o]??q.param(l.onUpdateFn(),l),d=q`${q.identifier(this.casing.getColumnCasing(l))} = ${c}`;return a<i-1?[d,q.raw(", ")]:[d]}))}buildUpdateQuery({table:e,set:r,where:n,returning:s,withList:i,limit:o,orderBy:a}){const l=this.buildWithCTE(i),c=this.buildUpdateSet(e,r),d=s?q` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,h=n?q` where ${n}`:void 0,m=this.buildOrderBy(a),f=this.buildLimit(o);return q`${l}update ${e} set ${c}${h}${m}${f}${d}`}buildSelection(e,{isSingleTable:r=!1}={}){const n=e.length,s=e.flatMap(({field:i},o)=>{const a=[];if(ge(i,nt.Aliased)&&i.isSelectionField)a.push(q.identifier(i.fieldAlias));else if(ge(i,nt.Aliased)||ge(i,nt)){const l=ge(i,nt.Aliased)?i.sql:i;r?a.push(new nt(l.queryChunks.map(c=>ge(c,on)?q.identifier(this.casing.getColumnCasing(c)):c))):a.push(l),ge(i,nt.Aliased)&&a.push(q` as ${q.identifier(i.fieldAlias)}`)}else ge(i,nr)&&(r?a.push(q.identifier(this.casing.getColumnCasing(i))):a.push(i));return o<n-1&&a.push(q`, `),a});return q.join(s)}buildLimit(e){return typeof e=="object"||typeof e=="number"&&e>=0?q` limit ${e}`:void 0}buildOrderBy(e){return e&&e.length>0?q` order by ${q.join(e,q`, `)}`:void 0}buildIndex({indexes:e,indexFor:r}){return e&&e.length>0?q` ${q.raw(r)} INDEX (${q.raw(e.join(", "))})`:void 0}buildSelectQuery({withList:e,fields:r,fieldsFlat:n,where:s,having:i,table:o,joins:a,orderBy:l,groupBy:c,limit:d,offset:h,lockingClause:m,distinct:f,setOperators:p,useIndex:E,forceIndex:g,ignoreIndex:T}){const S=n??bi(r);for(const K of S)if(ge(K.field,nr)&&Ls(K.field.table)!==(ge(o,qr)?o._.alias:ge(o,rv)?o[gr].name:ge(o,nt)?void 0:Ls(o))&&!(B=>a==null?void 0:a.some(({alias:X})=>X===(B[We.Symbol.IsAlias]?Ls(B):B[We.Symbol.BaseName])))(K.field.table)){const B=Ls(K.field.table);throw new Error(`Your "${K.path.join("->")}" field references a column "${B}"."${K.field.name}", but the table "${B}" is not part of the query! Did you forget to join it?`)}const v=!a||a.length===0,N=this.buildWithCTE(e),C=f?q` distinct`:void 0,x=this.buildSelection(S,{isSingleTable:v}),A=ge(o,We)&&o[We.Symbol.IsAlias]?q`${q`${q.identifier(o[We.Symbol.Schema]??"")}.`.if(o[We.Symbol.Schema])}${q.identifier(o[We.Symbol.OriginalName])} ${q.identifier(o[We.Symbol.Name])}`:o,b=[];if(a)for(const[K,B]of a.entries()){K===0&&b.push(q` `);const X=B.table,J=B.lateral?q` lateral`:void 0,Z=B.on?q` on ${B.on}`:void 0;if(ge(X,Nn)){const Ee=X[Nn.Symbol.Name],se=X[Nn.Symbol.Schema],ie=X[Nn.Symbol.OriginalName],Te=Ee===ie?void 0:B.alias,ve=this.buildIndex({indexes:B.useIndex,indexFor:"USE"}),_e=this.buildIndex({indexes:B.forceIndex,indexFor:"FORCE"}),fe=this.buildIndex({indexes:B.ignoreIndex,indexFor:"IGNORE"});b.push(q`${q.raw(B.joinType)} join${J} ${se?q`${q.identifier(se)}.`:void 0}${q.identifier(ie)}${ve}${_e}${fe}${Te&&q` ${q.identifier(Te)}`}${Z}`)}else if(ge(X,So)){const Ee=X[gr].name,se=X[gr].schema,ie=X[gr].originalName,Te=Ee===ie?void 0:B.alias;b.push(q`${q.raw(B.joinType)} join${J} ${se?q`${q.identifier(se)}.`:void 0}${q.identifier(ie)}${Te&&q` ${q.identifier(Te)}`}${Z}`)}else b.push(q`${q.raw(B.joinType)} join${J} ${X}${Z}`);K<a.length-1&&b.push(q` `)}const _=q.join(b),U=s?q` where ${s}`:void 0,j=i?q` having ${i}`:void 0,L=this.buildOrderBy(l),P=c&&c.length>0?q` group by ${q.join(c,q`, `)}`:void 0,I=this.buildLimit(d),F=h?q` offset ${h}`:void 0,W=this.buildIndex({indexes:E,indexFor:"USE"}),Y=this.buildIndex({indexes:g,indexFor:"FORCE"}),k=this.buildIndex({indexes:T,indexFor:"IGNORE"});let V;if(m){const{config:K,strength:B}=m;V=q` for ${q.raw(B)}`,K.noWait?V.append(q` nowait`):K.skipLocked&&V.append(q` skip locked`)}const re=q`${N}select${C} ${x} from ${A}${W}${Y}${k}${_}${U}${P}${j}${L}${I}${F}${V}`;return p.length>0?this.buildSetOperations(re,p):re}buildSetOperations(e,r){const[n,...s]=r;if(!n)throw new Error("Cannot pass undefined values to any set operator");return s.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:n}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:n}),s)}buildSetOperationQuery({leftSelect:e,setOperator:{type:r,isAll:n,rightSelect:s,limit:i,orderBy:o,offset:a}}){const l=q`(${e.getSQL()}) `,c=q`(${s.getSQL()})`;let d;if(o&&o.length>0){const p=[];for(const E of o)if(ge(E,on))p.push(q.identifier(this.casing.getColumnCasing(E)));else if(ge(E,nt)){for(let g=0;g<E.queryChunks.length;g++){const T=E.queryChunks[g];ge(T,on)&&(E.queryChunks[g]=q.identifier(this.casing.getColumnCasing(T)))}p.push(q`${E}`)}else p.push(q`${E}`);d=q` order by ${q.join(p,q`, `)} `}const h=typeof i=="object"||typeof i=="number"&&i>=0?q` limit ${i}`:void 0,m=q.raw(`${r} ${n?"all ":""}`),f=a?q` offset ${a}`:void 0;return q`${l}${m}${c}${d}${h}${f}`}buildInsertQuery({table:e,values:r,ignore:n,onConflict:s,select:i}){const o=[],a=e[We.Symbol.Columns],l=Object.entries(a).filter(([p,E])=>!E.shouldDisableInsert()),c=l.map(([,p])=>q.identifier(this.casing.getColumnCasing(p))),d=[];if(i){const p=r;ge(p,nt)?o.push(p):o.push(p.getSQL())}else{const p=r;o.push(q.raw("values "));for(const[E,g]of p.entries()){const T={},S=[];for(const[v,N]of l){const C=g[v];if(C===void 0||ge(C,zs)&&C.value===void 0)if(N.defaultFn!==void 0){const x=N.defaultFn();T[v]=x;const A=ge(x,nt)?x:q.param(x,N);S.push(A)}else if(!N.default&&N.onUpdateFn!==void 0){const x=N.onUpdateFn(),A=ge(x,nt)?x:q.param(x,N);S.push(A)}else S.push(q`default`);else N.defaultFn&&ge(C,zs)&&(T[v]=C.value),S.push(C)}d.push(T),o.push(S),E<p.length-1&&o.push(q`, `)}}const h=q.join(o),m=n?q` ignore`:void 0,f=s?q` on duplicate key ${s}`:void 0;return{sql:q`insert${m} into ${e} ${c} ${h}${f}`,generatedIds:d}}sqlToQuery(e,r){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,invokeSource:r})}buildRelationalQuery({fullSchema:e,schema:r,tableNamesMap:n,table:s,tableConfig:i,queryConfig:o,tableAlias:a,nestedQueryRelation:l,joinOn:c}){let d=[],h,m,f,p;const E=[];if(o===!0)d=Object.entries(i.columns).map(([S,v])=>({dbKey:v.name,tsKey:S,field:Tr(v,a),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{const T=Object.fromEntries(Object.entries(i.columns).map(([A,b])=>[A,Tr(b,a)]));if(o.where){const A=typeof o.where=="function"?o.where(T,WS()):o.where;p=A&&La(A,a)}const S=[];let v=[];if(o.columns){let A=!1;for(const[b,_]of Object.entries(o.columns))_!==void 0&&b in i.columns&&(!A&&_===!0&&(A=!0),v.push(b));v.length>0&&(v=A?v.filter(b=>{var _;return((_=o.columns)==null?void 0:_[b])===!0}):Object.keys(i.columns).filter(b=>!v.includes(b)))}else v=Object.keys(i.columns);for(const A of v){const b=i.columns[A];S.push({tsKey:A,value:b})}let N=[];o.with&&(N=Object.entries(o.with).filter(A=>!!A[1]).map(([A,b])=>({tsKey:A,queryConfig:b,relation:i.relations[A]})));let C;if(o.extras){C=typeof o.extras=="function"?o.extras(T,{sql:q}):o.extras;for(const[A,b]of Object.entries(C))S.push({tsKey:A,value:bp(b,a)})}for(const{tsKey:A,value:b}of S)d.push({dbKey:ge(b,nt.Aliased)?b.fieldAlias:i.columns[A].name,tsKey:A,field:ge(b,nr)?Tr(b,a):b,relationTableTsKey:void 0,isJson:!1,selection:[]});let x=typeof o.orderBy=="function"?o.orderBy(T,YS()):o.orderBy??[];Array.isArray(x)||(x=[x]),f=x.map(A=>ge(A,nr)?Tr(A,a):La(A,a)),h=o.limit,m=o.offset;for(const{tsKey:A,queryConfig:b,relation:_}of N){const U=KS(r,n,_),j=Lc(_.referencedTable),L=n[j],P=`${a}_${A}`,I=Da(...U.fields.map((Y,k)=>xp(Tr(U.references[k],P),Tr(Y,a)))),F=this.buildRelationalQuery({fullSchema:e,schema:r,tableNamesMap:n,table:e[L],tableConfig:r[L],queryConfig:ge(_,Ma)?b===!0?{limit:1}:{...b,limit:1}:b,tableAlias:P,joinOn:I,nestedQueryRelation:_}),W=q`${q.identifier(P)}.${q.identifier("data")}`.as(A);E.push({on:q`true`,table:new qr(F.sql,{},P),alias:P,joinType:"left",lateral:!0}),d.push({dbKey:A,tsKey:A,field:W,relationTableTsKey:L,isJson:!0,selection:F.selection})}}if(d.length===0)throw new id({message:`No fields selected for table "${i.tsName}" ("${a}")`});let g;if(p=Da(c,p),l){let T=q`json_array(${q.join(d.map(({field:N,tsKey:C,isJson:x})=>x?q`${q.identifier(`${a}_${C}`)}.${q.identifier("data")}`:ge(N,nt.Aliased)?N.sql:N),q`, `)})`;ge(l,Dc)&&(T=q`coalesce(json_arrayagg(${T}), json_array())`);const S=[{dbKey:"data",tsKey:"data",field:T.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:d}];h!==void 0||m!==void 0||((f==null?void 0:f.length)??0)>0?(g=this.buildSelectQuery({table:vo(s,a),fields:{},fieldsFlat:[{path:[],field:q.raw("*")},...((f==null?void 0:f.length)??0)>0?[{path:[],field:q`row_number() over (order by ${q.join(f,q`, `)})`}]:[]],where:p,limit:h,offset:m,setOperators:[]}),p=void 0,h=void 0,m=void 0,f=void 0):g=vo(s,a),g=this.buildSelectQuery({table:ge(g,Nn)?g:new qr(g,{},a),fields:{},fieldsFlat:S.map(({field:N})=>({path:[],field:ge(N,nr)?Tr(N,a):N})),joins:E,where:p,limit:h,offset:m,orderBy:f,setOperators:[]})}else g=this.buildSelectQuery({table:vo(s,a),fields:{},fieldsFlat:d.map(({field:T})=>({path:[],field:ge(T,nr)?Tr(T,a):T})),joins:E,where:p,limit:h,offset:m,orderBy:f,setOperators:[]});return{tableTsKey:i.tsName,sql:g,selection:d}}buildRelationalQueryWithoutLateralSubqueries({fullSchema:e,schema:r,tableNamesMap:n,table:s,tableConfig:i,queryConfig:o,tableAlias:a,nestedQueryRelation:l,joinOn:c}){let d=[],h,m,f=[],p;if(o===!0)d=Object.entries(i.columns).map(([T,S])=>({dbKey:S.name,tsKey:T,field:Tr(S,a),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{const g=Object.fromEntries(Object.entries(i.columns).map(([x,A])=>[x,Tr(A,a)]));if(o.where){const x=typeof o.where=="function"?o.where(g,WS()):o.where;p=x&&La(x,a)}const T=[];let S=[];if(o.columns){let x=!1;for(const[A,b]of Object.entries(o.columns))b!==void 0&&A in i.columns&&(!x&&b===!0&&(x=!0),S.push(A));S.length>0&&(S=x?S.filter(A=>{var b;return((b=o.columns)==null?void 0:b[A])===!0}):Object.keys(i.columns).filter(A=>!S.includes(A)))}else S=Object.keys(i.columns);for(const x of S){const A=i.columns[x];T.push({tsKey:x,value:A})}let v=[];o.with&&(v=Object.entries(o.with).filter(x=>!!x[1]).map(([x,A])=>({tsKey:x,queryConfig:A,relation:i.relations[x]})));let N;if(o.extras){N=typeof o.extras=="function"?o.extras(g,{sql:q}):o.extras;for(const[x,A]of Object.entries(N))T.push({tsKey:x,value:bp(A,a)})}for(const{tsKey:x,value:A}of T)d.push({dbKey:ge(A,nt.Aliased)?A.fieldAlias:i.columns[x].name,tsKey:x,field:ge(A,nr)?Tr(A,a):A,relationTableTsKey:void 0,isJson:!1,selection:[]});let C=typeof o.orderBy=="function"?o.orderBy(g,YS()):o.orderBy??[];Array.isArray(C)||(C=[C]),f=C.map(x=>ge(x,nr)?Tr(x,a):La(x,a)),h=o.limit,m=o.offset;for(const{tsKey:x,queryConfig:A,relation:b}of v){const _=KS(r,n,b),U=Lc(b.referencedTable),j=n[U],L=`${a}_${x}`,P=Da(..._.fields.map((Y,k)=>xp(Tr(_.references[k],L),Tr(Y,a)))),I=this.buildRelationalQueryWithoutLateralSubqueries({fullSchema:e,schema:r,tableNamesMap:n,table:e[j],tableConfig:r[j],queryConfig:ge(b,Ma)?A===!0?{limit:1}:{...A,limit:1}:A,tableAlias:L,joinOn:P,nestedQueryRelation:b});let F=q`(${I.sql})`;ge(b,Dc)&&(F=q`coalesce(${F}, json_array())`);const W=F.as(x);d.push({dbKey:x,tsKey:x,field:W,relationTableTsKey:j,isJson:!0,selection:I.selection})}}if(d.length===0)throw new id({message:`No fields selected for table "${i.tsName}" ("${a}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`});let E;if(p=Da(c,p),l){let g=q`json_array(${q.join(d.map(({field:v})=>ge(v,on)?q.identifier(this.casing.getColumnCasing(v)):ge(v,nt.Aliased)?v.sql:v),q`, `)})`;ge(l,Dc)&&(g=q`json_arrayagg(${g})`);const T=[{dbKey:"data",tsKey:"data",field:g,isJson:!0,relationTableTsKey:i.tsName,selection:d}];h!==void 0||m!==void 0||f.length>0?(E=this.buildSelectQuery({table:vo(s,a),fields:{},fieldsFlat:[{path:[],field:q.raw("*")},...f.length>0?[{path:[],field:q`row_number() over (order by ${q.join(f,q`, `)})`}]:[]],where:p,limit:h,offset:m,setOperators:[]}),p=void 0,h=void 0,m=void 0,f=void 0):E=vo(s,a),E=this.buildSelectQuery({table:ge(E,Nn)?E:new qr(E,{},a),fields:{},fieldsFlat:T.map(({field:v})=>({path:[],field:ge(v,nr)?Tr(v,a):v})),where:p,limit:h,offset:m,orderBy:f,setOperators:[]})}else E=this.buildSelectQuery({table:vo(s,a),fields:{},fieldsFlat:d.map(({field:g})=>({path:[],field:ge(g,nr)?Tr(g,a):g})),where:p,limit:h,offset:m,orderBy:f,setOperators:[]});return{tableTsKey:i.tsName,sql:E,selection:d}}}O(ad,Dde,"MySqlDialect"),Mde=ne;class nv{getSelectedFields(){return this._.selectedFields}}O(nv,Mde,"TypedQueryBuilder");let Yve=(Pde=ne,l5=class{constructor(e,r,n){O(this,"config");this.config={name:e,columns:r,unique:n}}using(e){return this.config.using=e,this}algorythm(e){return this.config.algorythm=e,this}lock(e){return this.config.lock=e,this}build(e){return new qve(this.config,e)}},O(l5,Pde,"MySqlIndexBuilder"),l5),qve=(kde=ne,c5=class{constructor(e,r){O(this,"config");this.config={...e,table:r}}},O(c5,kde,"MySqlIndex"),c5),Wj=(Ude=ne,u5=class{constructor(e,r){O(this,"columns");O(this,"name");this.columns=e,this.name=r}build(e){return new Kve(e,this.columns,this.name)}},O(u5,Ude,"MySqlPrimaryKeyBuilder"),u5),Kve=(jde=ne,d5=class{constructor(e,r,n){O(this,"columns");O(this,"name");this.table=e,this.columns=r,this.name=n}getName(){return this.name??`${this.table[Nn.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}},O(d5,jde,"MySqlPrimaryKey"),d5);const $C=Symbol.for("drizzle:MySqlViewConfig");function GC(t){const e=Object.values(t[Nn.Symbol.Columns]),r=[],n=[],s=[],i=[],o=Object.values(t[Nn.Symbol.InlineForeignKeys]),a=t[We.Symbol.Name],l=t[We.Symbol.Schema],c=t[We.Symbol.BaseName],d=t[Nn.Symbol.ExtraConfigBuilder];if(d!==void 0){const h=d(t[Nn.Symbol.Columns]),m=Array.isArray(h)?h.flat(1):Object.values(h);for(const f of Object.values(m))ge(f,Yve)?r.push(f.build(t)):ge(f,mve)?n.push(f.build(t)):ge(f,gve)?i.push(f.build(t)):ge(f,Wj)?s.push(f.build(t)):ge(f,dj)&&o.push(f.build(t))}return{columns:e,indexes:r,foreignKeys:o,checks:n,primaryKeys:s,uniqueConstraints:i,name:a,schema:l,baseName:c}}function Xve(t){return{...t[gr],...t[$C]}}function Vh(t){return t.map(e=>typeof e=="object"?e.config.name:e)}function zh(t){return Array.isArray(t)?t:[t]}Bde=ne;class Ml{constructor(e){O(this,"fields");O(this,"session");O(this,"dialect");O(this,"withList",[]);O(this,"distinct");this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}from(e,r){const n=!!this.fields;let s;this.fields?s=this.fields:ge(e,qr)?s=Object.fromEntries(Object.keys(e._.selectedFields).map(l=>[l,e[l]])):ge(e,rv)?s=e[gr].selectedFields:ge(e,nt)?s={}:s=od(e);let i=[],o=[],a=[];return ge(e,Nn)&&r&&typeof r!="string"&&(r.useIndex&&(i=Vh(zh(r.useIndex))),r.forceIndex&&(o=Vh(zh(r.forceIndex))),r.ignoreIndex&&(a=Vh(zh(r.ignoreIndex)))),new VC({table:e,fields:s,isPartialSelect:n,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct,useIndex:i,forceIndex:o,ignoreIndex:a})}}O(Ml,Bde,"MySqlSelectBuilder");class Yj extends(Hde=nv,Fde=ne,Hde){constructor({table:r,fields:n,isPartialSelect:s,session:i,dialect:o,withList:a,distinct:l,useIndex:c,forceIndex:d,ignoreIndex:h}){super();O(this,"_");O(this,"config");O(this,"joinsNotNullableMap");O(this,"tableName");O(this,"isPartialSelect");O(this,"session");O(this,"dialect");O(this,"leftJoin",this.createJoin("left",!1));O(this,"leftJoinLateral",this.createJoin("left",!0));O(this,"rightJoin",this.createJoin("right",!1));O(this,"innerJoin",this.createJoin("inner",!1));O(this,"innerJoinLateral",this.createJoin("inner",!0));O(this,"crossJoin",this.createJoin("cross",!1));O(this,"crossJoinLateral",this.createJoin("cross",!0));O(this,"union",this.createSetOperator("union",!1));O(this,"unionAll",this.createSetOperator("union",!0));O(this,"intersect",this.createSetOperator("intersect",!1));O(this,"intersectAll",this.createSetOperator("intersect",!0));O(this,"except",this.createSetOperator("except",!1));O(this,"exceptAll",this.createSetOperator("except",!0));this.config={withList:a,table:r,fields:{...n},distinct:l,setOperators:[],useIndex:c,forceIndex:d,ignoreIndex:h},this.isPartialSelect=s,this.session=i,this.dialect=o,this._={selectedFields:n},this.tableName=yo(r),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}createJoin(r,n){return(s,i,o)=>{var E;const a=r==="cross";let l=a?void 0:i;const c=a?i:o,d=this.tableName,h=yo(s);if(typeof h=="string"&&((E=this.config.joins)!=null&&E.some(g=>g.alias===h)))throw new Error(`Alias "${h}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof d=="string"&&(this.config.fields={[d]:this.config.fields}),typeof h=="string"&&!ge(s,nt))){const g=ge(s,qr)?s._.selectedFields:ge(s,So)?s[gr].selectedFields:s[We.Symbol.Columns];this.config.fields[h]=g}typeof l=="function"&&(l=l(new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]);let m=[],f=[],p=[];if(ge(s,Nn)&&c&&typeof c!="string"&&(c.useIndex&&(m=Vh(zh(c.useIndex))),c.forceIndex&&(f=Vh(zh(c.forceIndex))),c.ignoreIndex&&(p=Vh(zh(c.ignoreIndex)))),this.config.joins.push({on:l,table:s,joinType:r,alias:h,useIndex:m,forceIndex:f,ignoreIndex:p,lateral:n}),typeof h=="string")switch(r){case"left":{this.joinsNotNullableMap[h]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([g])=>[g,!1])),this.joinsNotNullableMap[h]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[h]=!0;break}}return this}}createSetOperator(r,n){return s=>{const i=typeof s=="function"?s(Qve()):s;if(!Ll(this.getSelectedFields(),i.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:r,isAll:n,rightSelect:i}),this}}addSetOperators(r){return this.config.setOperators.push(...r),this}where(r){return typeof r=="function"&&(r=r(new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=r,this}having(r){return typeof r=="function"&&(r=r(new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=r,this}groupBy(...r){if(typeof r[0]=="function"){const n=r[0](new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(n)?n:[n]}else this.config.groupBy=r;return this}orderBy(...r){if(typeof r[0]=="function"){const n=r[0](new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(n)?n:[n];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=s:this.config.orderBy=s}else{const n=r;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}return this}limit(r){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=r:this.config.limit=r,this}offset(r){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=r:this.config.offset=r,this}for(r,n={}){return this.config.lockingClause={strength:r,config:n},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){const{typings:r,...n}=this.dialect.sqlToQuery(this.getSQL());return n}as(r){return new Proxy(new qr(this.getSQL(),this.config.fields,r),new kt({alias:r,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new kt({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}O(Yj,Fde,"MySqlSelectQueryBuilder");class VC extends(Gde=Yj,$de=ne,Gde){constructor(){super(...arguments);O(this,"execute",r=>this.prepare().execute(r));O(this,"createIterator",()=>{const r=this;return async function*(n){yield*r.prepare().iterator(n)}});O(this,"iterator",this.createIterator())}prepare(){if(!this.session)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");const r=bi(this.config.fields),n=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),r);return n.joinsNotNullableMap=this.joinsNotNullableMap,n}}O(VC,$de,"MySqlSelect"),d1(VC,[Bn]);function Wh(t,e){return(r,n,...s)=>{const i=[n,...s].map(o=>({type:t,isAll:e,rightSelect:o}));for(const o of i)if(!Ll(r.getSelectedFields(),o.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(i)}}const Qve=()=>({union:Jve,unionAll:Zve,intersect:e0e,intersectAll:t0e,except:r0e,exceptAll:n0e}),Jve=Wh("union",!1),Zve=Wh("union",!0),e0e=Wh("intersect",!1),t0e=Wh("intersect",!0),r0e=Wh("except",!1),n0e=Wh("except",!0);let zC=(Vde=ne,h5=class{constructor(e){O(this,"dialect");O(this,"dialectConfig");O(this,"$with",(e,r)=>{const n=this;return{as:i=>(typeof i=="function"&&(i=i(n)),new Proxy(new rd(i.getSQL(),r??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new kt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});this.dialect=ge(e,ad)?e:void 0,this.dialectConfig=ge(e,ad)?void 0:e}with(...e){const r=this;function n(i){return new Ml({fields:i??void 0,session:void 0,dialect:r.getDialect(),withList:e})}function s(i){return new Ml({fields:i??void 0,session:void 0,dialect:r.getDialect(),withList:e,distinct:!0})}return{select:n,selectDistinct:s}}select(e){return new Ml({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new Ml({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}getDialect(){return this.dialect||(this.dialect=new ad(this.dialectConfig)),this.dialect}},O(h5,Vde,"MySqlQueryBuilder"),h5);zde=ne;class qj{constructor(e,r,n){O(this,"shouldIgnore",!1);this.table=e,this.session=r,this.dialect=n}ignore(){return this.shouldIgnore=!0,this}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");const r=e.map(n=>{const s={},i=this.table[We.Symbol.Columns];for(const o of Object.keys(n)){const a=n[o];s[o]=ge(a,nt)?a:new zs(a,i[o])}return s});return new WC(this.table,r,this.shouldIgnore,this.session,this.dialect)}select(e){const r=typeof e=="function"?e(new zC):e;if(!ge(r,nt)&&!Ll(this.table[Rp],r._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new WC(this.table,r,this.shouldIgnore,this.session,this.dialect,!0)}}O(qj,zde,"MySqlInsertBuilder");class WC extends(Yde=Bn,Wde=ne,Yde){constructor(r,n,s,i,o,a){super();O(this,"config");O(this,"execute",r=>this.prepare().execute(r));O(this,"createIterator",()=>{const r=this;return async function*(n){yield*r.prepare().iterator(n)}});O(this,"iterator",this.createIterator());this.session=i,this.dialect=o,this.config={table:r,values:n,select:a,ignore:s}}onDuplicateKeyUpdate(r){const n=this.dialect.buildUpdateSet(this.config.table,Bh(this.config.table,r.set));return this.config.onConflict=q`update ${n}`,this}$returningId(){const r=[];for(const[n,s]of Object.entries(this.config.table[We.Symbol.Columns]))s.primary&&r.push({field:s,path:[n]});return this.config.returning=r,this}getSQL(){return this.dialect.buildInsertQuery(this.config).sql}toSQL(){const{typings:r,...n}=this.dialect.sqlToQuery(this.getSQL());return n}prepare(){const{sql:r,generatedIds:n}=this.dialect.buildInsertQuery(this.config);return this.session.prepareQuery(this.dialect.sqlToQuery(r),void 0,void 0,n,this.config.returning)}$dynamic(){return this}}O(WC,Wde,"MySqlInsert"),qde=ne;class YC{constructor(e,r,n,s){this.table=e,this.session=r,this.dialect=n,this.withList=s}set(e){return new Kj(this.table,Bh(this.table,e),this.session,this.dialect,this.withList)}}O(YC,qde,"MySqlUpdateBuilder");class Kj extends(Xde=Bn,Kde=ne,Xde){constructor(r,n,s,i,o){super();O(this,"config");O(this,"execute",r=>this.prepare().execute(r));O(this,"createIterator",()=>{const r=this;return async function*(n){yield*r.prepare().iterator(n)}});O(this,"iterator",this.createIterator());this.session=s,this.dialect=i,this.config={set:n,table:r,withList:o}}where(r){return this.config.where=r,this}orderBy(...r){if(typeof r[0]=="function"){const n=r[0](new Proxy(this.config.table[We.Symbol.Columns],new kt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(n)?n:[n];this.config.orderBy=s}else{const n=r;this.config.orderBy=n}return this}limit(r){return this.config.limit=r,this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){const{typings:r,...n}=this.dialect.sqlToQuery(this.getSQL());return n}prepare(){return this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning)}$dynamic(){return this}}O(Kj,Kde,"MySqlUpdate");let s0e=(Qde=ne,f5=class{constructor(e,r,n,s,i,o,a,l){this.fullSchema=e,this.schema=r,this.tableNamesMap=n,this.table=s,this.tableConfig=i,this.dialect=o,this.session=a,this.mode=l}findMany(e){return new qC(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many",this.mode)}findFirst(e){return new qC(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first",this.mode)}},O(f5,Qde,"MySqlRelationalQueryBuilder"),f5);class qC extends(Zde=Bn,Jde=ne,Zde){constructor(e,r,n,s,i,o,a,l,c,d){super(),this.fullSchema=e,this.schema=r,this.tableNamesMap=n,this.table=s,this.tableConfig=i,this.dialect=o,this.session=a,this.config=l,this.queryMode=c,this.mode=d}prepare(){const{query:e,builtQuery:r}=this._toSQL();return this.session.prepareQuery(r,void 0,n=>{const s=n.map(i=>wp(this.schema,this.tableConfig,i,e.selection));return this.queryMode==="first"?s[0]:s})}_getQuery(){return this.mode==="planetscale"?this.dialect.buildRelationalQueryWithoutLateralSubqueries({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}):this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}_toSQL(){const e=this._getQuery();return{builtQuery:this.dialect.sqlToQuery(e.sql),query:e}}getSQL(){return this._getQuery().sql}toSQL(){return this._toSQL().builtQuery}execute(){return this.prepare().execute()}}O(qC,Jde,"MySqlRelationalQuery"),ehe=ne;class Xj{constructor(e,r,n,s){O(this,"query");O(this,"$with",(e,r)=>{const n=this;return{as:i=>(typeof i=="function"&&(i=i(new zC(n.dialect))),new Proxy(new rd(i.getSQL(),r??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new kt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});if(this.dialect=e,this.session=r,this.mode=s,this._=n?{schema:n.schema,fullSchema:n.fullSchema,tableNamesMap:n.tableNamesMap}:{schema:void 0,fullSchema:{},tableNamesMap:{}},this.query={},this._.schema)for(const[i,o]of Object.entries(this._.schema))this.query[i]=new s0e(n.fullSchema,this._.schema,this._.tableNamesMap,n.fullSchema[i],o,e,r,this.mode)}$count(e,r){return new BC({source:e,filters:r,session:this.session})}with(...e){const r=this;function n(a){return new Ml({fields:a??void 0,session:r.session,dialect:r.dialect,withList:e})}function s(a){return new Ml({fields:a??void 0,session:r.session,dialect:r.dialect,withList:e,distinct:!0})}function i(a){return new YC(a,r.session,r.dialect,e)}function o(a){return new FC(a,r.session,r.dialect,e)}return{select:n,selectDistinct:s,update:i,delete:o}}select(e){return new Ml({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new Ml({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}update(e){return new YC(e,this.session,this.dialect)}insert(e){return new qj(e,this.session,this.dialect)}delete(e){return new FC(e,this.session,this.dialect)}execute(e){return this.session.execute(typeof e=="string"?q.raw(e):e.getSQL())}transaction(e,r){return this.session.transaction(e,r)}}O(Xj,ehe,"MySqlDatabase");let Qj=(the=ne,m5=class{constructor(e,r){O(this,"config",{});this.name=e,this.schema=r}algorithm(e){return this.config.algorithm=e,this}sqlSecurity(e){return this.config.sqlSecurity=e,this}withCheckOption(e){return this.config.withCheckOption=e??"cascaded",this}},O(m5,the,"MySqlViewBuilder"),m5),i0e=(p5=class extends(nhe=Qj,rhe=ne,nhe){as(e){typeof e=="function"&&(e=e(new zC));const r=new kt({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(e.getSelectedFields(),r);return new Proxy(new kp({mysqlConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:n,query:e.getSQL().inlineParams()}}),r)}},O(p5,rhe,"MySqlViewBuilder"),p5),o0e=(E5=class extends(ihe=Qj,she=ne,ihe){constructor(r,n,s){super(r,s);O(this,"columns");this.columns=od(zj(r,n))}existing(){return new Proxy(new kp({mysqlConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new kt({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(r){return new Proxy(new kp({mysqlConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:r.inlineParams()}}),new kt({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},O(E5,she,"MySqlManualViewBuilder"),E5);class kp extends(lhe=rv,ahe=ne,ohe=$C,lhe){constructor({mysqlConfig:r,config:n}){super(n);O(this,ohe);this[$C]=r}}O(kp,ahe,"MySqlView");function a0e(t,e,r){return e?new o0e(t,e,r):new i0e(t,r)}function l0e(t,e){return a0e(t,e,void 0)}che=ne;class Jj{constructor(){O(this,"joinsNotNullableMap")}}O(Jj,che,"MySqlPreparedQuery"),uhe=ne;class Zj{constructor(e){this.dialect=e}execute(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0).execute()}async count(e){const r=await this.execute(e);return Number(r[0][0].count)}getSetTransactionSQL(e){const r=[];return e.isolationLevel&&r.push(`isolation level ${e.isolationLevel}`),r.length?q`set transaction ${q.raw(r.join(" "))}`:void 0}getStartTransactionSQL(e){const r=[];return e.withConsistentSnapshot&&r.push("with consistent snapshot"),e.accessMode&&r.push(e.accessMode),r.length?q`start transaction ${q.raw(r.join(" "))}`:void 0}}O(Zj,uhe,"MySqlSession");class e9 extends(hhe=Zj,dhe=ne,hhe){constructor(r,n,s,i){super(n);O(this,"logger");this.client=r,this.schema=s,this.logger=i.logger??new jS}prepareQuery(r,n,s,i,o){return new c0e(this.client,r.sql,r.params,this.logger,n,s,i,o)}all(r){const n=this.dialect.sqlToQuery(r);return this.logger.logQuery(n.sql,n.params),this.client(n.sql,n.params,"all").then(({rows:s})=>s)}async transaction(r,n){throw new Error("Transactions are not supported by the MySql Proxy driver")}}O(e9,dhe,"MySqlRemoteSession");let c0e=(g5=class extends(mhe=Jj,fhe=ne,mhe){constructor(e,r,n,s,i,o,a,l){super(),this.client=e,this.queryString=r,this.params=n,this.logger=s,this.fields=i,this.customResultMapper=o,this.generatedIds=a,this.returningIds=l}async execute(e={}){const r=sd(this.params,e),{fields:n,client:s,queryString:i,logger:o,joinsNotNullableMap:a,customResultMapper:l,returningIds:c,generatedIds:d}=this;if(o.logQuery(i,r),!n&&!l){const{rows:m}=await s(i,r,"execute"),f=m[0].insertId,p=m[0].affectedRows;if(c){const E=[];let g=0;for(let T=f;T<f+p;T++){for(const S of c){const v=c[0].path[0];ge(S.field,nr)&&(S.field.primary&&S.field.autoIncrement&&E.push({[v]:T}),S.field.defaultFn&&d&&E.push({[v]:d[g][v]}))}g++}return E}return m}const{rows:h}=await s(i,r,"all");return l?l(h):h.map(m=>Cp(n,m,a))}iterator(e={}){throw new Error("Streaming is not supported by the MySql Proxy driver")}},O(g5,fhe,"MySqlProxyPreparedQuery"),g5);class t9 extends(Ehe=Xj,phe=ne,Ehe){}O(t9,phe,"MySqlRemoteDatabase");function r9(t,e={},r=()=>new ad({casing:e.casing})){const n=r();let s;e.logger===!0?s=new US:e.logger!==!1&&(s=e.logger);let i;if(e.schema){const a=qS(e.schema,XS);i={fullSchema:e.schema,schema:a.tables,tableNamesMap:a.tableNamesMap}}const o=new e9(t,n,i,{logger:s});return new t9(n,o,i,"default")}const ld=yp(t=>({error:null,showBoundary:e=>{t({error:e})}}));class cd extends Error{constructor(r,n,s){super(n);O(this,"query");this.name=`${r}Error`,this.query=s}}let u0e=class{constructor(e){O(this,"value");O(this,"next");this.value=e}};class d0e{constructor(){Yb(this,po);Yb(this,xh);Yb(this,wh);this.clear()}enqueue(e){const r=new u0e(e);_a(this,po)?(_a(this,xh).next=r,Ic(this,xh,r)):(Ic(this,po,r),Ic(this,xh,r)),j5(this,wh)._++}dequeue(){const e=_a(this,po);if(e)return Ic(this,po,_a(this,po).next),j5(this,wh)._--,e.value}peek(){if(_a(this,po))return _a(this,po).value}clear(){Ic(this,po,void 0),Ic(this,xh,void 0),Ic(this,wh,0)}get size(){return _a(this,wh)}*[Symbol.iterator](){let e=_a(this,po);for(;e;)yield e.value,e=e.next}*drain(){for(;_a(this,po);)yield this.dequeue()}}po=new WeakMap,xh=new WeakMap,wh=new WeakMap;function h0e(t){n9(t);const e=new d0e;let r=0;const n=()=>{r<t&&e.size>0&&(e.dequeue()(),r++)},s=()=>{r--,n()},i=async(l,c,d)=>{const h=(async()=>l(...d))();c(h);try{await h}catch{}s()},o=(l,c,d)=>{new Promise(h=>{e.enqueue(h)}).then(i.bind(void 0,l,c,d)),(async()=>(await Promise.resolve(),r<t&&n()))()},a=(l,...c)=>new Promise(d=>{o(l,d,c)});return Object.defineProperties(a,{activeCount:{get:()=>r},pendingCount:{get:()=>e.size},clearQueue:{value(){e.clear()}},concurrency:{get:()=>t,set(l){n9(l),t=l,queueMicrotask(()=>{for(;r<t&&e.size>0;)n()})}}}),a}function n9(t){if(!((Number.isInteger(t)||t===Number.POSITIVE_INFINITY)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}const{useDebugValue:f0e}=Fe,{useSyncExternalStoreWithSelector:m0e}=yU,p0e=t=>t;function E0e(t,e=p0e,r){const n=m0e(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return f0e(n),n}const g0e=(t,e)=>{const r=EU(t),n=(s,i=e)=>E0e(r,s,i);return Object.assign(n,r),n},KC=(t,e)=>g0e;var Ao={schema:"string?",table:"string?",name:"string"};function s9(t,e){for(const[r,n]of Object.entries(e)){if(n===void 0)continue;const s=t[r];if(typeof n=="object"&&n.CONTAINS!==void 0){if(!Array.isArray(s)||!s.find(i=>Yh(i,n.CONTAINS)))return!1}else if(!Yh(s,n))return!1}return!0}function Up(t,e){return t.filter(r=>s9(r,e))}function sv(t){return`${t.schema??""}:${t.table??""}:${t.name}:${t.entityType}`}function T0e(t,e){const r=sv(e);return t.find(s=>sv(s)===r)}var S0e=(t,e,r)=>{let n=r?Object.fromEntries(Object.keys(t[r]).filter(s=>!Ao[s]||!Ao[s].endsWith("?")).map(s=>[s,null])):void 0;return(s,i)=>{const o=Object.fromEntries(Object.entries(s).filter(([h,m])=>m!==void 0)),a=r??o.entityType,c={...n??Object.fromEntries(Object.keys(t[a]).map(h=>[h,null])),...o,entityType:a},d=i?e.collection.find(h=>{if(h.entityType!==c.entityType)return!1;for(const m of i)if(m in c&&!Yh(c[m],h[m]))return!1;return!0}):T0e(e.collection,c);return d?{status:"CONFLICT",data:d}:(e.collection.push(c),{status:"OK",data:c})}},v0e=(t,e)=>r=>{const n=e?Up(t.collection,{entityType:e}):t.collection;return r?Up(n,r):n},y0e=(t,e)=>r=>{const n=e?Up(t.collection,{entityType:e}):t.collection;return r?Up(n,r)[0]??null:n[0]??null},A0e=(t,e)=>({set:r,where:n})=>{const s=e?{...n??{},entityType:e}:n,i=s?Up(t.collection,s):t.collection,o=Object.entries(r);for(const a of i)for(const[l,c]of o){if(!(l in a))continue;const d=a[l];a[l]=typeof c=="function"?Array.isArray(d)?d.map(c):c(d):c}return i},R0e=(t,e)=>r=>{const n=[],s=[],i=e?{...r??{},entityType:e}:r;return i?(t.collection.forEach(o=>{s9(o,i)?s.push(o):n.push(o)}),t.collection=n,s):(t.collection=n,s)};function XC(t,e,r=!1){if(typeof t!="object"||t===null)return!1;for(const n of Array.from(new Set([...Object.keys(t),...Object.keys(e)])))if(!(!r&&n==="entityType")){if(!e[n])return!1;if(e[n]==="string[]"){if(!Array.isArray(t[n])||!t[n].every(s=>typeof s=="string"))return!1}else if(typeof e[n]=="string"){const s=e[n].endsWith("?");if(t[n]===null&&!s||t[n]!==null&&typeof t[n]!==l9(e[n]))return!1}else if(Array.isArray(e[n])){if(typeof e[n][0]=="string"){if(!e[n].find(s=>s===t[n]))return!1}else if(!Array.isArray(t[n])||!t[n].every(s=>XC(s,e[n][0]),!0))return!1}else if(t[n]!==null&&!XC(t[n],e[n],!0))return!1}return!0}var N0e=(t,e)=>r=>{if(typeof r!="object"||r===null)return!1;const n=e??r.entityType;if(typeof n!="string"||r.entityType!==n)return!1;const s=t[n];return s?XC(r,s):!1};function i9({entities:t},e,r,n){const s=Object.entries(t);return Object.fromEntries(s.map(([i,o])=>[i,{insert:S0e(r?n:t,e,r?void 0:i),list:v0e(e,r?void 0:i),one:y0e(e,r?void 0:i),update:A0e(e,r?void 0:i),delete:R0e(e,r?void 0:i),validate:N0e(r?n:t,r?void 0:i)}]))}var o9={entityType:!0,name:!0,schema:!0,table:!0};function Yh(t,e){return typeof t!=typeof e?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:t.every((r,n)=>Yh(r,e[n])):typeof t=="object"?t===e?!0:(t===null||e===null)&&t!==e?!1:Array.from(new Set([...Object.keys(t),...Object.keys(e)])).every(n=>Yh(t[n],e[n])):t===e}function a9(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>!o9[e]))}function QC(t){const e={};for(const r of Object.keys(Ao))t[r]===void 0||t[r]===null||(e[r]=t[r]);return e}function jp(t,e,r,n){r=r??"entities",n=n??"all";const s=t.entities.list(r==="entities"?void 0:{entityType:r}),i=e.entities.list(r==="entities"?void 0:{entityType:r}),o={},a={};for(const h of s)o[sv(h)]=h;for(const h of i)a[sv(h)]=h;const l=[],c=[],d=[];for(const[h,m]of Object.entries(o)){const f=a[h];if(!f)(n==="all"||n==="drop"||n==="createdrop")&&c.push({$diffType:"drop",entityType:m.entityType,...QC(m),...a9(m)});else if(n==="all"||n==="alter"){const p={};let E=!1;for(const[g,T]of Object.entries(m))o9[g]||Yh(m[g],f[g])||(E=!0,p[g]={from:m[g],to:f[g]});E&&d.push({$diffType:"alter",entityType:f.entityType,...QC(f),...p})}delete a[h]}if(n==="all"||n==="create"||n==="createdrop")for(const h of Object.values(a))l.push({$diffType:"create",entityType:h.entityType,...QC(h),...a9(h)});return[...l,...c,...d]}function na(t,e,r){return jp(t,e,r,"createdrop")}(t=>{function e(i,o,a){return jp(i,o,a,"all")}t.all=e;function r(i,o,a){return jp(i,o,a,"create")}t.creates=r;function n(i,o,a){return jp(i,o,a,"drop")}t.drops=n;function s(i,o,a){return jp(i,o,a,"alter")}t.alters=s})(na||(na={}));function l9(t){return t.endsWith("?")?t.slice(0,t.length-1):t}var b0e=class{constructor(t){this._={diffs:{},store:{collection:[]}};const e=Object.entries(t),r=Object.fromEntries(e.map(([s,i])=>{if(s==="entities"||s==="_")throw new Error(`Illegal entity type name: "${s}"`);const o={};Object.entries(i).forEach(([a,l])=>{if(o[a]=l,l==="required"){if(!(a in Ao))throw new Error(`Type value "required" is only applicable to common keys [ ${Object.keys(Ao).map(c=>`"${c}"`).join(", ")} ], used on: "${a}"`);o[a]=l9(Ao[a])}else if(a in Ao||a in Ao)throw new Error(`Used forbidden key "${a}" in entity "${s}"`)});for(const a in Ao)Ao[a].endsWith("?")||(o[a]=Ao[a]);return[s,o]}));this._.entities=r;const n={...this._,entities:{entities:Ao}};this.entities=i9(n,this._.store,!0,this._.entities).entities}};function C0e(t){const e=new b0e(t),r=i9(e._,e._.store,!1);for(const[n,s]of Object.entries(r))e[n]=s;return e}var x0e=t=>`fk_${t.table}_${t.columns.join("_")}_${t.tableTo}_${t.columnsTo.join("_")}_fk`,w0e=(t,e)=>`${t}_${e.join("_")}_unique`,c9=()=>C0e({tables:{},columns:{table:"required",type:"string",primaryKey:"boolean",notNull:"boolean",autoincrement:"boolean?",default:{value:"string",isExpression:"boolean"},generated:{type:["stored","virtual"],as:"string"}},indexes:{table:"required",columns:[{value:"string",isExpression:"boolean"}],isUnique:"boolean",where:"string?",origin:["manual","auto"]},fks:{table:"required",columns:"string[]",tableTo:"string",columnsTo:"string[]",onUpdate:"string",onDelete:"string"},pks:{table:"required",columns:"string[]"},uniques:{table:"required",columns:"string[]",origin:["manual","auto"]},checks:{table:"required",value:"string"},views:{definition:"string?",isExisting:"boolean"}});c9();var JC=(t,e)=>{const r={table:t},n=e.columns.list(r),s=e.pks.one(r),i=e.fks.list(r),o=e.uniques.list(r),a=e.checks.list(r),l=e.indexes.list(r);return{name:t,columns:n,pk:s,fks:i,uniques:o,checks:a,indexes:l}},O0e=(t,e)=>{let r=0;for(const n of t)e(n)&&(r+=1);return r},u9=t=>{const e=c9(),r=[];for(const n of t.tables){if(O0e(t.columns,i=>i.table===n.name)===0){r.push({type:"table_no_columns",table:n.name});continue}const s=e.tables.insert(n);s.status==="CONFLICT"&&r.push({type:"conflict_table",table:s.data.name})}for(const n of t.columns){const{isUnique:s,uniqueName:i,...o}=n;e.columns.insert(o).status==="CONFLICT"&&r.push({type:"conflict_column",table:n.table,column:n.name})}for(const n of t.fks)e.fks.insert(n).status==="CONFLICT"&&r.push({type:"conflict_fk",name:n.name});for(const n of t.pks)e.pks.insert(n).status==="CONFLICT"&&r.push({type:"conflict_pk",name:n.name});for(const n of t.indexes){const{status:s}=e.indexes.insert(n,["name"]);s==="CONFLICT"&&r.push({type:"conflict_index",name:n.name})}for(const n of t.uniques)e.uniques.insert(n).status==="CONFLICT"&&r.push({type:"conflict_unique",name:n.name});for(const n of t.columns.filter(s=>s.isUnique)){const s={entityType:"uniques",name:n.uniqueName??w0e(n.table,[n.name]),columns:[n.name],table:n.table,origin:"manual"};e.uniques.insert(s).status==="CONFLICT"&&r.push({type:"conflict_unique",name:s.name})}for(const n of t.checks){const s=e.checks.insert(n);s.status==="CONFLICT"&&r.push({type:"conflict_check",name:s.data.name})}for(const n of t.views)e.views.insert(n).status==="CONFLICT"&&r.push({type:"conflict_view",view:n.name});return{ddl:e,errors:r}},d9=t=>async e=>{const{created:r,deleted:n}=e;if(r.length===0||n.length===0||t.size===0)return{created:r,deleted:n,renamedOrMoved:[]};let s=[...r],i=[...n];const o=[];for(let a of t){const[l,c]=a.split("->"),d=i.findIndex(h=>{const m=h.schema?`${h.schema}.`:"",f=h.table?`${h.table}.`:"";return`${m}${f}${h.name}`===l});if(d>=0){const h=s.findIndex(m=>{const f=m.schema?`${m.schema}.`:"",p=m.table?`${m.table}.`:"";return`${f}${p}${m.name}`===c});if(h<0)throw new Error("unexpected");o.push({from:i[d],to:s[h]}),delete s[h],delete i[d],s=s.filter(Boolean),i=i.filter(Boolean)}}return{created:s,deleted:i,renamedOrMoved:o}},I0e=t=>t.map(e=>{const r=e.from.schema?`${e.from.schema}.`:"",n=e.to.schema?`${e.to.schema}.`:"",s=e.from.table?`${e.from.table}.`:"",i=e.to.table?`${e.to.table}.`:"";return`${r}${s}${e.from.name}->${n}${i}${e.to.name}`}),h9=t=>{if(t.length===0)return[];if(!t[0].table&&!t[0].schema)throw new Error("No schema or table in item");const e=[];for(let r=0;r<t.length;r++){const n=t[r],s=e.findIndex(o=>("schema"in o?n.schema===o.schema:!0)&&("table"in o?n.table===o.table:!0));let i;if(s<0){const o="schema"in n?{schema:n.schema}:{},a="table"in n?{table:n.table}:{};i={...o,...a,deleted:[],inserted:[],updated:[]},e.push(i)}else i=e[s];n.$diffType==="drop"?i.deleted.push(n):n.$diffType==="create"?i.inserted.push(n):i.updated.push(n)}return e},Ro=(t,e)=>({type:t,can:r=>r.type===t,convert:e}),f9=Ro("create_table",t=>{const{name:e,columns:r,fks:n,pk:s,uniques:i,checks:o}=t.table;let a="";a+=`CREATE TABLE \`${e}\` (
`;for(let l=0;l<r.length;l++){const c=r[l],d=c.primaryKey&&c.type.toLowerCase().startsWith("int"),h=c.primaryKey||s&&s.columns.length===1&&s.columns[0]===c.name?" PRIMARY KEY":"",m=c.notNull&&!d?" NOT NULL":"",f=c.default?` DEFAULT ${c.default.isExpression?c.default.value:`'${c.default.value.replace(/'/g,"''")}'`}`:"",p=c.autoincrement?" AUTOINCREMENT":"",E=c.generated?` GENERATED ALWAYS AS ${c.generated.as} ${c.generated.type.toUpperCase()}`:"";a+="	",a+=`\`${c.name}\` ${c.type}${h}${p}${f}${E}${m}`,a+=l===r.length-1?"":`,
`}s&&s.columns.length>1&&(a+=`,
	`,a+=`PRIMARY KEY(${s.columns.map(l=>`\`${l}\``).join(", ")})`);for(let l=0;l<n.length;l++){const{name:c,table:d,tableTo:h,columns:m,columnsTo:f,onDelete:p,onUpdate:E}=n[l],g=p!=="NO ACTION"?` ON DELETE ${p}`:"",T=E!=="NO ACTION"?` ON UPDATE ${E}`:"",S=m.map(N=>`\`${N}\``).join(","),v=f.map(N=>`\`${N}\``).join(",");a+=",",a+=`
	`,a+=`FOREIGN KEY (${S}) REFERENCES \`${h}\`(${v})${T}${g}`}for(const l of i)a+=`,
`,a+=`	CONSTRAINT ${l.name} UNIQUE(\`${l.columns.join("`,`")}\`)`;if(typeof o<"u"&&o.length>0)for(const l of o)a+=`,
`,a+=`	CONSTRAINT "${l.name}" CHECK(${l.value})`;return a+=`
`,a+=");",a+=`
`,a}),m9=Ro("drop_table",t=>`DROP TABLE \`${t.tableName}\`;`),p9=Ro("rename_table",t=>`ALTER TABLE \`${t.from}\` RENAME TO \`${t.to}\`;`),_0e=Ro("create_view",t=>{const{definition:e,name:r}=t.view;return`CREATE VIEW \`${r}\` AS ${e};`}),L0e=Ro("drop_view",t=>`DROP VIEW \`${t.view.name}\`;`),E9=Ro("add_column",t=>{const{fk:e,column:r}=t,{table:n,name:s,type:i,notNull:o,primaryKey:a,generated:l}=t.column,c=`${r.default?` DEFAULT ${r.default.isExpression?r.default.value:`'${r.default.value.replace(/'/g,"''")}'`}`:""}`,d=`${o?" NOT NULL":""}`,h=`${a?" PRIMARY KEY":""}`,m=`${e?` REFERENCES ${e.tableTo}(${e.columnsTo})`:""}`,f=l?` GENERATED ALWAYS AS ${l.as} ${l.type.toUpperCase()}`:"";return`ALTER TABLE \`${n}\` ADD \`${s}\` ${i}${h}${c}${f}${d}${m};`}),D0e=Ro("rename_column",t=>`ALTER TABLE \`${t.table}\` RENAME COLUMN \`${t.from}\` TO \`${t.to}\`;`),g9=Ro("drop_column",t=>`ALTER TABLE \`${t.column.table}\` DROP COLUMN \`${t.column.name}\`;`),M0e=Ro("recreate_column",t=>{const e=g9.convert(t),r=E9.convert(t);return[e,r]}),P0e=Ro("create_index",t=>{const{columns:e,isUnique:r,where:n,name:s,table:i}=t.index,o=r?"UNIQUE INDEX":"INDEX",a=e.map(c=>c.isExpression?c.value:`\`${c.value}\``).join(","),l=n?` WHERE ${n}`:"";return`CREATE ${o} \`${s}\` ON \`${i}\` (${a})${l};`}),k0e=Ro("drop_index",t=>`DROP INDEX IF EXISTS \`${t.index.name}\`;`),U0e=Ro("recreate_table",t=>{const{name:e}=t.to,{columns:r}=t.from,n=r.filter(a=>{const l=t.to.columns.find(c=>c.name===a.name);return!a.generated&&l&&!l.generated}).map(a=>`\`${a.name}\``).join(", "),s=`__new_${e}`,i=[];i.push("PRAGMA foreign_keys=OFF;");const o={...t.to,name:s,checks:t.to.checks.map(a=>({...a,table:s}))};return i.push(f9.convert({table:o})),i.push(`INSERT INTO \`${s}\`(${n}) SELECT ${n} FROM \`${t.to.name}\`;`),i.push(m9.convert({tableName:e})),i.push(p9.convert({from:s,to:e})),i.push("PRAGMA foreign_keys=ON;"),i}),j0e=[f9,m9,p9,_0e,L0e,E9,D0e,g9,M0e,P0e,k0e,U0e];function B0e(t){const e=t.map(n=>{const s=j0e.filter(l=>l.can(n)),i=s.length===1?s[0]:void 0;if(!i)return null;const o=i.convert(n);return{jsonStatement:n,sqlStatements:typeof o=="string"?[o]:o}}).filter(n=>n!==null);return{sqlStatements:e.map(n=>n.sqlStatements).flat(),groupedStatements:e}}var No=(t,e)=>({type:t,...e}),F0e=(t,e)=>t.map(r=>{const n=e.find(s=>s.columns.includes(r.name))||null;return{type:"add_column",column:r,fk:n}}),H0e=(t,e,r)=>{if(t.generated)return{type:"recreate_column",column:e,fk:r};throw new Error("unexpected")},$0e=async(t,e,r,n,s)=>{const i=na(t,e,"tables"),{created:o,deleted:a,renamedOrMoved:l}=await r({created:i.filter(fe=>fe.$diffType==="create"),deleted:i.filter(fe=>fe.$diffType==="drop")});for(const fe of l){t.tables.update({set:{name:fe.to.name},where:{name:fe.from.name}});const je=t.fks.update({set:{table:fe.to.name,tableTo:fe.to.name},where:{table:fe.from.name,tableTo:fe.from.name}}),H=t.fks.update({set:{table:fe.to.name},where:{table:fe.from.name}}),Ce=t.fks.update({set:{tableTo:fe.to.name},where:{tableTo:fe.from.name}}),be=[...je,...H,...Ce];for(const ce of be){const Q=x0e(ce);e.fks.update({set:{name:ce.name},where:{name:Q}})}t.entities.update({set:{table:fe.to.name},where:{table:fe.from.name}})}const c=na(t,e,"columns").filter(fe=>!o.some(je=>je.name===fe.table)),d=h9(c),h=[],m=[],f=[];for(let fe of d){const{renamedOrMoved:je,created:H,deleted:Ce}=await n({deleted:fe.deleted,created:fe.inserted});m.push(...H),f.push(...Ce),h.push(...je)}for(const fe of h){t.columns.update({set:{name:fe.to.name},where:{table:fe.from.table,name:fe.from.name}});const je={set:{columns:Q=>(!Q.isExpression&&Q.value===fe.from.name&&(Q.value=fe.to.name),Q)},where:{table:fe.from.table}};t.indexes.update(je),e.indexes.update(je);const H={set:{columns:Q=>Q===fe.from.name?fe.to.name:Q},where:{table:fe.from.table}};t.fks.update(H),e.fks.update(H);const Ce={set:{columnsTo:Q=>Q===fe.from.name?fe.to.name:Q},where:{tableTo:fe.from.table}};t.fks.update(Ce),e.fks.update(Ce);const be={set:{columns:Q=>Q===fe.from.name?fe.to.name:Q},where:{table:fe.from.table}};t.pks.update(be),e.pks.update(be);const ce={set:{columns:Q=>Q===fe.from.name?fe.to.name:Q},where:{table:fe.from.table}};t.uniques.update(ce),e.uniques.update(ce)}const p=na(t,e,"pks"),E=na(t,e,"uniques"),g=na(t,e,"indexes"),T=na(t,e,"checks"),S=na(t,e,"fks"),v=h9(g),N=na(t,e,"views").filter(fe=>!fe.isExisting),C=N.filter(fe=>fe.$diffType==="create"),x=N.filter(fe=>fe.$diffType==="drop"),A=na.alters(t,e),b=A.filter(fe=>fe.entityType==="columns").filter(fe=>{var je,H;return((H=(je=fe.generated)==null?void 0:je.to)==null?void 0:H.type)==="stored"}),_=m.filter(fe=>fe.generated&&fe.generated.type==="stored"),U=new Set([...T,...E,...p,...S,...g.filter(fe=>fe.isUnique&&fe.origin==="auto"),...[...m,...f].filter(fe=>fe.primaryKey),...b,..._].map(fe=>fe.table));for(const fe of o)U.delete(fe.name);for(const fe of A)fe.entityType==="columns"&&(fe.type||fe.default||fe.notNull||fe.autoincrement||fe.primaryKey)&&U.add(fe.table),fe.entityType==="pks"&&U.add(fe.table),fe.entityType==="fks"&&U.add(fe.table),fe.entityType==="uniques"&&U.add(fe.table),fe.entityType==="checks"&&U.add(fe.table);const j=Array.from(U);j.map(fe=>e.views.one({}));const L=j.map(fe=>No("recreate_table",{to:JC(fe,e),from:JC(fe,t)})),P=A.filter(fe=>fe.entityType==="columns").filter(fe=>!U.has(fe.table)).map(fe=>H0e(fe,e.columns.one({table:fe.table,name:fe.name}),e.fks.one({table:fe.table}))),I=o.map(fe=>No("create_table",{table:JC(fe.name,e)})),F=[...L].map(fe=>fe.to.indexes).concat(v.filter(fe=>!U.has(fe.table)).map(fe=>fe.inserted)).map(fe=>fe.map(je=>No("create_index",{index:je}))).flat(),W=v.map(fe=>fe.deleted.map(je=>No("drop_index",{index:je}))).flat(),Y=a.map(fe=>No("drop_table",{tableName:fe.name})),k=l.map(fe=>No("rename_table",{from:fe.from.name,to:fe.to.name})),V=h.map(fe=>No("rename_column",{table:fe.from.table,from:fe.from.name,to:fe.to.name})),K=f.filter(fe=>!U.has(fe.table)).map(fe=>No("drop_column",{column:fe})),B=m.filter(fe=>!fe.generated||fe.generated.type==="virtual"),X=[];for(const fe of _)X.push('As SQLite docs mention: "It is not possible to ALTER TABLE ADD COLUMN a STORED column. One can add a VIRTUAL column, however", source: "https://www.sqlite.org/gencol.html"');const Z=Object.values(B.reduce((fe,je)=>{const H=je.table in fe?fe[je.table]:{table:je.table,columns:[]};return fe[je.table]=H,H.columns.push(je),fe},{})).map(fe=>F0e(fe.columns,e.fks.list({table:fe.table}))).flat(),Ee=[],se=[];Ee.push(...C.map(fe=>No("create_view",{view:fe}))),se.push(...x.map(fe=>No("drop_view",{view:fe})));for(const fe of A.filter(je=>je.entityType==="views"))if(fe.isExisting||fe.definition&&s!=="push"){const je=e.views.one({name:fe.name});se.push(No("drop_view",{view:je})),Ee.push(No("create_view",{view:je}))}const ie=[];ie.push(...I),ie.push(...k),ie.push(...V),ie.push(...Z),ie.push(...P),ie.push(...L),ie.push(...W),ie.push(...F),ie.push(...Y),ie.push(...K),ie.push(...se),ie.push(...Ee);const{sqlStatements:Te,groupedStatements:ve}=B0e(ie),_e=I0e([...l,...h]);return{statements:ie,sqlStatements:Te,groupedStatements:ve,renames:_e,warnings:X}},T9=(t,e)=>{const r=t.map(d=>({entityType:"tables",name:d.name})),n=t.map(d=>d.columns.map(h=>({entityType:"columns",...h}))).flat(1),s=t.map(d=>d.indexes.filter(h=>h.origin==="manual").map(h=>({entityType:"indexes",...h}))).flat(1),i=t.map(d=>d.checks.map(h=>({entityType:"checks",...h}))).flat(1),o=t.map(d=>d.uniques.map(h=>({entityType:"uniques",...h}))).flat(1),a=t.map(d=>d.fks.map(h=>({entityType:"fks",...h}))).flat(1),l=t.map(d=>d.pks.map(h=>({entityType:"pks",...h}))).flat(1),c=e.map(d=>({entityType:"views",isExisting:!1,...d}));return{tables:r,columns:n,pks:l,fks:a,checks:i,uniques:o,indexes:s,views:c}},S9=async(t,e,r)=>{const n=new Set(r),{ddl:s}=u9(T9(t.tables,t.views)),{ddl:i}=u9(T9(e.tables,e.views)),{sqlStatements:o,statements:a,groupedStatements:l}=await $0e(s,i,d9(n),d9(n),"generate");return{sqlStatements:o,statements:a,groupedStatements:l}};const v9=t=>e=>{const{getTypeParamsString:r}=cr(t),n=r(e.type,e.typeParams),s=`${e.type}${n}`,i=e.defaultValue;return{table:e.table,autoincrement:e.isAutoIncrement===void 0?null:e.isAutoIncrement,generated:e.generatedParams||null,name:e.name,type:s,isUnique:e.isUnique,uniqueName:null,default:typeof i<"u"?{value:i,isExpression:e.isDefaultAnExpression||!1}:null,primaryKey:e.isPrimary,notNull:e.isNotNull}},G0e=t=>({name:t.name,table:t.table,columns:t.columns}),V0e=t=>({table:t.table,name:t.name,columns:t.columns,tableTo:t.refTable,columnsTo:t.refColumns,onUpdate:t.updateRule,onDelete:t.deleteRule}),z0e=t=>({origin:t.origin||"manual",name:t.name,table:t.table,columns:t.columns}),W0e=t=>({name:t.name,table:t.table,value:t.expression}),Y0e=t=>({table:t.table,name:t.name,isUnique:t.isUnique,where:null,origin:t.origin||"manual",columns:t.columns.map(e=>({value:e,isExpression:!1}))}),ZC=t=>e=>({name:e.name,columns:Object.values(e.columns).map(v9(t)),pks:Object.values(Ws(r=>r.type==="primary",e.constraints)).map(G0e),fks:Object.values(Ws(r=>r.type==="foreign",e.constraints)).map(V0e),uniques:Object.values(Ws(r=>r.type==="unique",e.constraints)).map(z0e),checks:Object.values(Ws(r=>r.type==="check",e.constraints)).map(W0e),indexes:Object.values(e.indexes).map(Y0e)}),q0e=t=>({name:t.name,columns:Object.values(t.columns).map(v9("sqlite")),definition:t.definition}),K0e=(t,e,r)=>{const n=[];return e.name!==r.name&&n.push(`${t==="sqlite"?"":e.schema+"."}${e.name}->${t==="sqlite"?"":r.schema+"."}${r.name}`),r.columns.forEach(s=>{const i=Object.values(e.columns).find(o=>o.id===s.id);i&&i.name!==s.name&&n.push(`${t==="sqlite"?"":i.schema+"."}${i.table}.${i.name}->${t==="sqlite"?"":r.schema+"."}${r.name}.${s.name}`)}),r.constraints.forEach(s=>{const i=Object.values(e.constraints).find(o=>o.id===s.id);i&&i.name!==s.name&&n.push(`${t==="sqlite"?"":i.schema+"."}${i.table}.${i.name}->${t==="sqlite"?"":r.schema+"."}${r.name}.${s.name}`)}),r.indexes.forEach(s=>{const i=Object.values(e.indexes).find(o=>o.id===s.id);i&&i.name!==s.name&&n.push(`${t==="sqlite"?"":i.schema+"."}${i.table}.${i.name}->${t==="sqlite"?"":r.schema+"."}${r.name}.${s.name}`)}),n},y9=(t,e)=>{const r=Object.values(e).flatMap(s=>Object.values(s.tables)),n=Object.values(e).flatMap(s=>Object.values(s.views));return{tables:Object.values(r).map(ZC(t)),views:Object.values(n).map(q0e)}},X0e=(t,e,r,n)=>{const s=Object.values(e).flatMap(h=>Object.values(h.tables)),i=y9(t,e),o=ZC(t)({type:"table",schema:n.schema,name:n.name,columns:Object.fromEntries(n.columns.map(h=>[h.name,{...h,id:h.name,schema:n.schema,table:n.name}])),constraints:Object.fromEntries(n.constraints.map(h=>[h.name,{...h,id:h.name,schema:n.schema,table:n.name}])),indexes:Object.fromEntries(n.indexes.map(h=>[h.name,{...h,id:h.name,schema:n.schema,table:n.name}])),compositePrimaryKeys:{},foreignKeys:{},uniqueConstraints:{}}),a=s.findIndex(h=>h.schema===r.schema&&h.name===r.name),l={...i,tables:ave(a,o,i.tables)},c=K0e(t,r,n);return S9(i,l,c)},Q0e=(t,e,r)=>{const n=y9(t,e),s=ZC(t)({type:"table",schema:r.schema,name:r.name,columns:Object.fromEntries(r.columns.map(a=>[a.name,{...a,id:a.name,schema:r.schema,table:r.name,isPrimary:a.isPrimary||!1,isUnique:a.isUnique||!1,isNotNull:a.isNotNull||!1}])),constraints:Object.fromEntries(r.constraints.map(a=>[a.name,{...a,id:a.name,schema:r.schema,table:r.name}])),indexes:Object.fromEntries(r.indexes.map(a=>[a.name,{...a,id:a.name,schema:r.schema,table:r.name}])),compositePrimaryKeys:{},foreignKeys:{},uniqueConstraints:{}}),i={...n,tables:sj(s,n.tables)};return S9(n,i,[])};function J0e(t){const e={};if(Object.values(t.columns).forEach(r=>{var o;const n=r.name,s=r.type;let i;if(s.startsWith("bigint"))i=new lC(n);else if(s.startsWith("binary"))i=new ex(n);else if(s.startsWith("boolean"))i=new tv(n);else if(s.startsWith("char"))i=new dC(n,{});else if(s.startsWith("datetime"))i=new mC(n,{});else if(s.startsWith("date"))i=new fC(n);else if(s.startsWith("decimal"))i=new pC(n,void 0);else if(s.startsWith("double"))i=new EC(n,{});else if(s.startsWith("enum")){const a=(o=s.match(/'[^']+'/g))==null?void 0:o.map(l=>l.replace(/'/g,""));i=new TC(n,a)}else s.startsWith("float")?i=new SC(n,void 0):s.startsWith("int")?i=new yC(n):s.startsWith("json")?i=new RC(n):s.startsWith("mediumint")?i=new NC(n):s.startsWith("real")?i=new CC(n,{}):s.startsWith("serial")?i=new xC(n):s.startsWith("smallint")?i=new wC(n):s.startsWith("tinytext")?i=new Dl(n,"tinytext",{}):s.startsWith("text")?i=new Dl(n,"text",{}):s.startsWith("mediumtext")?i=new Dl(n,"mediumtext",{}):s.startsWith("longtext")?i=new Dl(n,"longtext",{}):s.startsWith("timestamp")?i=new MC(n,{}):s.startsWith("time")?i=new IC(n,{}):s.startsWith("tinyint")?s==="tinyint(1)"?i=new tv(n):i=new PC(n):s.startsWith("varbinary")?i=new ex(n):s.startsWith("varchar")?i=new UC(n,"string","MySqlVarChar"):s.startsWith("year")?i=new jC(n):i=vj({dataType(){return s}})(n);r.isNotNull&&(i=i.notNull()),typeof r.defaultValue<"u"&&(i=i.default(q.raw(r.defaultValue))),r.isUnique&&(i=i.unique()),r.isPrimary&&(i=i.primaryKey()),r.generatedParams&&(i=i.generatedAlwaysAs(r.generatedParams.as)),e[n]=i}),t.type==="table")return zj(t.name,e,r=>{const n={};return Object.values(t.compositePrimaryKeys).forEach(s=>{const i=s.columns.map(o=>r[o]).filter(Boolean);n[s.name]=new Wj(i,s.name)}),n});if(t.type==="view")return l0e(t.name,e).existing();throw new Error("Unknown entity type")}const Z0e=new TextDecoder;class A9 extends(The=on,ghe=ne,The){getSQLType(){return"blob"}mapToDriverValue(e){return e}mapFromDriverValue(e){if(typeof e!="string"){const s=new Uint8Array(e);try{return{_type:"BINARY",value:Z0e.decode(s)}}catch{return{_type:"BINARY",value:btoa(String.fromCharCode(...s))}}}if(!/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return{_type:"BINARY",value:e};let n;try{if(n=atob(e),/[\x00-\x08\x0E-\x1F]/.test(n))n=e;else if(n.startsWith("{")||n.startsWith("["))try{n=JSON.parse(n)}catch{n=e}}catch{try{n=JSON.parse(e)}catch{n=e}}return{_type:"BINARY",value:n}}}O(A9,ghe,"MySQLCustomBinary");class ex extends(vhe=Fn,She=ne,vhe){constructor(e){super(e,"buffer","MySQLBinary")}build(e){return new A9(e,this.config)}}O(ex,She,"MySQLCustomBinaryBuilder");function eye(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function iv(t){t.startsWith("\\x")&&(t=t.slice(2));const e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=parseInt(t.substr(r,2),16);return new TextDecoder("utf-8").decode(e)}let tye=(yhe=ne,T5=class{constructor(e,r){O(this,"brand");this.name=e,this.value=r}build(e){return new rye(e,this)}},O(T5,yhe,"PgCheckBuilder"),T5),rye=(Ahe=ne,S5=class{constructor(e,r){O(this,"name");O(this,"value");this.table=e,this.name=r.name,this.value=r.value}},O(S5,Ahe,"PgCheck"),S5);class tx extends(Nhe=Bn,Rhe=ne,Nhe){constructor(r,n,s,i){super();O(this,"config");O(this,"authToken");O(this,"execute",r=>_s.startActiveSpan("drizzle.operation",()=>this._prepare().execute(r,this.authToken)));this.session=n,this.dialect=s,this.config={table:r,withList:i}}where(r){return this.config.where=r,this}returning(r=this.config.table[We.Symbol.Columns]){return this.config.returningFields=r,this.config.returning=bi(r),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){const{typings:r,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(r){return _s.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,r,!0))}prepare(r){return this._prepare(r)}setToken(r){return this.authToken=r,this}getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new kt({alias:Ls(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}O(tx,Rhe,"PgDelete");class Bp extends(Che=So,bhe=ne,Che){}O(Bp,bhe,"PgViewBase"),xhe=ne;class ud{constructor(e){O(this,"casing");this.casing=new QS(e==null?void 0:e.casing)}async migrate(e,r,n){const s=typeof n=="string"?"__drizzle_migrations":n.migrationsTable??"__drizzle_migrations",i=typeof n=="string"?"drizzle":n.migrationsSchema??"drizzle",o=q`
			CREATE TABLE IF NOT EXISTS ${q.identifier(i)}.${q.identifier(s)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await r.execute(q`CREATE SCHEMA IF NOT EXISTS ${q.identifier(i)}`),await r.execute(o);const l=(await r.all(q`select id, hash, created_at from ${q.identifier(i)}.${q.identifier(s)} order by created_at desc limit 1`))[0];await r.transaction(async c=>{for await(const d of e)if(!l||Number(l.created_at)<d.folderMillis){for(const h of d.sql)await c.execute(q.raw(h));await c.execute(q`insert into ${q.identifier(i)}.${q.identifier(s)} ("hash", "created_at") values(${d.hash}, ${d.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!(e!=null&&e.length))return;const r=[q`with `];for(const[n,s]of e.entries())r.push(q`${q.identifier(s._.alias)} as (${s._.sql})`),n<e.length-1&&r.push(q`, `);return r.push(q` `),q.join(r)}buildDeleteQuery({table:e,where:r,returning:n,withList:s}){const i=this.buildWithCTE(s),o=n?q` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,a=r?q` where ${r}`:void 0;return q`${i}delete from ${e}${a}${o}`}buildUpdateSet(e,r){const n=e[We.Symbol.Columns],s=Object.keys(n).filter(o=>{var a;return r[o]!==void 0||((a=n[o])==null?void 0:a.onUpdateFn)!==void 0}),i=s.length;return q.join(s.flatMap((o,a)=>{const l=n[o],c=r[o]??q.param(l.onUpdateFn(),l),d=q`${q.identifier(this.casing.getColumnCasing(l))} = ${c}`;return a<i-1?[d,q.raw(", ")]:[d]}))}buildUpdateQuery({table:e,set:r,where:n,returning:s,withList:i,from:o,joins:a}){const l=this.buildWithCTE(i),c=e[pn.Symbol.Name],d=e[pn.Symbol.Schema],h=e[pn.Symbol.OriginalName],m=c===h?void 0:c,f=q`${d?q`${q.identifier(d)}.`:void 0}${q.identifier(h)}${m&&q` ${q.identifier(m)}`}`,p=this.buildUpdateSet(e,r),E=o&&q.join([q.raw(" from "),this.buildFromTable(o)]),g=this.buildJoins(a),T=s?q` returning ${this.buildSelection(s,{isSingleTable:!o})}`:void 0,S=n?q` where ${n}`:void 0;return q`${l}update ${f} set ${p}${E}${g}${S}${T}`}buildSelection(e,{isSingleTable:r=!1}={}){const n=e.length,s=e.flatMap(({field:i},o)=>{const a=[];if(ge(i,nt.Aliased)&&i.isSelectionField)a.push(q.identifier(i.fieldAlias));else if(ge(i,nt.Aliased)||ge(i,nt)){const l=ge(i,nt.Aliased)?i.sql:i;r?a.push(new nt(l.queryChunks.map(c=>ge(c,Ut)?q.identifier(this.casing.getColumnCasing(c)):c))):a.push(l),ge(i,nt.Aliased)&&a.push(q` as ${q.identifier(i.fieldAlias)}`)}else ge(i,nr)&&(r?a.push(q.identifier(this.casing.getColumnCasing(i))):a.push(i));return o<n-1&&a.push(q`, `),a});return q.join(s)}buildJoins(e){if(!e||e.length===0)return;const r=[];for(const[n,s]of e.entries()){n===0&&r.push(q` `);const i=s.table,o=s.lateral?q` lateral`:void 0,a=s.on?q` on ${s.on}`:void 0;if(ge(i,pn)){const l=i[pn.Symbol.Name],c=i[pn.Symbol.Schema],d=i[pn.Symbol.OriginalName],h=l===d?void 0:s.alias;r.push(q`${q.raw(s.joinType)} join${o} ${c?q`${q.identifier(c)}.`:void 0}${q.identifier(d)}${h&&q` ${q.identifier(h)}`}${a}`)}else if(ge(i,So)){const l=i[gr].name,c=i[gr].schema,d=i[gr].originalName,h=l===d?void 0:s.alias;r.push(q`${q.raw(s.joinType)} join${o} ${c?q`${q.identifier(c)}.`:void 0}${q.identifier(d)}${h&&q` ${q.identifier(h)}`}${a}`)}else r.push(q`${q.raw(s.joinType)} join${o} ${i}${a}`);n<e.length-1&&r.push(q` `)}return q.join(r)}buildFromTable(e){if(ge(e,We)&&e[We.Symbol.IsAlias]){let r=q`${q.identifier(e[We.Symbol.OriginalName])}`;return e[We.Symbol.Schema]&&(r=q`${q.identifier(e[We.Symbol.Schema])}.${r}`),q`${r} ${q.identifier(e[We.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:r,fieldsFlat:n,where:s,having:i,table:o,joins:a,orderBy:l,groupBy:c,limit:d,offset:h,lockingClause:m,distinct:f,setOperators:p}){const E=n??bi(r);for(const I of E)if(ge(I.field,nr)&&Ls(I.field.table)!==(ge(o,qr)?o._.alias:ge(o,Bp)?o[gr].name:ge(o,nt)?void 0:Ls(o))&&!(F=>a==null?void 0:a.some(({alias:W})=>W===(F[We.Symbol.IsAlias]?Ls(F):F[We.Symbol.BaseName])))(I.field.table)){const F=Ls(I.field.table);throw new Error(`Your "${I.path.join("->")}" field references a column "${F}"."${I.field.name}", but the table "${F}" is not part of the query! Did you forget to join it?`)}const g=!a||a.length===0,T=this.buildWithCTE(e);let S;f&&(S=f===!0?q` distinct`:q` distinct on (${q.join(f.on,q`, `)})`);const v=this.buildSelection(E,{isSingleTable:g}),N=this.buildFromTable(o),C=this.buildJoins(a),x=s?q` where ${s}`:void 0,A=i?q` having ${i}`:void 0;let b;l&&l.length>0&&(b=q` order by ${q.join(l,q`, `)}`);let _;c&&c.length>0&&(_=q` group by ${q.join(c,q`, `)}`);const U=typeof d=="object"||typeof d=="number"&&d>=0?q` limit ${d}`:void 0,j=h?q` offset ${h}`:void 0,L=q.empty();if(m){const I=q` for ${q.raw(m.strength)}`;m.config.of&&I.append(q` of ${q.join(Array.isArray(m.config.of)?m.config.of:[m.config.of],q`, `)}`),m.config.noWait?I.append(q` nowait`):m.config.skipLocked&&I.append(q` skip locked`),L.append(I)}const P=q`${T}select${S} ${v} from ${N}${C}${x}${_}${A}${b}${U}${j}${L}`;return p.length>0?this.buildSetOperations(P,p):P}buildSetOperations(e,r){const[n,...s]=r;if(!n)throw new Error("Cannot pass undefined values to any set operator");return s.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:n}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:n}),s)}buildSetOperationQuery({leftSelect:e,setOperator:{type:r,isAll:n,rightSelect:s,limit:i,orderBy:o,offset:a}}){const l=q`(${e.getSQL()}) `,c=q`(${s.getSQL()})`;let d;if(o&&o.length>0){const p=[];for(const E of o)if(ge(E,Ut))p.push(q.identifier(E.name));else if(ge(E,nt)){for(let g=0;g<E.queryChunks.length;g++){const T=E.queryChunks[g];ge(T,Ut)&&(E.queryChunks[g]=q.identifier(T.name))}p.push(q`${E}`)}else p.push(q`${E}`);d=q` order by ${q.join(p,q`, `)} `}const h=typeof i=="object"||typeof i=="number"&&i>=0?q` limit ${i}`:void 0,m=q.raw(`${r} ${n?"all ":""}`),f=a?q` offset ${a}`:void 0;return q`${l}${m}${c}${d}${h}${f}`}buildInsertQuery({table:e,values:r,onConflict:n,returning:s,withList:i,select:o,overridingSystemValue_:a}){const l=[],c=e[We.Symbol.Columns],d=Object.entries(c).filter(([T,S])=>!S.shouldDisableInsert()),h=d.map(([,T])=>q.identifier(this.casing.getColumnCasing(T)));if(o){const T=r;ge(T,nt)?l.push(T):l.push(T.getSQL())}else{const T=r;l.push(q.raw("values "));for(const[S,v]of T.entries()){const N=[];for(const[C,x]of d){const A=v[C];if(A===void 0||ge(A,zs)&&A.value===void 0)if(x.defaultFn!==void 0){const b=x.defaultFn(),_=ge(b,nt)?b:q.param(b,x);N.push(_)}else if(!x.default&&x.onUpdateFn!==void 0){const b=x.onUpdateFn(),_=ge(b,nt)?b:q.param(b,x);N.push(_)}else N.push(q`default`);else N.push(A)}l.push(N),S<T.length-1&&l.push(q`, `)}}const m=this.buildWithCTE(i),f=q.join(l),p=s?q` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,E=n?q` on conflict ${n}`:void 0,g=a===!0?q`overriding system value `:void 0;return q`${m}insert into ${e} ${h} ${g}${f}${E}${p}`}buildRefreshMaterializedViewQuery({view:e,concurrently:r,withNoData:n}){const s=r?q` concurrently`:void 0,i=n?q` with no data`:void 0;return q`refresh materialized view${s} ${e}${i}`}prepareTyping(e){return ge(e,I1)||ge(e,w1)?"json":ge(e,M1)?"decimal":ge(e,V1)?"time":ge(e,$S)||ge(e,W1)?"timestamp":ge(e,BS)||ge(e,y1)?"date":ge(e,q1)?"uuid":"none"}sqlToQuery(e,r){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:r})}buildRelationalQueryWithoutPK({fullSchema:e,schema:r,tableNamesMap:n,table:s,tableConfig:i,queryConfig:o,tableAlias:a,nestedQueryRelation:l,joinOn:c}){let d=[],h,m,f=[],p;const E=[];if(o===!0)d=Object.entries(i.columns).map(([S,v])=>({dbKey:v.name,tsKey:S,field:Tr(v,a),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{const T=Object.fromEntries(Object.entries(i.columns).map(([A,b])=>[A,Tr(b,a)]));if(o.where){const A=typeof o.where=="function"?o.where(T,WS()):o.where;p=A&&La(A,a)}const S=[];let v=[];if(o.columns){let A=!1;for(const[b,_]of Object.entries(o.columns))_!==void 0&&b in i.columns&&(!A&&_===!0&&(A=!0),v.push(b));v.length>0&&(v=A?v.filter(b=>{var _;return((_=o.columns)==null?void 0:_[b])===!0}):Object.keys(i.columns).filter(b=>!v.includes(b)))}else v=Object.keys(i.columns);for(const A of v){const b=i.columns[A];S.push({tsKey:A,value:b})}let N=[];o.with&&(N=Object.entries(o.with).filter(A=>!!A[1]).map(([A,b])=>({tsKey:A,queryConfig:b,relation:i.relations[A]})));let C;if(o.extras){C=typeof o.extras=="function"?o.extras(T,{sql:q}):o.extras;for(const[A,b]of Object.entries(C))S.push({tsKey:A,value:bp(b,a)})}for(const{tsKey:A,value:b}of S)d.push({dbKey:ge(b,nt.Aliased)?b.fieldAlias:i.columns[A].name,tsKey:A,field:ge(b,nr)?Tr(b,a):b,relationTableTsKey:void 0,isJson:!1,selection:[]});let x=typeof o.orderBy=="function"?o.orderBy(T,YS()):o.orderBy??[];Array.isArray(x)||(x=[x]),f=x.map(A=>ge(A,nr)?Tr(A,a):La(A,a)),h=o.limit,m=o.offset;for(const{tsKey:A,queryConfig:b,relation:_}of N){const U=KS(r,n,_),j=Lc(_.referencedTable),L=n[j],P=`${a}_${A}`,I=Da(...U.fields.map((Y,k)=>xp(Tr(U.references[k],P),Tr(Y,a)))),F=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:r,tableNamesMap:n,table:e[L],tableConfig:r[L],queryConfig:ge(_,Ma)?b===!0?{limit:1}:{...b,limit:1}:b,tableAlias:P,joinOn:I,nestedQueryRelation:_}),W=q`${q.identifier(P)}.${q.identifier("data")}`.as(A);E.push({on:q`true`,table:new qr(F.sql,{},P),alias:P,joinType:"left",lateral:!0}),d.push({dbKey:A,tsKey:A,field:W,relationTableTsKey:L,isJson:!0,selection:F.selection})}}if(d.length===0)throw new id({message:`No fields selected for table "${i.tsName}" ("${a}")`});let g;if(p=Da(c,p),l){let T=q`json_build_array(${q.join(d.map(({field:N,tsKey:C,isJson:x})=>x?q`${q.identifier(`${a}_${C}`)}.${q.identifier("data")}`:ge(N,nt.Aliased)?N.sql:N),q`, `)})`;ge(l,Dc)&&(T=q`coalesce(json_agg(${T}${f.length>0?q` order by ${q.join(f,q`, `)}`:void 0}), '[]'::json)`);const S=[{dbKey:"data",tsKey:"data",field:T.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:d}];h!==void 0||m!==void 0||f.length>0?(g=this.buildSelectQuery({table:vo(s,a),fields:{},fieldsFlat:[{path:[],field:q.raw("*")}],where:p,limit:h,offset:m,orderBy:f,setOperators:[]}),p=void 0,h=void 0,m=void 0,f=[]):g=vo(s,a),g=this.buildSelectQuery({table:ge(g,pn)?g:new qr(g,{},a),fields:{},fieldsFlat:S.map(({field:N})=>({path:[],field:ge(N,nr)?Tr(N,a):N})),joins:E,where:p,limit:h,offset:m,orderBy:f,setOperators:[]})}else g=this.buildSelectQuery({table:vo(s,a),fields:{},fieldsFlat:d.map(({field:T})=>({path:[],field:ge(T,nr)?Tr(T,a):T})),joins:E,where:p,limit:h,offset:m,orderBy:f,setOperators:[]});return{tableTsKey:i.tsName,sql:g,selection:d}}}O(ud,xhe,"PgDialect"),whe=ne;class Wi{constructor(e){O(this,"fields");O(this,"session");O(this,"dialect");O(this,"withList",[]);O(this,"distinct");O(this,"authToken");this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}setToken(e){return this.authToken=e,this}from(e){const r=!!this.fields,n=e;let s;return this.fields?s=this.fields:ge(n,qr)?s=Object.fromEntries(Object.keys(n._.selectedFields).map(i=>[i,n[i]])):ge(n,Bp)?s=n[gr].selectedFields:ge(n,nt)?s={}:s=od(n),new rx({table:n,fields:s,isPartialSelect:r,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}}O(Wi,whe,"PgSelectBuilder");class R9 extends(Ihe=nv,Ohe=ne,Ihe){constructor({table:r,fields:n,isPartialSelect:s,session:i,dialect:o,withList:a,distinct:l}){super();O(this,"_");O(this,"config");O(this,"joinsNotNullableMap");O(this,"tableName");O(this,"isPartialSelect");O(this,"session");O(this,"dialect");O(this,"leftJoin",this.createJoin("left",!1));O(this,"leftJoinLateral",this.createJoin("left",!0));O(this,"rightJoin",this.createJoin("right",!1));O(this,"innerJoin",this.createJoin("inner",!1));O(this,"innerJoinLateral",this.createJoin("inner",!0));O(this,"fullJoin",this.createJoin("full",!1));O(this,"crossJoin",this.createJoin("cross",!1));O(this,"crossJoinLateral",this.createJoin("cross",!0));O(this,"union",this.createSetOperator("union",!1));O(this,"unionAll",this.createSetOperator("union",!0));O(this,"intersect",this.createSetOperator("intersect",!1));O(this,"intersectAll",this.createSetOperator("intersect",!0));O(this,"except",this.createSetOperator("except",!1));O(this,"exceptAll",this.createSetOperator("except",!0));this.config={withList:a,table:r,fields:{...n},distinct:l,setOperators:[]},this.isPartialSelect=s,this.session=i,this.dialect=o,this._={selectedFields:n},this.tableName=yo(r),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}createJoin(r,n){return(s,i)=>{var l;const o=this.tableName,a=yo(s);if(typeof a=="string"&&((l=this.config.joins)!=null&&l.some(c=>c.alias===a)))throw new Error(`Alias "${a}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof o=="string"&&(this.config.fields={[o]:this.config.fields}),typeof a=="string"&&!ge(s,nt))){const c=ge(s,qr)?s._.selectedFields:ge(s,So)?s[gr].selectedFields:s[We.Symbol.Columns];this.config.fields[a]=c}if(typeof i=="function"&&(i=i(new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:i,table:s,joinType:r,alias:a,lateral:n}),typeof a=="string")switch(r){case"left":{this.joinsNotNullableMap[a]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([c])=>[c,!1])),this.joinsNotNullableMap[a]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[a]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([c])=>[c,!1])),this.joinsNotNullableMap[a]=!1;break}}return this}}createSetOperator(r,n){return s=>{const i=typeof s=="function"?s(nye()):s;if(!Ll(this.getSelectedFields(),i.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:r,isAll:n,rightSelect:i}),this}}addSetOperators(r){return this.config.setOperators.push(...r),this}where(r){return typeof r=="function"&&(r=r(new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=r,this}having(r){return typeof r=="function"&&(r=r(new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=r,this}groupBy(...r){if(typeof r[0]=="function"){const n=r[0](new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(n)?n:[n]}else this.config.groupBy=r;return this}orderBy(...r){if(typeof r[0]=="function"){const n=r[0](new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(n)?n:[n];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=s:this.config.orderBy=s}else{const n=r;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}return this}limit(r){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=r:this.config.limit=r,this}offset(r){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=r:this.config.offset=r,this}for(r,n={}){return this.config.lockingClause={strength:r,config:n},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){const{typings:r,...n}=this.dialect.sqlToQuery(this.getSQL());return n}as(r){return new Proxy(new qr(this.getSQL(),this.config.fields,r),new kt({alias:r,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new kt({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}O(R9,Ohe,"PgSelectQueryBuilder");class rx extends(Lhe=R9,_he=ne,Lhe){constructor(){super(...arguments);O(this,"authToken");O(this,"execute",r=>_s.startActiveSpan("drizzle.operation",()=>this._prepare().execute(r,this.authToken)))}_prepare(r){const{session:n,config:s,dialect:i,joinsNotNullableMap:o,authToken:a}=this;if(!n)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");return _s.startActiveSpan("drizzle.prepareQuery",()=>{const l=bi(s.fields),c=n.prepareQuery(i.sqlToQuery(this.getSQL()),l,r,!0);return c.joinsNotNullableMap=o,c.setToken(a)})}prepare(r){return this._prepare(r)}setToken(r){return this.authToken=r,this}}O(rx,_he,"PgSelect"),d1(rx,[Bn]);function qh(t,e){return(r,n,...s)=>{const i=[n,...s].map(o=>({type:t,isAll:e,rightSelect:o}));for(const o of i)if(!Ll(r.getSelectedFields(),o.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(i)}}const nye=()=>({union:sye,unionAll:iye,intersect:oye,intersectAll:aye,except:lye,exceptAll:cye}),sye=qh("union",!1),iye=qh("union",!0),oye=qh("intersect",!1),aye=qh("intersect",!0),lye=qh("except",!1),cye=qh("except",!0);let ov=(Dhe=ne,v5=class{constructor(e){O(this,"dialect");O(this,"dialectConfig");O(this,"$with",(e,r)=>{const n=this;return{as:i=>(typeof i=="function"&&(i=i(n)),new Proxy(new rd(i.getSQL(),r??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new kt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});this.dialect=ge(e,ud)?e:void 0,this.dialectConfig=ge(e,ud)?void 0:e}with(...e){const r=this;function n(o){return new Wi({fields:o??void 0,session:void 0,dialect:r.getDialect(),withList:e})}function s(o){return new Wi({fields:o??void 0,session:void 0,dialect:r.getDialect(),distinct:!0})}function i(o,a){return new Wi({fields:a??void 0,session:void 0,dialect:r.getDialect(),distinct:{on:o}})}return{select:n,selectDistinct:s,selectDistinctOn:i}}select(e){return new Wi({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new Wi({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,r){return new Wi({fields:r??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new ud(this.dialectConfig)),this.dialect}},O(v5,Dhe,"PgQueryBuilder"),v5);Mhe=ne;class nx{constructor(e,r,n,s,i){O(this,"authToken");this.table=e,this.session=r,this.dialect=n,this.withList=s,this.overridingSystemValue_=i}setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");const r=e.map(n=>{const s={},i=this.table[We.Symbol.Columns];for(const o of Object.keys(n)){const a=n[o];s[o]=ge(a,nt)?a:new zs(a,i[o])}return s});return new sx(this.table,r,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){const r=typeof e=="function"?e(new ov):e;if(!ge(r,nt)&&!Ll(this.table[Rp],r._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new sx(this.table,r,this.session,this.dialect,this.withList,!0)}}O(nx,Mhe,"PgInsertBuilder");class sx extends(khe=Bn,Phe=ne,khe){constructor(r,n,s,i,o,a,l){super();O(this,"config");O(this,"authToken");O(this,"execute",r=>_s.startActiveSpan("drizzle.operation",()=>this._prepare().execute(r,this.authToken)));this.session=s,this.dialect=i,this.config={table:r,values:n,withList:o,select:a,overridingSystemValue_:l}}returning(r=this.config.table[We.Symbol.Columns]){return this.config.returningFields=r,this.config.returning=bi(r),this}onConflictDoNothing(r={}){if(r.target===void 0)this.config.onConflict=q`do nothing`;else{let n="";n=Array.isArray(r.target)?r.target.map(i=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(i))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(r.target));const s=r.where?q` where ${r.where}`:void 0;this.config.onConflict=q`(${q.raw(n)})${s} do nothing`}return this}onConflictDoUpdate(r){if(r.where&&(r.targetWhere||r.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');const n=r.where?q` where ${r.where}`:void 0,s=r.targetWhere?q` where ${r.targetWhere}`:void 0,i=r.setWhere?q` where ${r.setWhere}`:void 0,o=this.dialect.buildUpdateSet(this.config.table,Bh(this.config.table,r.set));let a="";return a=Array.isArray(r.target)?r.target.map(l=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(l))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(r.target)),this.config.onConflict=q`(${q.raw(a)})${s} do update set ${o}${n}${i}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){const{typings:r,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(r){return _s.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,r,!0))}prepare(r){return this._prepare(r)}setToken(r){return this.authToken=r,this}getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new kt({alias:Ls(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}O(sx,Phe,"PgInsert");class N9 extends(jhe=Bn,Uhe=ne,jhe){constructor(r,n,s){super();O(this,"config");O(this,"authToken");O(this,"execute",r=>_s.startActiveSpan("drizzle.operation",()=>this._prepare().execute(r,this.authToken)));this.session=n,this.dialect=s,this.config={view:r}}concurrently(){if(this.config.withNoData!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(this.config.concurrently!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){const{typings:r,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(r){return _s.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,r,!0))}prepare(r){return this._prepare(r)}setToken(r){return this.authToken=r,this}}O(N9,Uhe,"PgRefreshMaterializedView"),Bhe=ne;class ix{constructor(e,r,n,s){O(this,"authToken");this.table=e,this.session=r,this.dialect=n,this.withList=s}setToken(e){return this.authToken=e,this}set(e){return new b9(this.table,Bh(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}}O(ix,Bhe,"PgUpdateBuilder");class b9 extends(Hhe=Bn,Fhe=ne,Hhe){constructor(r,n,s,i,o){super();O(this,"config");O(this,"tableName");O(this,"joinsNotNullableMap");O(this,"leftJoin",this.createJoin("left"));O(this,"rightJoin",this.createJoin("right"));O(this,"innerJoin",this.createJoin("inner"));O(this,"fullJoin",this.createJoin("full"));O(this,"authToken");O(this,"execute",r=>this._prepare().execute(r,this.authToken));this.session=s,this.dialect=i,this.config={set:n,table:r,withList:o,joins:[]},this.tableName=yo(r),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}from(r){const n=r,s=yo(n);return typeof s=="string"&&(this.joinsNotNullableMap[s]=!0),this.config.from=n,this}getTableLikeFields(r){return ge(r,pn)?r[We.Symbol.Columns]:ge(r,qr)?r._.selectedFields:r[gr].selectedFields}createJoin(r){return(n,s)=>{const i=yo(n);if(typeof i=="string"&&this.config.joins.some(o=>o.alias===i))throw new Error(`Alias "${i}" is already used in this query`);if(typeof s=="function"){const o=this.config.from&&!ge(this.config.from,nt)?this.getTableLikeFields(this.config.from):void 0;s=s(new Proxy(this.config.table[We.Symbol.Columns],new kt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),o&&new Proxy(o,new kt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:s,table:n,joinType:r,alias:i}),typeof i=="string")switch(r){case"left":{this.joinsNotNullableMap[i]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([o])=>[o,!1])),this.joinsNotNullableMap[i]=!0;break}case"inner":{this.joinsNotNullableMap[i]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([o])=>[o,!1])),this.joinsNotNullableMap[i]=!1;break}}return this}}where(r){return this.config.where=r,this}returning(r){if(!r&&(r=Object.assign({},this.config.table[We.Symbol.Columns]),this.config.from)){const n=yo(this.config.from);if(typeof n=="string"&&this.config.from&&!ge(this.config.from,nt)){const s=this.getTableLikeFields(this.config.from);r[n]=s}for(const s of this.config.joins){const i=yo(s.table);if(typeof i=="string"&&!ge(s.table,nt)){const o=this.getTableLikeFields(s.table);r[i]=o}}}return this.config.returningFields=r,this.config.returning=bi(r),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){const{typings:r,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(r){const n=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,r,!0);return n.joinsNotNullableMap=this.joinsNotNullableMap,n}prepare(r){return this._prepare(r)}setToken(r){return this.authToken=r,this}getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new kt({alias:Ls(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}O(b9,Fhe,"PgUpdate");const iS=class iS extends(Vhe=nt,Ghe=ne,$he=Symbol.toStringTag,Vhe){constructor(r){super(iS.buildEmbeddedCount(r.source,r.filters).queryChunks);O(this,"sql");O(this,"token");O(this,$he,"PgCountBuilder");O(this,"session");this.params=r,this.mapWith(Number),this.session=r.session,this.sql=iS.buildCount(r.source,r.filters)}static buildEmbeddedCount(r,n){return q`(select count(*) from ${r}${q.raw(" where ").if(n)}${n})`}static buildCount(r,n){return q`select count(*) as count from ${r}${q.raw(" where ").if(n)}${n};`}setToken(r){return this.token=r,this}then(r,n){return Promise.resolve(this.session.count(this.sql,this.token)).then(r,n)}catch(r){return this.then(void 0,r)}finally(r){return this.then(n=>(r==null||r(),n),n=>{throw r==null||r(),n})}};O(iS,Ghe,"PgCountBuilder");let ox=iS,uye=(zhe=ne,y5=class{constructor(e,r,n,s,i,o,a){this.fullSchema=e,this.schema=r,this.tableNamesMap=n,this.table=s,this.tableConfig=i,this.dialect=o,this.session=a}findMany(e){return new ax(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new ax(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}},O(y5,zhe,"PgRelationalQueryBuilder"),y5);class ax extends(Yhe=Bn,Whe=ne,Yhe){constructor(r,n,s,i,o,a,l,c,d){super();O(this,"authToken");this.fullSchema=r,this.schema=n,this.tableNamesMap=s,this.table=i,this.tableConfig=o,this.dialect=a,this.session=l,this.config=c,this.mode=d}_prepare(r){return _s.startActiveSpan("drizzle.prepareQuery",()=>{const{query:n,builtQuery:s}=this._toSQL();return this.session.prepareQuery(s,void 0,r,!0,(i,o)=>{const a=i.map(l=>wp(this.schema,this.tableConfig,l,n.selection,o));return this.mode==="first"?a[0]:a})})}prepare(r){return this._prepare(r)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){const r=this._getQuery(),n=this.dialect.sqlToQuery(r.sql);return{query:r,builtQuery:n}}toSQL(){return this._toSQL().builtQuery}setToken(r){return this.authToken=r,this}execute(){return _s.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}O(ax,Whe,"PgRelationalQuery");class C9 extends(Khe=Bn,qhe=ne,Khe){constructor(e,r,n,s){super(),this.execute=e,this.sql=r,this.query=n,this.mapBatchResult=s}getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,r){return r?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}O(C9,qhe,"PgRaw"),Xhe=ne;class av{constructor(e,r,n){O(this,"query");O(this,"$with",(e,r)=>{const n=this;return{as:i=>(typeof i=="function"&&(i=i(new ov(n.dialect))),new Proxy(new rd(i.getSQL(),r??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new kt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});O(this,"authToken");if(this.dialect=e,this.session=r,this._=n?{schema:n.schema,fullSchema:n.fullSchema,tableNamesMap:n.tableNamesMap,session:r}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:r},this.query={},this._.schema)for(const[s,i]of Object.entries(this._.schema))this.query[s]=new uye(n.fullSchema,this._.schema,this._.tableNamesMap,n.fullSchema[s],i,e,r)}$count(e,r){return new ox({source:e,filters:r,session:this.session})}with(...e){const r=this;function n(c){return new Wi({fields:c??void 0,session:r.session,dialect:r.dialect,withList:e})}function s(c){return new Wi({fields:c??void 0,session:r.session,dialect:r.dialect,withList:e,distinct:!0})}function i(c,d){return new Wi({fields:d??void 0,session:r.session,dialect:r.dialect,withList:e,distinct:{on:c}})}function o(c){return new ix(c,r.session,r.dialect,e)}function a(c){return new nx(c,r.session,r.dialect,e)}function l(c){return new tx(c,r.session,r.dialect,e)}return{select:n,selectDistinct:s,selectDistinctOn:i,update:o,insert:a,delete:l}}select(e){return new Wi({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new Wi({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,r){return new Wi({fields:r??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new ix(e,this.session,this.dialect)}insert(e){return new nx(e,this.session,this.dialect)}delete(e){return new tx(e,this.session,this.dialect)}refreshMaterializedView(e){return new N9(e,this.session,this.dialect)}execute(e){const r=typeof e=="string"?q.raw(e):e.getSQL(),n=this.dialect.sqlToQuery(r),s=this.session.prepareQuery(n,void 0,void 0,!1);return new C9(()=>s.execute(void 0,this.authToken),r,n,i=>s.mapResult(i,!0))}transaction(e,r){return this.session.transaction(e,r)}}O(av,Xhe,"PgDatabase");let dye=(Qhe=ne,A5=class{constructor(e,r,n,s,i="btree"){O(this,"config");this.config={name:s,columns:e,unique:r,only:n,method:i}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new hye(this.config,e)}},O(A5,Qhe,"PgIndexBuilder"),A5),hye=(Jhe=ne,R5=class{constructor(e,r){O(this,"config");this.config={...e,table:r}}},O(R5,Jhe,"PgIndex"),R5);Zhe=ne;class x9{constructor(e,r){O(this,"as");O(this,"for");O(this,"to");O(this,"using");O(this,"withCheck");O(this,"_linkedTable");this.name=e,r&&(this.as=r.as,this.for=r.for,this.to=r.to,this.using=r.using,this.withCheck=r.withCheck)}link(e){return this._linkedTable=e,this}}O(x9,Zhe,"PgPolicy"),efe=ne;class w9{constructor(e,r,n){this.seqName=e,this.seqOptions=r,this.schema=n}}O(w9,efe,"PgSequence");function fye(t,e,r){return new w9(t,e,r)}const lx=Symbol.for("drizzle:PgViewConfig");tfe=ne;class cx{constructor(e,r){O(this,"config",{});this.name=e,this.schema=r}with(e){return this.config.with=e,this}}O(cx,tfe,"PgDefaultViewBuilderCore");let mye=(N5=class extends(nfe=cx,rfe=ne,nfe){as(e){typeof e=="function"&&(e=e(new ov));const r=new kt({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(e.getSelectedFields(),r);return new Proxy(new Fp({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:n,query:e.getSQL().inlineParams()}}),r)}},O(N5,rfe,"PgViewBuilder"),N5),pye=(b5=class extends(ife=cx,sfe=ne,ife){constructor(r,n,s){super(r,s);O(this,"columns");this.columns=od(J1(r,n))}existing(){return new Proxy(new Fp({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new kt({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(r){return new Proxy(new Fp({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:r.inlineParams()}}),new kt({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},O(b5,sfe,"PgManualViewBuilder"),b5);ofe=ne;class ux{constructor(e,r){O(this,"config",{});this.name=e,this.schema=r}using(e){return this.config.using=e,this}with(e){return this.config.with=e,this}tablespace(e){return this.config.tablespace=e,this}withNoData(){return this.config.withNoData=!0,this}}O(ux,ofe,"PgMaterializedViewBuilderCore");class O9 extends(lfe=ux,afe=ne,lfe){as(e){typeof e=="function"&&(e=e(new ov));const r=new kt({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(e.getSelectedFields(),r);return new Proxy(new Hp({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:n,query:e.getSQL().inlineParams()}}),r)}}O(O9,afe,"PgMaterializedViewBuilder");class I9 extends(ufe=ux,cfe=ne,ufe){constructor(r,n,s){super(r,s);O(this,"columns");this.columns=od(J1(r,n))}existing(){return new Proxy(new Hp({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new kt({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(r){return new Proxy(new Hp({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:r.inlineParams()}}),new kt({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}O(I9,cfe,"PgManualMaterializedViewBuilder");class Fp extends(ffe=Bp,hfe=ne,dfe=lx,ffe){constructor({pgConfig:r,config:n}){super(n);O(this,dfe);r&&(this[lx]={with:r.with})}}O(Fp,hfe,"PgView");const dx=Symbol.for("drizzle:PgMaterializedViewConfig");class Hp extends(Efe=Bp,pfe=ne,mfe=dx,Efe){constructor({pgConfig:r,config:n}){super(n);O(this,mfe);this[dx]={with:r==null?void 0:r.with,using:r==null?void 0:r.using,tablespace:r==null?void 0:r.tablespace,withNoData:r==null?void 0:r.withNoData}}}O(Hp,pfe,"PgMaterializedView");function _9(t,e,r){return e?new pye(t,e,r):new mye(t,r)}function L9(t,e,r){return e?new I9(t,e,r):new O9(t,r)}function Eye(t,e){return _9(t,e,void 0)}function gye(t,e){return L9(t,e,void 0)}gfe=ne;class D9{constructor(e){O(this,"table",(e,r,n)=>P3(e,r,n,this.schemaName));O(this,"view",(e,r)=>_9(e,r,this.schemaName));O(this,"materializedView",(e,r)=>L9(e,r,this.schemaName));O(this,"sequence",(e,r)=>fye(e,r,this.schemaName));this.schemaName=e}enum(e,r){return Array.isArray(r)?jU(e,[...r],this.schemaName):BU(e,r,this.schemaName)}getSQL(){return new nt([q.identifier(this.schemaName)])}shouldOmitSQLParens(){return!0}}O(D9,gfe,"PgSchema");function hx(t){if(t==="public")throw new Error("You can't specify 'public' as schema name. Postgres is using public schema by default. If you want to use 'public' schema, just use pgTable() instead of creating a schema");return new D9(t)}Tfe=ne;class fx{constructor(e){O(this,"authToken");O(this,"joinsNotNullableMap");this.query=e}getQuery(){return this.query}mapResult(e,r){return e}setToken(e){return this.authToken=e,this}}O(fx,Tfe,"PgPreparedQuery"),Sfe=ne;class mx{constructor(e){this.dialect=e}execute(e,r){return _s.startActiveSpan("drizzle.operation",()=>_s.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(r).execute(void 0,r))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,r){const n=await this.execute(e,r);return Number(n[0].count)}}O(mx,Sfe,"PgSession");class M9 extends(yfe=av,vfe=ne,yfe){constructor(e,r,n,s=0){super(e,r,n),this.schema=n,this.nestedIndex=s}rollback(){throw new u1}getTransactionConfigSQL(e){const r=[];return e.isolationLevel&&r.push(`isolation level ${e.isolationLevel}`),e.accessMode&&r.push(e.accessMode),typeof e.deferrable=="boolean"&&r.push(e.deferrable?"deferrable":"not deferrable"),q.raw(r.join(" "))}setTransaction(e){return this.session.execute(q`set transaction ${this.getTransactionConfigSQL(e)}`)}}O(M9,vfe,"PgTransaction");function px(t){const e=Object.values(t[We.Symbol.Columns]),r=[],n=[],s=[],i=Object.values(t[pn.Symbol.InlineForeignKeys]),o=[],a=t[We.Symbol.Name],l=t[We.Symbol.Schema],c=[],d=t[pn.Symbol.EnableRLS],h=t[pn.Symbol.ExtraConfigBuilder];if(h!==void 0){const m=h(t[We.Symbol.ExtraConfigColumns]),f=Array.isArray(m)?m.flat(1):Object.values(m);for(const p of f)ge(p,dye)?r.push(p.build(t)):ge(p,tye)?n.push(p.build(t)):ge(p,cTe)?o.push(p.build(t)):ge(p,GS)?s.push(p.build(t)):ge(p,wU)?i.push(p.build(t)):ge(p,x9)&&c.push(p)}return{columns:e,indexes:r,foreignKeys:i,checks:n,primaryKeys:s,uniqueConstraints:o,name:a,schema:l,policies:c,enableRLS:d}}function Tye(t){return{...t[gr],...t[lx]}}function Sye(t){return{...t[gr],...t[dx]}}class P9 extends(Rfe=Ut,Afe=ne,Rfe){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?String(e):e}}O(P9,Afe,"PgCustomBigInt");class Ex extends(bfe=Fh,Nfe=ne,bfe){constructor(e){super(e,"string","PgCustomBigInt")}build(e){return new P9(e,this.config)}}O(Ex,Nfe,"PgCustomBigIntBuilder");class k9 extends(xfe=Ut,Cfe=ne,xfe){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?String(e):e}}O(k9,Cfe,"PgCustomBigSerial");class U9 extends(Ofe=rr,wfe=ne,Ofe){constructor(e){super(e,"string","PgCustomBigSerial")}build(e){return new k9(e,this.config)}}O(U9,wfe,"PgCustomBigSerialBuilder");function vye(t,e){const r={};if(Object.values(t.columns).forEach(n=>{var a;const s=n.name,i=n.type;let o;if(i.startsWith("bigint"))if(n.identityParams){const l=n.identityParams.type==="always"?"generatedAlwaysAsIdentity":"generatedByDefaultAsIdentity";o=new Ex(s)[l](n.identityParams)}else o=new Ex(s);else if(i.startsWith("bigserial"))o=new U9(s);else if(i.startsWith("boolean"))o=new E1(s);else if(i.startsWith("cidr"))o=new T1(s);else if(i.startsWith("date"))o=new v1(s);else if(i.startsWith("double precision"))o=new A1(s);else if(i.startsWith("inet"))o=new N1(s);else if(i.startsWith("integer"))if(n.identityParams){const l=n.identityParams.type==="always"?"generatedAlwaysAsIdentity":"generatedByDefaultAsIdentity";o=new FS(s)[l](n.identityParams)}else o=new FS(s);else if(i.startsWith("interval"))o=new C1(s,{});else if(i.startsWith("jsonb"))o=new O1(s);else if(i.startsWith("json"))o=new x1(s);else if(i.startsWith("macaddr8"))o=new L1(s);else if(i.startsWith("macaddr"))o=new _1(s);else if(i.startsWith("numeric"))o=new D1(s);else if(i.startsWith("real"))o=new P1(s);else if(i.startsWith("serial"))o=new U1(s);else if(i.startsWith("smallint"))if(n.identityParams){const l=n.identityParams.type==="always"?"generatedAlwaysAsIdentity":"generatedByDefaultAsIdentity";o=new HS(s)[l](n.identityParams)}else o=new HS(s);else i.startsWith("smallserial")?o=new F1(s):i.startsWith("text")?o=new $1(s,{}):i.startsWith("timestamp")?o=new z1(s,!1,void 0):i.startsWith("time")?o=new G1(s,!1,void 0):i.startsWith("uuid")?o=new Y1(s):i.startsWith("varchar")?o=new K1(s,{}):i.startsWith("char")?o=new g1(s,{}):i.startsWith("vector")?o=new X1(s,{dimensions:1}):i.startsWith("bytea")?o=S1({dataType(){return i},fromDriver:l=>typeof(l==null?void 0:l.toString)=="function"?`\\x${l.toString("hex")}`:String(l)})(s):e[i]?o=e[i](s):o=S1({dataType(){return i}})(s);(a=n.typeParams)!=null&&a.dimensions&&(o=new a1(s,o,n.typeParams.dimensions)),n.isNotNull&&(o=o.notNull()),typeof n.defaultValue<"u"&&(o=o.default(q.raw(n.defaultValue))),n.isUnique&&(o=o.unique()),n.isPrimary&&(o=o.primaryKey()),n.generatedParams&&(o=o.generatedAlwaysAs(n.generatedParams.as)),r[s]=o}),t.schema==="public"){if(t.type==="table")return J1(t.name,r,n=>{const s={};return Object.values(t.compositePrimaryKeys).forEach(i=>{const o=i.columns.map(a=>n[a]).filter(Boolean);s[i.name]=new GS(o,i.name)}),s});if(t.type==="view")return Eye(t.name,r).existing();if(t.type==="mat_view")return gye(t.name,r).existing();throw new Error("Unknown entity type")}else{if(t.type==="table")return hx(t.schema).table(t.name,r,n=>{const s={};return Object.values(t.compositePrimaryKeys).forEach(i=>{const o=i.columns.map(a=>n[a]).filter(Boolean);s[i.name]=new GS(o,i.name)}),s});if(t.type==="view")return hx(t.schema).view(t.name,r).existing();if(t.type==="mat_view")return hx(t.schema).materializedView(t.name,r).existing();throw new Error("Unknown entity type")}}const yye=t=>{const e={};return Object.entries(t).forEach(([r,{values:n}])=>{e[r]=fTe(r,n)}),e};Ife=ne;class j9{constructor(e,r){O(this,"brand");this.name=e,this.value=r}build(e){return new Aye(e,this)}}O(j9,Ife,"SQLiteCheckBuilder");let Aye=(_fe=ne,C5=class{constructor(e,r){O(this,"name");O(this,"value");this.table=e,this.name=r.name,this.value=r.value}},O(C5,_fe,"SQLiteCheck"),C5);Lfe=ne;class gx{constructor(e,r){O(this,"reference");O(this,"_onUpdate");O(this,"_onDelete");this.reference=()=>{const{name:n,columns:s,foreignColumns:i}=e();return{name:n,columns:s,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e,this}onDelete(e){return this._onDelete=e,this}build(e){return new B9(e,this)}}O(gx,Lfe,"SQLiteForeignKeyBuilder"),Dfe=ne;class B9{constructor(e,r){O(this,"reference");O(this,"onUpdate");O(this,"onDelete");this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),s=r.map(a=>a.name),i=n.map(a=>a.name),o=[this.table[Ni],...s,n[0].table[Ni],...i];return e??`${o.join("_")}_fk`}}O(B9,Dfe,"SQLiteForeignKey");function F9(t,e){return`${t[Ni]}_${e.join("_")}_unique`}Mfe=ne;class H9{constructor(e,r){O(this,"columns");this.name=r,this.columns=e}build(e){return new $9(e,this.columns,this.name)}}O(H9,Mfe,"SQLiteUniqueConstraintBuilder"),Pfe=ne;class $9{constructor(e,r,n){O(this,"columns");O(this,"name");this.table=e,this.columns=r,this.name=n??F9(this.table,this.columns.map(s=>s.name))}getName(){return this.name}}O($9,Pfe,"SQLiteUniqueConstraint");class Yi extends(Ufe=_S,kfe=ne,Ufe){constructor(){super(...arguments);O(this,"foreignKeyConfigs",[])}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r){return this.config.isUnique=!0,this.config.uniqueName=r,this}generatedAlwaysAs(r,n){return this.config.generated={as:r,type:"always",mode:(n==null?void 0:n.mode)??"virtual"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>((o,a)=>{const l=new gx(()=>{const c=o();return{columns:[r],foreignColumns:[c]}});return a.onUpdate&&l.onUpdate(a.onUpdate),a.onDelete&&l.onDelete(a.onDelete),l.build(n)})(s,i))}}O(Yi,kfe,"SQLiteColumnBuilder");class Ys extends(Bfe=nr,jfe=ne,Bfe){constructor(e,r){r.uniqueName||(r.uniqueName=F9(e,[r.name])),super(e,r),this.table=e}}O(Ys,jfe,"SQLiteColumn");class G9 extends(Hfe=Yi,Ffe=ne,Hfe){constructor(e){super(e,"bigint","SQLiteBigInt")}build(e){return new V9(e,this.config)}}O(G9,Ffe,"SQLiteBigIntBuilder");class V9 extends(Gfe=Ys,$fe=ne,Gfe){getSQLType(){return"blob"}mapFromDriverValue(e){if(Buffer.isBuffer(e))return BigInt(e.toString());if(e instanceof ArrayBuffer){const r=new TextDecoder;return BigInt(r.decode(e))}return BigInt(String.fromCodePoint(...e))}mapToDriverValue(e){return Buffer.from(e.toString())}}O(V9,$fe,"SQLiteBigInt");class z9 extends(zfe=Yi,Vfe=ne,zfe){constructor(e){super(e,"json","SQLiteBlobJson")}build(e){return new W9(e,this.config)}}O(z9,Vfe,"SQLiteBlobJsonBuilder");class W9 extends(Yfe=Ys,Wfe=ne,Yfe){getSQLType(){return"blob"}mapFromDriverValue(e){if(Buffer.isBuffer(e))return JSON.parse(e.toString());if(e instanceof ArrayBuffer){const r=new TextDecoder;return JSON.parse(r.decode(e))}return JSON.parse(String.fromCodePoint(...e))}mapToDriverValue(e){return Buffer.from(JSON.stringify(e))}}O(W9,Wfe,"SQLiteBlobJson");class Y9 extends(Kfe=Yi,qfe=ne,Kfe){constructor(e){super(e,"buffer","SQLiteBlobBuffer")}build(e){return new q9(e,this.config)}}O(Y9,qfe,"SQLiteBlobBufferBuilder");class q9 extends(Qfe=Ys,Xfe=ne,Qfe){mapFromDriverValue(e){return Buffer.isBuffer(e)?e:Buffer.from(e)}getSQLType(){return"blob"}}O(q9,Xfe,"SQLiteBlobBuffer");function Rye(t,e){const{name:r,config:n}=Vt(t,e);return(n==null?void 0:n.mode)==="json"?new z9(r):(n==null?void 0:n.mode)==="bigint"?new G9(r):new Y9(r)}class K9 extends(Zfe=Yi,Jfe=ne,Zfe){constructor(e,r,n){super(e,"custom","SQLiteCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new X9(e,this.config)}}O(K9,Jfe,"SQLiteCustomColumnBuilder");class X9 extends(tme=Ys,eme=ne,tme){constructor(r,n){super(r,n);O(this,"sqlName");O(this,"mapTo");O(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}O(X9,eme,"SQLiteCustomColumn");function Nye(t){return(e,r)=>{const{name:n,config:s}=Vt(e,r);return new K9(n,s,t)}}class lv extends(nme=Yi,rme=ne,nme){constructor(e,r,n){super(e,r,n),this.config.autoIncrement=!1}primaryKey(e){return e!=null&&e.autoIncrement&&(this.config.autoIncrement=!0),this.config.hasDefault=!0,super.primaryKey()}}O(lv,rme,"SQLiteBaseIntegerBuilder");class cv extends(ime=Ys,sme=ne,ime){constructor(){super(...arguments);O(this,"autoIncrement",this.config.autoIncrement)}getSQLType(){return"integer"}}O(cv,sme,"SQLiteBaseInteger");class Tx extends(ame=lv,ome=ne,ame){constructor(e){super(e,"number","SQLiteInteger")}build(e){return new Sx(e,this.config)}}O(Tx,ome,"SQLiteIntegerBuilder");class Sx extends(cme=cv,lme=ne,cme){}O(Sx,lme,"SQLiteInteger");class Q9 extends(dme=lv,ume=ne,dme){constructor(e,r){super(e,"date","SQLiteTimestamp"),this.config.mode=r}defaultNow(){return this.default(q`(cast((julianday('now') - 2440587.5)*86400000 as integer))`)}build(e){return new vx(e,this.config)}}O(Q9,ume,"SQLiteTimestampBuilder");class vx extends(fme=cv,hme=ne,fme){constructor(){super(...arguments);O(this,"mode",this.config.mode)}mapFromDriverValue(r){return this.config.mode==="timestamp"?new Date(r*1e3):new Date(r)}mapToDriverValue(r){const n=r.getTime();return this.config.mode==="timestamp"?Math.floor(n/1e3):n}}O(vx,hme,"SQLiteTimestamp");class J9 extends(pme=lv,mme=ne,pme){constructor(e,r){super(e,"boolean","SQLiteBoolean"),this.config.mode=r}build(e){return new Z9(e,this.config)}}O(J9,mme,"SQLiteBooleanBuilder");class Z9 extends(gme=cv,Eme=ne,gme){constructor(){super(...arguments);O(this,"mode",this.config.mode)}mapFromDriverValue(r){return Number(r)===1}mapToDriverValue(r){return r?1:0}}O(Z9,Eme,"SQLiteBoolean");function e4(t,e){const{name:r,config:n}=Vt(t,e);return(n==null?void 0:n.mode)==="timestamp"||(n==null?void 0:n.mode)==="timestamp_ms"?new Q9(r,n.mode):(n==null?void 0:n.mode)==="boolean"?new J9(r,n.mode):new Tx(r)}class yx extends(Sme=Yi,Tme=ne,Sme){constructor(e){super(e,"string","SQLiteNumeric")}build(e){return new t4(e,this.config)}}O(yx,Tme,"SQLiteNumericBuilder");class t4 extends(yme=Ys,vme=ne,yme){mapFromDriverValue(e){return typeof e=="string"?e:String(e)}getSQLType(){return"numeric"}}O(t4,vme,"SQLiteNumeric");class r4 extends(Rme=Yi,Ame=ne,Rme){constructor(e){super(e,"number","SQLiteNumericNumber")}build(e){return new n4(e,this.config)}}O(r4,Ame,"SQLiteNumericNumberBuilder");class n4 extends(bme=Ys,Nme=ne,bme){constructor(){super(...arguments);O(this,"mapToDriverValue",String)}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}getSQLType(){return"numeric"}}O(n4,Nme,"SQLiteNumericNumber");class s4 extends(xme=Yi,Cme=ne,xme){constructor(e){super(e,"bigint","SQLiteNumericBigInt")}build(e){return new i4(e,this.config)}}O(s4,Cme,"SQLiteNumericBigIntBuilder");class i4 extends(Ome=Ys,wme=ne,Ome){constructor(){super(...arguments);O(this,"mapFromDriverValue",BigInt);O(this,"mapToDriverValue",String)}getSQLType(){return"numeric"}}O(i4,wme,"SQLiteNumericBigInt");function bye(t,e){const{name:r,config:n}=Vt(t,e),s=n==null?void 0:n.mode;return s==="number"?new r4(r):s==="bigint"?new s4(r):new yx(r)}class Ax extends(_me=Yi,Ime=ne,_me){constructor(e){super(e,"number","SQLiteReal")}build(e){return new o4(e,this.config)}}O(Ax,Ime,"SQLiteRealBuilder");class o4 extends(Dme=Ys,Lme=ne,Dme){getSQLType(){return"real"}}O(o4,Lme,"SQLiteReal");function Cye(t){return new Ax(t??"")}class Rx extends(Pme=Yi,Mme=ne,Pme){constructor(e,r){super(e,"string","SQLiteText"),this.config.enumValues=r.enum,this.config.length=r.length}build(e){return new a4(e,this.config)}}O(Rx,Mme,"SQLiteTextBuilder");class a4 extends(Ume=Ys,kme=ne,Ume){constructor(r,n){super(r,n);O(this,"enumValues",this.config.enumValues);O(this,"length",this.config.length)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}O(a4,kme,"SQLiteText");class l4 extends(Bme=Yi,jme=ne,Bme){constructor(e){super(e,"json","SQLiteTextJson")}build(e){return new c4(e,this.config)}}O(l4,jme,"SQLiteTextJsonBuilder");class c4 extends(Hme=Ys,Fme=ne,Hme){getSQLType(){return"text"}mapFromDriverValue(e){return JSON.parse(e)}mapToDriverValue(e){return JSON.stringify(e)}}O(c4,Fme,"SQLiteTextJson");function xye(t,e={}){const{name:r,config:n}=Vt(t,e);return n.mode==="json"?new l4(r):new Rx(r,n)}function wye(){return{blob:Rye,customType:Nye,integer:e4,numeric:bye,real:Cye,text:xye}}const Nx=Symbol.for("drizzle:SQLiteInlineForeignKeys");class En extends(Wme=We,zme=ne,Vme=We.Symbol.Columns,Gme=Nx,$me=We.Symbol.ExtraConfigBuilder,Wme){constructor(){super(...arguments);O(this,Vme);O(this,Gme,[]);O(this,$me)}}O(En,zme,"SQLiteTable"),O(En,"Symbol",Object.assign({},We.Symbol,{InlineForeignKeys:Nx}));function Oye(t,e,r,n,s=t){const i=new En(t,n,s),o=typeof e=="function"?e(wye()):e,a=Object.fromEntries(Object.entries(o).map(([c,d])=>{const h=d;h.setName(c);const m=h.build(i);return i[Nx].push(...h.buildForeignKeys(m,i)),[c,m]})),l=Object.assign(i,a);return l[We.Symbol.Columns]=a,l[We.Symbol.ExtraConfigColumns]=a,r&&(l[En.Symbol.ExtraConfigBuilder]=r),l}const u4=(t,e,r)=>Oye(t,e,r);class bx extends(qme=Bn,Yme=ne,qme){constructor(r,n,s,i){super();O(this,"config");O(this,"run",r=>this._prepare().run(r));O(this,"all",r=>this._prepare().all(r));O(this,"get",r=>this._prepare().get(r));O(this,"values",r=>this._prepare().values(r));this.table=r,this.session=n,this.dialect=s,this.config={table:r,withList:i}}where(r){return this.config.where=r,this}orderBy(...r){if(typeof r[0]=="function"){const n=r[0](new Proxy(this.config.table[We.Symbol.Columns],new kt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(n)?n:[n];this.config.orderBy=s}else{const n=r;this.config.orderBy=n}return this}limit(r){return this.config.limit=r,this}returning(r=this.table[En.Symbol.Columns]){return this.config.returning=bi(r),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){const{typings:r,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(r=!0){return this.session[r?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0)}prepare(){return this._prepare(!1)}async execute(r){return this._prepare().execute(r)}$dynamic(){return this}}O(bx,Yme,"SQLiteDelete");class $p extends(Xme=So,Kme=ne,Xme){}O($p,Kme,"SQLiteViewBase"),Qme=ne;class Gp{constructor(e){O(this,"casing");this.casing=new QS(e==null?void 0:e.casing)}escapeName(e){return`"${e}"`}escapeParam(e){return"?"}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!(e!=null&&e.length))return;const r=[q`with `];for(const[n,s]of e.entries())r.push(q`${q.identifier(s._.alias)} as (${s._.sql})`),n<e.length-1&&r.push(q`, `);return r.push(q` `),q.join(r)}buildDeleteQuery({table:e,where:r,returning:n,withList:s,limit:i,orderBy:o}){const a=this.buildWithCTE(s),l=n?q` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,c=r?q` where ${r}`:void 0,d=this.buildOrderBy(o),h=this.buildLimit(i);return q`${a}delete from ${e}${c}${l}${d}${h}`}buildUpdateSet(e,r){const n=e[We.Symbol.Columns],s=Object.keys(n).filter(o=>{var a;return r[o]!==void 0||((a=n[o])==null?void 0:a.onUpdateFn)!==void 0}),i=s.length;return q.join(s.flatMap((o,a)=>{const l=n[o],c=r[o]??q.param(l.onUpdateFn(),l),d=q`${q.identifier(this.casing.getColumnCasing(l))} = ${c}`;return a<i-1?[d,q.raw(", ")]:[d]}))}buildUpdateQuery({table:e,set:r,where:n,returning:s,withList:i,joins:o,from:a,limit:l,orderBy:c}){const d=this.buildWithCTE(i),h=this.buildUpdateSet(e,r),m=a&&q.join([q.raw(" from "),this.buildFromTable(a)]),f=this.buildJoins(o),p=s?q` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,E=n?q` where ${n}`:void 0,g=this.buildOrderBy(c),T=this.buildLimit(l);return q`${d}update ${e} set ${h}${m}${f}${E}${p}${g}${T}`}buildSelection(e,{isSingleTable:r=!1}={}){const n=e.length,s=e.flatMap(({field:i},o)=>{const a=[];if(ge(i,nt.Aliased)&&i.isSelectionField)a.push(q.identifier(i.fieldAlias));else if(ge(i,nt.Aliased)||ge(i,nt)){const l=ge(i,nt.Aliased)?i.sql:i;r?a.push(new nt(l.queryChunks.map(c=>ge(c,nr)?q.identifier(this.casing.getColumnCasing(c)):c))):a.push(l),ge(i,nt.Aliased)&&a.push(q` as ${q.identifier(i.fieldAlias)}`)}else if(ge(i,nr)){const l=i.table[We.Symbol.Name];i.columnType==="SQLiteNumericBigInt"?r?a.push(q`cast(${q.identifier(this.casing.getColumnCasing(i))} as text)`):a.push(q`cast(${q.identifier(l)}.${q.identifier(this.casing.getColumnCasing(i))} as text)`):r?a.push(q.identifier(this.casing.getColumnCasing(i))):a.push(q`${q.identifier(l)}.${q.identifier(this.casing.getColumnCasing(i))}`)}return o<n-1&&a.push(q`, `),a});return q.join(s)}buildJoins(e){if(!e||e.length===0)return;const r=[];if(e)for(const[n,s]of e.entries()){n===0&&r.push(q` `);const i=s.table,o=s.on?q` on ${s.on}`:void 0;if(ge(i,En)){const a=i[En.Symbol.Name],l=i[En.Symbol.Schema],c=i[En.Symbol.OriginalName],d=a===c?void 0:s.alias;r.push(q`${q.raw(s.joinType)} join ${l?q`${q.identifier(l)}.`:void 0}${q.identifier(c)}${d&&q` ${q.identifier(d)}`}${o}`)}else r.push(q`${q.raw(s.joinType)} join ${i}${o}`);n<e.length-1&&r.push(q` `)}return q.join(r)}buildLimit(e){return typeof e=="object"||typeof e=="number"&&e>=0?q` limit ${e}`:void 0}buildOrderBy(e){const r=[];if(e)for(const[n,s]of e.entries())r.push(s),n<e.length-1&&r.push(q`, `);return r.length>0?q` order by ${q.join(r)}`:void 0}buildFromTable(e){return ge(e,We)&&e[We.Symbol.IsAlias]?q`${q`${q.identifier(e[We.Symbol.Schema]??"")}.`.if(e[We.Symbol.Schema])}${q.identifier(e[We.Symbol.OriginalName])} ${q.identifier(e[We.Symbol.Name])}`:e}buildSelectQuery({withList:e,fields:r,fieldsFlat:n,where:s,having:i,table:o,joins:a,orderBy:l,groupBy:c,limit:d,offset:h,distinct:m,setOperators:f}){const p=n??bi(r);for(const P of p)if(ge(P.field,nr)&&Ls(P.field.table)!==(ge(o,qr)?o._.alias:ge(o,$p)?o[gr].name:ge(o,nt)?void 0:Ls(o))&&!(I=>a==null?void 0:a.some(({alias:F})=>F===(I[We.Symbol.IsAlias]?Ls(I):I[We.Symbol.BaseName])))(P.field.table)){const I=Ls(P.field.table);throw new Error(`Your "${P.path.join("->")}" field references a column "${I}"."${P.field.name}", but the table "${I}" is not part of the query! Did you forget to join it?`)}const E=!a||a.length===0,g=this.buildWithCTE(e),T=m?q` distinct`:void 0,S=this.buildSelection(p,{isSingleTable:E}),v=this.buildFromTable(o),N=this.buildJoins(a),C=s?q` where ${s}`:void 0,x=i?q` having ${i}`:void 0,A=[];if(c)for(const[P,I]of c.entries())A.push(I),P<c.length-1&&A.push(q`, `);const b=A.length>0?q` group by ${q.join(A)}`:void 0,_=this.buildOrderBy(l),U=this.buildLimit(d),j=h?q` offset ${h}`:void 0,L=q`${g}select${T} ${S} from ${v}${N}${C}${b}${x}${_}${U}${j}`;return f.length>0?this.buildSetOperations(L,f):L}buildSetOperations(e,r){const[n,...s]=r;if(!n)throw new Error("Cannot pass undefined values to any set operator");return s.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:n}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:n}),s)}buildSetOperationQuery({leftSelect:e,setOperator:{type:r,isAll:n,rightSelect:s,limit:i,orderBy:o,offset:a}}){const l=q`${e.getSQL()} `,c=q`${s.getSQL()}`;let d;if(o&&o.length>0){const p=[];for(const E of o)if(ge(E,Ys))p.push(q.identifier(E.name));else if(ge(E,nt)){for(let g=0;g<E.queryChunks.length;g++){const T=E.queryChunks[g];ge(T,Ys)&&(E.queryChunks[g]=q.identifier(this.casing.getColumnCasing(T)))}p.push(q`${E}`)}else p.push(q`${E}`);d=q` order by ${q.join(p,q`, `)}`}const h=typeof i=="object"||typeof i=="number"&&i>=0?q` limit ${i}`:void 0,m=q.raw(`${r} ${n?"all ":""}`),f=a?q` offset ${a}`:void 0;return q`${l}${m}${c}${d}${h}${f}`}buildInsertQuery({table:e,values:r,onConflict:n,returning:s,withList:i,select:o}){const a=[],l=e[We.Symbol.Columns],c=Object.entries(l).filter(([E,g])=>!g.shouldDisableInsert()),d=c.map(([,E])=>q.identifier(this.casing.getColumnCasing(E)));if(o){const E=r;ge(E,nt)?a.push(E):a.push(E.getSQL())}else{const E=r;a.push(q.raw("values "));for(const[g,T]of E.entries()){const S=[];for(const[v,N]of c){const C=T[v];if(C===void 0||ge(C,zs)&&C.value===void 0){let x;if(N.default!==null&&N.default!==void 0)x=ge(N.default,nt)?N.default:q.param(N.default,N);else if(N.defaultFn!==void 0){const A=N.defaultFn();x=ge(A,nt)?A:q.param(A,N)}else if(!N.default&&N.onUpdateFn!==void 0){const A=N.onUpdateFn();x=ge(A,nt)?A:q.param(A,N)}else x=q`null`;S.push(x)}else S.push(C)}a.push(S),g<E.length-1&&a.push(q`, `)}}const h=this.buildWithCTE(i),m=q.join(a),f=s?q` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,p=n!=null&&n.length?q.join(n):void 0;return q`${h}insert into ${e} ${d} ${m}${p}${f}`}sqlToQuery(e,r){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,invokeSource:r})}buildRelationalQuery({fullSchema:e,schema:r,tableNamesMap:n,table:s,tableConfig:i,queryConfig:o,tableAlias:a,nestedQueryRelation:l,joinOn:c}){let d=[],h,m,f=[],p;const E=[];if(o===!0)d=Object.entries(i.columns).map(([S,v])=>({dbKey:v.name,tsKey:S,field:Tr(v,a),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{const T=Object.fromEntries(Object.entries(i.columns).map(([A,b])=>[A,Tr(b,a)]));if(o.where){const A=typeof o.where=="function"?o.where(T,WS()):o.where;p=A&&La(A,a)}const S=[];let v=[];if(o.columns){let A=!1;for(const[b,_]of Object.entries(o.columns))_!==void 0&&b in i.columns&&(!A&&_===!0&&(A=!0),v.push(b));v.length>0&&(v=A?v.filter(b=>{var _;return((_=o.columns)==null?void 0:_[b])===!0}):Object.keys(i.columns).filter(b=>!v.includes(b)))}else v=Object.keys(i.columns);for(const A of v){const b=i.columns[A];S.push({tsKey:A,value:b})}let N=[];o.with&&(N=Object.entries(o.with).filter(A=>!!A[1]).map(([A,b])=>({tsKey:A,queryConfig:b,relation:i.relations[A]})));let C;if(o.extras){C=typeof o.extras=="function"?o.extras(T,{sql:q}):o.extras;for(const[A,b]of Object.entries(C))S.push({tsKey:A,value:bp(b,a)})}for(const{tsKey:A,value:b}of S)d.push({dbKey:ge(b,nt.Aliased)?b.fieldAlias:i.columns[A].name,tsKey:A,field:ge(b,nr)?Tr(b,a):b,relationTableTsKey:void 0,isJson:!1,selection:[]});let x=typeof o.orderBy=="function"?o.orderBy(T,YS()):o.orderBy??[];Array.isArray(x)||(x=[x]),f=x.map(A=>ge(A,nr)?Tr(A,a):La(A,a)),h=o.limit,m=o.offset;for(const{tsKey:A,queryConfig:b,relation:_}of N){const U=KS(r,n,_),j=Lc(_.referencedTable),L=n[j],P=`${a}_${A}`,I=Da(...U.fields.map((Y,k)=>xp(Tr(U.references[k],P),Tr(Y,a)))),F=this.buildRelationalQuery({fullSchema:e,schema:r,tableNamesMap:n,table:e[L],tableConfig:r[L],queryConfig:ge(_,Ma)?b===!0?{limit:1}:{...b,limit:1}:b,tableAlias:P,joinOn:I,nestedQueryRelation:_}),W=q`(${F.sql})`.as(A);d.push({dbKey:A,tsKey:A,field:W,relationTableTsKey:L,isJson:!0,selection:F.selection})}}if(d.length===0)throw new id({message:`No fields selected for table "${i.tsName}" ("${a}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`});let g;if(p=Da(c,p),l){let T=q`json_array(${q.join(d.map(({field:N})=>ge(N,Ys)?q.identifier(this.casing.getColumnCasing(N)):ge(N,nt.Aliased)?N.sql:N),q`, `)})`;ge(l,Dc)&&(T=q`coalesce(json_group_array(${T}), json_array())`);const S=[{dbKey:"data",tsKey:"data",field:T.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:d}];h!==void 0||m!==void 0||f.length>0?(g=this.buildSelectQuery({table:vo(s,a),fields:{},fieldsFlat:[{path:[],field:q.raw("*")}],where:p,limit:h,offset:m,orderBy:f,setOperators:[]}),p=void 0,h=void 0,m=void 0,f=void 0):g=vo(s,a),g=this.buildSelectQuery({table:ge(g,En)?g:new qr(g,{},a),fields:{},fieldsFlat:S.map(({field:N})=>({path:[],field:ge(N,nr)?Tr(N,a):N})),joins:E,where:p,limit:h,offset:m,orderBy:f,setOperators:[]})}else g=this.buildSelectQuery({table:vo(s,a),fields:{},fieldsFlat:d.map(({field:T})=>({path:[],field:ge(T,nr)?Tr(T,a):T})),joins:E,where:p,limit:h,offset:m,orderBy:f,setOperators:[]});return{tableTsKey:i.tsName,sql:g,selection:d}}}O(Gp,Qme,"SQLiteDialect");class d4 extends(Zme=Gp,Jme=ne,Zme){migrate(e,r,n){const s=n===void 0||typeof n=="string"?"__drizzle_migrations":n.migrationsTable??"__drizzle_migrations",i=q`
			CREATE TABLE IF NOT EXISTS ${q.identifier(s)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;r.run(i);const a=r.values(q`SELECT id, hash, created_at FROM ${q.identifier(s)} ORDER BY created_at DESC LIMIT 1`)[0]??void 0;r.run(q`BEGIN`);try{for(const l of e)if(!a||Number(a[2])<l.folderMillis){for(const c of l.sql)r.run(q.raw(c));r.run(q`INSERT INTO ${q.identifier(s)} ("hash", "created_at") VALUES(${l.hash}, ${l.folderMillis})`)}r.run(q`COMMIT`)}catch(l){throw r.run(q`ROLLBACK`),l}}}O(d4,Jme,"SQLiteSyncDialect");class Cx extends(tpe=Gp,epe=ne,tpe){async migrate(e,r,n){const s=n===void 0||typeof n=="string"?"__drizzle_migrations":n.migrationsTable??"__drizzle_migrations",i=q`
			CREATE TABLE IF NOT EXISTS ${q.identifier(s)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;await r.run(i);const a=(await r.values(q`SELECT id, hash, created_at FROM ${q.identifier(s)} ORDER BY created_at DESC LIMIT 1`))[0]??void 0;await r.transaction(async l=>{for(const c of e)if(!a||Number(a[2])<c.folderMillis){for(const d of c.sql)await l.run(q.raw(d));await l.run(q`INSERT INTO ${q.identifier(s)} ("hash", "created_at") VALUES(${c.hash}, ${c.folderMillis})`)}})}}O(Cx,epe,"SQLiteAsyncDialect"),rpe=ne;class Pl{constructor(e){O(this,"fields");O(this,"session");O(this,"dialect");O(this,"withList");O(this,"distinct");this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,this.withList=e.withList,this.distinct=e.distinct}from(e){const r=!!this.fields;let n;return this.fields?n=this.fields:ge(e,qr)?n=Object.fromEntries(Object.keys(e._.selectedFields).map(s=>[s,e[s]])):ge(e,$p)?n=e[gr].selectedFields:ge(e,nt)?n={}:n=od(e),new xx({table:e,fields:n,isPartialSelect:r,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}}O(Pl,rpe,"SQLiteSelectBuilder");class h4 extends(spe=nv,npe=ne,spe){constructor({table:r,fields:n,isPartialSelect:s,session:i,dialect:o,withList:a,distinct:l}){super();O(this,"_");O(this,"config");O(this,"joinsNotNullableMap");O(this,"tableName");O(this,"isPartialSelect");O(this,"session");O(this,"dialect");O(this,"leftJoin",this.createJoin("left"));O(this,"rightJoin",this.createJoin("right"));O(this,"innerJoin",this.createJoin("inner"));O(this,"fullJoin",this.createJoin("full"));O(this,"crossJoin",this.createJoin("cross"));O(this,"union",this.createSetOperator("union",!1));O(this,"unionAll",this.createSetOperator("union",!0));O(this,"intersect",this.createSetOperator("intersect",!1));O(this,"except",this.createSetOperator("except",!1));this.config={withList:a,table:r,fields:{...n},distinct:l,setOperators:[]},this.isPartialSelect=s,this.session=i,this.dialect=o,this._={selectedFields:n},this.tableName=yo(r),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}createJoin(r){return(n,s)=>{var a;const i=this.tableName,o=yo(n);if(typeof o=="string"&&((a=this.config.joins)!=null&&a.some(l=>l.alias===o)))throw new Error(`Alias "${o}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof i=="string"&&(this.config.fields={[i]:this.config.fields}),typeof o=="string"&&!ge(n,nt))){const l=ge(n,qr)?n._.selectedFields:ge(n,So)?n[gr].selectedFields:n[We.Symbol.Columns];this.config.fields[o]=l}if(typeof s=="function"&&(s=s(new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:s,table:n,joinType:r,alias:o}),typeof o=="string")switch(r){case"left":{this.joinsNotNullableMap[o]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([l])=>[l,!1])),this.joinsNotNullableMap[o]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[o]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([l])=>[l,!1])),this.joinsNotNullableMap[o]=!1;break}}return this}}createSetOperator(r,n){return s=>{const i=typeof s=="function"?s(Iye()):s;if(!Ll(this.getSelectedFields(),i.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:r,isAll:n,rightSelect:i}),this}}addSetOperators(r){return this.config.setOperators.push(...r),this}where(r){return typeof r=="function"&&(r=r(new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=r,this}having(r){return typeof r=="function"&&(r=r(new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=r,this}groupBy(...r){if(typeof r[0]=="function"){const n=r[0](new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(n)?n:[n]}else this.config.groupBy=r;return this}orderBy(...r){if(typeof r[0]=="function"){const n=r[0](new Proxy(this.config.fields,new kt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(n)?n:[n];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=s:this.config.orderBy=s}else{const n=r;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}return this}limit(r){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=r:this.config.limit=r,this}offset(r){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=r:this.config.offset=r,this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){const{typings:r,...n}=this.dialect.sqlToQuery(this.getSQL());return n}as(r){return new Proxy(new qr(this.getSQL(),this.config.fields,r),new kt({alias:r,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new kt({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}O(h4,npe,"SQLiteSelectQueryBuilder");class xx extends(ope=h4,ipe=ne,ope){constructor(){super(...arguments);O(this,"run",r=>this._prepare().run(r));O(this,"all",r=>this._prepare().all(r));O(this,"get",r=>this._prepare().get(r));O(this,"values",r=>this._prepare().values(r))}_prepare(r=!0){if(!this.session)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");const n=bi(this.config.fields),s=this.session[r?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),n,"all",!0);return s.joinsNotNullableMap=this.joinsNotNullableMap,s}prepare(){return this._prepare(!1)}async execute(){return this.all()}}O(xx,ipe,"SQLiteSelect"),d1(xx,[Bn]);function uv(t,e){return(r,n,...s)=>{const i=[n,...s].map(o=>({type:t,isAll:e,rightSelect:o}));for(const o of i)if(!Ll(r.getSelectedFields(),o.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(i)}}const Iye=()=>({union:_ye,unionAll:Lye,intersect:Dye,except:Mye}),_ye=uv("union",!1),Lye=uv("union",!0),Dye=uv("intersect",!1),Mye=uv("except",!1);ape=ne;class dv{constructor(e){O(this,"dialect");O(this,"dialectConfig");O(this,"$with",(e,r)=>{const n=this;return{as:i=>(typeof i=="function"&&(i=i(n)),new Proxy(new rd(i.getSQL(),r??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new kt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});this.dialect=ge(e,Gp)?e:void 0,this.dialectConfig=ge(e,Gp)?void 0:e}with(...e){const r=this;function n(i){return new Pl({fields:i??void 0,session:void 0,dialect:r.getDialect(),withList:e})}function s(i){return new Pl({fields:i??void 0,session:void 0,dialect:r.getDialect(),withList:e,distinct:!0})}return{select:n,selectDistinct:s}}select(e){return new Pl({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new Pl({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}getDialect(){return this.dialect||(this.dialect=new d4(this.dialectConfig)),this.dialect}}O(dv,ape,"SQLiteQueryBuilder"),lpe=ne;class wx{constructor(e,r,n,s){this.table=e,this.session=r,this.dialect=n,this.withList=s}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");const r=e.map(n=>{const s={},i=this.table[We.Symbol.Columns];for(const o of Object.keys(n)){const a=n[o];s[o]=ge(a,nt)?a:new zs(a,i[o])}return s});return new Ox(this.table,r,this.session,this.dialect,this.withList)}select(e){const r=typeof e=="function"?e(new dv):e;if(!ge(r,nt)&&!Ll(this.table[Rp],r._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new Ox(this.table,r,this.session,this.dialect,this.withList,!0)}}O(wx,lpe,"SQLiteInsertBuilder");class Ox extends(upe=Bn,cpe=ne,upe){constructor(r,n,s,i,o,a){super();O(this,"config");O(this,"run",r=>this._prepare().run(r));O(this,"all",r=>this._prepare().all(r));O(this,"get",r=>this._prepare().get(r));O(this,"values",r=>this._prepare().values(r));this.session=s,this.dialect=i,this.config={table:r,values:n,withList:o,select:a}}returning(r=this.config.table[En.Symbol.Columns]){return this.config.returning=bi(r),this}onConflictDoNothing(r={}){if(this.config.onConflict||(this.config.onConflict=[]),r.target===void 0)this.config.onConflict.push(q` on conflict do nothing`);else{const n=Array.isArray(r.target)?q`${r.target}`:q`${[r.target]}`,s=r.where?q` where ${r.where}`:q``;this.config.onConflict.push(q` on conflict ${n} do nothing${s}`)}return this}onConflictDoUpdate(r){if(r.where&&(r.targetWhere||r.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');this.config.onConflict||(this.config.onConflict=[]);const n=r.where?q` where ${r.where}`:void 0,s=r.targetWhere?q` where ${r.targetWhere}`:void 0,i=r.setWhere?q` where ${r.setWhere}`:void 0,o=Array.isArray(r.target)?q`${r.target}`:q`${[r.target]}`,a=this.dialect.buildUpdateSet(this.config.table,Bh(this.config.table,r.set));return this.config.onConflict.push(q` on conflict ${o}${s} do update set ${a}${n}${i}`),this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){const{typings:r,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(r=!0){return this.session[r?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0)}prepare(){return this._prepare(!1)}async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}O(Ox,cpe,"SQLiteInsert"),dpe=ne;class Ix{constructor(e,r,n,s){this.table=e,this.session=r,this.dialect=n,this.withList=s}set(e){return new f4(this.table,Bh(this.table,e),this.session,this.dialect,this.withList)}}O(Ix,dpe,"SQLiteUpdateBuilder");class f4 extends(fpe=Bn,hpe=ne,fpe){constructor(r,n,s,i,o){super();O(this,"config");O(this,"leftJoin",this.createJoin("left"));O(this,"rightJoin",this.createJoin("right"));O(this,"innerJoin",this.createJoin("inner"));O(this,"fullJoin",this.createJoin("full"));O(this,"run",r=>this._prepare().run(r));O(this,"all",r=>this._prepare().all(r));O(this,"get",r=>this._prepare().get(r));O(this,"values",r=>this._prepare().values(r));this.session=s,this.dialect=i,this.config={set:n,table:r,withList:o,joins:[]}}from(r){return this.config.from=r,this}createJoin(r){return(n,s)=>{const i=yo(n);if(typeof i=="string"&&this.config.joins.some(o=>o.alias===i))throw new Error(`Alias "${i}" is already used in this query`);if(typeof s=="function"){const o=this.config.from?ge(n,En)?n[We.Symbol.Columns]:ge(n,qr)?n._.selectedFields:ge(n,$p)?n[gr].selectedFields:void 0:void 0;s=s(new Proxy(this.config.table[We.Symbol.Columns],new kt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),o&&new Proxy(o,new kt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}return this.config.joins.push({on:s,table:n,joinType:r,alias:i}),this}}where(r){return this.config.where=r,this}orderBy(...r){if(typeof r[0]=="function"){const n=r[0](new Proxy(this.config.table[We.Symbol.Columns],new kt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(n)?n:[n];this.config.orderBy=s}else{const n=r;this.config.orderBy=n}return this}limit(r){return this.config.limit=r,this}returning(r=this.config.table[En.Symbol.Columns]){return this.config.returning=bi(r),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){const{typings:r,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(r=!0){return this.session[r?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0)}prepare(){return this._prepare(!1)}async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}O(f4,hpe,"SQLiteUpdate");const oS=class oS extends(Epe=nt,ppe=ne,mpe=Symbol.toStringTag,Epe){constructor(r){super(oS.buildEmbeddedCount(r.source,r.filters).queryChunks);O(this,"sql");O(this,mpe,"SQLiteCountBuilderAsync");O(this,"session");this.params=r,this.session=r.session,this.sql=oS.buildCount(r.source,r.filters)}static buildEmbeddedCount(r,n){return q`(select count(*) from ${r}${q.raw(" where ").if(n)}${n})`}static buildCount(r,n){return q`select count(*) from ${r}${q.raw(" where ").if(n)}${n}`}then(r,n){return Promise.resolve(this.session.count(this.sql)).then(r,n)}catch(r){return this.then(void 0,r)}finally(r){return this.then(n=>(r==null||r(),n),n=>{throw r==null||r(),n})}};O(oS,ppe,"SQLiteCountBuilderAsync");let _x=oS;gpe=ne;class m4{constructor(e,r,n,s,i,o,a,l){this.mode=e,this.fullSchema=r,this.schema=n,this.tableNamesMap=s,this.table=i,this.tableConfig=o,this.dialect=a,this.session=l}findMany(e){return this.mode==="sync"?new Lx(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many"):new hv(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return this.mode==="sync"?new Lx(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first"):new hv(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}O(m4,gpe,"SQLiteAsyncRelationalQueryBuilder");class hv extends(Spe=Bn,Tpe=ne,Spe){constructor(r,n,s,i,o,a,l,c,d){super();O(this,"mode");this.fullSchema=r,this.schema=n,this.tableNamesMap=s,this.table=i,this.tableConfig=o,this.dialect=a,this.session=l,this.config=c,this.mode=d}getSQL(){return this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}).sql}_prepare(r=!1){const{query:n,builtQuery:s}=this._toSQL();return this.session[r?"prepareOneTimeQuery":"prepareQuery"](s,void 0,this.mode==="first"?"get":"all",!0,(i,o)=>{const a=i.map(l=>wp(this.schema,this.tableConfig,l,n.selection,o));return this.mode==="first"?a[0]:a})}prepare(){return this._prepare(!1)}_toSQL(){const r=this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}),n=this.dialect.sqlToQuery(r.sql);return{query:r,builtQuery:n}}toSQL(){return this._toSQL().builtQuery}executeRaw(){return this.mode==="first"?this._prepare(!1).get():this._prepare(!1).all()}async execute(){return this.executeRaw()}}O(hv,Tpe,"SQLiteAsyncRelationalQuery");class Lx extends(ype=hv,vpe=ne,ype){sync(){return this.executeRaw()}}O(Lx,vpe,"SQLiteSyncRelationalQuery");class Vp extends(Rpe=Bn,Ape=ne,Rpe){constructor(r,n,s,i,o){super();O(this,"config");this.execute=r,this.getSQL=n,this.dialect=i,this.mapBatchResult=o,this.config={action:s}}getQuery(){return{...this.dialect.sqlToQuery(this.getSQL()),method:this.config.action}}mapResult(r,n){return n?this.mapBatchResult(r):r}_prepare(){return this}isResponseInArrayMode(){return!1}}O(Vp,Ape,"SQLiteRaw"),Npe=ne;class Dx{constructor(e,r,n,s){O(this,"query");O(this,"$with",(e,r)=>{const n=this;return{as:i=>(typeof i=="function"&&(i=i(new dv(n.dialect))),new Proxy(new rd(i.getSQL(),r??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new kt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});this.resultKind=e,this.dialect=r,this.session=n,this._=s?{schema:s.schema,fullSchema:s.fullSchema,tableNamesMap:s.tableNamesMap}:{schema:void 0,fullSchema:{},tableNamesMap:{}},this.query={};const i=this.query;if(this._.schema)for(const[o,a]of Object.entries(this._.schema))i[o]=new m4(e,s.fullSchema,this._.schema,this._.tableNamesMap,s.fullSchema[o],a,r,n)}$count(e,r){return new _x({source:e,filters:r,session:this.session})}with(...e){const r=this;function n(l){return new Pl({fields:l??void 0,session:r.session,dialect:r.dialect,withList:e})}function s(l){return new Pl({fields:l??void 0,session:r.session,dialect:r.dialect,withList:e,distinct:!0})}function i(l){return new Ix(l,r.session,r.dialect,e)}function o(l){return new wx(l,r.session,r.dialect,e)}function a(l){return new bx(l,r.session,r.dialect,e)}return{select:n,selectDistinct:s,update:i,insert:o,delete:a}}select(e){return new Pl({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new Pl({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}update(e){return new Ix(e,this.session,this.dialect)}insert(e){return new wx(e,this.session,this.dialect)}delete(e){return new bx(e,this.session,this.dialect)}run(e){const r=typeof e=="string"?q.raw(e):e.getSQL();return this.resultKind==="async"?new Vp(async()=>this.session.run(r),()=>r,"run",this.dialect,this.session.extractRawRunValueFromBatchResult.bind(this.session)):this.session.run(r)}all(e){const r=typeof e=="string"?q.raw(e):e.getSQL();return this.resultKind==="async"?new Vp(async()=>this.session.all(r),()=>r,"all",this.dialect,this.session.extractRawAllValueFromBatchResult.bind(this.session)):this.session.all(r)}get(e){const r=typeof e=="string"?q.raw(e):e.getSQL();return this.resultKind==="async"?new Vp(async()=>this.session.get(r),()=>r,"get",this.dialect,this.session.extractRawGetValueFromBatchResult.bind(this.session)):this.session.get(r)}values(e){const r=typeof e=="string"?q.raw(e):e.getSQL();return this.resultKind==="async"?new Vp(async()=>this.session.values(r),()=>r,"values",this.dialect,this.session.extractRawValuesValueFromBatchResult.bind(this.session)):this.session.values(r)}transaction(e,r){return this.session.transaction(e,r)}}O(Dx,Npe,"BaseSQLiteDatabase"),bpe=ne;class p4{constructor(e,r,n){O(this,"config");this.config={name:e,columns:r,unique:n,where:void 0}}where(e){return this.config.where=e,this}build(e){return new Pye(this.config,e)}}O(p4,bpe,"SQLiteIndexBuilder");let Pye=(Cpe=ne,x5=class{constructor(e,r){O(this,"config");this.config={...e,table:r}}},O(x5,Cpe,"SQLiteIndex"),x5);xpe=ne;class Mx{constructor(e,r){O(this,"columns");O(this,"name");this.columns=e,this.name=r}build(e){return new E4(e,this.columns,this.name)}}O(Mx,xpe,"SQLitePrimaryKeyBuilder"),wpe=ne;class E4{constructor(e,r,n){O(this,"columns");O(this,"name");this.table=e,this.columns=r,this.name=n}getName(){return this.name??`${this.table[En.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}O(E4,wpe,"SQLitePrimaryKey");class g4 extends(Ipe=Bn,Ope=ne,Ipe){constructor(e){super(),this.resultCb=e}async execute(){return this.resultCb()}sync(){return this.resultCb()}}O(g4,Ope,"ExecuteResultSync"),_pe=ne;class T4{constructor(e,r,n){O(this,"joinsNotNullableMap");this.mode=e,this.executeMethod=r,this.query=n}getQuery(){return this.query}mapRunResult(e,r){return e}mapAllResult(e,r){throw new Error("Not implemented")}mapGetResult(e,r){throw new Error("Not implemented")}execute(e){return this.mode==="async"?this[this.executeMethod](e):new g4(()=>this[this.executeMethod](e))}mapResult(e,r){switch(this.executeMethod){case"run":return this.mapRunResult(e,r);case"all":return this.mapAllResult(e,r);case"get":return this.mapGetResult(e,r)}}}O(T4,_pe,"PreparedQuery"),Lpe=ne;class S4{constructor(e){this.dialect=e}prepareOneTimeQuery(e,r,n,s){return this.prepareQuery(e,r,n,s)}run(e){const r=this.dialect.sqlToQuery(e);try{return this.prepareOneTimeQuery(r,void 0,"run",!1).run()}catch(n){throw new id({cause:n,message:`Failed to run the query '${r.sql}'`})}}extractRawRunValueFromBatchResult(e){return e}all(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).all()}extractRawAllValueFromBatchResult(e){throw new Error("Not implemented")}get(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).get()}extractRawGetValueFromBatchResult(e){throw new Error("Not implemented")}values(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).values()}async count(e){return(await this.values(e))[0][0]}extractRawValuesValueFromBatchResult(e){throw new Error("Not implemented")}}O(S4,Lpe,"SQLiteSession");class v4 extends(Mpe=Dx,Dpe=ne,Mpe){constructor(e,r,n,s,i=0){super(e,r,n,s),this.schema=s,this.nestedIndex=i}rollback(){throw new u1}}O(v4,Dpe,"SQLiteTransaction");function Px(t){const e=Object.values(t[En.Symbol.Columns]),r=[],n=[],s=[],i=[],o=Object.values(t[En.Symbol.InlineForeignKeys]),a=t[We.Symbol.Name],l=t[En.Symbol.ExtraConfigBuilder];if(l!==void 0){const c=l(t[En.Symbol.Columns]),d=Array.isArray(c)?c.flat(1):Object.values(c);for(const h of Object.values(d))ge(h,p4)?r.push(h.build(t)):ge(h,j9)?n.push(h.build(t)):ge(h,H9)?i.push(h.build(t)):ge(h,Mx)?s.push(h.build(t)):ge(h,gx)&&o.push(h.build(t))}return{columns:e,indexes:r,foreignKeys:o,checks:n,primaryKeys:s,uniqueConstraints:i,name:a}}function kye(t){return{...t[gr]}}Ppe=ne;class kx{constructor(e){O(this,"config",{});this.name=e}}O(kx,Ppe,"SQLiteViewBuilderCore");class y4 extends(Upe=kx,kpe=ne,Upe){as(e){typeof e=="function"&&(e=e(new dv));const r=new kt({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=e.getSelectedFields();return new Proxy(new zp({config:{name:this.name,schema:void 0,selectedFields:n,query:e.getSQL().inlineParams()}}),r)}}O(y4,kpe,"SQLiteViewBuilder");class A4 extends(Bpe=kx,jpe=ne,Bpe){constructor(r,n){super(r);O(this,"columns");this.columns=od(u4(r,n))}existing(){return new Proxy(new zp({config:{name:this.name,schema:void 0,selectedFields:this.columns,query:void 0}}),new kt({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(r){return new Proxy(new zp({config:{name:this.name,schema:void 0,selectedFields:this.columns,query:r.inlineParams()}}),new kt({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}O(A4,jpe,"SQLiteManualViewBuilder");class zp extends(Hpe=$p,Fpe=ne,Hpe){constructor({config:e}){super(e)}}O(zp,Fpe,"SQLiteView");function Uye(t,e){return e?new A4(t,e):new y4(t)}const jye=new TextDecoder;function Bye(t){const e={};if(Object.values(t.columns).forEach(r=>{const n=r.name,s=r.type;let i;s==="integer"?i=new Tx(n):s==="text"?i=new Rx(n,{}):s==="blob"?i=new N4(n):s==="real"?i=new Ax(n):i=new yx(n),r.isNotNull&&(i=i.notNull()),typeof r.defaultValue<"u"&&(i=i.default(q.raw(r.defaultValue))),r.isUnique&&(i=i.unique()),r.isPrimary&&(i=i.primaryKey()),r.generatedParams&&(i=i.generatedAlwaysAs(r.generatedParams.as,{mode:r.generatedParams.type})),e[n]=i}),t.type==="table")return u4(t.name,e,r=>{const n={};return Object.values(t.compositePrimaryKeys).forEach(s=>{const i=s.columns.map(o=>r[o]).filter(Boolean);n[s.name]=new Mx(i,s.name)}),n});if(t.type==="view")return Uye(t.name,e).existing();throw new Error("Unknown entity type")}class R4 extends(Gpe=Ys,$pe=ne,Gpe){getSQLType(){return"blob"}mapToDriverValue(e){return e}mapFromDriverValue(e){if(typeof e!="string"){const s=new Uint8Array(e);try{return{_type:"BINARY",value:jye.decode(s)}}catch{return{_type:"BINARY",value:btoa(String.fromCharCode(...s))}}}if(!/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return{_type:"BINARY",value:e};let n;try{if(n=atob(e),/[\x00-\x08\x0E-\x1F]/.test(n))n=e;else if(n.startsWith("{")||n.startsWith("["))try{n=JSON.parse(n)}catch{n=e}}catch{try{n=JSON.parse(e)}catch{n=e}}return{_type:"BINARY",value:n}}}O(R4,$pe,"SQLiteCustomBlob");class N4 extends(zpe=Yi,Vpe=ne,zpe){constructor(e){super(e,"buffer","SQLiteBlobBuffer")}build(e){return new R4(e,this.config)}}O(N4,Vpe,"SQLiteCustomBlobBuilder");const b4=(t,e)=>{if(t==="mysql"||t==="singlestore")return{dbTableToDrizzleTable:J0e};if(t==="postgresql"){const r=yye(e.enums);return{dbTableToDrizzleTable:n=>vye(n,r)}}else{if(t==="sqlite")return{dbTableToDrizzleTable:Bye};throw new Error(`Dialect ${t} is not supported`)}},$e=t=>t.flatMap(Fye),Fye=t=>fv($ye(t)).map(Hye),Hye=t=>t.replace(/ +/g," ").trim(),$ye=t=>({type:"mandatory_block",items:Ux(t,0)[0]}),Ux=(t,e,r)=>{const n=[];for(;t[e];){const[s,i]=Gye(t,e);if(n.push(s),e=i,t[e]==="|")e++;else if(t[e]==="}"||t[e]==="]"){if(r!==t[e])throw new Error(`Unbalanced parenthesis in: ${t}`);return e++,[n,e]}else if(e===t.length){if(r)throw new Error(`Unbalanced parenthesis in: ${t}`);return[n,e]}else throw new Error(`Unexpected "${t[e]}"`)}return[n,e]},Gye=(t,e)=>{const r=[];for(;;){const[n,s]=Vye(t,e);if(n)r.push(n),e=s;else break}return r.length===1?[r[0],e]:[{type:"concatenation",items:r},e]},Vye=(t,e)=>{if(t[e]==="{")return zye(t,e+1);if(t[e]==="[")return Wye(t,e+1);{let r="";for(;t[e]&&/[A-Za-z0-9_ ]/.test(t[e]);)r+=t[e],e++;return[r,e]}},zye=(t,e)=>{const[r,n]=Ux(t,e,"}");return[{type:"mandatory_block",items:r},n]},Wye=(t,e)=>{const[r,n]=Ux(t,e,"]");return[{type:"optional_block",items:r},n]},fv=t=>{if(typeof t=="string")return[t];if(t.type==="concatenation")return t.items.map(fv).reduce(Yye,[""]);if(t.type==="mandatory_block")return t.items.flatMap(fv);if(t.type==="optional_block")return["",...t.items.flatMap(fv)];throw new Error(`Unknown node type: ${t}`)},Yye=(t,e)=>{const r=[];for(const n of t)for(const s of e)r.push(n+s);return r};var qe;(function(t){t.QUOTED_IDENTIFIER="QUOTED_IDENTIFIER",t.IDENTIFIER="IDENTIFIER",t.STRING="STRING",t.VARIABLE="VARIABLE",t.RESERVED_DATA_TYPE="RESERVED_DATA_TYPE",t.RESERVED_PARAMETERIZED_DATA_TYPE="RESERVED_PARAMETERIZED_DATA_TYPE",t.RESERVED_KEYWORD="RESERVED_KEYWORD",t.RESERVED_FUNCTION_NAME="RESERVED_FUNCTION_NAME",t.RESERVED_PHRASE="RESERVED_PHRASE",t.RESERVED_SET_OPERATION="RESERVED_SET_OPERATION",t.RESERVED_CLAUSE="RESERVED_CLAUSE",t.RESERVED_SELECT="RESERVED_SELECT",t.RESERVED_JOIN="RESERVED_JOIN",t.ARRAY_IDENTIFIER="ARRAY_IDENTIFIER",t.ARRAY_KEYWORD="ARRAY_KEYWORD",t.CASE="CASE",t.END="END",t.WHEN="WHEN",t.ELSE="ELSE",t.THEN="THEN",t.LIMIT="LIMIT",t.BETWEEN="BETWEEN",t.AND="AND",t.OR="OR",t.XOR="XOR",t.OPERATOR="OPERATOR",t.COMMA="COMMA",t.ASTERISK="ASTERISK",t.PROPERTY_ACCESS_OPERATOR="PROPERTY_ACCESS_OPERATOR",t.OPEN_PAREN="OPEN_PAREN",t.CLOSE_PAREN="CLOSE_PAREN",t.LINE_COMMENT="LINE_COMMENT",t.BLOCK_COMMENT="BLOCK_COMMENT",t.DISABLE_COMMENT="DISABLE_COMMENT",t.NUMBER="NUMBER",t.NAMED_PARAMETER="NAMED_PARAMETER",t.QUOTED_PARAMETER="QUOTED_PARAMETER",t.NUMBERED_PARAMETER="NUMBERED_PARAMETER",t.POSITIONAL_PARAMETER="POSITIONAL_PARAMETER",t.CUSTOM_PARAMETER="CUSTOM_PARAMETER",t.DELIMITER="DELIMITER",t.EOF="EOF"})(qe=qe||(qe={}));const C4=t=>({type:qe.EOF,raw:"EOF",text:"EOF",start:t}),Kh=C4(1/0),Xh=t=>e=>e.type===t.type&&e.text===t.text,dd={ARRAY:Xh({text:"ARRAY",type:qe.RESERVED_DATA_TYPE}),BY:Xh({text:"BY",type:qe.RESERVED_KEYWORD}),SET:Xh({text:"SET",type:qe.RESERVED_CLAUSE}),STRUCT:Xh({text:"STRUCT",type:qe.RESERVED_DATA_TYPE}),WINDOW:Xh({text:"WINDOW",type:qe.RESERVED_CLAUSE}),VALUES:Xh({text:"VALUES",type:qe.RESERVED_CLAUSE})},x4=t=>t===qe.RESERVED_DATA_TYPE||t===qe.RESERVED_KEYWORD||t===qe.RESERVED_FUNCTION_NAME||t===qe.RESERVED_PHRASE||t===qe.RESERVED_CLAUSE||t===qe.RESERVED_SELECT||t===qe.RESERVED_SET_OPERATION||t===qe.RESERVED_JOIN||t===qe.ARRAY_KEYWORD||t===qe.CASE||t===qe.END||t===qe.WHEN||t===qe.ELSE||t===qe.THEN||t===qe.LIMIT||t===qe.BETWEEN||t===qe.AND||t===qe.OR||t===qe.XOR,qye=t=>t===qe.AND||t===qe.OR||t===qe.XOR,Kye=["KEYS.NEW_KEYSET","KEYS.ADD_KEY_FROM_RAW_BYTES","AEAD.DECRYPT_BYTES","AEAD.DECRYPT_STRING","AEAD.ENCRYPT","KEYS.KEYSET_CHAIN","KEYS.KEYSET_FROM_JSON","KEYS.KEYSET_TO_JSON","KEYS.ROTATE_KEYSET","KEYS.KEYSET_LENGTH","ANY_VALUE","ARRAY_AGG","AVG","CORR","COUNT","COUNTIF","COVAR_POP","COVAR_SAMP","MAX","MIN","ST_CLUSTERDBSCAN","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","VAR_POP","VAR_SAMP","ANY_VALUE","ARRAY_AGG","ARRAY_CONCAT_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","COUNTIF","LOGICAL_AND","LOGICAL_OR","MAX","MIN","STRING_AGG","SUM","APPROX_COUNT_DISTINCT","APPROX_QUANTILES","APPROX_TOP_COUNT","APPROX_TOP_SUM","ARRAY_CONCAT","ARRAY_LENGTH","ARRAY_TO_STRING","GENERATE_ARRAY","GENERATE_DATE_ARRAY","GENERATE_TIMESTAMP_ARRAY","ARRAY_REVERSE","OFFSET","SAFE_OFFSET","ORDINAL","SAFE_ORDINAL","BIT_COUNT","PARSE_BIGNUMERIC","PARSE_NUMERIC","SAFE_CAST","CURRENT_DATE","EXTRACT","DATE","DATE_ADD","DATE_SUB","DATE_DIFF","DATE_TRUNC","DATE_FROM_UNIX_DATE","FORMAT_DATE","LAST_DAY","PARSE_DATE","UNIX_DATE","CURRENT_DATETIME","DATETIME","EXTRACT","DATETIME_ADD","DATETIME_SUB","DATETIME_DIFF","DATETIME_TRUNC","FORMAT_DATETIME","LAST_DAY","PARSE_DATETIME","ERROR","EXTERNAL_QUERY","S2_CELLIDFROMPOINT","S2_COVERINGCELLIDS","ST_ANGLE","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_AZIMUTH","ST_BOUNDARY","ST_BOUNDINGBOX","ST_BUFFER","ST_BUFFERWITHTOLERANCE","ST_CENTROID","ST_CENTROID_AGG","ST_CLOSESTPOINT","ST_CLUSTERDBSCAN","ST_CONTAINS","ST_CONVEXHULL","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DUMP","ST_DWITHIN","ST_ENDPOINT","ST_EQUALS","ST_EXTENT","ST_EXTERIORRING","ST_GEOGFROM","ST_GEOGFROMGEOJSON","ST_GEOGFROMTEXT","ST_GEOGFROMWKB","ST_GEOGPOINT","ST_GEOGPOINTFROMGEOHASH","ST_GEOHASH","ST_GEOMETRYTYPE","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_INTERSECTSBOX","ST_ISCOLLECTION","ST_ISEMPTY","ST_LENGTH","ST_MAKELINE","ST_MAKEPOLYGON","ST_MAKEPOLYGONORIENTED","ST_MAXDISTANCE","ST_NPOINTS","ST_NUMGEOMETRIES","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SIMPLIFY","ST_SNAPTOGRID","ST_STARTPOINT","ST_TOUCHES","ST_UNION","ST_UNION_AGG","ST_WITHIN","ST_X","ST_Y","FARM_FINGERPRINT","MD5","SHA1","SHA256","SHA512","HLL_COUNT.INIT","HLL_COUNT.MERGE","HLL_COUNT.MERGE_PARTIAL","HLL_COUNT.EXTRACT","MAKE_INTERVAL","EXTRACT","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","JSON_EXTRACT","JSON_QUERY","JSON_EXTRACT_SCALAR","JSON_VALUE","JSON_EXTRACT_ARRAY","JSON_QUERY_ARRAY","JSON_EXTRACT_STRING_ARRAY","JSON_VALUE_ARRAY","TO_JSON_STRING","ABS","SIGN","IS_INF","IS_NAN","IEEE_DIVIDE","RAND","SQRT","POW","POWER","EXP","LN","LOG","LOG10","GREATEST","LEAST","DIV","SAFE_DIVIDE","SAFE_MULTIPLY","SAFE_NEGATE","SAFE_ADD","SAFE_SUBTRACT","MOD","ROUND","TRUNC","CEIL","CEILING","FLOOR","COS","COSH","ACOS","ACOSH","SIN","SINH","ASIN","ASINH","TAN","TANH","ATAN","ATANH","ATAN2","RANGE_BUCKET","FIRST_VALUE","LAST_VALUE","NTH_VALUE","LEAD","LAG","PERCENTILE_CONT","PERCENTILE_DISC","NET.IP_FROM_STRING","NET.SAFE_IP_FROM_STRING","NET.IP_TO_STRING","NET.IP_NET_MASK","NET.IP_TRUNC","NET.IPV4_FROM_INT64","NET.IPV4_TO_INT64","NET.HOST","NET.PUBLIC_SUFFIX","NET.REG_DOMAIN","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","ROW_NUMBER","SESSION_USER","CORR","COVAR_POP","COVAR_SAMP","STDDEV_POP","STDDEV_SAMP","STDDEV","VAR_POP","VAR_SAMP","VARIANCE","ASCII","BYTE_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CODE_POINTS_TO_BYTES","CODE_POINTS_TO_STRING","CONCAT","CONTAINS_SUBSTR","ENDS_WITH","FORMAT","FROM_BASE32","FROM_BASE64","FROM_HEX","INITCAP","INSTR","LEFT","LENGTH","LPAD","LOWER","LTRIM","NORMALIZE","NORMALIZE_AND_CASEFOLD","OCTET_LENGTH","REGEXP_CONTAINS","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","REPEAT","REVERSE","RIGHT","RPAD","RTRIM","SAFE_CONVERT_BYTES_TO_STRING","SOUNDEX","SPLIT","STARTS_WITH","STRPOS","SUBSTR","SUBSTRING","TO_BASE32","TO_BASE64","TO_CODE_POINTS","TO_HEX","TRANSLATE","TRIM","UNICODE","UPPER","CURRENT_TIME","TIME","EXTRACT","TIME_ADD","TIME_SUB","TIME_DIFF","TIME_TRUNC","FORMAT_TIME","PARSE_TIME","CURRENT_TIMESTAMP","EXTRACT","STRING","TIMESTAMP","TIMESTAMP_ADD","TIMESTAMP_SUB","TIMESTAMP_DIFF","TIMESTAMP_TRUNC","FORMAT_TIMESTAMP","PARSE_TIMESTAMP","TIMESTAMP_SECONDS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UNIX_SECONDS","UNIX_MILLIS","UNIX_MICROS","GENERATE_UUID","COALESCE","IF","IFNULL","NULLIF","AVG","BIT_AND","BIT_OR","BIT_XOR","CORR","COUNT","COVAR_POP","COVAR_SAMP","EXACT_COUNT_DISTINCT","FIRST","GROUP_CONCAT","GROUP_CONCAT_UNQUOTED","LAST","MAX","MIN","NEST","NTH","QUANTILES","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","TOP","UNIQUE","VARIANCE","VAR_POP","VAR_SAMP","BIT_COUNT","BOOLEAN","BYTES","CAST","FLOAT","HEX_STRING","INTEGER","STRING","COALESCE","GREATEST","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","LEAST","NVL","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC","USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","WEEK","YEAR","FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP","JSON_EXTRACT","JSON_EXTRACT_SCALAR","ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","RAND","ROUND","SIN","SINH","SQRT","TAN","TANH","REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE","CONCAT","INSTR","LEFT","LENGTH","LOWER","LPAD","LTRIM","REPLACE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTR","UPPER","TABLE_DATE_RANGE","TABLE_DATE_RANGE_STRICT","TABLE_QUERY","HOST","DOMAIN","TLD","AVG","COUNT","MAX","MIN","STDDEV","SUM","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","CURRENT_USER","EVERY","FROM_BASE64","HASH","FARM_FINGERPRINT","IF","POSITION","SHA1","SOME","TO_BASE64","BQ.JOBS.CANCEL","BQ.REFRESH_MATERIALIZED_VIEW","OPTIONS","PIVOT","UNPIVOT"],Xye=["ALL","AND","ANY","AS","ASC","ASSERT_ROWS_MODIFIED","AT","BETWEEN","BY","CASE","CAST","COLLATE","CONTAINS","CREATE","CROSS","CUBE","CURRENT","DEFAULT","DEFINE","DESC","DISTINCT","ELSE","END","ENUM","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","GROUP","GROUPING","GROUPS","HASH","HAVING","IF","IGNORE","IN","INNER","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LIMIT","LOOKUP","MERGE","NATURAL","NEW","NO","NOT","NULL","NULLS","OF","ON","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PROTO","RANGE","RECURSIVE","RESPECT","RIGHT","ROLLUP","ROWS","SELECT","SET","SOME","TABLE","TABLESAMPLE","THEN","TO","TREAT","TRUE","UNBOUNDED","UNION","UNNEST","USING","WHEN","WHERE","WINDOW","WITH","WITHIN","SAFE","LIKE","COPY","CLONE","IN","OUT","INOUT","RETURNS","LANGUAGE","CASCADE","RESTRICT","DETERMINISTIC"],Qye=["ARRAY","BOOL","BYTES","DATE","DATETIME","GEOGRAPHY","INTERVAL","INT64","INT","SMALLINT","INTEGER","BIGINT","TINYINT","BYTEINT","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","FLOAT64","STRING","STRUCT","TIME","TIMEZONE"],Jye=$e(["SELECT [ALL | DISTINCT] [AS STRUCT | AS VALUE]"]),Zye=$e(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","OMIT RECORD IF","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY SOURCE | BY TARGET] [THEN]","UPDATE SET","CLUSTER BY","FOR SYSTEM_TIME AS OF","WITH CONNECTION","WITH PARTITION COLUMNS","REMOTE WITH CONNECTION"]),w4=$e(["CREATE [OR REPLACE] [TEMP|TEMPORARY|SNAPSHOT|EXTERNAL] TABLE [IF NOT EXISTS]"]),jx=$e(["CREATE [OR REPLACE] [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE [FROM]","DROP [SNAPSHOT | EXTERNAL] TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME TO","ALTER COLUMN [IF EXISTS]","SET DEFAULT COLLATE","SET OPTIONS","DROP NOT NULL","SET DATA TYPE","ALTER SCHEMA [IF EXISTS]","ALTER [MATERIALIZED] VIEW [IF EXISTS]","ALTER BI_CAPACITY","TRUNCATE TABLE","CREATE SCHEMA [IF NOT EXISTS]","DEFAULT COLLATE","CREATE [OR REPLACE] [TEMP|TEMPORARY|TABLE] FUNCTION [IF NOT EXISTS]","CREATE [OR REPLACE] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] ROW ACCESS POLICY [IF NOT EXISTS]","GRANT TO","FILTER USING","CREATE CAPACITY","AS JSON","CREATE RESERVATION","CREATE ASSIGNMENT","CREATE SEARCH INDEX [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","DROP [MATERIALIZED] VIEW [IF EXISTS]","DROP [TABLE] FUNCTION [IF EXISTS]","DROP PROCEDURE [IF EXISTS]","DROP ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","DROP CAPACITY [IF EXISTS]","DROP RESERVATION [IF EXISTS]","DROP ASSIGNMENT [IF EXISTS]","DROP SEARCH INDEX [IF EXISTS]","DROP [IF EXISTS]","GRANT","REVOKE","DECLARE","EXECUTE IMMEDIATE","LOOP","END LOOP","REPEAT","END REPEAT","WHILE","END WHILE","BREAK","LEAVE","CONTINUE","ITERATE","FOR","END FOR","BEGIN","BEGIN TRANSACTION","COMMIT TRANSACTION","ROLLBACK TRANSACTION","RAISE","RETURN","CALL","ASSERT","EXPORT DATA"]),eAe=$e(["UNION {ALL | DISTINCT}","EXCEPT DISTINCT","INTERSECT DISTINCT"]),tAe=$e(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),rAe=$e(["TABLESAMPLE SYSTEM","ANY TYPE","ALL COLUMNS","NOT DETERMINISTIC","{ROWS | RANGE} BETWEEN","IS [NOT] DISTINCT FROM"]),nAe={name:"bigquery",tokenizerOptions:{reservedSelect:Jye,reservedClauses:[...Zye,...jx,...w4],reservedSetOperations:eAe,reservedJoins:tAe,reservedPhrases:rAe,reservedKeywords:Xye,reservedDataTypes:Qye,reservedFunctionNames:Kye,extraParens:["[]"],stringTypes:[{quote:'""".."""',prefixes:["R","B","RB","BR"]},{quote:"'''..'''",prefixes:["R","B","RB","BR"]},'""-bs',"''-bs",{quote:'""-raw',prefixes:["R","B","RB","BR"],requirePrefix:!0},{quote:"''-raw",prefixes:["R","B","RB","BR"],requirePrefix:!0}],identTypes:["``"],identChars:{dashes:!0},paramTypes:{positional:!0,named:["@"],quoted:["@"]},variableTypes:[{regex:String.raw`@@\w+`}],lineCommentTypes:["--","#"],operators:["&","|","^","~",">>","<<","||","=>"],postProcess:sAe},formatOptions:{onelineClauses:[...w4,...jx],tabularOnelineClauses:jx}};function sAe(t){return iAe(oAe(t))}function iAe(t){let e=Kh;return t.map(r=>r.text==="OFFSET"&&e.text==="["?(e=r,Object.assign(Object.assign({},r),{type:qe.RESERVED_FUNCTION_NAME})):(e=r,r))}function oAe(t){var e;const r=[];for(let n=0;n<t.length;n++){const s=t[n];if((dd.ARRAY(s)||dd.STRUCT(s))&&((e=t[n+1])===null||e===void 0?void 0:e.text)==="<"){const i=aAe(t,n+1),o=t.slice(n,i+1);r.push({type:qe.IDENTIFIER,raw:o.map(O4("raw")).join(""),text:o.map(O4("text")).join(""),start:s.start}),n=i}else r.push(s)}return r}const O4=t=>e=>e.type===qe.IDENTIFIER||e.type===qe.COMMA?e[t]+" ":e[t];function aAe(t,e){let r=0;for(let n=e;n<t.length;n++){const s=t[n];if(s.text==="<"?r++:s.text===">"?r--:s.text===">>"&&(r-=2),r===0)return n}return t.length-1}const lAe=["ARRAY_AGG","AVG","CORRELATION","COUNT","COUNT_BIG","COVARIANCE","COVARIANCE_SAMP","CUME_DIST","GROUPING","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_ICPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_SAMP","SUM","VARIANCE","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","AGE","ARRAY_DELETE","ARRAY_FIRST","ARRAY_LAST","ARRAY_NEXT","ARRAY_PRIOR","ASCII","ASCII_STR","ASIN","ATAN","ATAN2","ATANH","BITAND","BITANDNOT","BITOR","BITXOR","BITNOT","BPCHAR","BSON_TO_JSON","BTRIM","CARDINALITY","CEILING","CEIL","CHARACTER_LENGTH","CHR","COALESCE","COLLATION_KEY","COLLATION_KEY_BIT","COMPARE_DECFLOAT","CONCAT","COS","COSH","COT","CURSOR_ROWCOUNT","DATAPARTITIONNUM","DATE_PART","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFWEEK_ISO","DAYOFYEAR","DAYS","DAYS_BETWEEN","DAYS_TO_END_OF_MONTH","DBPARTITIONNUM","DECFLOAT","DECFLOAT_FORMAT","DECODE","DECRYPT_BIN","DECRYPT_CHAR","DEGREES","DEREF","DIFFERENCE","DIGITS","DOUBLE_PRECISION","EMPTY_BLOB","EMPTY_CLOB","EMPTY_DBCLOB","EMPTY_NCLOB","ENCRYPT","EVENT_MON_STATE","EXP","EXTRACT","FIRST_DAY","FLOOR","FROM_UTC_TIMESTAMP","GENERATE_UNIQUE","GETHINT","GREATEST","HASH","HASH4","HASH8","HASHEDVALUE","HEX","HEXTORAW","HOUR","HOURS_BETWEEN","IDENTITY_VAL_LOCAL","IFNULL","INITCAP","INSERT","INSTR","INSTR2","INSTR4","INSTRB","INTNAND","INTNOR","INTNXOR","INTNNOT","ISNULL","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_VALUE","JULIAN_DAY","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LENGTH2","LENGTH4","LENGTHB","LN","LOCATE","LOCATE_IN_STRING","LOG10","LONG_VARCHAR","LONG_VARGRAPHIC","LOWER","LPAD","LTRIM","MAX","MAX_CARDINALITY","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MINUTES_BETWEEN","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MULTIPLY_ALT","NEXT_DAY","NEXT_MONTH","NEXT_QUARTER","NEXT_WEEK","NEXT_YEAR","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARAMETER","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","QUOTE_IDENT","QUOTE_LITERAL","RADIANS","RAISE_ERROR","RAND","RANDOM","RAWTOHEX","REC2XML","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_MATCH_COUNT","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RID_BIT","RIGHT","ROUND","ROUND_TIMESTAMP","RPAD","RTRIM","SECLABEL","SECLABEL_BY_NAME","SECLABEL_TO_CHAR","SECOND","SECONDS_BETWEEN","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTR2","SUBSTR4","SUBSTRB","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","THIS_MONTH","THIS_QUARTER","THIS_WEEK","THIS_YEAR","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF","TIMEZONE","TO_CHAR","TO_CLOB","TO_DATE","TO_HEX","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_UTC_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM","TRIM_ARRAY","TRUNC_TIMESTAMP","TRUNCATE","TRUNC","TYPE_ID","TYPE_NAME","TYPE_SCHEMA","UCASE","UNICODE_STR","UPPER","VALUE","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT","VARCHAR_FORMAT_BIT","VERIFY_GROUP_FOR_USER","VERIFY_ROLE_FOR_USER","VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER","WEEK","WEEK_ISO","WEEKS_BETWEEN","WIDTH_BUCKET","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLQUERY","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XMLXSROBJECTID","XSLTRANSFORM","YEAR","YEARS_BETWEEN","YMD_BETWEEN","BASE_TABLE","JSON_TABLE","UNNEST","XMLTABLE","RANK","DENSE_RANK","NTILE","LAG","LEAD","ROW_NUMBER","FIRST_VALUE","LAST_VALUE","NTH_VALUE","RATIO_TO_REPORT","CAST"],cAe=["ACTIVATE","ADD","AFTER","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","AS","ASENSITIVE","ASSOCIATE","ASUTIME","AT","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","BEFORE","BEGIN","BETWEEN","BINARY","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CHECK","CLONE","CLOSE","CLUSTER","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","COUNT","COUNT_BIG","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST1","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GRAPHIC","GROUP","HANDLER","HASH","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IMPORT","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INTEGRITY","INTERSECT","INTO","IS","ISNULL","ISOBID","ISOLATION","ITERATE","JAR","JAVA","JOIN","KEEP","KEY","LABEL","LANGUAGE","LAST3","LATERAL","LC_CTYPE","LEAVE","LEFT","LIKE","LIMIT","LINKTYPE","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LOOP","MAINTAINED","MATERIALIZED","MAXVALUE","MICROSECOND","MICROSECONDS","MINUTE","MINUTES","MINVALUE","MODE","MODIFIES","MONTH","MONTHS","NAN","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT2","NOTNULL","NULL","NULLS","NUMPARTS","OBID","OF","OFF","OFFSET","OLD","OLD_TABLE","ON","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","OR","ORDER","OUT","OUTER","OVER","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENT","PIECESIZE","PLAN","POSITION","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STOGROUP","STORES","STYLE","SUBSTRING","SUMMARY","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESPACE","THEN","TO","TRANSACTION","TRIGGER","TRIM","TRUNCATE","TYPE","UNDO","UNION","UNIQUE","UNTIL","UPDATE","USAGE","USER","USING","VALIDPROC","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],uAe=["ARRAY","BIGINT","BINARY","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATE","DATETIME","DBCLOB","DEC","DECIMAL","DOUBLE","DOUBLE PRECISION","FLOAT","FLOAT4","FLOAT8","GRAPHIC","INT","INT2","INT4","INT8","INTEGER","INTERVAL","LONG VARCHAR","LONG VARGRAPHIC","NCHAR","NCHR","NCLOB","NVARCHAR","NUMERIC","SMALLINT","REAL","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC"],dAe=$e(["SELECT [ALL | DISTINCT]"]),hAe=$e(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH NEXT","FOR UPDATE [OF]","FOR {READ | FETCH} ONLY","FOR {RR | CS | UR | RS} [USE AND KEEP {SHARE | UPDATE | EXCLUSIVE} LOCKS]","WAIT FOR OUTCOME","SKIP LOCKED DATA","INTO","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT"]),I4=$e(["CREATE [GLOBAL TEMPORARY | EXTERNAL] TABLE [IF NOT EXISTS]"]),Bx=$e(["CREATE [OR REPLACE] VIEW","UPDATE","WHERE CURRENT OF","WITH {RR | RS | CS | UR}","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME COLUMN","ALTER [COLUMN]","SET DATA TYPE","SET NOT NULL","DROP {DEFAULT | GENERATED | NOT NULL}","TRUNCATE [TABLE]","ALLOCATE","ALTER AUDIT POLICY","ALTER BUFFERPOOL","ALTER DATABASE PARTITION GROUP","ALTER DATABASE","ALTER EVENT MONITOR","ALTER FUNCTION","ALTER HISTOGRAM TEMPLATE","ALTER INDEX","ALTER MASK","ALTER METHOD","ALTER MODULE","ALTER NICKNAME","ALTER PACKAGE","ALTER PERMISSION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SECURITY LABEL COMPONENT","ALTER SECURITY POLICY","ALTER SEQUENCE","ALTER SERVER","ALTER SERVICE CLASS","ALTER STOGROUP","ALTER TABLESPACE","ALTER THRESHOLD","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER TYPE","ALTER USAGE LIST","ALTER USER MAPPING","ALTER VIEW","ALTER WORK ACTION SET","ALTER WORK CLASS SET","ALTER WORKLOAD","ALTER WRAPPER","ALTER XSROBJECT","ALTER STOGROUP","ALTER TABLESPACE","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER VIEW","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","AUDIT","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON","COMMIT [WORK]","CONNECT","CREATE [OR REPLACE] [PUBLIC] ALIAS","CREATE AUDIT POLICY","CREATE BUFFERPOOL","CREATE DATABASE PARTITION GROUP","CREATE EVENT MONITOR","CREATE [OR REPLACE] FUNCTION","CREATE FUNCTION MAPPING","CREATE HISTOGRAM TEMPLATE","CREATE [UNIQUE] INDEX","CREATE INDEX EXTENSION","CREATE [OR REPLACE] MASK","CREATE [SPECIFIC] METHOD","CREATE [OR REPLACE] MODULE","CREATE [OR REPLACE] NICKNAME","CREATE [OR REPLACE] PERMISSION","CREATE [OR REPLACE] PROCEDURE","CREATE ROLE","CREATE SCHEMA","CREATE SECURITY LABEL [COMPONENT]","CREATE SECURITY POLICY","CREATE [OR REPLACE] SEQUENCE","CREATE SERVICE CLASS","CREATE SERVER","CREATE STOGROUP","CREATE SYNONYM","CREATE [LARGE | REGULAR | {SYSTEM | USER} TEMPORARY] TABLESPACE","CREATE THRESHOLD","CREATE {TRANSFORM | TRANSFORMS} FOR","CREATE [OR REPLACE] TRIGGER","CREATE TRUSTED CONTEXT","CREATE [OR REPLACE] TYPE","CREATE TYPE MAPPING","CREATE USAGE LIST","CREATE USER MAPPING FOR","CREATE [OR REPLACE] VARIABLE","CREATE WORK ACTION SET","CREATE WORK CLASS SET","CREATE WORKLOAD","CREATE WRAPPER","DECLARE","DECLARE GLOBAL TEMPORARY TABLE","DESCRIBE [INPUT | OUTPUT]","DISCONNECT","DROP [PUBLIC] ALIAS","DROP AUDIT POLICY","DROP BUFFERPOOL","DROP DATABASE PARTITION GROUP","DROP EVENT MONITOR","DROP [SPECIFIC] FUNCTION","DROP FUNCTION MAPPING","DROP HISTOGRAM TEMPLATE","DROP INDEX [EXTENSION]","DROP MASK","DROP [SPECIFIC] METHOD","DROP MODULE","DROP NICKNAME","DROP PACKAGE","DROP PERMISSION","DROP [SPECIFIC] PROCEDURE","DROP ROLE","DROP SCHEMA","DROP SECURITY LABEL [COMPONENT]","DROP SECURITY POLICY","DROP SEQUENCE","DROP SERVER","DROP SERVICE CLASS","DROP STOGROUP","DROP TABLE HIERARCHY","DROP {TABLESPACE | TABLESPACES}","DROP {TRANSFORM | TRANSFORMS}","DROP THRESHOLD","DROP TRIGGER","DROP TRUSTED CONTEXT","DROP TYPE [MAPPING]","DROP USAGE LIST","DROP USER MAPPING FOR","DROP VARIABLE","DROP VIEW [HIERARCHY]","DROP WORK {ACTION | CLASS} SET","DROP WORKLOAD","DROP WRAPPER","DROP XSROBJECT","END DECLARE SECTION","EXECUTE [IMMEDIATE]","EXPLAIN {PLAN [SECTION] | ALL}","FETCH [FROM]","FLUSH {BUFFERPOOL | BUFFERPOOLS} ALL","FLUSH EVENT MONITOR","FLUSH FEDERATED CACHE","FLUSH OPTIMIZATION PROFILE CACHE","FLUSH PACKAGE CACHE [DYNAMIC]","FLUSH AUTHENTICATION CACHE [FOR ALL]","FREE LOCATOR","GET DIAGNOSTICS","GOTO","GRANT","INCLUDE","ITERATE","LEAVE","LOCK TABLE","LOOP","OPEN","PIPE","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX | STOGROUP | TABLESPACE]","REPEAT","RESIGNAL","RETURN","REVOKE","ROLLBACK [WORK] [TO SAVEPOINT]","SAVEPOINT","SET COMPILATION ENVIRONMENT","SET CONNECTION","SET CURRENT","SET ENCRYPTION PASSWORD","SET EVENT MONITOR STATE","SET INTEGRITY","SET PASSTHRU","SET PATH","SET ROLE","SET SCHEMA","SET SERVER OPTION","SET {SESSION AUTHORIZATION | SESSION_USER}","SET USAGE LIST","SIGNAL","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}","WHILE"]),fAe=$e(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),mAe=$e(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),pAe=$e(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),EAe={name:"db2",tokenizerOptions:{reservedSelect:dAe,reservedClauses:[...hAe,...I4,...Bx],reservedSetOperations:fAe,reservedJoins:mAe,reservedPhrases:pAe,reservedKeywords:cAe,reservedDataTypes:uAe,reservedFunctionNames:lAe,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N","U&"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","%","|","&","^","~","=",">","<","!>","!<","^=","^>","^<","||","->","=>"]},formatOptions:{onelineClauses:[...I4,...Bx],tabularOnelineClauses:Bx}},gAe=["ARRAY_AGG","AVG","CORR","CORRELATION","COUNT","COUNT_BIG","COVAR_POP","COVARIANCE","COVAR","COVAR_SAMP","COVARIANCE_SAMP","EVERY","GROUPING","JSON_ARRAYAGG","JSON_OBJECTAGG","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","SOME","STDDEV_POP","STDDEV","STDDEV_SAMP","SUM","VAR_POP","VARIANCE","VAR","VAR_SAMP","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","ANTILOG","ARRAY_MAX_CARDINALITY","ARRAY_TRIM","ASCII","ASIN","ATAN","ATAN2","ATANH","BASE64_DECODE","BASE64_ENCODE","BIT_LENGTH","BITAND","BITANDNOT","BITNOT","BITOR","BITXOR","BSON_TO_JSON","CARDINALITY","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","COALESCE","COMPARE_DECFLOAT","CONCAT","CONTAINS","COS","COSH","COT","CURDATE","CURTIME","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK_ISO","DAYOFWEEK","DAYOFYEAR","DAYS","DBPARTITIONNAME","DBPARTITIONNUM","DECFLOAT_FORMAT","DECFLOAT_SORTKEY","DECRYPT_BINARY","DECRYPT_BIT","DECRYPT_CHAR","DECRYPT_DB","DEGREES","DIFFERENCE","DIGITS","DLCOMMENT","DLLINKTYPE","DLURLCOMPLETE","DLURLPATH","DLURLPATHONLY","DLURLSCHEME","DLURLSERVER","DLVALUE","DOUBLE_PRECISION","DOUBLE","ENCRPYT","ENCRYPT_AES","ENCRYPT_AES256","ENCRYPT_RC2","ENCRYPT_TDES","EXP","EXTRACT","FIRST_DAY","FLOOR","GENERATE_UNIQUE","GET_BLOB_FROM_FILE","GET_CLOB_FROM_FILE","GET_DBCLOB_FROM_FILE","GET_XML_FILE","GETHINT","GREATEST","HASH_MD5","HASH_ROW","HASH_SHA1","HASH_SHA256","HASH_SHA512","HASH_VALUES","HASHED_VALUE","HEX","HEXTORAW","HOUR","HTML_ENTITY_DECODE","HTML_ENTITY_ENCODE","HTTP_DELETE_BLOB","HTTP_DELETE","HTTP_GET_BLOB","HTTP_GET","HTTP_PATCH_BLOB","HTTP_PATCH","HTTP_POST_BLOB","HTTP_POST","HTTP_PUT_BLOB","HTTP_PUT","IDENTITY_VAL_LOCAL","IFNULL","INSERT","INSTR","INTERPRET","ISFALSE","ISNOTFALSE","ISNOTTRUE","ISTRUE","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_UPDATE","JSON_VALUE","JULIAN_DAY","LAND","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LN","LNOT","LOCATE_IN_STRING","LOCATE","LOG10","LOR","LOWER","LPAD","LTRIM","MAX_CARDINALITY","MAX","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MQREAD","MQREADCLOB","MQRECEIVE","MQRECEIVECLOB","MQSEND","MULTIPLY_ALT","NEXT_DAY","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","OCTET_LENGTH","OVERLAY","PI","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","RADIANS","RAISE_ERROR","RANDOM","RAND","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RIGHT","ROUND_TIMESTAMP","ROUND","RPAD","RRN","RTRIM","SCORE","SECOND","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF_BIG","TIMESTAMPDIFF","TO_CHAR","TO_CLOB","TO_DATE","TO_NUMBER","TO_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM_ARRAY","TRIM","TRUNC_TIMESTAMP","TRUNC","TRUNCATE","UCASE","UPPER","URL_DECODE","URL_ENCODE","VALUE","VARBINARY_FORMAT","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT_BINARY","VARCHAR_FORMAT","VERIFY_GROUP_FOR_USER","WEEK_ISO","WEEK","WRAP","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XOR","XSLTRANSFORM","YEAR","ZONED","BASE_TABLE","HTTP_DELETE_BLOB_VERBOSE","HTTP_DELETE_VERBOSE","HTTP_GET_BLOB_VERBOSE","HTTP_GET_VERBOSE","HTTP_PATCH_BLOB_VERBOSE","HTTP_PATCH_VERBOSE","HTTP_POST_BLOB_VERBOSE","HTTP_POST_VERBOSE","HTTP_PUT_BLOB_VERBOSE","HTTP_PUT_VERBOSE","JSON_TABLE","MQREADALL","MQREADALLCLOB","MQRECEIVEALL","MQRECEIVEALLCLOB","XMLTABLE","UNPACK","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","RATIO_TO_REPORT","ROW_NUMBER","CAST"],TAe=["ABSENT","ACCORDING","ACCTNG","ACTION","ACTIVATE","ADD","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","APPEND","APPLNAME","ARRAY","ARRAY_AGG","ARRAY_TRIM","AS","ASC","ASENSITIVE","ASSOCIATE","ATOMIC","ATTACH","ATTRIBUTES","AUTHORIZATION","AUTONOMOUS","BEFORE","BEGIN","BETWEEN","BIND","BSON","BUFFERPOOL","BY","CACHE","CALL","CALLED","CARDINALITY","CASE","CAST","CHECK","CL","CLOSE","CLUSTER","COLLECT","COLLECTION","COLUMN","COMMENT","COMMIT","COMPACT","COMPARISONS","COMPRESS","CONCAT","CONCURRENT","CONDITION","CONNECT","CONNECT_BY_ROOT","CONNECTION","CONSTANT","CONSTRAINT","CONTAINS","CONTENT","CONTINUE","COPY","COUNT","COUNT_BIG","CREATE","CREATEIN","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEACTIVATE","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFER","DEFINE","DEFINITION","DELETE","DELETING","DENSE_RANK","DENSERANK","DESC","DESCRIBE","DESCRIPTOR","DETACH","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DYNAMIC","EACH","ELSE","ELSEIF","EMPTY","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ENFORCED","ERROR","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTEND","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST_VALUE","FOR","FOREIGN","FORMAT","FREE","FREEPAGE","FROM","FULL","FUNCTION","GBPCACHE","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GROUP","HANDLER","HASH","HASH_ROW","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IGNORE","IMMEDIATE","IMPLICITLY","IN","INCLUDE","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDEXBP","INDICATOR","INF","INFINITY","INHERIT","INLINE","INNER","INOUT","INSENSITIVE","INSERT","INSERTING","INTEGRITY","INTERPRET","INTERSECT","INTO","IS","ISNULL","ISOLATION","ITERATE","JAVA","JOIN","JSON","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_TABLE","JSON_VALUE","KEEP","KEY","KEYS","LABEL","LAG","LANGUAGE","LAST_VALUE","LATERAL","LEAD","LEAVE","LEFT","LEVEL2","LIKE","LIMIT","LINKTYPE","LISTAGG","LOCAL","LOCALDATE","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCATOR","LOCK","LOCKSIZE","LOG","LOGGED","LOOP","MAINTAINED","MASK","MATCHED","MATERIALIZED","MAXVALUE","MERGE","MICROSECOND","MICROSECONDS","MINPCTUSED","MINUTE","MINUTES","MINVALUE","MIRROR","MIXED","MODE","MODIFIES","MONTH","MONTHS","NAMESPACE","NAN","NATIONAL","NCHAR","NCLOB","NESTED","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT","NOTNULL","NTH_VALUE","NTILE","NULL","NULLS","NVARCHAR","OBID","OBJECT","OF","OFF","OFFSET","OLD","OLD_TABLE","OMIT","ON","ONLY","OPEN","OPTIMIZE","OPTION","OR","ORDER","ORDINALITY","ORGANIZE","OUT","OUTER","OVER","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGE","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSING","PASSWORD","PATH","PCTFREE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PERIOD","PERMISSION","PIECESIZE","PIPE","PLAN","POSITION","PREPARE","PREVVAL","PRIMARY","PRIOR","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PROGRAMID","QUERY","RANGE","RANK","RATIO_TO_REPORT","RCDFMT","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","REGEXP_LIKE","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNING","RETURNS","REVOKE","RID","RIGHT","ROLLBACK","ROLLUP","ROUTINE","ROW","ROW_NUMBER","ROWNUMBER","ROWS","RRN","RUN","SAVEPOINT","SBCS","SCALAR","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURED","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SKIP","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","SQLIND_DEFAULT","SQLIND_UNASSIGNED","STACKED","START","STARTING","STATEMENT","STATIC","STOGROUP","SUBSTRING","SUMMARY","SYNONYM","SYSTEM_TIME","SYSTEM_USER","TABLE","TABLESPACE","TABLESPACES","TAG","THEN","THREADSAFE","TO","TRANSACTION","TRANSFER","TRIGGER","TRIM","TRIM_ARRAY","TRUE","TRUNCATE","TRY_CAST","TYPE","UNDO","UNION","UNIQUE","UNIT","UNKNOWN","UNNEST","UNTIL","UPDATE","UPDATING","URI","USAGE","USE","USER","USERID","USING","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VERSIONING","VIEW","VOLATILE","WAIT","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHIN","WITHOUT","WRAPPED","WRAPPER","WRITE","WRKSTNNAME","XMLAGG","XMLATTRIBUTES","XMLCAST","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLGROUP","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTABLE","XMLTEXT","XMLVALIDATE","XSLTRANSFORM","XSROBJECT","YEAR","YEARS","YES","ZONE"],SAe=["ARRAY","BIGINT","BINARY","BIT","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATA","DATALINK","DATE","DBCLOB","DECFLOAT","DECIMAL","DEC","DOUBLE","DOUBLE PRECISION","FLOAT","GRAPHIC","INT","INTEGER","LONG","NUMERIC","REAL","ROWID","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC","XML"],vAe=$e(["SELECT [ALL | DISTINCT]"]),yAe=$e(["WITH [RECURSIVE]","INTO","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","FOR READ ONLY","OPTIMIZE FOR","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","DELETE","INSERT","FOR SYSTEM NAME"]),_4=$e(["CREATE [OR REPLACE] TABLE"]),Fx=$e(["CREATE [OR REPLACE] [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","WITH {NC | RR | RS | CS | UR}","DELETE FROM","DROP TABLE","ALTER TABLE","ADD [COLUMN]","ALTER [COLUMN]","DROP [COLUMN]","SET DATA TYPE","SET {GENERATED ALWAYS | GENERATED BY DEFAULT}","SET NOT NULL","SET {NOT HIDDEN | IMPLICITLY HIDDEN}","SET FIELDPROC","DROP {DEFAULT | NOT NULL | GENERATED | IDENTITY | ROW CHANGE TIMESTAMP | FIELDPROC}","TRUNCATE [TABLE]","SET [CURRENT] SCHEMA","SET CURRENT_SCHEMA","ALLOCATE CURSOR","ALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL] SQL","ALTER [SPECIFIC] {FUNCTION | PROCEDURE}","ALTER {MASK | PERMISSION | SEQUENCE | TRIGGER}","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PARAMETER | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","COMMENT ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON PARAMETER SPECIFIC {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON [TABLE FUNCTION] RETURN COLUMN","COMMENT ON [TABLE FUNCTION] RETURN COLUMN SPECIFIC [PROCEDURE | ROUTINE]","COMMIT [WORK] [HOLD]","CONNECT [TO | RESET] USER","CREATE [OR REPLACE] {ALIAS | FUNCTION | MASK | PERMISSION | PROCEDURE | SEQUENCE | TRIGGER | VARIABLE}","CREATE [ENCODED VECTOR] INDEX","CREATE UNIQUE [WHERE NOT NULL] INDEX","CREATE SCHEMA","CREATE TYPE","DEALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL]","DECLARE CURSOR","DECLARE GLOBAL TEMPORARY TABLE","DECLARE","DESCRIBE CURSOR","DESCRIBE INPUT","DESCRIBE [OUTPUT]","DESCRIBE {PROCEDURE | ROUTINE}","DESCRIBE TABLE","DISCONNECT ALL [SQL]","DISCONNECT [CURRENT]","DROP {ALIAS | INDEX | MASK | PACKAGE | PERMISSION | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT} [IF EXISTS]","DROP [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE} [IF EXISTS]","END DECLARE SECTION","EXECUTE [IMMEDIATE]","FREE LOCATOR","GET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","GET [CURRENT | STACKED] DIAGNOSTICS","GRANT {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","HOLD LOCATOR","INCLUDE","LABEL ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","LABEL ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","LOCK TABLE","OPEN","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX] TO","REVOKE {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","ROLLBACK [WORK] [HOLD | TO SAVEPOINT]","SAVEPOINT","SET CONNECTION","SET CURRENT {DEBUG MODE | DECFLOAT ROUNDING MODE | DEGREE | IMPLICIT XMLPARSE OPTION | TEMPORAL SYSTEM_TIME}","SET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","SET ENCRYPTION PASSWORD","SET OPTION","SET {[CURRENT [FUNCTION]] PATH | CURRENT_PATH}","SET RESULT SETS [WITH RETURN [TO CALLER | TO CLIENT]]","SET SESSION AUTHORIZATION","SET SESSION_USER","SET TRANSACTION","SIGNAL SQLSTATE [VALUE]","TAG","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}"]),AAe=$e(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),RAe=$e(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT | RIGHT] EXCEPTION JOIN","{INNER | CROSS} JOIN"]),NAe=$e(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),bAe={name:"db2i",tokenizerOptions:{reservedSelect:vAe,reservedClauses:[...yAe,..._4,...Fx],reservedSetOperations:AAe,reservedJoins:RAe,reservedPhrases:NAe,reservedKeywords:TAe,reservedDataTypes:SAe,reservedFunctionNames:gAe,nestedBlockComments:!0,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","=",">","<","!>","!<","||","=>"]},formatOptions:{onelineClauses:[..._4,...Fx],tabularOnelineClauses:Fx}},CAe=["ABS","ACOS","ADD","ADD_PARQUET_KEY","AGE","AGGREGATE","ALIAS","ALL_PROFILING_OUTPUT","ANY_VALUE","APPLY","APPROX_COUNT_DISTINCT","APPROX_QUANTILE","ARBITRARY","ARGMAX","ARGMIN","ARG_MAX","ARG_MAX_NULL","ARG_MIN","ARG_MIN_NULL","ARRAY_AGG","ARRAY_AGGR","ARRAY_AGGREGATE","ARRAY_APPEND","ARRAY_APPLY","ARRAY_CAT","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COSINE_SIMILARITY","ARRAY_CROSS_PRODUCT","ARRAY_DISTANCE","ARRAY_DISTINCT","ARRAY_DOT_PRODUCT","ARRAY_EXTRACT","ARRAY_FILTER","ARRAY_GRADE_UP","ARRAY_HAS","ARRAY_HAS_ALL","ARRAY_HAS_ANY","ARRAY_INDEXOF","ARRAY_INNER_PRODUCT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_POP_BACK","ARRAY_POP_FRONT","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUSH_BACK","ARRAY_PUSH_FRONT","ARRAY_REDUCE","ARRAY_RESIZE","ARRAY_REVERSE","ARRAY_REVERSE_SORT","ARRAY_SELECT","ARRAY_SLICE","ARRAY_SORT","ARRAY_TO_JSON","ARRAY_TO_STRING","ARRAY_TRANSFORM","ARRAY_UNIQUE","ARRAY_VALUE","ARRAY_WHERE","ARRAY_ZIP","ARROW_SCAN","ARROW_SCAN_DUMB","ASCII","ASIN","ATAN","ATAN2","AVG","BASE64","BIN","BITSTRING","BITSTRING_AGG","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_POSITION","BIT_XOR","BOOL_AND","BOOL_OR","CARDINALITY","CBRT","CEIL","CEILING","CENTURY","CHECKPOINT","CHR","COLLATIONS","COL_DESCRIPTION","COMBINE","CONCAT","CONCAT_WS","CONSTANT_OR_NULL","CONTAINS","COPY_DATABASE","CORR","COS","COT","COUNT","COUNT_IF","COUNT_STAR","COVAR_POP","COVAR_SAMP","CREATE_SORT_KEY","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_DATE","CURRENT_LOCALTIME","CURRENT_LOCALTIMESTAMP","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SETTING","CURRENT_USER","CURRVAL","DAMERAU_LEVENSHTEIN","DATABASE_LIST","DATABASE_SIZE","DATEDIFF","DATEPART","DATESUB","DATETRUNC","DATE_ADD","DATE_DIFF","DATE_PART","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECADE","DECODE","DEGREES","DISABLE_CHECKPOINT_ON_SHUTDOWN","DISABLE_OBJECT_CACHE","DISABLE_OPTIMIZER","DISABLE_PRINT_PROGRESS_BAR","DISABLE_PROFILE","DISABLE_PROFILING","DISABLE_PROGRESS_BAR","DISABLE_VERIFICATION","DISABLE_VERIFY_EXTERNAL","DISABLE_VERIFY_FETCH_ROW","DISABLE_VERIFY_PARALLELISM","DISABLE_VERIFY_SERIALIZER","DIVIDE","DUCKDB_COLUMNS","DUCKDB_CONSTRAINTS","DUCKDB_DATABASES","DUCKDB_DEPENDENCIES","DUCKDB_EXTENSIONS","DUCKDB_FUNCTIONS","DUCKDB_INDEXES","DUCKDB_KEYWORDS","DUCKDB_MEMORY","DUCKDB_OPTIMIZERS","DUCKDB_SCHEMAS","DUCKDB_SECRETS","DUCKDB_SEQUENCES","DUCKDB_SETTINGS","DUCKDB_TABLES","DUCKDB_TEMPORARY_FILES","DUCKDB_TYPES","DUCKDB_VIEWS","EDIT","EDITDIST3","ELEMENT_AT","ENABLE_CHECKPOINT_ON_SHUTDOWN","ENABLE_OBJECT_CACHE","ENABLE_OPTIMIZER","ENABLE_PRINT_PROGRESS_BAR","ENABLE_PROFILE","ENABLE_PROFILING","ENABLE_PROGRESS_BAR","ENABLE_VERIFICATION","ENCODE","ENDS_WITH","ENTROPY","ENUM_CODE","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","ENUM_RANGE_BOUNDARY","EPOCH","EPOCH_MS","EPOCH_NS","EPOCH_US","ERA","ERROR","EVEN","EXP","FACTORIAL","FAVG","FDIV","FILTER","FINALIZE","FIRST","FLATTEN","FLOOR","FMOD","FORCE_CHECKPOINT","FORMAT","FORMATREADABLEDECIMALSIZE","FORMATREADABLESIZE","FORMAT_BYTES","FORMAT_PG_TYPE","FORMAT_TYPE","FROM_BASE64","FROM_BINARY","FROM_HEX","FROM_JSON","FROM_JSON_STRICT","FSUM","FUNCTIONS","GAMMA","GCD","GENERATE_SERIES","GENERATE_SUBSCRIPTS","GEN_RANDOM_UUID","GEOMEAN","GEOMETRIC_MEAN","GETENV","GET_BIT","GET_BLOCK_SIZE","GET_CURRENT_TIME","GET_CURRENT_TIMESTAMP","GLOB","GRADE_UP","GREATEST","GREATEST_COMMON_DIVISOR","GROUP_CONCAT","HAMMING","HASH","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HEX","HISTOGRAM","HOUR","ICU_CALENDAR_NAMES","ICU_SORT_KEY","ILIKE_ESCAPE","IMPORT_DATABASE","INDEX_SCAN","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","INSTR","IN_SEARCH_PATH","ISFINITE","ISINF","ISNAN","ISODOW","ISOYEAR","JACCARD","JARO_SIMILARITY","JARO_WINKLER_SIMILARITY","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_CONTAINS","JSON_DESERIALIZE_SQL","JSON_EXECUTE_SERIALIZED_SQL","JSON_EXTRACT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_EXTRACT_STRING","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_GROUP_STRUCTURE","JSON_KEYS","JSON_MERGE_PATCH","JSON_OBJECT","JSON_QUOTE","JSON_SERIALIZE_PLAN","JSON_SERIALIZE_SQL","JSON_STRUCTURE","JSON_TRANSFORM","JSON_TRANSFORM_STRICT","JSON_TYPE","JSON_VALID","JULIAN","KAHAN_SUM","KURTOSIS","KURTOSIS_POP","LAST","LAST_DAY","LCASE","LCM","LEAST","LEAST_COMMON_MULTIPLE","LEFT","LEFT_GRAPHEME","LEN","LENGTH","LENGTH_GRAPHEME","LEVENSHTEIN","LGAMMA","LIKE_ESCAPE","LIST","LISTAGG","LIST_AGGR","LIST_AGGREGATE","LIST_ANY_VALUE","LIST_APPEND","LIST_APPLY","LIST_APPROX_COUNT_DISTINCT","LIST_AVG","LIST_BIT_AND","LIST_BIT_OR","LIST_BIT_XOR","LIST_BOOL_AND","LIST_BOOL_OR","LIST_CAT","LIST_CONCAT","LIST_CONTAINS","LIST_COSINE_SIMILARITY","LIST_COUNT","LIST_DISTANCE","LIST_DISTINCT","LIST_DOT_PRODUCT","LIST_ELEMENT","LIST_ENTROPY","LIST_EXTRACT","LIST_FILTER","LIST_FIRST","LIST_GRADE_UP","LIST_HAS","LIST_HAS_ALL","LIST_HAS_ANY","LIST_HISTOGRAM","LIST_INDEXOF","LIST_INNER_PRODUCT","LIST_INTERSECT","LIST_KURTOSIS","LIST_KURTOSIS_POP","LIST_LAST","LIST_MAD","LIST_MAX","LIST_MEDIAN","LIST_MIN","LIST_MODE","LIST_PACK","LIST_POSITION","LIST_PREPEND","LIST_PRODUCT","LIST_REDUCE","LIST_RESIZE","LIST_REVERSE","LIST_REVERSE_SORT","LIST_SELECT","LIST_SEM","LIST_SKEWNESS","LIST_SLICE","LIST_SORT","LIST_STDDEV_POP","LIST_STDDEV_SAMP","LIST_STRING_AGG","LIST_SUM","LIST_TRANSFORM","LIST_UNIQUE","LIST_VALUE","LIST_VAR_POP","LIST_VAR_SAMP","LIST_WHERE","LIST_ZIP","LN","LOG","LOG10","LOG2","LOWER","LPAD","LSMODE","LTRIM","MAD","MAKE_DATE","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","MAP","MAP_CONCAT","MAP_ENTRIES","MAP_EXTRACT","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","MAX","MAX_BY","MD5","MD5_NUMBER","MD5_NUMBER_LOWER","MD5_NUMBER_UPPER","MEAN","MEDIAN","METADATA_INFO","MICROSECOND","MILLENNIUM","MILLISECOND","MIN","MINUTE","MIN_BY","MISMATCHES","MOD","MODE","MONTH","MONTHNAME","MULTIPLY","NEXTAFTER","NEXTVAL","NFC_NORMALIZE","NOT_ILIKE_ESCAPE","NOT_LIKE_ESCAPE","NOW","NULLIF","OBJ_DESCRIPTION","OCTET_LENGTH","ORD","PARQUET_FILE_METADATA","PARQUET_KV_METADATA","PARQUET_METADATA","PARQUET_SCAN","PARQUET_SCHEMA","PARSE_DIRNAME","PARSE_DIRPATH","PARSE_FILENAME","PARSE_PATH","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONVERSION_IS_VISIBLE","PG_FUNCTION_IS_VISIBLE","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IS_OTHER_TEMP_SCHEMA","PG_MY_TEMP_SCHEMA","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_POSTMASTER_START_TIME","PG_SIZE_PRETTY","PG_TABLE_IS_VISIBLE","PG_TIMEZONE_NAMES","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PI","PLATFORM","POSITION","POW","POWER","PRAGMA_COLLATIONS","PRAGMA_DATABASE_SIZE","PRAGMA_METADATA_INFO","PRAGMA_PLATFORM","PRAGMA_SHOW","PRAGMA_STORAGE_INFO","PRAGMA_TABLE_INFO","PRAGMA_USER_AGENT","PRAGMA_VERSION","PREFIX","PRINTF","PRODUCT","QUANTILE","QUANTILE_CONT","QUANTILE_DISC","QUARTER","RADIANS","RANDOM","RANGE","READFILE","READ_BLOB","READ_CSV","READ_CSV_AUTO","READ_JSON","READ_JSON_AUTO","READ_JSON_OBJECTS","READ_JSON_OBJECTS_AUTO","READ_NDJSON","READ_NDJSON_AUTO","READ_NDJSON_OBJECTS","READ_PARQUET","READ_TEXT","REDUCE","REGEXP_ESCAPE","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_FULL_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REPEAT","REPEAT_ROW","REPLACE","RESERVOIR_QUANTILE","REVERSE","RIGHT","RIGHT_GRAPHEME","ROUND","ROUNDBANKERS","ROUND_EVEN","ROW","ROW_TO_JSON","RPAD","RTRIM","SECOND","SEM","SEQ_SCAN","SESSION_USER","SETSEED","SET_BIT","SHA256","SHA3","SHELL_ADD_SCHEMA","SHELL_ESCAPE_CRNL","SHELL_IDQUOTE","SHELL_MODULE_SCHEMA","SHELL_PUTSNL","SHOBJ_DESCRIPTION","SHOW","SHOW_DATABASES","SHOW_TABLES","SHOW_TABLES_EXPANDED","SIGN","SIGNBIT","SIN","SKEWNESS","SNIFF_CSV","SPLIT","SPLIT_PART","SQL_AUTO_COMPLETE","SQRT","STARTS_WITH","STATS","STDDEV","STDDEV_POP","STDDEV_SAMP","STORAGE_INFO","STRFTIME","STRING_AGG","STRING_SPLIT","STRING_SPLIT_REGEX","STRING_TO_ARRAY","STRIP_ACCENTS","STRLEN","STRPOS","STRPTIME","STRUCT_EXTRACT","STRUCT_INSERT","STRUCT_PACK","STR_SPLIT","STR_SPLIT_REGEX","SUBSTR","SUBSTRING","SUBSTRING_GRAPHEME","SUBTRACT","SUFFIX","SUM","SUMKAHAN","SUMMARY","SUM_NO_OVERFLOW","TABLE_INFO","TAN","TEST_ALL_TYPES","TEST_VECTOR_TYPES","TIMEZONE","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIME_BUCKET","TODAY","TO_BASE","TO_BASE64","TO_BINARY","TO_CENTURIES","TO_DAYS","TO_DECADES","TO_HEX","TO_HOURS","TO_JSON","TO_MICROSECONDS","TO_MILLENNIA","TO_MILLISECONDS","TO_MINUTES","TO_MONTHS","TO_SECONDS","TO_TIMESTAMP","TO_WEEKS","TO_YEARS","TRANSACTION_TIMESTAMP","TRANSLATE","TRIM","TRUNC","TRY_STRPTIME","TXID_CURRENT","TYPEOF","UCASE","UNBIN","UNHEX","UNICODE","UNION_EXTRACT","UNION_TAG","UNION_VALUE","UNNEST","UNPIVOT_LIST","UPPER","USER","USER_AGENT","UUID","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_TYPE","VERIFY_EXTERNAL","VERIFY_FETCH_ROW","VERIFY_PARALLELISM","VERIFY_SERIALIZER","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","WHICH_SECRET","WRITEFILE","XOR","YEAR","YEARWEEK","CAST","COALESCE","NULL","RANK","ROW_NUMBER"],xAe=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ATTACH","ASYMMETRIC","BOTH","CASE","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","DEFAULT","DEFERRABLE","DESC","DESCRIBE","DETACH","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FROM","GRANT","GROUP","HAVING","IN","INITIALLY","INTERSECT","INTO","LATERAL","LEADING","LIMIT","NOT","NULL","OFFSET","ON","ONLY","OR","ORDER","PIVOT","PIVOT_LONGER","PIVOT_WIDER","PLACING","PRIMARY","REFERENCES","RETURNING","SELECT","SHOW","SOME","SUMMARIZE","SYMMETRIC","TABLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","UNPIVOT","USING","VARIADIC","WHEN","WHERE","WINDOW","WITH"],wAe=["ARRAY","BIGINT","BINARY","BIT","BITSTRING","BLOB","BOOL","BOOLEAN","BPCHAR","BYTEA","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE","ENUM","FLOAT","FLOAT4","FLOAT8","GUID","HUGEINT","INET","INT","INT1","INT128","INT16","INT2","INT32","INT4","INT64","INT8","INTEGER","INTEGRAL","INTERVAL","JSON","LIST","LOGICAL","LONG","MAP","NUMERIC","NVARCHAR","OID","REAL","ROW","SHORT","SIGNED","SMALLINT","STRING","STRUCT","TEXT","TIME","TIMESTAMP_MS","TIMESTAMP_NS","TIMESTAMP_S","TIMESTAMP_US","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TINYINT","UBIGINT","UHUGEINT","UINT128","UINT16","UINT32","UINT64","UINT8","UINTEGER","UNION","USMALLINT","UTINYINT","UUID","VARBINARY","VARCHAR"],OAe=$e(["SELECT [ALL | DISTINCT]"]),IAe=$e(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL]","HAVING","WINDOW","PARTITION BY","ORDER BY [ALL]","LIMIT","OFFSET","USING SAMPLE","QUALIFY","INSERT [OR REPLACE] INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),L4=$e(["CREATE [OR REPLACE] [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),Hx=$e(["UPDATE","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","TRUNCATE","ALTER TABLE","ADD [COLUMN] [IF NOT EXISTS]","ADD PRIMARY KEY","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","RENAME [COLUMN]","RENAME TO","SET [DATA] TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","CREATE [OR REPLACE] [TEMPORARY | TEMP] {MACRO | FUNCTION}","DROP MACRO [TABLE] [IF EXISTS]","DROP FUNCTION [IF EXISTS]","CREATE [UNIQUE] INDEX [IF NOT EXISTS]","DROP INDEX [IF EXISTS]","CREATE [OR REPLACE] SCHEMA [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","CREATE [OR REPLACE] [PERSISTENT | TEMPORARY] SECRET [IF NOT EXISTS]","DROP [PERSISTENT | TEMPORARY] SECRET [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] SEQUENCE","DROP SEQUENCE [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","DROP VIEW [IF EXISTS]","ALTER VIEW","CREATE TYPE","DROP TYPE [IF EXISTS]","ANALYZE","ATTACH [DATABASE] [IF NOT EXISTS]","DETACH [DATABASE] [IF EXISTS]","CALL","[FORCE] CHECKPOINT","COMMENT ON [TABLE | COLUMN | VIEW | INDEX | SEQUENCE | TYPE | MACRO | MACRO TABLE]","COPY [FROM DATABASE]","DESCRIBE","EXPORT DATABASE","IMPORT DATABASE","INSTALL","LOAD","PIVOT","PIVOT_WIDER","UNPIVOT","EXPLAIN [ANALYZE]","SET {LOCAL | SESSION | GLOBAL}","RESET [LOCAL | SESSION | GLOBAL]","{SET | RESET} VARIABLE","SUMMARIZE","BEGIN TRANSACTION","ROLLBACK","COMMIT","ABORT","USE","VACUUM [ANALYZE]","PREPARE","EXECUTE","DEALLOCATE [PREPARE]"]),_Ae=$e(["UNION [ALL | BY NAME]","EXCEPT [ALL]","INTERSECT [ALL]"]),LAe=$e(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{NATURAL | ASOF} [INNER] JOIN","{NATURAL | ASOF} {LEFT | RIGHT | FULL} [OUTER] JOIN","POSITIONAL JOIN","ANTI JOIN","SEMI JOIN"]),DAe=$e(["{ROWS | RANGE | GROUPS} BETWEEN","SIMILAR TO","IS [NOT] DISTINCT FROM","TIMESTAMP WITH TIME ZONE"]),MAe={name:"duckdb",tokenizerOptions:{reservedSelect:OAe,reservedClauses:[...IAe,...L4,...Hx],reservedSetOperations:_Ae,reservedJoins:LAe,reservedPhrases:DAe,supportsXor:!0,reservedKeywords:xAe,reservedDataTypes:wAe,reservedFunctionNames:CAe,nestedBlockComments:!0,extraParens:["[]","{}"],stringTypes:["$$","''-qq",{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{rest:"$"},paramTypes:{positional:!0,numbered:["$"],quoted:["$"]},operators:["//","%","**","^","!","&","|","~","<<",">>","::","==","->",":",":=","=>","~~","!~~","~~*","!~~*","~~~","~","!~","~*","!~*","^@","||",">>=","<<="]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...L4,...Hx],tabularOnelineClauses:Hx}},PAe=["ABS","ACOS","ASIN","ATAN","BIN","BROUND","CBRT","CEIL","CEILING","CONV","COS","DEGREES","EXP","FACTORIAL","FLOOR","GREATEST","HEX","LEAST","LN","LOG","LOG10","LOG2","NEGATIVE","PI","PMOD","POSITIVE","POW","POWER","RADIANS","RAND","ROUND","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIN","SQRT","TAN","UNHEX","WIDTH_BUCKET","ARRAY_CONTAINS","MAP_KEYS","MAP_VALUES","SIZE","SORT_ARRAY","BINARY","CAST","ADD_MONTHS","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","QUARTER","SECOND","TIMESTAMP","TO_DATE","TO_UTC_TIMESTAMP","TRUNC","UNIX_TIMESTAMP","WEEKOFYEAR","YEAR","ASSERT_TRUE","COALESCE","IF","ISNOTNULL","ISNULL","NULLIF","NVL","ASCII","BASE64","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONTEXT_NGRAMS","DECODE","ELT","ENCODE","FIELD","FIND_IN_SET","FORMAT_NUMBER","GET_JSON_OBJECT","IN_FILE","INITCAP","INSTR","LCASE","LENGTH","LEVENSHTEIN","LOCATE","LOWER","LPAD","LTRIM","NGRAMS","OCTET_LENGTH","PARSE_URL","PRINTF","QUOTE","REGEXP_EXTRACT","REGEXP_REPLACE","REPEAT","REVERSE","RPAD","RTRIM","SENTENCES","SOUNDEX","SPACE","SPLIT","STR_TO_MAP","SUBSTR","SUBSTRING","TRANSLATE","TRIM","UCASE","UNBASE64","UPPER","MASK","MASK_FIRST_N","MASK_HASH","MASK_LAST_N","MASK_SHOW_FIRST_N","MASK_SHOW_LAST_N","AES_DECRYPT","AES_ENCRYPT","CRC32","CURRENT_DATABASE","CURRENT_USER","HASH","JAVA_METHOD","LOGGED_IN_USER","MD5","REFLECT","SHA","SHA1","SHA2","SURROGATE_KEY","VERSION","AVG","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COVAR_POP","COVAR_SAMP","HISTOGRAM_NUMERIC","MAX","MIN","NTILE","PERCENTILE","PERCENTILE_APPROX","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","EXPLODE","INLINE","JSON_TUPLE","PARSE_URL_TUPLE","POSEXPLODE","STACK","LEAD","LAG","FIRST_VALUE","LAST_VALUE","RANK","ROW_NUMBER","DENSE_RANK","CUME_DIST","PERCENT_RANK","NTILE"],kAe=["ADD","ADMIN","AFTER","ANALYZE","ARCHIVE","ASC","BEFORE","BUCKET","BUCKETS","CASCADE","CHANGE","CLUSTER","CLUSTERED","CLUSTERSTATUS","COLLECTION","COLUMNS","COMMENT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONTINUE","DATA","DATABASES","DATETIME","DAY","DBPROPERTIES","DEFERRED","DEFINED","DELIMITED","DEPENDENCY","DESC","DIRECTORIES","DIRECTORY","DISABLE","DISTRIBUTE","ELEM_TYPE","ENABLE","ESCAPED","EXCLUSIVE","EXPLAIN","EXPORT","FIELDS","FILE","FILEFORMAT","FIRST","FORMAT","FORMATTED","FUNCTIONS","HOLD_DDLTIME","HOUR","IDXPROPERTIES","IGNORE","INDEX","INDEXES","INPATH","INPUTDRIVER","INPUTFORMAT","ITEMS","JAR","KEYS","KEY_TYPE","LIMIT","LINES","LOAD","LOCATION","LOCK","LOCKS","LOGICAL","LONG","MAPJOIN","MATERIALIZED","METADATA","MINUS","MINUTE","MONTH","MSCK","NOSCAN","NO_DROP","OFFLINE","OPTION","OUTPUTDRIVER","OUTPUTFORMAT","OVERWRITE","OWNER","PARTITIONED","PARTITIONS","PLUS","PRETTY","PRINCIPALS","PROTECTION","PURGE","READ","READONLY","REBUILD","RECORDREADER","RECORDWRITER","RELOAD","RENAME","REPAIR","REPLACE","REPLICATION","RESTRICT","REWRITE","ROLE","ROLES","SCHEMA","SCHEMAS","SECOND","SEMI","SERDE","SERDEPROPERTIES","SERVER","SETS","SHARED","SHOW","SHOW_DATABASE","SKEWED","SORT","SORTED","SSL","STATISTICS","STORED","STREAMTABLE","STRING","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","TINYINT","TOUCH","TRANSACTIONS","UNARCHIVE","UNDO","UNIONTYPE","UNLOCK","UNSET","UNSIGNED","URI","USE","UTC","UTCTIMESTAMP","VALUE_TYPE","VIEW","WHILE","YEAR","AUTOCOMMIT","ISOLATION","LEVEL","OFFSET","SNAPSHOT","TRANSACTION","WORK","WRITE","ABORT","KEY","LAST","NORELY","NOVALIDATE","NULLS","RELY","VALIDATE","DETAIL","DOW","EXPRESSION","OPERATOR","QUARTER","SUMMARY","VECTORIZATION","WEEK","YEARS","MONTHS","WEEKS","DAYS","HOURS","MINUTES","SECONDS","TIMESTAMPTZ","ZONE","ALL","ALTER","AND","AS","AUTHORIZATION","BETWEEN","BOTH","BY","CASE","CAST","COLUMN","CONF","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIMESTAMP","CURSOR","DATABASE","DELETE","DESCRIBE","DISTINCT","DROP","ELSE","END","EXCHANGE","EXISTS","EXTENDED","EXTERNAL","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","IF","IMPORT","IN","INNER","INSERT","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LESS","LIKE","LOCAL","MACRO","MORE","NONE","NOT","NULL","OF","ON","OR","ORDER","OUT","OUTER","OVER","PARTIALSCAN","PARTITION","PERCENT","PRECEDING","PRESERVE","PROCEDURE","RANGE","READS","REDUCE","REVOKE","RIGHT","ROLLUP","ROW","ROWS","SELECT","SET","TABLE","TABLESAMPLE","THEN","TO","TRANSFORM","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUEJOIN","UPDATE","USER","USING","UTC_TMESTAMP","VALUES","WHEN","WHERE","WINDOW","WITH","COMMIT","ONLY","REGEXP","RLIKE","ROLLBACK","START","CACHE","CONSTRAINT","FOREIGN","PRIMARY","REFERENCES","DAYOFWEEK","EXTRACT","FLOOR","VIEWS","TIME","SYNC","TEXTFILE","SEQUENCEFILE","ORC","CSV","TSV","PARQUET","AVRO","RCFILE","JSONFILE","INPUTFORMAT","OUTPUTFORMAT"],UAe=["ARRAY","BIGINT","BINARY","BOOLEAN","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MAP","NUMERIC","PRECISION","SMALLINT","STRUCT","TIMESTAMP","VARCHAR"],jAe=$e(["SELECT [ALL | DISTINCT]"]),BAe=$e(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT INTO [TABLE]","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT [VALUES]","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),D4=$e(["CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]"]),$x=$e(["CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","RENAME TO","TRUNCATE [TABLE]","ALTER","CREATE","USE","DESCRIBE","DROP","FETCH","SHOW","STORED AS","STORED BY","ROW FORMAT"]),FAe=$e(["UNION [ALL | DISTINCT]"]),HAe=$e(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","LEFT SEMI JOIN"]),$Ae=$e(["{ROWS | RANGE} BETWEEN"]),GAe={name:"hive",tokenizerOptions:{reservedSelect:jAe,reservedClauses:[...BAe,...D4,...$x],reservedSetOperations:FAe,reservedJoins:HAe,reservedPhrases:$Ae,reservedKeywords:kAe,reservedDataTypes:UAe,reservedFunctionNames:PAe,extraParens:["[]"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||"]},formatOptions:{onelineClauses:[...D4,...$x],tabularOnelineClauses:$x}};function mv(t){return t.map((e,r)=>{const n=t[r+1]||Kh;if(dd.SET(e)&&n.text==="(")return Object.assign(Object.assign({},e),{type:qe.RESERVED_FUNCTION_NAME});const s=t[r-1]||Kh;return dd.VALUES(e)&&s.text==="="?Object.assign(Object.assign({},e),{type:qe.RESERVED_FUNCTION_NAME}):e})}const VAe=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DELETE_DOMAIN_ID","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OFFSET","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROW_NUMBER","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],zAe=["BIGINT","BINARY","BIT","BLOB","CHAR BYTE","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],WAe=["ADDDATE","ADD_MONTHS","BIT_AND","BIT_OR","BIT_XOR","CAST","COUNT","CUME_DIST","CURDATE","CURTIME","DATE_ADD","DATE_SUB","DATE_FORMAT","DECODE","DENSE_RANK","EXTRACT","FIRST_VALUE","GROUP_CONCAT","JSON_ARRAYAGG","JSON_OBJECTAGG","LAG","LEAD","MAX","MEDIAN","MID","MIN","NOW","NTH_VALUE","NTILE","POSITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","ROW_NUMBER","SESSION_USER","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUBDATE","SUBSTR","SUBSTRING","SUM","SYSTEM_USER","TRIM","TRIM_ORACLE","VARIANCE","VAR_POP","VAR_SAMP","ABS","ACOS","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ASIN","ATAN","ATAN2","BENCHMARK","BIN","BINLOG_GTID_POS","BIT_COUNT","BIT_LENGTH","CEIL","CEILING","CHARACTER_LENGTH","CHAR_LENGTH","CHR","COERCIBILITY","COLUMN_CHECK","COLUMN_EXISTS","COLUMN_LIST","COLUMN_JSON","COMPRESS","CONCAT","CONCAT_OPERATOR_ORACLE","CONCAT_WS","CONNECTION_ID","CONV","CONVERT_TZ","COS","COT","CRC32","DATEDIFF","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEGREES","DECODE_HISTOGRAM","DECODE_ORACLE","DES_DECRYPT","DES_ENCRYPT","ELT","ENCODE","ENCRYPT","EXP","EXPORT_SET","EXTRACTVALUE","FIELD","FIND_IN_SET","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GET_LOCK","GREATEST","HEX","IFNULL","INSTR","ISNULL","IS_FREE_LOCK","IS_USED_LOCK","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_COMPACT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_DETAILED","JSON_EXISTS","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_LOOSE","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_QUERY","JSON_QUOTE","JSON_OBJECT","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_SEARCH","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAST_DAY","LAST_INSERT_ID","LCASE","LEAST","LENGTH","LENGTHB","LN","LOAD_FILE","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LPAD_ORACLE","LTRIM","LTRIM_ORACLE","MAKEDATE","MAKETIME","MAKE_SET","MASTER_GTID_WAIT","MASTER_POS_WAIT","MD5","MONTHNAME","NAME_CONST","NVL","NVL2","OCT","OCTET_LENGTH","ORD","PERIOD_ADD","PERIOD_DIFF","PI","POW","POWER","QUOTE","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","RADIANS","RAND","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPLACE_ORACLE","REVERSE","ROUND","RPAD","RPAD_ORACLE","RTRIM","RTRIM_ORACLE","SEC_TO_TIME","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SPACE","SQRT","STRCMP","STR_TO_DATE","SUBSTR_ORACLE","SUBSTRING_INDEX","SUBTIME","SYS_GUID","TAN","TIMEDIFF","TIME_FORMAT","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_SECONDS","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UUID","UUID_SHORT","VERSION","WEEKDAY","WEEKOFYEAR","WSREP_LAST_WRITTEN_GTID","WSREP_LAST_SEEN_GTID","WSREP_SYNC_WAIT_UPTO_GTID","YEARWEEK","COALESCE","NULLIF"],YAe=$e(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),qAe=$e(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET","RETURNING"]),M4=$e(["CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]"]),Gx=$e(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS]","ADD [COLUMN] [IF NOT EXISTS]","{CHANGE | MODIFY} [COLUMN] [IF EXISTS]","DROP [COLUMN] [IF EXISTS]","RENAME [TO]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","SET {VISIBLE | INVISIBLE}","TRUNCATE [TABLE]","ALTER DATABASE","ALTER DATABASE COMMENT","ALTER EVENT","ALTER FUNCTION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SCHEMA COMMENT","ALTER SEQUENCE","ALTER SERVER","ALTER USER","ALTER VIEW","ANALYZE","ANALYZE TABLE","BACKUP LOCK","BACKUP STAGE","BACKUP UNLOCK","BEGIN","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHECK TABLE","CHECK VIEW","CHECKSUM TABLE","COMMIT","CREATE AGGREGATE FUNCTION","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE INDEX","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE SERVER","CREATE SPATIAL INDEX","CREATE TRIGGER","CREATE UNIQUE INDEX","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP INDEX","DROP PREPARE","DROP PROCEDURE","DROP ROLE","DROP SEQUENCE","DROP SERVER","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GET DIAGNOSTICS","GET DIAGNOSTICS CONDITION","GRANT","HANDLER","HELP","INSTALL PLUGIN","INSTALL SONAME","KILL","LOAD DATA INFILE","LOAD INDEX INTO CACHE","LOAD XML INFILE","LOCK TABLE","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","PURGE MASTER LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","REPAIR VIEW","RESET MASTER","RESET QUERY CACHE","RESET REPLICA","RESET SLAVE","RESIGNAL","REVOKE","ROLLBACK","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET GLOBAL TRANSACTION","SET NAMES","SET PASSWORD","SET ROLE","SET STATEMENT","SET TRANSACTION","SHOW","SHOW ALL REPLICAS STATUS","SHOW ALL SLAVES STATUS","SHOW AUTHORS","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW BINLOG STATUS","SHOW CHARACTER SET","SHOW CLIENT_STATISTICS","SHOW COLLATION","SHOW COLUMNS","SHOW CONTRIBUTORS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PACKAGE","SHOW CREATE PACKAGE BODY","SHOW CREATE PROCEDURE","SHOW CREATE SEQUENCE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINE INNODB STATUS","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW EXPLAIN","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW INDEXES","SHOW INDEX_STATISTICS","SHOW KEYS","SHOW LOCALES","SHOW MASTER LOGS","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PACKAGE BODY CODE","SHOW PACKAGE BODY STATUS","SHOW PACKAGE STATUS","SHOW PLUGINS","SHOW PLUGINS SONAME","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW QUERY_RESPONSE_TIME","SHOW RELAYLOG EVENTS","SHOW REPLICA","SHOW REPLICA HOSTS","SHOW REPLICA STATUS","SHOW SCHEMAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW SLAVE STATUS","SHOW STATUS","SHOW STORAGE ENGINES","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW USER_STATISTICS","SHOW VARIABLES","SHOW WARNINGS","SHOW WSREP_MEMBERSHIP","SHOW WSREP_STATUS","SHUTDOWN","SIGNAL","START ALL REPLICAS","START ALL SLAVES","START REPLICA","START SLAVE","START TRANSACTION","STOP ALL REPLICAS","STOP ALL SLAVES","STOP REPLICA","STOP SLAVE","UNINSTALL PLUGIN","UNINSTALL SONAME","UNLOCK TABLE","USE","XA BEGIN","XA COMMIT","XA END","XA PREPARE","XA RECOVER","XA ROLLBACK","XA START"]),KAe=$e(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]","MINUS [ALL | DISTINCT]"]),XAe=$e(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),QAe=$e(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),JAe={name:"mariadb",tokenizerOptions:{reservedSelect:YAe,reservedClauses:[...qAe,...M4,...Gx],reservedSetOperations:KAe,reservedJoins:XAe,reservedPhrases:QAe,supportsXor:!0,reservedKeywords:VAe,reservedDataTypes:zAe,reservedFunctionNames:WAe,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","&&","||","!","*.*"],postProcess:mv},formatOptions:{onelineClauses:[...M4,...Gx],tabularOnelineClauses:Gx}},ZAe=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","INTERSECT","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],eRe=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],tRe=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BINARY","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","CAN_ACCESS_COLUMN","CAN_ACCESS_DATABASE","CAN_ACCESS_TABLE","CAN_ACCESS_USER","CAN_ACCESS_VIEW","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEFAULT","DEGREES","DENSE_RANK","DIV","ELT","EXP","EXPORT_SET","EXTRACT","EXTRACTVALUE","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOMCOLLECTION","GEOMETRYCOLLECTION","GET_DD_COLUMN_PRIVILEGES","GET_DD_CREATE_OPTIONS","GET_DD_INDEX_SUB_PART_LENGTH","GET_FORMAT","GET_LOCK","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","INTERNAL_AUTO_INCREMENT","INTERNAL_AVG_ROW_LENGTH","INTERNAL_CHECK_TIME","INTERNAL_CHECKSUM","INTERNAL_DATA_FREE","INTERNAL_DATA_LENGTH","INTERNAL_DD_CHAR_LENGTH","INTERNAL_GET_COMMENT_OR_ERROR","INTERNAL_GET_ENABLED_ROLE_JSON","INTERNAL_GET_HOSTNAME","INTERNAL_GET_USERNAME","INTERNAL_GET_VIEW_WARNING_OR_ERROR","INTERNAL_INDEX_COLUMN_CARDINALITY","INTERNAL_INDEX_LENGTH","INTERNAL_IS_ENABLED_ROLE","INTERNAL_IS_MANDATORY_ROLE","INTERNAL_KEYS_DISABLED","INTERNAL_MAX_DATA_LENGTH","INTERNAL_TABLE_ROWS","INTERNAL_UPDATE_TIME","INTERVAL","IS","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS NOT","IS NOT NULL","IS NULL","IS_USED_LOCK","IS_UUID","ISNULL","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LINESTRING","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MATCH","MAX","MBRCONTAINS","MBRCOVEREDBY","MBRCOVERS","MBRDISJOINT","MBREQUALS","MBRINTERSECTS","MBROVERLAPS","MBRTOUCHES","MBRWITHIN","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MOD","MONTH","MONTHNAME","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NAME_CONST","NOT","NOT IN","NOT LIKE","NOT REGEXP","NOW","NTH_VALUE","NTILE","NULLIF","OCT","OCTET_LENGTH","ORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","POINT","POLYGON","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_BUFFER","ST_BUFFER_STRATEGY","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_CONVEXHULL","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DISTANCE_SPHERE","ST_ENDPOINT","ST_ENVELOPE","ST_EQUALS","ST_EXTERIORRING","ST_FRECHETDISTANCE","ST_GEOHASH","ST_GEOMCOLLFROMTEXT","ST_GEOMCOLLFROMWKB","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMGEOJSON","ST_GEOMFROMTEXT","ST_GEOMFROMWKB","ST_HAUSDORFFDISTANCE","ST_INTERIORRINGN","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISSIMPLE","ST_ISVALID","ST_LATFROMGEOHASH","ST_LATITUDE","ST_LENGTH","ST_LINEFROMTEXT","ST_LINEFROMWKB","ST_LINEINTERPOLATEPOINT","ST_LINEINTERPOLATEPOINTS","ST_LONGFROMGEOHASH","ST_LONGITUDE","ST_MAKEENVELOPE","ST_MLINEFROMTEXT","ST_MLINEFROMWKB","ST_MPOINTFROMTEXT","ST_MPOINTFROMWKB","ST_MPOLYFROMTEXT","ST_MPOLYFROMWKB","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINTATDISTANCE","ST_POINTFROMGEOHASH","ST_POINTFROMTEXT","ST_POINTFROMWKB","ST_POINTN","ST_POLYFROMTEXT","ST_POLYFROMWKB","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SWAPXY","ST_SYMDIFFERENCE","ST_TOUCHES","ST_TRANSFORM","ST_UNION","ST_VALIDATE","ST_WITHIN","ST_X","ST_Y","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"],rRe=$e(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),nRe=$e(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),P4=$e(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),Vx=$e(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER EVENT","ALTER FUNCTION","ALTER INSTANCE","ALTER LOGFILE GROUP","ALTER PROCEDURE","ALTER RESOURCE GROUP","ALTER SERVER","ALTER TABLESPACE","ALTER USER","ALTER VIEW","ANALYZE TABLE","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK TABLE","CHECKSUM TABLE","CLONE","COMMIT","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE FUNCTION","CREATE INDEX","CREATE LOGFILE GROUP","CREATE PROCEDURE","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SERVER","CREATE SPATIAL REFERENCE SYSTEM","CREATE TABLESPACE","CREATE TRIGGER","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP FUNCTION","DROP INDEX","DROP LOGFILE GROUP","DROP PROCEDURE","DROP RESOURCE GROUP","DROP ROLE","DROP SERVER","DROP SPATIAL REFERENCE SYSTEM","DROP TABLESPACE","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GRANT","HANDLER","HELP","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SOURCE_POS_WAIT","START GROUP_REPLICATION","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP REPLICA","STOP SLAVE","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),sRe=$e(["UNION [ALL | DISTINCT]"]),iRe=$e(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),oRe=$e(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),aRe={name:"mysql",tokenizerOptions:{reservedSelect:rRe,reservedClauses:[...nRe,...P4,...Vx],reservedSetOperations:sRe,reservedJoins:iRe,reservedPhrases:oRe,supportsXor:!0,reservedKeywords:ZAe,reservedDataTypes:eRe,reservedFunctionNames:tRe,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:mv},formatOptions:{onelineClauses:[...P4,...Vx],tabularOnelineClauses:Vx}},lRe=["ADD","ALL","ALTER","ANALYZE","AND","ARRAY","AS","ASC","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERATED","GRANT","GROUP","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","ILIKE","IN","INDEX","INFILE","INNER","INOUT","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOW_PRIORITY","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OF","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PRIMARY","PROCEDURE","RANGE","READ","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","REVOKE","RIGHT","RLIKE","ROW","ROWS","SECOND_MICROSECOND","SELECT","SET","SHOW","SPATIAL","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_EXTENDED","STORED","STRAIGHT_JOIN","TABLE","TABLESAMPLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","TiDB_CURRENT_TSO","UNION","UNIQUE","UNLOCK","UNSIGNED","UNTIL","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],cRe=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],uRe=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","BITAND","BITNEG","BITOR","BITXOR","CASE","CAST","CEIL","CEILING","CHAR_FUNC","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_RESOURCE_GROUP","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT_FUNC","DEGREES","DENSE_RANK","DES_DECRYPT","DES_ENCRYPT","DIV","ELT","ENCODE","ENCRYPT","EQ","EXP","EXPORT_SET","EXTRACT","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_NANO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GE","GET_FORMAT","GET_LOCK","GETPARAM","GREATEST","GROUP_CONCAT","GROUPING","GT","HEX","HOUR","IF","IFNULL","ILIKE","INET6_ATON","INET6_NTOA","INET_ATON","INET_NTOA","INSERT_FUNC","INSTR","INTDIV","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","ISFALSE","ISNULL","ISTRUE","JSON_ARRAY","JSON_ARRAYAGG","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MEMBEROF","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LASTVAL","LCASE","LE","LEAD","LEAST","LEFT","LEFTSHIFT","LENGTH","LIKE","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LT","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MAX","MD5","MICROSECOND","MID","MIN","MINUS","MINUTE","MOD","MONTH","MONTHNAME","MUL","NAME_CONST","NE","NEXTVAL","NOT","NOW","NTH_VALUE","NTILE","NULLEQ","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","PASSWORD_FUNC","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","PLUS","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RIGHTSHIFT","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SETVAL","SETVAR","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SM3","SPACE","SQRT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIDB_BOUNDED_STALENESS","TIDB_CURRENT_TSO","TIDB_DECODE_BINARY_PLAN","TIDB_DECODE_KEY","TIDB_DECODE_PLAN","TIDB_DECODE_SQL_DIGESTS","TIDB_ENCODE_SQL_DIGEST","TIDB_IS_DDL_OWNER","TIDB_PARSE_TSO","TIDB_PARSE_TSO_LOGICAL","TIDB_ROW_CHECKSUM","TIDB_SHARD","TIDB_VERSION","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRANSLATE","TRIM","TRUNCATE","UCASE","UNARYMINUS","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VAR_POP","VAR_SAMP","VARIANCE","VERSION","VITESS_HASH","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"],dRe=$e(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),hRe=$e(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),k4=$e(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),zx=$e(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER INSTANCE","ALTER RESOURCE GROUP","ALTER SEQUENCE","ALTER USER","ALTER VIEW","ANALYZE TABLE","CHECK TABLE","CHECKSUM TABLE","COMMIT","CREATE DATABASE","CREATE INDEX","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SEQUENCE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP INDEX","DROP RESOURCE GROUP","DROP ROLE","DROP TABLESPACE","DROP USER","DROP VIEW","EXPLAIN","FLUSH","GRANT","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOCK INSTANCE FOR BACKUP","LOCK TABLES","OPTIMIZE TABLE","PREPARE","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE"]),fRe=$e(["UNION [ALL | DISTINCT]"]),mRe=$e(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),pRe=$e(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),ERe={name:"tidb",tokenizerOptions:{reservedSelect:dRe,reservedClauses:[...hRe,...k4,...zx],reservedSetOperations:fRe,reservedJoins:mRe,reservedPhrases:pRe,supportsXor:!0,reservedKeywords:lRe,reservedDataTypes:cRe,reservedFunctionNames:uRe,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:mv},formatOptions:{onelineClauses:[...k4,...zx],tabularOnelineClauses:zx}},gRe=["ABORT","ABS","ACOS","ADVISOR","ARRAY_AGG","ARRAY_AGG","ARRAY_APPEND","ARRAY_AVG","ARRAY_BINARY_SEARCH","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COUNT","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_FLATTEN","ARRAY_IFNULL","ARRAY_INSERT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_MAX","ARRAY_MIN","ARRAY_MOVE","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUT","ARRAY_RANGE","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_REPLACE","ARRAY_REVERSE","ARRAY_SORT","ARRAY_STAR","ARRAY_SUM","ARRAY_SYMDIFF","ARRAY_SYMDIFF1","ARRAY_SYMDIFFN","ARRAY_UNION","ASIN","ATAN","ATAN2","AVG","BASE64","BASE64_DECODE","BASE64_ENCODE","BITAND ","BITCLEAR ","BITNOT ","BITOR ","BITSET ","BITSHIFT ","BITTEST ","BITXOR ","CEIL","CLOCK_LOCAL","CLOCK_MILLIS","CLOCK_STR","CLOCK_TZ","CLOCK_UTC","COALESCE","CONCAT","CONCAT2","CONTAINS","CONTAINS_TOKEN","CONTAINS_TOKEN_LIKE","CONTAINS_TOKEN_REGEXP","COS","COUNT","COUNT","COUNTN","CUME_DIST","CURL","DATE_ADD_MILLIS","DATE_ADD_STR","DATE_DIFF_MILLIS","DATE_DIFF_STR","DATE_FORMAT_STR","DATE_PART_MILLIS","DATE_PART_STR","DATE_RANGE_MILLIS","DATE_RANGE_STR","DATE_TRUNC_MILLIS","DATE_TRUNC_STR","DECODE","DECODE_JSON","DEGREES","DENSE_RANK","DURATION_TO_STR","ENCODED_SIZE","ENCODE_JSON","EXP","FIRST_VALUE","FLOOR","GREATEST","HAS_TOKEN","IFINF","IFMISSING","IFMISSINGORNULL","IFNAN","IFNANORINF","IFNULL","INITCAP","ISARRAY","ISATOM","ISBITSET","ISBOOLEAN","ISNUMBER","ISOBJECT","ISSTRING","LAG","LAST_VALUE","LEAD","LEAST","LENGTH","LN","LOG","LOWER","LTRIM","MAX","MEAN","MEDIAN","META","MILLIS","MILLIS_TO_LOCAL","MILLIS_TO_STR","MILLIS_TO_TZ","MILLIS_TO_UTC","MILLIS_TO_ZONE_NAME","MIN","MISSINGIF","NANIF","NEGINFIF","NOW_LOCAL","NOW_MILLIS","NOW_STR","NOW_TZ","NOW_UTC","NTH_VALUE","NTILE","NULLIF","NVL","NVL2","OBJECT_ADD","OBJECT_CONCAT","OBJECT_INNER_PAIRS","OBJECT_INNER_VALUES","OBJECT_LENGTH","OBJECT_NAMES","OBJECT_PAIRS","OBJECT_PUT","OBJECT_REMOVE","OBJECT_RENAME","OBJECT_REPLACE","OBJECT_UNWRAP","OBJECT_VALUES","PAIRS","PERCENT_RANK","PI","POLY_LENGTH","POSINFIF","POSITION","POWER","RADIANS","RANDOM","RANK","RATIO_TO_REPORT","REGEXP_CONTAINS","REGEXP_LIKE","REGEXP_MATCHES","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGEX_CONTAINS","REGEX_LIKE","REGEX_MATCHES","REGEX_POSITION","REGEX_REPLACE","REGEX_SPLIT","REPEAT","REPLACE","REVERSE","ROUND","ROW_NUMBER","RTRIM","SEARCH","SEARCH_META","SEARCH_SCORE","SIGN","SIN","SPLIT","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DURATION","STR_TO_MILLIS","STR_TO_TZ","STR_TO_UTC","STR_TO_ZONE_NAME","SUBSTR","SUFFIXES","SUM","TAN","TITLE","TOARRAY","TOATOM","TOBOOLEAN","TOKENS","TOKENS","TONUMBER","TOOBJECT","TOSTRING","TRIM","TRUNC","UPPER","UUID","VARIANCE","VARIANCE_POP","VARIANCE_SAMP","VAR_POP","VAR_SAMP","WEEKDAY_MILLIS","WEEKDAY_STR","CAST"],TRe=["ADVISE","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","COMMITTED","CONNECT","CONTINUE","CORRELATED","COVER","CREATE","CURRENT","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FILTER","FIRST","FLATTEN","FLUSH","FOLLOWING","FOR","FORCE","FROM","FTS","FUNCTION","GOLANG","GRANT","GROUP","GROUPS","GSI","HASH","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","ISOLATION","JAVASCRIPT","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LANGUAGE","LAST","LEFT","LET","LETTING","LEVEL","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NL","NO","NOT","NTH_VALUE","NULL","NULLS","NUMBER","OBJECT","OFFSET","ON","OPTION","OPTIONS","OR","ORDER","OTHERS","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PRECEDING","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROBE","PROCEDURE","PUBLIC","RANGE","RAW","REALM","REDUCE","RENAME","RESPECT","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","ROW","ROWS","SATISFIES","SAVEPOINT","SCHEMA","SCOPE","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TIES","TO","TRAN","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WORK","XOR"],SRe=[],vRe=$e(["SELECT [ALL | DISTINCT]"]),yRe=$e(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED THEN","UPDATE SET","INSERT","NEST","UNNEST","RETURNING"]),U4=$e(["UPDATE","DELETE FROM","SET SCHEMA","ADVISE","ALTER INDEX","BEGIN TRANSACTION","BUILD INDEX","COMMIT TRANSACTION","CREATE COLLECTION","CREATE FUNCTION","CREATE INDEX","CREATE PRIMARY INDEX","CREATE SCOPE","DROP COLLECTION","DROP FUNCTION","DROP INDEX","DROP PRIMARY INDEX","DROP SCOPE","EXECUTE","EXECUTE FUNCTION","EXPLAIN","GRANT","INFER","PREPARE","REVOKE","ROLLBACK TRANSACTION","SAVEPOINT","SET TRANSACTION","UPDATE STATISTICS","UPSERT","LET","SET CURRENT SCHEMA","SHOW","USE [PRIMARY] KEYS"]),ARe=$e(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),RRe=$e(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","INNER JOIN"]),NRe=$e(["{ROWS | RANGE | GROUPS} BETWEEN"]),bRe={name:"n1ql",tokenizerOptions:{reservedSelect:vRe,reservedClauses:[...yRe,...U4],reservedSetOperations:ARe,reservedJoins:RRe,reservedPhrases:NRe,supportsXor:!0,reservedKeywords:TRe,reservedDataTypes:SRe,reservedFunctionNames:gRe,stringTypes:['""-bs',"''-bs"],identTypes:["``"],extraParens:["[]","{}"],paramTypes:{positional:!0,numbered:["$"],named:["$"]},lineCommentTypes:["#","--"],operators:["%","==",":","||"]},formatOptions:{onelineClauses:U4}},CRe=["ADD","AGENT","AGGREGATE","ALL","ALTER","AND","ANY","ARROW","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BEGIN","BETWEEN","BLOCK","BODY","BOTH","BOUND","BULK","BY","BYTE","CALL","CALLING","CASCADE","CASE","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOSE","CLUSTER","CLUSTERS","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONVERT","COUNT","CRASH","CREATE","CURRENT","CURSOR","CUSTOMDATUM","DANGLING","DATA","DAY","DECLARE","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DISTINCT","DROP","DURATION","ELEMENT","ELSE","ELSIF","EMPTY","END","ESCAPE","EXCEPT","EXCEPTION","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FINAL","FIXED","FOR","FORALL","FORCE","FORM","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HAVING","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSERT","INSTANTIABLE","INTERFACE","INTERSECT","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMIT","LIMITED","LOCAL","LOCK","LOOP","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MOD","MODE","MODIFY","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NEW","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","OR","ORACLE","ORADATA","ORDER","OVERLAPS","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARTITION","PASCAL","PIPE","PIPELINED","PRAGMA","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","READ","RECORD","REF","REFERENCE","REM","REMAINDER","RENAME","RESOURCE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELECT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SET","SHARE","SHORT","SIZE","SIZE_T","SOME","SPARSE","SQL","SQLCODE","SQLDATA","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUM","SYNONYM","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSAC","TRANSACTIONAL","TRUSTED","TYPE","UB1","UB2","UB4","UNDER","UNION","UNIQUE","UNSIGNED","UNTRUSTED","UPDATE","USE","USING","VALIST","VALUE","VALUES","VARIABLE","VARIANCE","VARRAY","VIEW","VIEWS","VOID","WHEN","WHERE","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],xRe=["ARRAY","BFILE_BASE","BINARY","BLOB_BASE","CHAR VARYING","CHAR_BASE","CHAR","CHARACTER VARYING","CHARACTER","CLOB_BASE","DATE_BASE","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTERVAL DAY","INTERVAL YEAR","LONG","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR VARYING","NCHAR","NCHAR","NUMBER_BASE","NUMBER","NUMBERIC","NVARCHAR","PRECISION","RAW","TIMESTAMP","UROWID","VARCHAR","VARCHAR2"],wRe=["ABS","ACOS","ASIN","ATAN","ATAN2","BITAND","CEIL","COS","COSH","EXP","FLOOR","LN","LOG","MOD","NANVL","POWER","REMAINDER","ROUND","SIGN","SIN","SINH","SQRT","TAN","TANH","TRUNC","WIDTH_BUCKET","CHR","CONCAT","INITCAP","LOWER","LPAD","LTRIM","NLS_INITCAP","NLS_LOWER","NLSSORT","NLS_UPPER","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","RPAD","RTRIM","SOUNDEX","SUBSTR","TRANSLATE","TREAT","TRIM","UPPER","NLS_CHARSET_DECL_LEN","NLS_CHARSET_ID","NLS_CHARSET_NAME","ASCII","INSTR","LENGTH","REGEXP_INSTR","ADD_MONTHS","CURRENT_DATE","CURRENT_TIMESTAMP","DBTIMEZONE","EXTRACT","FROM_TZ","LAST_DAY","LOCALTIMESTAMP","MONTHS_BETWEEN","NEW_TIME","NEXT_DAY","NUMTODSINTERVAL","NUMTOYMINTERVAL","ROUND","SESSIONTIMEZONE","SYS_EXTRACT_UTC","SYSDATE","SYSTIMESTAMP","TO_CHAR","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_DSINTERVAL","TO_YMINTERVAL","TRUNC","TZ_OFFSET","GREATEST","LEAST","ASCIISTR","BIN_TO_NUM","CAST","CHARTOROWID","COMPOSE","CONVERT","DECOMPOSE","HEXTORAW","NUMTODSINTERVAL","NUMTOYMINTERVAL","RAWTOHEX","RAWTONHEX","ROWIDTOCHAR","ROWIDTONCHAR","SCN_TO_TIMESTAMP","TIMESTAMP_TO_SCN","TO_BINARY_DOUBLE","TO_BINARY_FLOAT","TO_CHAR","TO_CLOB","TO_DATE","TO_DSINTERVAL","TO_LOB","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_DSINTERVAL","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_YMINTERVAL","TO_YMINTERVAL","TRANSLATE","UNISTR","BFILENAME","EMPTY_BLOB,","EMPTY_CLOB","CARDINALITY","COLLECT","POWERMULTISET","POWERMULTISET_BY_CARDINALITY","SET","SYS_CONNECT_BY_PATH","CLUSTER_ID","CLUSTER_PROBABILITY","CLUSTER_SET","FEATURE_ID","FEATURE_SET","FEATURE_VALUE","PREDICTION","PREDICTION_COST","PREDICTION_DETAILS","PREDICTION_PROBABILITY","PREDICTION_SET","APPENDCHILDXML","DELETEXML","DEPTH","EXTRACT","EXISTSNODE","EXTRACTVALUE","INSERTCHILDXML","INSERTXMLBEFORE","PATH","SYS_DBURIGEN","SYS_XMLAGG","SYS_XMLGEN","UPDATEXML","XMLAGG","XMLCDATA","XMLCOLATTVAL","XMLCOMMENT","XMLCONCAT","XMLFOREST","XMLPARSE","XMLPI","XMLQUERY","XMLROOT","XMLSEQUENCE","XMLSERIALIZE","XMLTABLE","XMLTRANSFORM","DECODE","DUMP","ORA_HASH","VSIZE","COALESCE","LNNVL","NULLIF","NVL","NVL2","SYS_CONTEXT","SYS_GUID","SYS_TYPEID","UID","USER","USERENV","AVG","COLLECT","CORR","CORR_S","CORR_K","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","FIRST","GROUP_ID","GROUPING","GROUPING_ID","LAST","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANK","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","STATS_BINOMIAL_TEST","STATS_CROSSTAB","STATS_F_TEST","STATS_KS_TEST","STATS_MODE","STATS_MW_TEST","STATS_ONE_WAY_ANOVA","STATS_T_TEST_ONE","STATS_T_TEST_PAIRED","STATS_T_TEST_INDEP","STATS_T_TEST_INDEPU","STATS_WSR_TEST","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTILE","RATIO_TO_REPORT","ROW_NUMBER","DEREF","MAKE_REF","REF","REFTOHEX","VALUE","CV","ITERATION_NUMBER","PRESENTNNV","PRESENTV","PREVIOUS"],ORe=$e(["SELECT [ALL | DISTINCT | UNIQUE]"]),IRe=$e(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","INSERT [INTO | ALL INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [THEN]","UPDATE SET","RETURNING"]),j4=$e(["CREATE [GLOBAL TEMPORARY | PRIVATE TEMPORARY | SHARDED | DUPLICATED | IMMUTABLE BLOCKCHAIN | BLOCKCHAIN | IMMUTABLE] TABLE"]),Wx=$e(["CREATE [OR REPLACE] [NO FORCE | FORCE] [EDITIONING | EDITIONABLE | EDITIONABLE EDITIONING | NONEDITIONABLE] VIEW","CREATE MATERIALIZED VIEW","UPDATE [ONLY]","DELETE FROM [ONLY]","DROP TABLE","ALTER TABLE","ADD","DROP {COLUMN | UNUSED COLUMNS | COLUMNS CONTINUE}","MODIFY","RENAME TO","RENAME COLUMN","TRUNCATE TABLE","SET SCHEMA","BEGIN","CONNECT BY","DECLARE","EXCEPT","EXCEPTION","LOOP","START WITH"]),_Re=$e(["UNION [ALL]","MINUS","INTERSECT"]),LRe=$e(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | OUTER} APPLY"]),DRe=$e(["ON {UPDATE | DELETE} [SET NULL]","ON COMMIT","{ROWS | RANGE} BETWEEN"]),MRe={name:"plsql",tokenizerOptions:{reservedSelect:ORe,reservedClauses:[...IRe,...j4,...Wx],reservedSetOperations:_Re,reservedJoins:LRe,reservedPhrases:DRe,supportsXor:!0,reservedKeywords:CRe,reservedDataTypes:xRe,reservedFunctionNames:wRe,stringTypes:[{quote:"''-qq",prefixes:["N"]},{quote:"q''",prefixes:["N"]}],identTypes:['""-qq'],identChars:{rest:"$#"},variableTypes:[{regex:"&{1,2}[A-Za-z][A-Za-z0-9_$#]*"}],paramTypes:{numbered:[":"],named:[":"]},operators:["**",":=","%","~=","^=",">>","<<","=>","@","||"],postProcess:PRe},formatOptions:{alwaysDenseOperators:["@"],onelineClauses:[...j4,...Wx],tabularOnelineClauses:Wx}};function PRe(t){let e=Kh;return t.map(r=>dd.SET(r)&&dd.BY(e)?Object.assign(Object.assign({},r),{type:qe.RESERVED_KEYWORD}):(x4(r.type)&&(e=r),r))}const kRe=["ABS","ACOS","ACOSD","ACOSH","ASIN","ASIND","ASINH","ATAN","ATAN2","ATAN2D","ATAND","ATANH","CBRT","CEIL","CEILING","COS","COSD","COSH","COT","COTD","DEGREES","DIV","EXP","FACTORIAL","FLOOR","GCD","LCM","LN","LOG","LOG10","MIN_SCALE","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SCALE","SETSEED","SIGN","SIN","SIND","SINH","SQRT","TAN","TAND","TANH","TRIM_SCALE","TRUNC","WIDTH_BUCKET","ABS","ASCII","BIT_LENGTH","BTRIM","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CONCAT","CONCAT_WS","FORMAT","INITCAP","LEFT","LENGTH","LOWER","LPAD","LTRIM","MD5","NORMALIZE","OCTET_LENGTH","OVERLAY","PARSE_IDENT","PG_CLIENT_ENCODING","POSITION","QUOTE_IDENT","QUOTE_LITERAL","QUOTE_NULLABLE","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT_PART","SPRINTF","STARTS_WITH","STRING_AGG","STRING_TO_ARRAY","STRING_TO_TABLE","STRPOS","SUBSTR","SUBSTRING","TO_ASCII","TO_HEX","TRANSLATE","TRIM","UNISTR","UPPER","BIT_COUNT","BIT_LENGTH","BTRIM","CONVERT","CONVERT_FROM","CONVERT_TO","DECODE","ENCODE","GET_BIT","GET_BYTE","LENGTH","LTRIM","MD5","OCTET_LENGTH","OVERLAY","POSITION","RTRIM","SET_BIT","SET_BYTE","SHA224","SHA256","SHA384","SHA512","STRING_AGG","SUBSTR","SUBSTRING","TRIM","BIT_COUNT","BIT_LENGTH","GET_BIT","LENGTH","OCTET_LENGTH","OVERLAY","POSITION","SET_BIT","SUBSTRING","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","TO_CHAR","TO_DATE","TO_NUMBER","TO_TIMESTAMP","CLOCK_TIMESTAMP","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_BIN","DATE_PART","DATE_TRUNC","EXTRACT","ISFINITE","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","LOCALTIME","LOCALTIMESTAMP","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","NOW","PG_SLEEP","PG_SLEEP_FOR","PG_SLEEP_UNTIL","STATEMENT_TIMESTAMP","TIMEOFDAY","TO_TIMESTAMP","TRANSACTION_TIMESTAMP","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","AREA","BOUND_BOX","BOX","CENTER","CIRCLE","DIAGONAL","DIAMETER","HEIGHT","ISCLOSED","ISOPEN","LENGTH","LINE","LSEG","NPOINTS","PATH","PCLOSE","POINT","POLYGON","POPEN","RADIUS","SLOPE","WIDTH","ABBREV","BROADCAST","FAMILY","HOST","HOSTMASK","INET_MERGE","INET_SAME_FAMILY","MACADDR8_SET7BIT","MASKLEN","NETMASK","NETWORK","SET_MASKLEN","TRUNC","ARRAY_TO_TSVECTOR","GET_CURRENT_TS_CONFIG","JSONB_TO_TSVECTOR","JSON_TO_TSVECTOR","LENGTH","NUMNODE","PHRASETO_TSQUERY","PLAINTO_TSQUERY","QUERYTREE","SETWEIGHT","STRIP","TO_TSQUERY","TO_TSVECTOR","TSQUERY_PHRASE","TSVECTOR_TO_ARRAY","TS_DEBUG","TS_DELETE","TS_FILTER","TS_HEADLINE","TS_LEXIZE","TS_PARSE","TS_RANK","TS_RANK_CD","TS_REWRITE","TS_STAT","TS_TOKEN_TYPE","WEBSEARCH_TO_TSQUERY","UUID","CURSOR_TO_XML","CURSOR_TO_XMLSCHEMA","DATABASE_TO_XML","DATABASE_TO_XMLSCHEMA","DATABASE_TO_XML_AND_XMLSCHEMA","NEXTVAL","QUERY_TO_XML","QUERY_TO_XMLSCHEMA","QUERY_TO_XML_AND_XMLSCHEMA","SCHEMA_TO_XML","SCHEMA_TO_XMLSCHEMA","SCHEMA_TO_XML_AND_XMLSCHEMA","STRING","TABLE_TO_XML","TABLE_TO_XMLSCHEMA","TABLE_TO_XML_AND_XMLSCHEMA","XMLAGG","XMLCOMMENT","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","XML_IS_WELL_FORMED","XML_IS_WELL_FORMED_CONTENT","XML_IS_WELL_FORMED_DOCUMENT","XPATH","XPATH_EXISTS","ARRAY_TO_JSON","JSONB_AGG","JSONB_ARRAY_ELEMENTS","JSONB_ARRAY_ELEMENTS_TEXT","JSONB_ARRAY_LENGTH","JSONB_BUILD_ARRAY","JSONB_BUILD_OBJECT","JSONB_EACH","JSONB_EACH_TEXT","JSONB_EXTRACT_PATH","JSONB_EXTRACT_PATH_TEXT","JSONB_INSERT","JSONB_OBJECT","JSONB_OBJECT_AGG","JSONB_OBJECT_KEYS","JSONB_PATH_EXISTS","JSONB_PATH_EXISTS_TZ","JSONB_PATH_MATCH","JSONB_PATH_MATCH_TZ","JSONB_PATH_QUERY","JSONB_PATH_QUERY_ARRAY","JSONB_PATH_QUERY_ARRAY_TZ","JSONB_PATH_QUERY_FIRST","JSONB_PATH_QUERY_FIRST_TZ","JSONB_PATH_QUERY_TZ","JSONB_POPULATE_RECORD","JSONB_POPULATE_RECORDSET","JSONB_PRETTY","JSONB_SET","JSONB_SET_LAX","JSONB_STRIP_NULLS","JSONB_TO_RECORD","JSONB_TO_RECORDSET","JSONB_TYPEOF","JSON_AGG","JSON_ARRAY_ELEMENTS","JSON_ARRAY_ELEMENTS_TEXT","JSON_ARRAY_LENGTH","JSON_BUILD_ARRAY","JSON_BUILD_OBJECT","JSON_EACH","JSON_EACH_TEXT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_OBJECT","JSON_OBJECT_AGG","JSON_OBJECT_KEYS","JSON_POPULATE_RECORD","JSON_POPULATE_RECORDSET","JSON_STRIP_NULLS","JSON_TO_RECORD","JSON_TO_RECORDSET","JSON_TYPEOF","ROW_TO_JSON","TO_JSON","TO_JSONB","TO_TIMESTAMP","CURRVAL","LASTVAL","NEXTVAL","SETVAL","COALESCE","GREATEST","LEAST","NULLIF","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_DIMS","ARRAY_FILL","ARRAY_LENGTH","ARRAY_LOWER","ARRAY_NDIMS","ARRAY_POSITION","ARRAY_POSITIONS","ARRAY_PREPEND","ARRAY_REMOVE","ARRAY_REPLACE","ARRAY_TO_STRING","ARRAY_UPPER","CARDINALITY","STRING_TO_ARRAY","TRIM_ARRAY","UNNEST","ISEMPTY","LOWER","LOWER_INC","LOWER_INF","MULTIRANGE","RANGE_MERGE","UPPER","UPPER_INC","UPPER_INF","ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COALESCE","CORR","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","EVERY","GROUPING","JSONB_AGG","JSONB_OBJECT_AGG","JSON_AGG","JSON_OBJECT_AGG","MAX","MIN","MODE","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANGE_AGG","RANGE_INTERSECT_AGG","RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","TO_JSON","TO_JSONB","VARIANCE","VAR_POP","VAR_SAMP","XMLAGG","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","GENERATE_SERIES","GENERATE_SUBSCRIPTS","ACLDEFAULT","ACLEXPLODE","COL_DESCRIPTION","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","FORMAT_TYPE","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HAS_TYPE_PRIVILEGE","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","MAKEACLITEM","OBJ_DESCRIPTION","PG_BACKEND_PID","PG_BLOCKING_PIDS","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONTROL_CHECKPOINT","PG_CONTROL_INIT","PG_CONTROL_SYSTEM","PG_CONVERSION_IS_VISIBLE","PG_CURRENT_LOGFILE","PG_CURRENT_SNAPSHOT","PG_CURRENT_XACT_ID","PG_CURRENT_XACT_ID_IF_ASSIGNED","PG_DESCRIBE_OBJECT","PG_FUNCTION_IS_VISIBLE","PG_GET_CATALOG_FOREIGN_KEYS","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_FUNCTIONDEF","PG_GET_FUNCTION_ARGUMENTS","PG_GET_FUNCTION_IDENTITY_ARGUMENTS","PG_GET_FUNCTION_RESULT","PG_GET_INDEXDEF","PG_GET_KEYWORDS","PG_GET_OBJECT_ADDRESS","PG_GET_OWNED_SEQUENCE","PG_GET_RULEDEF","PG_GET_SERIAL_SEQUENCE","PG_GET_STATISTICSOBJDEF","PG_GET_TRIGGERDEF","PG_GET_USERBYID","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IDENTIFY_OBJECT","PG_IDENTIFY_OBJECT_AS_ADDRESS","PG_INDEXAM_HAS_PROPERTY","PG_INDEX_COLUMN_HAS_PROPERTY","PG_INDEX_HAS_PROPERTY","PG_IS_OTHER_TEMP_SCHEMA","PG_JIT_AVAILABLE","PG_LAST_COMMITTED_XACT","PG_LISTENING_CHANNELS","PG_MY_TEMP_SCHEMA","PG_NOTIFICATION_QUEUE_USAGE","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_OPTIONS_TO_TABLE","PG_POSTMASTER_START_TIME","PG_SAFE_SNAPSHOT_BLOCKING_PIDS","PG_SNAPSHOT_XIP","PG_SNAPSHOT_XMAX","PG_SNAPSHOT_XMIN","PG_STATISTICS_OBJ_IS_VISIBLE","PG_TABLESPACE_DATABASES","PG_TABLESPACE_LOCATION","PG_TABLE_IS_VISIBLE","PG_TRIGGER_DEPTH","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PG_VISIBLE_IN_SNAPSHOT","PG_XACT_COMMIT_TIMESTAMP","PG_XACT_COMMIT_TIMESTAMP_ORIGIN","PG_XACT_STATUS","PQSERVERVERSION","ROW_SECURITY_ACTIVE","SESSION_USER","SHOBJ_DESCRIPTION","TO_REGCLASS","TO_REGCOLLATION","TO_REGNAMESPACE","TO_REGOPER","TO_REGOPERATOR","TO_REGPROC","TO_REGPROCEDURE","TO_REGROLE","TO_REGTYPE","TXID_CURRENT","TXID_CURRENT_IF_ASSIGNED","TXID_CURRENT_SNAPSHOT","TXID_SNAPSHOT_XIP","TXID_SNAPSHOT_XMAX","TXID_SNAPSHOT_XMIN","TXID_STATUS","TXID_VISIBLE_IN_SNAPSHOT","USER","VERSION","BRIN_DESUMMARIZE_RANGE","BRIN_SUMMARIZE_NEW_VALUES","BRIN_SUMMARIZE_RANGE","CONVERT_FROM","CURRENT_SETTING","GIN_CLEAN_PENDING_LIST","PG_ADVISORY_LOCK","PG_ADVISORY_LOCK_SHARED","PG_ADVISORY_UNLOCK","PG_ADVISORY_UNLOCK_ALL","PG_ADVISORY_UNLOCK_SHARED","PG_ADVISORY_XACT_LOCK","PG_ADVISORY_XACT_LOCK_SHARED","PG_BACKUP_START_TIME","PG_CANCEL_BACKEND","PG_COLLATION_ACTUAL_VERSION","PG_COLUMN_COMPRESSION","PG_COLUMN_SIZE","PG_COPY_LOGICAL_REPLICATION_SLOT","PG_COPY_PHYSICAL_REPLICATION_SLOT","PG_CREATE_LOGICAL_REPLICATION_SLOT","PG_CREATE_PHYSICAL_REPLICATION_SLOT","PG_CREATE_RESTORE_POINT","PG_CURRENT_WAL_FLUSH_LSN","PG_CURRENT_WAL_INSERT_LSN","PG_CURRENT_WAL_LSN","PG_DATABASE_SIZE","PG_DROP_REPLICATION_SLOT","PG_EXPORT_SNAPSHOT","PG_FILENODE_RELATION","PG_GET_WAL_REPLAY_PAUSE_STATE","PG_IMPORT_SYSTEM_COLLATIONS","PG_INDEXES_SIZE","PG_IS_IN_BACKUP","PG_IS_IN_RECOVERY","PG_IS_WAL_REPLAY_PAUSED","PG_LAST_WAL_RECEIVE_LSN","PG_LAST_WAL_REPLAY_LSN","PG_LAST_XACT_REPLAY_TIMESTAMP","PG_LOGICAL_EMIT_MESSAGE","PG_LOGICAL_SLOT_GET_BINARY_CHANGES","PG_LOGICAL_SLOT_GET_CHANGES","PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES","PG_LOGICAL_SLOT_PEEK_CHANGES","PG_LOG_BACKEND_MEMORY_CONTEXTS","PG_LS_ARCHIVE_STATUSDIR","PG_LS_DIR","PG_LS_LOGDIR","PG_LS_TMPDIR","PG_LS_WALDIR","PG_PARTITION_ANCESTORS","PG_PARTITION_ROOT","PG_PARTITION_TREE","PG_PROMOTE","PG_READ_BINARY_FILE","PG_READ_FILE","PG_RELATION_FILENODE","PG_RELATION_FILEPATH","PG_RELATION_SIZE","PG_RELOAD_CONF","PG_REPLICATION_ORIGIN_ADVANCE","PG_REPLICATION_ORIGIN_CREATE","PG_REPLICATION_ORIGIN_DROP","PG_REPLICATION_ORIGIN_OID","PG_REPLICATION_ORIGIN_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_IS_SETUP","PG_REPLICATION_ORIGIN_SESSION_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_RESET","PG_REPLICATION_ORIGIN_SESSION_SETUP","PG_REPLICATION_ORIGIN_XACT_RESET","PG_REPLICATION_ORIGIN_XACT_SETUP","PG_REPLICATION_SLOT_ADVANCE","PG_ROTATE_LOGFILE","PG_SIZE_BYTES","PG_SIZE_PRETTY","PG_START_BACKUP","PG_STAT_FILE","PG_STOP_BACKUP","PG_SWITCH_WAL","PG_TABLESPACE_SIZE","PG_TABLE_SIZE","PG_TERMINATE_BACKEND","PG_TOTAL_RELATION_SIZE","PG_TRY_ADVISORY_LOCK","PG_TRY_ADVISORY_LOCK_SHARED","PG_TRY_ADVISORY_XACT_LOCK","PG_TRY_ADVISORY_XACT_LOCK_SHARED","PG_WALFILE_NAME","PG_WALFILE_NAME_OFFSET","PG_WAL_LSN_DIFF","PG_WAL_REPLAY_PAUSE","PG_WAL_REPLAY_RESUME","SET_CONFIG","SUPPRESS_REDUNDANT_UPDATES_TRIGGER","TSVECTOR_UPDATE_TRIGGER","TSVECTOR_UPDATE_TRIGGER_COLUMN","PG_EVENT_TRIGGER_DDL_COMMANDS","PG_EVENT_TRIGGER_DROPPED_OBJECTS","PG_EVENT_TRIGGER_TABLE_REWRITE_OID","PG_EVENT_TRIGGER_TABLE_REWRITE_REASON","PG_GET_OBJECT_ADDRESS","PG_MCV_LIST_ITEMS","CAST"],URe=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DAY","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","EXISTS","FALSE","FETCH","FILTER","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","HOUR","ILIKE","IN","INITIALLY","INNER","INOUT","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MINUTE","MONTH","NATURAL","NOT","NOTNULL","NULL","NULLIF","OFFSET","ON","ONLY","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","ROW","SECOND","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VALUES","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],jRe=["ARRAY","BIGINT","BIT","BIT VARYING","BOOL","BOOLEAN","CHAR","CHARACTER","CHARACTER VARYING","DECIMAL","DEC","DOUBLE","ENUM","FLOAT","INT","INTEGER","INTERVAL","NCHAR","NUMERIC","JSON","JSONB","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TIMESTAMPTZ","VARCHAR","XML","ZONE"],BRe=$e(["SELECT [ALL | DISTINCT]"]),FRe=$e(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR {UPDATE | NO KEY UPDATE | SHARE | KEY SHARE} [OF]","INSERT INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),B4=$e(["CREATE [GLOBAL | LOCAL] [TEMPORARY | TEMP | UNLOGGED] TABLE [IF NOT EXISTS]"]),Yx=$e(["CREATE [OR REPLACE] [TEMP | TEMPORARY] [RECURSIVE] VIEW","CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE [ONLY]","WHERE CURRENT OF","ON CONFLICT","DELETE FROM [ONLY]","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS] [ONLY]","ALTER TABLE ALL IN TABLESPACE","RENAME [COLUMN]","RENAME TO","ADD [COLUMN] [IF NOT EXISTS]","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","SET DATA TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","TRUNCATE [TABLE] [ONLY]","SET SCHEMA","AFTER","ABORT","ALTER AGGREGATE","ALTER COLLATION","ALTER CONVERSION","ALTER DATABASE","ALTER DEFAULT PRIVILEGES","ALTER DOMAIN","ALTER EVENT TRIGGER","ALTER EXTENSION","ALTER FOREIGN DATA WRAPPER","ALTER FOREIGN TABLE","ALTER FUNCTION","ALTER GROUP","ALTER INDEX","ALTER LANGUAGE","ALTER LARGE OBJECT","ALTER MATERIALIZED VIEW","ALTER OPERATOR","ALTER OPERATOR CLASS","ALTER OPERATOR FAMILY","ALTER POLICY","ALTER PROCEDURE","ALTER PUBLICATION","ALTER ROLE","ALTER ROUTINE","ALTER RULE","ALTER SCHEMA","ALTER SEQUENCE","ALTER SERVER","ALTER STATISTICS","ALTER SUBSCRIPTION","ALTER SYSTEM","ALTER TABLESPACE","ALTER TEXT SEARCH CONFIGURATION","ALTER TEXT SEARCH DICTIONARY","ALTER TEXT SEARCH PARSER","ALTER TEXT SEARCH TEMPLATE","ALTER TRIGGER","ALTER TYPE","ALTER USER","ALTER USER MAPPING","ALTER VIEW","ANALYZE","BEGIN","CALL","CHECKPOINT","CLOSE","CLUSTER","COMMIT","COMMIT PREPARED","COPY","CREATE ACCESS METHOD","CREATE [OR REPLACE] AGGREGATE","CREATE CAST","CREATE COLLATION","CREATE [DEFAULT] CONVERSION","CREATE DATABASE","CREATE DOMAIN","CREATE EVENT TRIGGER","CREATE EXTENSION","CREATE FOREIGN DATA WRAPPER","CREATE FOREIGN TABLE","CREATE [OR REPLACE] FUNCTION","CREATE GROUP","CREATE [UNIQUE] INDEX","CREATE [OR REPLACE] [TRUSTED] [PROCEDURAL] LANGUAGE","CREATE OPERATOR","CREATE OPERATOR CLASS","CREATE OPERATOR FAMILY","CREATE POLICY","CREATE [OR REPLACE] PROCEDURE","CREATE PUBLICATION","CREATE ROLE","CREATE [OR REPLACE] RULE","CREATE SCHEMA [AUTHORIZATION]","CREATE [TEMPORARY | TEMP | UNLOGGED] SEQUENCE","CREATE SERVER","CREATE STATISTICS","CREATE SUBSCRIPTION","CREATE TABLESPACE","CREATE TEXT SEARCH CONFIGURATION","CREATE TEXT SEARCH DICTIONARY","CREATE TEXT SEARCH PARSER","CREATE TEXT SEARCH TEMPLATE","CREATE [OR REPLACE] TRANSFORM","CREATE [OR REPLACE] [CONSTRAINT] TRIGGER","CREATE TYPE","CREATE USER","CREATE USER MAPPING","DEALLOCATE","DECLARE","DISCARD","DROP ACCESS METHOD","DROP AGGREGATE","DROP CAST","DROP COLLATION","DROP CONVERSION","DROP DATABASE","DROP DOMAIN","DROP EVENT TRIGGER","DROP EXTENSION","DROP FOREIGN DATA WRAPPER","DROP FOREIGN TABLE","DROP FUNCTION","DROP GROUP","DROP IDENTITY","DROP INDEX","DROP LANGUAGE","DROP MATERIALIZED VIEW [IF EXISTS]","DROP OPERATOR","DROP OPERATOR CLASS","DROP OPERATOR FAMILY","DROP OWNED","DROP POLICY","DROP PROCEDURE","DROP PUBLICATION","DROP ROLE","DROP ROUTINE","DROP RULE","DROP SCHEMA","DROP SEQUENCE","DROP SERVER","DROP STATISTICS","DROP SUBSCRIPTION","DROP TABLESPACE","DROP TEXT SEARCH CONFIGURATION","DROP TEXT SEARCH DICTIONARY","DROP TEXT SEARCH PARSER","DROP TEXT SEARCH TEMPLATE","DROP TRANSFORM","DROP TRIGGER","DROP TYPE","DROP USER","DROP USER MAPPING","DROP VIEW","EXECUTE","EXPLAIN","FETCH","GRANT","IMPORT FOREIGN SCHEMA","LISTEN","LOAD","LOCK","MOVE","NOTIFY","OVERRIDING SYSTEM VALUE","PREPARE","PREPARE TRANSACTION","REASSIGN OWNED","REFRESH MATERIALIZED VIEW","REINDEX","RELEASE SAVEPOINT","RESET [ALL|ROLE|SESSION AUTHORIZATION]","REVOKE","ROLLBACK","ROLLBACK PREPARED","ROLLBACK TO SAVEPOINT","SAVEPOINT","SECURITY LABEL","SELECT INTO","SET CONSTRAINTS","SET ROLE","SET SESSION AUTHORIZATION","SET TRANSACTION","SHOW","START TRANSACTION","UNLISTEN","VACUUM"]),HRe=$e(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),$Re=$e(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),GRe=$e(["PRIMARY KEY","GENERATED {ALWAYS | BY DEFAULT} AS IDENTITY","ON {UPDATE | DELETE} [NO ACTION | RESTRICT | CASCADE | SET NULL | SET DEFAULT]","DO {NOTHING | UPDATE}","AS MATERIALIZED","{ROWS | RANGE | GROUPS} BETWEEN","[TIMESTAMP | TIME] {WITH | WITHOUT} TIME ZONE","IS [NOT] DISTINCT FROM","NULLS {FIRST | LAST}","WITH ORDINALITY"]),VRe={name:"postgresql",tokenizerOptions:{reservedSelect:BRe,reservedClauses:[...FRe,...B4,...Yx],reservedSetOperations:HRe,reservedJoins:$Re,reservedPhrases:GRe,reservedKeywords:URe,reservedDataTypes:jRe,reservedFunctionNames:kRe,nestedBlockComments:!0,extraParens:["[]"],stringTypes:["$$",{quote:"''-qq",prefixes:["U&"]},{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:[{quote:'""-qq',prefixes:["U&"]}],identChars:{rest:"$"},paramTypes:{numbered:["$"]},operators:["%","^","|/","||/","@",":=","&","|","#","~","<<",">>","~>~","~<~","~>=~","~<=~","@-@","@@","##","<->","&&","&<","&>","<<|","&<|","|>>","|&>","<^","^>","?#","?-","?|","?-|","?||","@>","<@","~=","?","@?","?&","->","->>","#>","#>>","#-","=>",">>=","<<=","~~","~~*","!~~","!~~*","~","~*","!~","!~*","-|-","||","@@@","!!","^@","<%","%>","<<%","%>>","<<->","<->>","<<<->","<->>>","::",":","<#>","<=>","<+>","<~>","<%>"],operatorKeyword:!0},formatOptions:{alwaysDenseOperators:["::",":"],onelineClauses:[...B4,...Yx],tabularOnelineClauses:Yx}},zRe=["ANY_VALUE","APPROXIMATE PERCENTILE_DISC","AVG","COUNT","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","array","array_concat","array_flatten","get_array_length","split_to_array","subarray","BIT_AND","BIT_OR","BOOL_AND","BOOL_OR","COALESCE","DECODE","GREATEST","LEAST","NVL","NVL2","NULLIF","ADD_MONTHS","AT TIME ZONE","CONVERT_TIMEZONE","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_CMP","DATE_CMP_TIMESTAMP","DATE_CMP_TIMESTAMPTZ","DATE_PART_YEAR","DATEADD","DATEDIFF","DATE_PART","DATE_TRUNC","EXTRACT","GETDATE","INTERVAL_CMP","LAST_DAY","MONTHS_BETWEEN","NEXT_DAY","SYSDATE","TIMEOFDAY","TIMESTAMP_CMP","TIMESTAMP_CMP_DATE","TIMESTAMP_CMP_TIMESTAMPTZ","TIMESTAMPTZ_CMP","TIMESTAMPTZ_CMP_DATE","TIMESTAMPTZ_CMP_TIMESTAMP","TIMEZONE","TO_TIMESTAMP","TRUNC","AddBBox","DropBBox","GeometryType","ST_AddPoint","ST_Angle","ST_Area","ST_AsBinary","ST_AsEWKB","ST_AsEWKT","ST_AsGeoJSON","ST_AsText","ST_Azimuth","ST_Boundary","ST_Collect","ST_Contains","ST_ContainsProperly","ST_ConvexHull","ST_CoveredBy","ST_Covers","ST_Crosses","ST_Dimension","ST_Disjoint","ST_Distance","ST_DistanceSphere","ST_DWithin","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_Force2D","ST_Force3D","ST_Force3DM","ST_Force3DZ","ST_Force4D","ST_GeometryN","ST_GeometryType","ST_GeomFromEWKB","ST_GeomFromEWKT","ST_GeomFromText","ST_GeomFromWKB","ST_InteriorRingN","ST_Intersects","ST_IsPolygonCCW","ST_IsPolygonCW","ST_IsClosed","ST_IsCollection","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_Length","ST_LengthSphere","ST_Length2D","ST_LineFromMultiPoint","ST_LineInterpolatePoint","ST_M","ST_MakeEnvelope","ST_MakeLine","ST_MakePoint","ST_MakePolygon","ST_MemSize","ST_MMax","ST_MMin","ST_Multi","ST_NDims","ST_NPoints","ST_NRings","ST_NumGeometries","ST_NumInteriorRings","ST_NumPoints","ST_Perimeter","ST_Perimeter2D","ST_Point","ST_PointN","ST_Points","ST_Polygon","ST_RemovePoint","ST_Reverse","ST_SetPoint","ST_SetSRID","ST_Simplify","ST_SRID","ST_StartPoint","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","ST_Z","ST_ZMax","ST_ZMin","SupportsBBox","CHECKSUM","FUNC_SHA1","FNV_HASH","MD5","SHA","SHA1","SHA2","HLL","HLL_CREATE_SKETCH","HLL_CARDINALITY","HLL_COMBINE","IS_VALID_JSON","IS_VALID_JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_EXTRACT_ARRAY_ELEMENT_TEXT","JSON_EXTRACT_PATH_TEXT","JSON_PARSE","JSON_SERIALIZE","ABS","ACOS","ASIN","ATAN","ATAN2","CBRT","CEILING","CEIL","COS","COT","DEGREES","DEXP","DLOG1","DLOG10","EXP","FLOOR","LN","LOG","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SIN","SIGN","SQRT","TAN","TO_HEX","TRUNC","EXPLAIN_MODEL","ASCII","BPCHARCMP","BTRIM","BTTEXT_PATTERN_CMP","CHAR_LENGTH","CHARACTER_LENGTH","CHARINDEX","CHR","COLLATE","CONCAT","CRC32","DIFFERENCE","INITCAP","LEFT","RIGHT","LEN","LENGTH","LOWER","LPAD","RPAD","LTRIM","OCTETINDEX","OCTET_LENGTH","POSITION","QUOTE_IDENT","QUOTE_LITERAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","REPLICATE","REVERSE","RTRIM","SOUNDEX","SPLIT_PART","STRPOS","STRTOL","SUBSTRING","TEXTLEN","TRANSLATE","TRIM","UPPER","decimal_precision","decimal_scale","is_array","is_bigint","is_boolean","is_char","is_decimal","is_float","is_integer","is_object","is_scalar","is_smallint","is_varchar","json_typeof","AVG","COUNT","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAST_VALUE","LAG","LEAD","LISTAGG","MAX","MEDIAN","MIN","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","CAST","CONVERT","TO_CHAR","TO_DATE","TO_NUMBER","TEXT_TO_INT_ALT","TEXT_TO_NUMERIC_ALT","CHANGE_QUERY_PRIORITY","CHANGE_SESSION_PRIORITY","CHANGE_USER_PRIORITY","CURRENT_SETTING","PG_CANCEL_BACKEND","PG_TERMINATE_BACKEND","REBOOT_CLUSTER","SET_CONFIG","CURRENT_AWS_ACCOUNT","CURRENT_DATABASE","CURRENT_NAMESPACE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","CURRENT_USER_ID","HAS_ASSUMEROLE_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_TABLE_PRIVILEGE","PG_BACKEND_PID","PG_GET_COLS","PG_GET_GRANTEE_BY_IAM_ROLE","PG_GET_IAM_ROLE_BY_USER","PG_GET_LATE_BINDING_VIEW_COLS","PG_LAST_COPY_COUNT","PG_LAST_COPY_ID","PG_LAST_UNLOAD_ID","PG_LAST_QUERY_ID","PG_LAST_UNLOAD_COUNT","SESSION_USER","SLICE_NUM","USER","VERSION"],WRe=["AES128","AES256","ALL","ALLOWOVERWRITE","ANY","AS","ASC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BOTH","CHECK","COLUMN","CONSTRAINT","CREATE","CROSS","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DESC","DISABLE","DISTINCT","DO","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GROUP","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTO","IS","ISNULL","LANGUAGE","LEADING","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","MINUS","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RECOVER","REFERENCES","REJECTLOG","RESORT","RESPECT","RESTORE","SIMILAR","SNAPSHOT","SOME","SYSTEM","TABLE","TAG","TDES","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","UNIQUE","USING","VERBOSE","WALLET","WITHOUT","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","FORMAT","CSV","DELIMITER","FIXEDWIDTH","SHAPEFILE","AVRO","JSON","PARQUET","ORC","ACCESS_KEY_ID","CREDENTIALS","ENCRYPTED","IAM_ROLE","MASTER_SYMMETRIC_KEY","SECRET_ACCESS_KEY","SESSION_TOKEN","BZIP2","GZIP","LZOP","ZSTD","MANIFEST","READRATIO","REGION","SSH","RAW","AZ64","BYTEDICT","DELTA","DELTA32K","LZO","MOSTLY8","MOSTLY16","MOSTLY32","RUNLENGTH","TEXT255","TEXT32K","CATALOG_ROLE","SECRET_ARN","EXTERNAL","AUTO","EVEN","KEY","PREDICATE","COMPRESSION"],YRe=["ARRAY","BIGINT","BPCHAR","CHAR","CHARACTER VARYING","CHARACTER","DECIMAL","INT","INT2","INT4","INT8","INTEGER","NCHAR","NUMERIC","NVARCHAR","SMALLINT","TEXT","VARBYTE","VARCHAR"],qRe=$e(["SELECT [ALL | DISTINCT]"]),KRe=$e(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET"]),F4=$e(["CREATE [TEMPORARY | TEMP | LOCAL TEMPORARY | LOCAL TEMP] TABLE [IF NOT EXISTS]"]),qx=$e(["CREATE [OR REPLACE | MATERIALIZED] VIEW","UPDATE","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ALTER TABLE APPEND","ADD [COLUMN]","DROP [COLUMN]","RENAME TO","RENAME COLUMN","ALTER COLUMN","TYPE","ENCODE","TRUNCATE [TABLE]","ABORT","ALTER DATABASE","ALTER DATASHARE","ALTER DEFAULT PRIVILEGES","ALTER GROUP","ALTER MATERIALIZED VIEW","ALTER PROCEDURE","ALTER SCHEMA","ALTER USER","ANALYSE","ANALYZE","ANALYSE COMPRESSION","ANALYZE COMPRESSION","BEGIN","CALL","CANCEL","CLOSE","COMMIT","COPY","CREATE DATABASE","CREATE DATASHARE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL SCHEMA","CREATE EXTERNAL TABLE","CREATE FUNCTION","CREATE GROUP","CREATE LIBRARY","CREATE MODEL","CREATE PROCEDURE","CREATE SCHEMA","CREATE USER","DEALLOCATE","DECLARE","DESC DATASHARE","DROP DATABASE","DROP DATASHARE","DROP FUNCTION","DROP GROUP","DROP LIBRARY","DROP MODEL","DROP MATERIALIZED VIEW","DROP PROCEDURE","DROP SCHEMA","DROP USER","DROP VIEW","DROP","EXECUTE","EXPLAIN","FETCH","GRANT","LOCK","PREPARE","REFRESH MATERIALIZED VIEW","RESET","REVOKE","ROLLBACK","SELECT INTO","SET SESSION AUTHORIZATION","SET SESSION CHARACTERISTICS","SHOW","SHOW EXTERNAL TABLE","SHOW MODEL","SHOW DATASHARES","SHOW PROCEDURE","SHOW TABLE","SHOW VIEW","START TRANSACTION","UNLOAD","VACUUM"]),XRe=$e(["UNION [ALL]","EXCEPT","INTERSECT","MINUS"]),QRe=$e(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),JRe=$e(["NULL AS","DATA CATALOG","HIVE METASTORE","{ROWS | RANGE} BETWEEN"]),ZRe={name:"redshift",tokenizerOptions:{reservedSelect:qRe,reservedClauses:[...KRe,...F4,...qx],reservedSetOperations:XRe,reservedJoins:QRe,reservedPhrases:JRe,reservedKeywords:WRe,reservedDataTypes:YRe,reservedFunctionNames:zRe,stringTypes:["''-qq"],identTypes:['""-qq'],identChars:{first:"#"},paramTypes:{numbered:["$"]},operators:["^","%","@","|/","||/","&","|","~","<<",">>","||","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...F4,...qx],tabularOnelineClauses:qx}},eNe=["ADD","AFTER","ALL","ALTER","ANALYZE","AND","ANTI","ANY","ARCHIVE","AS","ASC","AT","AUTHORIZATION","BETWEEN","BOTH","BUCKET","BUCKETS","BY","CACHE","CASCADE","CAST","CHANGE","CHECK","CLEAR","CLUSTER","CLUSTERED","CODEGEN","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONSTRAINT","COST","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATA","DATABASE","DATABASES","DAY","DBPROPERTIES","DEFINED","DELETE","DELIMITED","DESC","DESCRIBE","DFS","DIRECTORIES","DIRECTORY","DISTINCT","DISTRIBUTE","DIV","DROP","ESCAPE","ESCAPED","EXCEPT","EXCHANGE","EXISTS","EXPORT","EXTENDED","EXTERNAL","EXTRACT","FALSE","FETCH","FIELDS","FILTER","FILEFORMAT","FIRST","FIRST_VALUE","FOLLOWING","FOR","FOREIGN","FORMAT","FORMATTED","FULL","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GROUP","GROUPING","HOUR","IF","IGNORE","IMPORT","IN","INDEX","INDEXES","INNER","INPATH","INPUTFORMAT","INTERSECT","INTO","IS","ITEMS","KEYS","LAST","LAST_VALUE","LATERAL","LAZY","LEADING","LEFT","LIKE","LINES","LIST","LOCAL","LOCATION","LOCK","LOCKS","LOGICAL","MACRO","MATCHED","MERGE","MINUTE","MONTH","MSCK","NAMESPACE","NAMESPACES","NATURAL","NO","NOT","NULL","NULLS","OF","ONLY","OPTION","OPTIONS","OR","ORDER","OUT","OUTER","OUTPUTFORMAT","OVER","OVERLAPS","OVERLAY","OVERWRITE","OWNER","PARTITION","PARTITIONED","PARTITIONS","PERCENT","PLACING","POSITION","PRECEDING","PRIMARY","PRINCIPALS","PROPERTIES","PURGE","QUERY","RANGE","RECORDREADER","RECORDWRITER","RECOVER","REDUCE","REFERENCES","RENAME","REPAIR","REPLACE","RESPECT","RESTRICT","REVOKE","RIGHT","RLIKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","SCHEMA","SECOND","SELECT","SEMI","SEPARATED","SERDE","SERDEPROPERTIES","SESSION_USER","SETS","SHOW","SKEWED","SOME","SORT","SORTED","START","STATISTICS","STORED","STRATIFY","SUBSTR","SUBSTRING","TABLE","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","THEN","TO","TOUCH","TRAILING","TRANSACTION","TRANSACTIONS","TRIM","TRUE","TRUNCATE","UNARCHIVE","UNBOUNDED","UNCACHE","UNIQUE","UNKNOWN","UNLOCK","UNSET","USE","USER","USING","VIEW","WINDOW","YEAR","ANALYSE","ARRAY_ZIP","COALESCE","CONTAINS","CONVERT","DAYS","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DECODE","DEFAULT","DISTINCTROW","ENCODE","EXPLODE","EXPLODE_OUTER","FIXED","GREATEST","GROUP_CONCAT","HOURS","HOUR_MINUTE","HOUR_SECOND","IFNULL","LEAST","LEVEL","MINUTE_SECOND","NULLIF","OFFSET","ON","OPTIMIZE","REGEXP","SEPARATOR","SIZE","TYPE","TYPES","UNSIGNED","VARIABLES","YEAR_MONTH"],tNe=["ARRAY","BIGINT","BINARY","BOOLEAN","BYTE","CHAR","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","LONG","MAP","NUMERIC","REAL","SHORT","SMALLINT","STRING","STRUCT","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TINYINT","VARCHAR"],rNe=["APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COUNT","COUNT","COUNT_IF","COUNT_MIN_SKETCH","COVAR_POP","COVAR_SAMP","EVERY","FIRST","FIRST_VALUE","GROUPING","GROUPING_ID","KURTOSIS","LAST","LAST_VALUE","MAX","MAX_BY","MEAN","MIN","MIN_BY","PERCENTILE","PERCENTILE","PERCENTILE_APPROX","SKEWNESS","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","CUME_DIST","DENSE_RANK","LAG","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","ARRAY","ARRAY_CONTAINS","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_UNION","ARRAYS_OVERLAP","ARRAYS_ZIP","FLATTEN","SEQUENCE","SHUFFLE","SLICE","SORT_ARRAY","ELEMENT_AT","ELEMENT_AT","MAP_CONCAT","MAP_ENTRIES","MAP_FROM_ARRAYS","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","STR_TO_MAP","ADD_MONTHS","CURRENT_DATE","CURRENT_DATE","CURRENT_TIMESTAMP","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","DATE_ADD","DATE_FORMAT","DATE_FROM_UNIX_DATE","DATE_PART","DATE_SUB","DATE_TRUNC","DATEDIFF","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MAKE_DATE","MAKE_DT_INTERVAL","MAKE_INTERVAL","MAKE_TIMESTAMP","MAKE_YM_INTERVAL","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","NOW","QUARTER","SECOND","SESSION_WINDOW","TIMESTAMP_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_SECONDS","TO_DATE","TO_TIMESTAMP","TO_UNIX_TIMESTAMP","TO_UTC_TIMESTAMP","TRUNC","UNIX_DATE","UNIX_MICROS","UNIX_MILLIS","UNIX_SECONDS","UNIX_TIMESTAMP","WEEKDAY","WEEKOFYEAR","WINDOW","YEAR","FROM_JSON","GET_JSON_OBJECT","JSON_ARRAY_LENGTH","JSON_OBJECT_KEYS","JSON_TUPLE","SCHEMA_OF_JSON","TO_JSON","ABS","ACOS","ACOSH","AGGREGATE","ARRAY_SORT","ASCII","ASIN","ASINH","ASSERT_TRUE","ATAN","ATAN2","ATANH","BASE64","BIN","BIT_COUNT","BIT_GET","BIT_LENGTH","BROUND","BTRIM","CARDINALITY","CBRT","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONV","COS","COSH","COT","CRC32","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_USER","DEGREES","ELT","EXP","EXPM1","FACTORIAL","FIND_IN_SET","FLOOR","FORALL","FORMAT_NUMBER","FORMAT_STRING","FROM_CSV","GETBIT","HASH","HEX","HYPOT","INITCAP","INLINE","INLINE_OUTER","INPUT_FILE_BLOCK_LENGTH","INPUT_FILE_BLOCK_START","INPUT_FILE_NAME","INSTR","ISNAN","ISNOTNULL","ISNULL","JAVA_METHOD","LCASE","LEFT","LENGTH","LEVENSHTEIN","LN","LOCATE","LOG","LOG10","LOG1P","LOG2","LOWER","LPAD","LTRIM","MAP_FILTER","MAP_ZIP_WITH","MD5","MOD","MONOTONICALLY_INCREASING_ID","NAMED_STRUCT","NANVL","NEGATIVE","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARSE_URL","PI","PMOD","POSEXPLODE","POSEXPLODE_OUTER","POSITION","POSITIVE","POW","POWER","PRINTF","RADIANS","RAISE_ERROR","RAND","RANDN","RANDOM","REFLECT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RINT","ROUND","RPAD","RTRIM","SCHEMA_OF_CSV","SENTENCES","SHA","SHA1","SHA2","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIGNUM","SIN","SINH","SOUNDEX","SPACE","SPARK_PARTITION_ID","SPLIT","SQRT","STACK","SUBSTR","SUBSTRING","SUBSTRING_INDEX","TAN","TANH","TO_CSV","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRY_ADD","TRY_DIVIDE","TYPEOF","UCASE","UNBASE64","UNHEX","UPPER","UUID","VERSION","WIDTH_BUCKET","XPATH","XPATH_BOOLEAN","XPATH_DOUBLE","XPATH_FLOAT","XPATH_INT","XPATH_LONG","XPATH_NUMBER","XPATH_SHORT","XPATH_STRING","XXHASH64","ZIP_WITH","CAST","COALESCE","NULLIF"],nNe=$e(["SELECT [ALL | DISTINCT]"]),sNe=$e(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT [INTO | OVERWRITE] [TABLE]","VALUES","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),H4=$e(["CREATE [EXTERNAL] TABLE [IF NOT EXISTS]"]),Kx=$e(["CREATE [OR REPLACE] [GLOBAL TEMPORARY | TEMPORARY] VIEW [IF NOT EXISTS]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD COLUMNS","DROP {COLUMN | COLUMNS}","RENAME TO","RENAME COLUMN","ALTER COLUMN","TRUNCATE TABLE","LATERAL VIEW","ALTER DATABASE","ALTER VIEW","CREATE DATABASE","CREATE FUNCTION","DROP DATABASE","DROP FUNCTION","DROP VIEW","REPAIR TABLE","USE DATABASE","TABLESAMPLE","PIVOT","TRANSFORM","EXPLAIN","ADD FILE","ADD JAR","ANALYZE TABLE","CACHE TABLE","CLEAR CACHE","DESCRIBE DATABASE","DESCRIBE FUNCTION","DESCRIBE QUERY","DESCRIBE TABLE","LIST FILE","LIST JAR","REFRESH","REFRESH TABLE","REFRESH FUNCTION","RESET","SHOW COLUMNS","SHOW CREATE TABLE","SHOW DATABASES","SHOW FUNCTIONS","SHOW PARTITIONS","SHOW TABLE EXTENDED","SHOW TABLES","SHOW TBLPROPERTIES","SHOW VIEWS","UNCACHE TABLE"]),iNe=$e(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),oNe=$e(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT] {ANTI | SEMI} JOIN","NATURAL [LEFT] {ANTI | SEMI} JOIN"]),aNe=$e(["ON DELETE","ON UPDATE","CURRENT ROW","{ROWS | RANGE} BETWEEN"]),lNe={name:"spark",tokenizerOptions:{reservedSelect:nNe,reservedClauses:[...sNe,...H4,...Kx],reservedSetOperations:iNe,reservedJoins:oNe,reservedPhrases:aNe,supportsXor:!0,reservedKeywords:eNe,reservedDataTypes:tNe,reservedFunctionNames:rNe,extraParens:["[]"],stringTypes:["''-bs",'""-bs',{quote:"''-raw",prefixes:["R","X"],requirePrefix:!0},{quote:'""-raw',prefixes:["R","X"],requirePrefix:!0}],identTypes:["``"],identChars:{allowFirstCharNumber:!0},variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||","->"],postProcess:cNe},formatOptions:{onelineClauses:[...H4,...Kx],tabularOnelineClauses:Kx}};function cNe(t){return t.map((e,r)=>{const n=t[r-1]||Kh,s=t[r+1]||Kh;return dd.WINDOW(e)&&s.type===qe.OPEN_PAREN?Object.assign(Object.assign({},e),{type:qe.RESERVED_FUNCTION_NAME}):e.text==="ITEMS"&&e.type===qe.RESERVED_KEYWORD&&!(n.text==="COLLECTION"&&s.text==="TERMINATED")?Object.assign(Object.assign({},e),{type:qe.IDENTIFIER,text:e.raw}):e})}const uNe=["ABS","CHANGES","CHAR","COALESCE","FORMAT","GLOB","HEX","IFNULL","IIF","INSTR","LAST_INSERT_ROWID","LENGTH","LIKE","LIKELIHOOD","LIKELY","LOAD_EXTENSION","LOWER","LTRIM","NULLIF","PRINTF","QUOTE","RANDOM","RANDOMBLOB","REPLACE","ROUND","RTRIM","SIGN","SOUNDEX","SQLITE_COMPILEOPTION_GET","SQLITE_COMPILEOPTION_USED","SQLITE_OFFSET","SQLITE_SOURCE_ID","SQLITE_VERSION","SUBSTR","SUBSTRING","TOTAL_CHANGES","TRIM","TYPEOF","UNICODE","UNLIKELY","UPPER","ZEROBLOB","AVG","COUNT","GROUP_CONCAT","MAX","MIN","SUM","TOTAL","DATE","TIME","DATETIME","JULIANDAY","UNIXEPOCH","STRFTIME","row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","ACOS","ACOSH","ASIN","ASINH","ATAN","ATAN2","ATANH","CEIL","CEILING","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG","LOG10","LOG2","MOD","PI","POW","POWER","RADIANS","SIN","SINH","SQRT","TAN","TANH","TRUNC","JSON","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_ARRAY_LENGTH","JSON_EXTRACT","JSON_INSERT","JSON_OBJECT","JSON_PATCH","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_TYPE","JSON_TYPE","JSON_VALID","JSON_QUOTE","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_EACH","JSON_TREE","CAST"],dNe=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","AND","ARE","ALWAYS","ANALYZE","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","ONLY","OPEN","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],hNe=["ANY","ARRAY","BLOB","CHARACTER","DECIMAL","INT","INTEGER","NATIVE CHARACTER","NCHAR","NUMERIC","NVARCHAR","REAL","TEXT","VARCHAR","VARYING CHARACTER"],fNe=$e(["SELECT [ALL | DISTINCT]"]),mNe=$e(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO","REPLACE INTO","VALUES","SET"]),$4=$e(["CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),Xx=$e(["CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","RENAME TO","SET SCHEMA"]),pNe=$e(["UNION [ALL]","EXCEPT","INTERSECT"]),ENe=$e(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),gNe=$e(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN","DO UPDATE"]),TNe={name:"sqlite",tokenizerOptions:{reservedSelect:fNe,reservedClauses:[...mNe,...$4,...Xx],reservedSetOperations:pNe,reservedJoins:ENe,reservedPhrases:gNe,reservedKeywords:dNe,reservedDataTypes:hNe,reservedFunctionNames:uNe,stringTypes:["''-qq",{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``","[]"],paramTypes:{positional:!0,numbered:["?"],named:[":","@","$"]},operators:["%","~","&","|","<<",">>","==","->","->>","||"]},formatOptions:{onelineClauses:[...$4,...Xx],tabularOnelineClauses:Xx}},SNe=["GROUPING","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","ROW_NUMBER","POSITION","OCCURRENCES_REGEX","POSITION_REGEX","EXTRACT","CHAR_LENGTH","CHARACTER_LENGTH","OCTET_LENGTH","CARDINALITY","ABS","MOD","LN","EXP","POWER","SQRT","FLOOR","CEIL","CEILING","WIDTH_BUCKET","SUBSTRING","SUBSTRING_REGEX","UPPER","LOWER","CONVERT","TRANSLATE","TRANSLATE_REGEX","TRIM","OVERLAY","NORMALIZE","SPECIFICTYPE","CURRENT_DATE","CURRENT_TIME","LOCALTIME","CURRENT_TIMESTAMP","LOCALTIMESTAMP","COUNT","AVG","MAX","MIN","SUM","STDDEV_POP","STDDEV_SAMP","VAR_SAMP","VAR_POP","COLLECT","FUSION","INTERSECTION","COVAR_POP","COVAR_SAMP","CORR","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","PERCENTILE_CONT","PERCENTILE_DISC","CAST","COALESCE","NULLIF","ROUND","SIN","COS","TAN","ASIN","ACOS","ATAN"],vNe=["ALL","ALLOCATE","ALTER","ANY","ARE","AS","ASC","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","BEGIN","BETWEEN","BOTH","BY","CALL","CALLED","CASCADED","CAST","CHECK","CLOSE","COALESCE","COLLATE","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CORRESPONDING","CREATE","CROSS","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DEALLOCATE","DAY","DECLARE","DEFAULT","DELETE","DEREF","DESC","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DROP","DYNAMIC","EACH","ELEMENT","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXTERNAL","FALSE","FETCH","FILTER","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GET","GLOBAL","GRANT","GROUP","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTO","IS","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LOCAL","MATCH","MEMBER","MERGE","METHOD","MINUTE","MODIFIES","MODULE","MONTH","NATURAL","NEW","NO","NONE","NOT","NULL","NULLIF","OF","OLD","ON","ONLY","OPEN","ORDER","OUT","OUTER","OVER","OVERLAPS","PARAMETER","PARTITION","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SOME","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","START","STATIC","SUBMULTISET","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATION","TREAT","TRIGGER","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","USER","USING","VALUE","VALUES","WHENEVER","WINDOW","WITHIN","WITHOUT","YEAR"],yNe=["ARRAY","BIGINT","BINARY LARGE OBJECT","BINARY VARYING","BINARY","BLOB","BOOLEAN","CHAR LARGE OBJECT","CHAR VARYING","CHAR","CHARACTER LARGE OBJECT","CHARACTER VARYING","CHARACTER","CLOB","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MULTISET","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER LARGE OBJECT","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR LARGE OBJECT","NCHAR VARYING","NCHAR","NCLOB","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"],ANe=$e(["SELECT [ALL | DISTINCT]"]),RNe=$e(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET"]),G4=$e(["CREATE [GLOBAL TEMPORARY | LOCAL TEMPORARY] TABLE"]),Qx=$e(["CREATE [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","DELETE FROM","DROP TABLE","ALTER TABLE","ADD COLUMN","DROP [COLUMN]","RENAME COLUMN","RENAME TO","ALTER [COLUMN]","{SET | DROP} DEFAULT","ADD SCOPE","DROP SCOPE {CASCADE | RESTRICT}","RESTART WITH","TRUNCATE TABLE","SET SCHEMA"]),NNe=$e(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),bNe=$e(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),CNe=$e(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),xNe={name:"sql",tokenizerOptions:{reservedSelect:ANe,reservedClauses:[...RNe,...G4,...Qx],reservedSetOperations:NNe,reservedJoins:bNe,reservedPhrases:CNe,reservedKeywords:vNe,reservedDataTypes:yNe,reservedFunctionNames:SNe,stringTypes:[{quote:"''-qq-bs",prefixes:["N","U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``"],paramTypes:{positional:!0},operators:["||"]},formatOptions:{onelineClauses:[...G4,...Qx],tabularOnelineClauses:Qx}},wNe=["ABS","ACOS","ALL_MATCH","ANY_MATCH","APPROX_DISTINCT","APPROX_MOST_FREQUENT","APPROX_PERCENTILE","APPROX_SET","ARBITRARY","ARRAYS_OVERLAP","ARRAY_AGG","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_SORT","ARRAY_UNION","ASIN","ATAN","ATAN2","AT_TIMEZONE","AVG","BAR","BETA_CDF","BING_TILE","BING_TILES_AROUND","BING_TILE_AT","BING_TILE_COORDINATES","BING_TILE_POLYGON","BING_TILE_QUADKEY","BING_TILE_ZOOM_LEVEL","BITWISE_AND","BITWISE_AND_AGG","BITWISE_LEFT_SHIFT","BITWISE_NOT","BITWISE_OR","BITWISE_OR_AGG","BITWISE_RIGHT_SHIFT","BITWISE_RIGHT_SHIFT_ARITHMETIC","BITWISE_XOR","BIT_COUNT","BOOL_AND","BOOL_OR","CARDINALITY","CAST","CBRT","CEIL","CEILING","CHAR2HEXINT","CHECKSUM","CHR","CLASSIFY","COALESCE","CODEPOINT","COLOR","COMBINATIONS","CONCAT","CONCAT_WS","CONTAINS","CONTAINS_SEQUENCE","CONVEX_HULL_AGG","CORR","COS","COSH","COSINE_SIMILARITY","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CRC32","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_GROUPS","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","DATE","DATE_ADD","DATE_DIFF","DATE_FORMAT","DATE_PARSE","DATE_TRUNC","DAY","DAY_OF_MONTH","DAY_OF_WEEK","DAY_OF_YEAR","DEGREES","DENSE_RANK","DOW","DOY","E","ELEMENT_AT","EMPTY_APPROX_SET","EVALUATE_CLASSIFIER_PREDICTIONS","EVERY","EXP","EXTRACT","FEATURES","FILTER","FIRST_VALUE","FLATTEN","FLOOR","FORMAT","FORMAT_DATETIME","FORMAT_NUMBER","FROM_BASE","FROM_BASE32","FROM_BASE64","FROM_BASE64URL","FROM_BIG_ENDIAN_32","FROM_BIG_ENDIAN_64","FROM_ENCODED_POLYLINE","FROM_GEOJSON_GEOMETRY","FROM_HEX","FROM_IEEE754_32","FROM_IEEE754_64","FROM_ISO8601_DATE","FROM_ISO8601_TIMESTAMP","FROM_ISO8601_TIMESTAMP_NANOS","FROM_UNIXTIME","FROM_UNIXTIME_NANOS","FROM_UTF8","GEOMETRIC_MEAN","GEOMETRY_FROM_HADOOP_SHAPE","GEOMETRY_INVALID_REASON","GEOMETRY_NEAREST_POINTS","GEOMETRY_TO_BING_TILES","GEOMETRY_UNION","GEOMETRY_UNION_AGG","GREATEST","GREAT_CIRCLE_DISTANCE","HAMMING_DISTANCE","HASH_COUNTS","HISTOGRAM","HMAC_MD5","HMAC_SHA1","HMAC_SHA256","HMAC_SHA512","HOUR","HUMAN_READABLE_SECONDS","IF","INDEX","INFINITY","INTERSECTION_CARDINALITY","INVERSE_BETA_CDF","INVERSE_NORMAL_CDF","IS_FINITE","IS_INFINITE","IS_JSON_SCALAR","IS_NAN","JACCARD_INDEX","JSON_ARRAY_CONTAINS","JSON_ARRAY_GET","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_EXTRACT","JSON_EXTRACT_SCALAR","JSON_FORMAT","JSON_PARSE","JSON_QUERY","JSON_SIZE","JSON_VALUE","KURTOSIS","LAG","LAST_DAY_OF_MONTH","LAST_VALUE","LEAD","LEARN_CLASSIFIER","LEARN_LIBSVM_CLASSIFIER","LEARN_LIBSVM_REGRESSOR","LEARN_REGRESSOR","LEAST","LENGTH","LEVENSHTEIN_DISTANCE","LINE_INTERPOLATE_POINT","LINE_INTERPOLATE_POINTS","LINE_LOCATE_POINT","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","LUHN_CHECK","MAKE_SET_DIGEST","MAP","MAP_AGG","MAP_CONCAT","MAP_ENTRIES","MAP_FILTER","MAP_FROM_ENTRIES","MAP_KEYS","MAP_UNION","MAP_VALUES","MAP_ZIP_WITH","MAX","MAX_BY","MD5","MERGE","MERGE_SET_DIGEST","MILLISECOND","MIN","MINUTE","MIN_BY","MOD","MONTH","MULTIMAP_AGG","MULTIMAP_FROM_ENTRIES","MURMUR3","NAN","NGRAMS","NONE_MATCH","NORMALIZE","NORMAL_CDF","NOW","NTH_VALUE","NTILE","NULLIF","NUMERIC_HISTOGRAM","OBJECTID","OBJECTID_TIMESTAMP","PARSE_DATA_SIZE","PARSE_DATETIME","PARSE_DURATION","PERCENT_RANK","PI","POSITION","POW","POWER","QDIGEST_AGG","QUARTER","RADIANS","RAND","RANDOM","RANK","REDUCE","REDUCE_AGG","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGRESS","REGR_INTERCEPT","REGR_SLOPE","RENDER","REPEAT","REPLACE","REVERSE","RGB","ROUND","ROW_NUMBER","RPAD","RTRIM","SECOND","SEQUENCE","SHA1","SHA256","SHA512","SHUFFLE","SIGN","SIMPLIFY_GEOMETRY","SIN","SKEWNESS","SLICE","SOUNDEX","SPATIAL_PARTITIONING","SPATIAL_PARTITIONS","SPLIT","SPLIT_PART","SPLIT_TO_MAP","SPLIT_TO_MULTIMAP","SPOOKY_HASH_V2_32","SPOOKY_HASH_V2_64","SQRT","STARTS_WITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRPOS","ST_AREA","ST_ASBINARY","ST_ASTEXT","ST_BOUNDARY","ST_BUFFER","ST_CENTROID","ST_CONTAINS","ST_CONVEXHULL","ST_COORDDIM","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_ENDPOINT","ST_ENVELOPE","ST_ENVELOPEASPTS","ST_EQUALS","ST_EXTERIORRING","ST_GEOMETRIES","ST_GEOMETRYFROMTEXT","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMBINARY","ST_INTERIORRINGN","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISRING","ST_ISSIMPLE","ST_ISVALID","ST_LENGTH","ST_LINEFROMTEXT","ST_LINESTRING","ST_MULTIPOINT","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINT","ST_POINTN","ST_POINTS","ST_POLYGON","ST_RELATE","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_TOUCHES","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","SUBSTR","SUBSTRING","SUM","TAN","TANH","TDIGEST_AGG","TIMESTAMP_OBJECTID","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO_BASE","TO_BASE32","TO_BASE64","TO_BASE64URL","TO_BIG_ENDIAN_32","TO_BIG_ENDIAN_64","TO_CHAR","TO_DATE","TO_ENCODED_POLYLINE","TO_GEOJSON_GEOMETRY","TO_GEOMETRY","TO_HEX","TO_IEEE754_32","TO_IEEE754_64","TO_ISO8601","TO_MILLISECONDS","TO_SPHERICAL_GEOGRAPHY","TO_TIMESTAMP","TO_UNIXTIME","TO_UTF8","TRANSFORM","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRY","TRY_CAST","TYPEOF","UPPER","URL_DECODE","URL_ENCODE","URL_EXTRACT_FRAGMENT","URL_EXTRACT_HOST","URL_EXTRACT_PARAMETER","URL_EXTRACT_PATH","URL_EXTRACT_PORT","URL_EXTRACT_PROTOCOL","URL_EXTRACT_QUERY","UUID","VALUES_AT_QUANTILES","VALUE_AT_QUANTILE","VARIANCE","VAR_POP","VAR_SAMP","VERSION","WEEK","WEEK_OF_YEAR","WIDTH_BUCKET","WILSON_INTERVAL_LOWER","WILSON_INTERVAL_UPPER","WITH_TIMEZONE","WORD_STEM","XXHASH64","YEAR","YEAR_OF_WEEK","YOW","ZIP","ZIP_WITH","CLASSIFIER","FIRST","LAST","MATCH_NUMBER","NEXT","PERMUTE","PREV"],ONe=["ABSENT","ADD","ADMIN","AFTER","ALL","ALTER","ANALYZE","AND","ANY","AS","ASC","AT","AUTHORIZATION","BERNOULLI","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CATALOGS","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","CONDITIONAL","CONSTRAINT","COPARTITION","CREATE","CROSS","CUBE","CURRENT","CURRENT_PATH","CURRENT_ROLE","DATA","DEALLOCATE","DEFAULT","DEFINE","DEFINER","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DISTINCT","DISTRIBUTED","DOUBLE","DROP","ELSE","EMPTY","ENCODING","END","ERROR","ESCAPE","EXCEPT","EXCLUDING","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FINAL","FIRST","FOLLOWING","FOR","FROM","FULL","FUNCTIONS","GRANT","GRANTED","GRANTS","GRAPHVIZ","GROUP","GROUPING","GROUPS","HAVING","IGNORE","IN","INCLUDING","INITIAL","INNER","INPUT","INSERT","INTERSECT","INTERVAL","INTO","INVOKER","IO","IS","ISOLATION","JOIN","JSON","JSON_ARRAY","JSON_OBJECT","KEEP","KEY","KEYS","LAST","LATERAL","LEADING","LEFT","LEVEL","LIKE","LIMIT","LOCAL","LOGICAL","MATCH","MATCHED","MATCHES","MATCH_RECOGNIZE","MATERIALIZED","MEASURES","NATURAL","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NOT","NULL","NULLS","OBJECT","OF","OFFSET","OMIT","ON","ONE","ONLY","OPTION","OR","ORDER","ORDINALITY","OUTER","OUTPUT","OVER","OVERFLOW","PARTITION","PARTITIONS","PASSING","PAST","PATH","PATTERN","PER","PERMUTE","PRECEDING","PRECISION","PREPARE","PRIVILEGES","PROPERTIES","PRUNE","QUOTES","RANGE","READ","RECURSIVE","REFRESH","RENAME","REPEATABLE","RESET","RESPECT","RESTRICT","RETURNING","REVOKE","RIGHT","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","RUNNING","SCALAR","SCHEMA","SCHEMAS","SECURITY","SEEK","SELECT","SERIALIZABLE","SESSION","SET","SETS","SHOW","SKIP","SOME","START","STATS","STRING","SUBSET","SYSTEM","TABLE","TABLES","TABLESAMPLE","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRUE","TYPE","UESCAPE","UNBOUNDED","UNCOMMITTED","UNCONDITIONAL","UNION","UNIQUE","UNKNOWN","UNMATCHED","UNNEST","UPDATE","USE","USER","USING","UTF16","UTF32","UTF8","VALIDATE","VALUE","VALUES","VERBOSE","VIEW","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","ZONE"],INe=["BIGINT","INT","INTEGER","SMALLINT","TINYINT","BOOLEAN","DATE","DECIMAL","REAL","DOUBLE","HYPERLOGLOG","QDIGEST","TDIGEST","P4HYPERLOGLOG","INTERVAL","TIMESTAMP","TIME","VARBINARY","VARCHAR","CHAR","ROW","ARRAY","MAP","JSON","JSON2016","IPADDRESS","GEOMETRY","UUID","SETDIGEST","JONIREGEXP","RE2JREGEXP","LIKEPATTERN","COLOR","CODEPOINTS","FUNCTION","JSONPATH"],_Ne=$e(["SELECT [ALL | DISTINCT]"]),LNe=$e(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","MATCH_RECOGNIZE","MEASURES","ONE ROW PER MATCH","ALL ROWS PER MATCH","AFTER MATCH","PATTERN","SUBSET","DEFINE"]),V4=$e(["CREATE TABLE [IF NOT EXISTS]"]),Jx=$e(["CREATE [OR REPLACE] [MATERIALIZED] VIEW","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME COLUMN [IF EXISTS]","RENAME TO","SET AUTHORIZATION [USER | ROLE]","SET PROPERTIES","EXECUTE","TRUNCATE TABLE","ALTER SCHEMA","ALTER MATERIALIZED VIEW","ALTER VIEW","CREATE SCHEMA","CREATE ROLE","DROP SCHEMA","DROP MATERIALIZED VIEW","DROP VIEW","DROP ROLE","EXPLAIN","ANALYZE","EXPLAIN ANALYZE","EXPLAIN ANALYZE VERBOSE","USE","DESCRIBE INPUT","DESCRIBE OUTPUT","REFRESH MATERIALIZED VIEW","RESET SESSION","SET SESSION","SET PATH","SET TIME ZONE","SHOW GRANTS","SHOW CREATE TABLE","SHOW CREATE SCHEMA","SHOW CREATE VIEW","SHOW CREATE MATERIALIZED VIEW","SHOW TABLES","SHOW SCHEMAS","SHOW CATALOGS","SHOW COLUMNS","SHOW STATS FOR","SHOW ROLES","SHOW CURRENT ROLES","SHOW ROLE GRANTS","SHOW FUNCTIONS","SHOW SESSION"]),DNe=$e(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),MNe=$e(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),PNe=$e(["{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM"]),kNe={name:"trino",tokenizerOptions:{reservedSelect:_Ne,reservedClauses:[...LNe,...V4,...Jx],reservedSetOperations:DNe,reservedJoins:MNe,reservedPhrases:PNe,reservedKeywords:ONe,reservedDataTypes:INe,reservedFunctionNames:wNe,extraParens:["[]","{}"],stringTypes:[{quote:"''-qq",prefixes:["U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq'],paramTypes:{positional:!0},operators:["%","->","=>",":","||","|","^","$"]},formatOptions:{onelineClauses:[...V4,...Jx],tabularOnelineClauses:Jx}},UNe=["APPROX_COUNT_DISTINCT","AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","STDEV","STDEVP","SUM","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","Collation - COLLATIONPROPERTY","Collation - TERTIARY_WEIGHTS","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","@@CURSOR_ROWS","@@FETCH_STATUS","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","@@DATEFIRST","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TIMEZONE_ID","DATEADD","DATEDIFF","DATEDIFF_BIG","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","JSON","ISJSON","JSON_VALUE","JSON_QUERY","JSON_MODIFY","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","CHOOSE","GREATEST","IIF","LEAST","@@PROCID","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FILEPROPERTYEX","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","NEXT VALUE FOR","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","DATABASE_PRINCIPAL_ID","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHARINDEX","CONCAT","CONCAT_WS","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STRING_AGG","STRING_ESCAPE","STUFF","SUBSTRING","TRANSLATE","TRIM","UNICODE","UPPER","$PARTITION","@@ERROR","@@IDENTITY","@@PACK_RECEIVED","@@ROWCOUNT","@@TRANCOUNT","BINARY_CHECKSUM","CHECKSUM","COMPRESS","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","CURRENT_TRANSACTION_ID","DECOMPRESS","ERROR_LINE","ERROR_MESSAGE","ERROR_NUMBER","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GET_FILESTREAM_TRANSACTION_CONTEXT","GETANSINULL","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","SESSION_CONTEXT","XACT_STATE","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACK_SENT","@@PACKET_ERRORS","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","COALESCE","NULLIF"],jNe=["ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DROP","DUMP","ERRLVL","ESCAPE","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VIEW","WAITFOR","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT","$ACTION"],BNe=["BINARY","BIT","CHAR","CHAR","CHARACTER","DATE","DATETIME2","DATETIMEOFFSET","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","NATIONAL","NCHAR","NUMERIC","NVARCHAR","PRECISION","REAL","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"],FNe=$e(["SELECT [ALL | DISTINCT]"]),HNe=$e(["WITH","INTO","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","OFFSET","FETCH {FIRST | NEXT}","FOR {BROWSE | XML | JSON}","OPTION","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY TARGET | BY SOURCE] [THEN]","UPDATE SET","CREATE [OR ALTER] {PROC | PROCEDURE}"]),z4=$e(["CREATE TABLE"]),Zx=$e(["CREATE [OR ALTER] [MATERIALIZED] VIEW","UPDATE","WHERE CURRENT OF","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD","DROP COLUMN [IF EXISTS]","ALTER COLUMN","TRUNCATE TABLE","CREATE [UNIQUE] [CLUSTERED] INDEX","CREATE DATABASE","ALTER DATABASE","DROP DATABASE [IF EXISTS]","GO","USE","ADD SENSITIVITY CLASSIFICATION","ADD SIGNATURE","AGGREGATE","ANSI_DEFAULTS","ANSI_NULLS","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_PADDING","ANSI_WARNINGS","APPLICATION ROLE","ARITHABORT","ARITHIGNORE","ASSEMBLY","ASYMMETRIC KEY","AUTHORIZATION","AVAILABILITY GROUP","BACKUP","BACKUP CERTIFICATE","BACKUP MASTER KEY","BACKUP SERVICE MASTER KEY","BEGIN CONVERSATION TIMER","BEGIN DIALOG CONVERSATION","BROKER PRIORITY","BULK INSERT","CERTIFICATE","CLOSE MASTER KEY","CLOSE SYMMETRIC KEY","COLLATE","COLUMN ENCRYPTION KEY","COLUMN MASTER KEY","COLUMNSTORE INDEX","CONCAT_NULL_YIELDS_NULL","CONTEXT_INFO","CONTRACT","CREDENTIAL","CRYPTOGRAPHIC PROVIDER","CURSOR_CLOSE_ON_COMMIT","DATABASE","DATABASE AUDIT SPECIFICATION","DATABASE ENCRYPTION KEY","DATABASE HADR","DATABASE SCOPED CONFIGURATION","DATABASE SCOPED CREDENTIAL","DATABASE SET","DATEFIRST","DATEFORMAT","DEADLOCK_PRIORITY","DENY","DENY XML","DISABLE TRIGGER","ENABLE TRIGGER","END CONVERSATION","ENDPOINT","EVENT NOTIFICATION","EVENT SESSION","EXECUTE AS","EXTERNAL DATA SOURCE","EXTERNAL FILE FORMAT","EXTERNAL LANGUAGE","EXTERNAL LIBRARY","EXTERNAL RESOURCE POOL","EXTERNAL TABLE","FIPS_FLAGGER","FMTONLY","FORCEPLAN","FULLTEXT CATALOG","FULLTEXT INDEX","FULLTEXT STOPLIST","FUNCTION","GET CONVERSATION GROUP","GET_TRANSMISSION_STATUS","GRANT","GRANT XML","IDENTITY_INSERT","IMPLICIT_TRANSACTIONS","INDEX","LANGUAGE","LOCK_TIMEOUT","LOGIN","MASTER KEY","MESSAGE TYPE","MOVE CONVERSATION","NOCOUNT","NOEXEC","NUMERIC_ROUNDABORT","OFFSETS","OPEN MASTER KEY","OPEN SYMMETRIC KEY","PARSEONLY","PARTITION FUNCTION","PARTITION SCHEME","PROCEDURE","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUOTED_IDENTIFIER","RECEIVE","REMOTE SERVICE BINDING","REMOTE_PROC_TRANSACTIONS","RESOURCE GOVERNOR","RESOURCE POOL","RESTORE","RESTORE FILELISTONLY","RESTORE HEADERONLY","RESTORE LABELONLY","RESTORE MASTER KEY","RESTORE REWINDONLY","RESTORE SERVICE MASTER KEY","RESTORE VERIFYONLY","REVERT","REVOKE","REVOKE XML","ROLE","ROUTE","ROWCOUNT","RULE","SCHEMA","SEARCH PROPERTY LIST","SECURITY POLICY","SELECTIVE XML INDEX","SEND","SENSITIVITY CLASSIFICATION","SEQUENCE","SERVER AUDIT","SERVER AUDIT SPECIFICATION","SERVER CONFIGURATION","SERVER ROLE","SERVICE","SERVICE MASTER KEY","SETUSER","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SIGNATURE","SPATIAL INDEX","STATISTICS","STATISTICS IO","STATISTICS PROFILE","STATISTICS TIME","STATISTICS XML","SYMMETRIC KEY","SYNONYM","TABLE","TABLE IDENTITY","TEXTSIZE","TRANSACTION ISOLATION LEVEL","TRIGGER","TYPE","UPDATE STATISTICS","USER","WORKLOAD GROUP","XACT_ABORT","XML INDEX","XML SCHEMA COLLECTION"]),$Ne=$e(["UNION [ALL]","EXCEPT","INTERSECT"]),GNe=$e(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{CROSS | OUTER} APPLY"]),VNe=$e(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),zNe={name:"transactsql",tokenizerOptions:{reservedSelect:FNe,reservedClauses:[...HNe,...z4,...Zx],reservedSetOperations:$Ne,reservedJoins:GNe,reservedPhrases:VNe,reservedKeywords:jNe,reservedDataTypes:BNe,reservedFunctionNames:UNe,nestedBlockComments:!0,stringTypes:[{quote:"''-qq",prefixes:["N"]}],identTypes:['""-qq',"[]"],identChars:{first:"#@",rest:"#@$"},paramTypes:{named:["@"],quoted:["@"]},operators:["%","&","|","^","~","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::",":"],propertyAccessOperators:[".."]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...z4,...Zx],tabularOnelineClauses:Zx}},WNe=["ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","_BINARY","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","EXTRA_JOIN","FALSE","FETCH","FOR","FORCE","FORCE_COMPILED_MODE","FORCE_INTERPRETER_MODE","FOREIGN","FROM","FULL","FULLTEXT","GRANT","GROUP","HAVING","HEARTBEAT_NO_LOGGING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","_INTERNAL_DYNAMIC_TYPECAST","INTERSECT","INTERVAL","INTO","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MATCH","MAXVALUE","MINUS","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NO_QUERY_REWRITE","NOT","NO_WRITE_TO_BINLOG","NO_QUERY_REWRITE","NULL","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","RETURN","REVOKE","RIGHT","RIGHT_ANTI_JOIN","RIGHT_SEMI_JOIN","RIGHT_STRAIGHT_JOIN","RLIKE","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SEMI_JOIN","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQLEXCEPTION","SQL_NO_CACHE","SQL_NO_LOGGING","SQL_SMALL_RESULT","SQLSTATE","SQLWARNING","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNBOUNDED","UNDO","UNION","UNIQUE","UNLOCK","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","_UTF8","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WRITE","XOR","YEAR_MONTH","ZEROFILL"],YNe=["BIGINT","BINARY","BIT","BLOB","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","UNSIGNED","VARBINARY","VARCHAR","VARCHARACTER","YEAR"],qNe=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_COUNT_DISTINCT_ACCUMULATE","APPROX_COUNT_DISTINCT_COMBINE","APPROX_COUNT_DISTINCT_ESTIMATE","APPROX_GEOGRAPHY_INTERSECTS","APPROX_PERCENTILE","ASCII","ASIN","ATAN","ATAN2","AVG","BIN","BINARY","BIT_AND","BIT_COUNT","BIT_OR","BIT_XOR","CAST","CEIL","CEILING","CHAR","CHARACTER_LENGTH","CHAR_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COLLECT","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATEDIFF","DATE_FORMAT","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DENSE_RANK","DIV","DOT_PRODUCT","ELT","EUCLIDEAN_DISTANCE","EXP","EXTRACT","FIELD","FIRST","FIRST_VALUE","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOGRAPHY_AREA","GEOGRAPHY_CONTAINS","GEOGRAPHY_DISTANCE","GEOGRAPHY_INTERSECTS","GEOGRAPHY_LATITUDE","GEOGRAPHY_LENGTH","GEOGRAPHY_LONGITUDE","GEOGRAPHY_POINT","GEOGRAPHY_WITHIN_DISTANCE","GEOMETRY_AREA","GEOMETRY_CONTAINS","GEOMETRY_DISTANCE","GEOMETRY_FILTER","GEOMETRY_INTERSECTS","GEOMETRY_LENGTH","GEOMETRY_POINT","GEOMETRY_WITHIN_DISTANCE","GEOMETRY_X","GEOMETRY_Y","GREATEST","GROUPING","GROUP_CONCAT","HEX","HIGHLIGHT","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INITCAP","INSERT","INSTR","INTERVAL","IS","IS NULL","JSON_AGG","JSON_ARRAY_CONTAINS_DOUBLE","JSON_ARRAY_CONTAINS_JSON","JSON_ARRAY_CONTAINS_STRING","JSON_ARRAY_PUSH_DOUBLE","JSON_ARRAY_PUSH_JSON","JSON_ARRAY_PUSH_STRING","JSON_DELETE_KEY","JSON_EXTRACT_DOUBLE","JSON_EXTRACT_JSON","JSON_EXTRACT_STRING","JSON_EXTRACT_BIGINT","JSON_GET_TYPE","JSON_LENGTH","JSON_SET_DOUBLE","JSON_SET_JSON","JSON_SET_STRING","JSON_SPLICE_DOUBLE","JSON_SPLICE_JSON","JSON_SPLICE_STRING","LAG","LAST_DAY","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LN","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LPAD","LTRIM","MATCH","MAX","MD5","MEDIAN","MICROSECOND","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","NOT","NOW","NTH_VALUE","NTILE","NULLIF","OCTET_LENGTH","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIVOT","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANK","REGEXP","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCALAR","SCHEMA","SEC_TO_TIME","SHA1","SHA2","SIGMOID","SIGN","SIN","SLEEP","SPLIT","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUM","SYS_GUID","TAN","TIME","TIMEDIFF","TIME_BUCKET","TIME_FORMAT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_JSON","TO_NUMBER","TO_SECONDS","TO_TIMESTAMP","TRIM","TRUNC","TRUNCATE","UCASE","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","VALUES","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_SUB","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","YEAR"],KNe=$e(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),XNe=$e(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [IGNORE] [INTO]","VALUES","REPLACE [INTO]","ON DUPLICATE KEY UPDATE","SET","CREATE [OR REPLACE] [TEMPORARY] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] [EXTERNAL] FUNCTION"]),W4=$e(["CREATE [ROWSTORE] [REFERENCE | TEMPORARY | GLOBAL TEMPORARY] TABLE [IF NOT EXISTS]"]),ew=$e(["CREATE VIEW","UPDATE","DELETE [FROM]","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] TABLE","ADD [COLUMN]","ADD [UNIQUE] {INDEX | KEY}","DROP [COLUMN]","MODIFY [COLUMN]","CHANGE","RENAME [TO | AS]","TRUNCATE [TABLE]","ADD AGGREGATOR","ADD LEAF","AGGREGATOR SET AS MASTER","ALTER DATABASE","ALTER PIPELINE","ALTER RESOURCE POOL","ALTER USER","ALTER VIEW","ANALYZE TABLE","ATTACH DATABASE","ATTACH LEAF","ATTACH LEAF ALL","BACKUP DATABASE","BINLOG","BOOTSTRAP AGGREGATOR","CACHE INDEX","CALL","CHANGE","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK BLOB CHECKSUM","CHECK TABLE","CHECKSUM TABLE","CLEAR ORPHAN DATABASES","CLONE","COMMIT","CREATE DATABASE","CREATE GROUP","CREATE INDEX","CREATE LINK","CREATE MILESTONE","CREATE PIPELINE","CREATE RESOURCE POOL","CREATE ROLE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DETACH DATABASE","DETACH PIPELINE","DROP DATABASE","DROP FUNCTION","DROP INDEX","DROP LINK","DROP PIPELINE","DROP PROCEDURE","DROP RESOURCE POOL","DROP ROLE","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","FORCE","GRANT","HANDLER","HELP","KILL CONNECTION","KILLALL QUERIES","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","REBALANCE PARTITIONS","RELEASE SAVEPOINT","REMOVE AGGREGATOR","REMOVE LEAF","REPAIR TABLE","REPLACE","REPLICATE DATABASE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","RESTORE DATABASE","RESTORE REDUNDANCY","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE FUNCTION","SHOW CREATE PIPELINE","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SNAPSHOT DATABASE","SOURCE_POS_WAIT","START GROUP_REPLICATION","START PIPELINE","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP PIPELINE","STOP REPLICA","STOP REPLICATING","STOP SLAVE","TEST PIPELINE","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),QNe=$e(["UNION [ALL | DISTINCT]","EXCEPT","INTERSECT","MINUS"]),JNe=$e(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),ZNe=$e(["ON DELETE","ON UPDATE","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),ebe={name:"singlestoredb",tokenizerOptions:{reservedSelect:KNe,reservedClauses:[...XNe,...W4,...ew],reservedSetOperations:QNe,reservedJoins:JNe,reservedPhrases:ZNe,reservedKeywords:WNe,reservedDataTypes:YNe,reservedFunctionNames:qNe,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_$]+"},{quote:"``",prefixes:["@"],requirePrefix:!0}],lineCommentTypes:["--","#"],operators:[":=","&","|","^","~","<<",">>","<=>","&&","||","::","::$","::%",":>","!:>","*.*"],postProcess:mv},formatOptions:{alwaysDenseOperators:["::","::$","::%"],onelineClauses:[...W4,...ew],tabularOnelineClauses:ew}},tbe=["ABS","ACOS","ACOSH","ADD_MONTHS","ALL_USER_NAMES","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","APPROX_PERCENTILE_ACCUMULATE","APPROX_PERCENTILE_COMBINE","APPROX_PERCENTILE_ESTIMATE","APPROX_TOP_K","APPROX_TOP_K_ACCUMULATE","APPROX_TOP_K_COMBINE","APPROX_TOP_K_ESTIMATE","APPROXIMATE_JACCARD_INDEX","APPROXIMATE_SIMILARITY","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_COMPACT","ARRAY_CONSTRUCT","ARRAY_CONSTRUCT_COMPACT","ARRAY_CONTAINS","ARRAY_INSERT","ARRAY_INTERSECTION","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_SIZE","ARRAY_SLICE","ARRAY_TO_STRING","ARRAY_UNION_AGG","ARRAY_UNIQUE_AGG","ARRAYS_OVERLAP","AS_ARRAY","AS_BINARY","AS_BOOLEAN","AS_CHAR","AS_VARCHAR","AS_DATE","AS_DECIMAL","AS_NUMBER","AS_DOUBLE","AS_REAL","AS_INTEGER","AS_OBJECT","AS_TIME","AS_TIMESTAMP_LTZ","AS_TIMESTAMP_NTZ","AS_TIMESTAMP_TZ","ASCII","ASIN","ASINH","ATAN","ATAN2","ATANH","AUTO_REFRESH_REGISTRATION_HISTORY","AUTOMATIC_CLUSTERING_HISTORY","AVG","BASE64_DECODE_BINARY","BASE64_DECODE_STRING","BASE64_ENCODE","BIT_LENGTH","BITAND","BITAND_AGG","BITMAP_BIT_POSITION","BITMAP_BUCKET_NUMBER","BITMAP_CONSTRUCT_AGG","BITMAP_COUNT","BITMAP_OR_AGG","BITNOT","BITOR","BITOR_AGG","BITSHIFTLEFT","BITSHIFTRIGHT","BITXOR","BITXOR_AGG","BOOLAND","BOOLAND_AGG","BOOLNOT","BOOLOR","BOOLOR_AGG","BOOLXOR","BOOLXOR_AGG","BUILD_SCOPED_FILE_URL","BUILD_STAGE_FILE_URL","CASE","CAST","CBRT","CEIL","CHARINDEX","CHECK_JSON","CHECK_XML","CHR","CHAR","COALESCE","COLLATE","COLLATION","COMPLETE_TASK_GRAPHS","COMPRESS","CONCAT","CONCAT_WS","CONDITIONAL_CHANGE_EVENT","CONDITIONAL_TRUE_EVENT","CONTAINS","CONVERT_TIMEZONE","COPY_HISTORY","CORR","COS","COSH","COT","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CUME_DIST","CURRENT_ACCOUNT","CURRENT_AVAILABLE_ROLES","CURRENT_CLIENT","CURRENT_DATABASE","CURRENT_DATE","CURRENT_IP_ADDRESS","CURRENT_REGION","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SECONDARY_ROLES","CURRENT_SESSION","CURRENT_STATEMENT","CURRENT_TASK_GRAPHS","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSACTION","CURRENT_USER","CURRENT_VERSION","CURRENT_WAREHOUSE","DATA_TRANSFER_HISTORY","DATABASE_REFRESH_HISTORY","DATABASE_REFRESH_PROGRESS","DATABASE_REFRESH_PROGRESS_BY_JOB","DATABASE_STORAGE_USAGE_HISTORY","DATE_FROM_PARTS","DATE_PART","DATE_TRUNC","DATEADD","DATEDIFF","DAYNAME","DECODE","DECOMPRESS_BINARY","DECOMPRESS_STRING","DECRYPT","DECRYPT_RAW","DEGREES","DENSE_RANK","DIV0","EDITDISTANCE","ENCRYPT","ENCRYPT_RAW","ENDSWITH","EQUAL_NULL","EXP","EXPLAIN_JSON","EXTERNAL_FUNCTIONS_HISTORY","EXTERNAL_TABLE_FILES","EXTERNAL_TABLE_FILE_REGISTRATION_HISTORY","EXTRACT","EXTRACT_SEMANTIC_CATEGORIES","FACTORIAL","FILTER","FIRST_VALUE","FLATTEN","FLOOR","GENERATE_COLUMN_DESCRIPTION","GENERATOR","GET","GET_ABSOLUTE_PATH","GET_DDL","GET_IGNORE_CASE","GET_OBJECT_REFERENCES","GET_PATH","GET_PRESIGNED_URL","GET_RELATIVE_PATH","GET_STAGE_LOCATION","GETBIT","GREATEST","GREATEST_IGNORE_NULLS","GROUPING","GROUPING_ID","HASH","HASH_AGG","HAVERSINE","HEX_DECODE_BINARY","HEX_DECODE_STRING","HEX_ENCODE","HLL","HLL_ACCUMULATE","HLL_COMBINE","HLL_ESTIMATE","HLL_EXPORT","HLL_IMPORT","HOUR","MINUTE","SECOND","IFF","IFNULL","ILIKE","ILIKE ANY","INFER_SCHEMA","INITCAP","INSERT","INVOKER_ROLE","INVOKER_SHARE","IS_ARRAY","IS_BINARY","IS_BOOLEAN","IS_CHAR","IS_VARCHAR","IS_DATE","IS_DATE_VALUE","IS_DECIMAL","IS_DOUBLE","IS_REAL","IS_GRANTED_TO_INVOKER_ROLE","IS_INTEGER","IS_NULL_VALUE","IS_OBJECT","IS_ROLE_IN_SESSION","IS_TIME","IS_TIMESTAMP_LTZ","IS_TIMESTAMP_NTZ","IS_TIMESTAMP_TZ","JAROWINKLER_SIMILARITY","JSON_EXTRACT_PATH_TEXT","KURTOSIS","LAG","LAST_DAY","LAST_QUERY_ID","LAST_TRANSACTION","LAST_VALUE","LEAD","LEAST","LEFT","LENGTH","LEN","LIKE","LIKE ALL","LIKE ANY","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOGIN_HISTORY","LOGIN_HISTORY_BY_USER","LOWER","LPAD","LTRIM","MATERIALIZED_VIEW_REFRESH_HISTORY","MD5","MD5_HEX","MD5_BINARY","MD5_NUMBER  Obsoleted","MD5_NUMBER_LOWER64","MD5_NUMBER_UPPER64","MEDIAN","MIN","MAX","MINHASH","MINHASH_COMBINE","MOD","MODE","MONTHNAME","MONTHS_BETWEEN","NEXT_DAY","NORMAL","NTH_VALUE","NTILE","NULLIF","NULLIFZERO","NVL","NVL2","OBJECT_AGG","OBJECT_CONSTRUCT","OBJECT_CONSTRUCT_KEEP_NULL","OBJECT_DELETE","OBJECT_INSERT","OBJECT_KEYS","OBJECT_PICK","OCTET_LENGTH","PARSE_IP","PARSE_JSON","PARSE_URL","PARSE_XML","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIPE_USAGE_HISTORY","POLICY_CONTEXT","POLICY_REFERENCES","POSITION","POW","POWER","PREVIOUS_DAY","QUERY_ACCELERATION_HISTORY","QUERY_HISTORY","QUERY_HISTORY_BY_SESSION","QUERY_HISTORY_BY_USER","QUERY_HISTORY_BY_WAREHOUSE","RADIANS","RANDOM","RANDSTR","RANK","RATIO_TO_REPORT","REGEXP","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REGEXP_SUBSTR_ALL","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REGR_VALX","REGR_VALY","REPEAT","REPLACE","REPLICATION_GROUP_REFRESH_HISTORY","REPLICATION_GROUP_REFRESH_PROGRESS","REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB","REPLICATION_GROUP_USAGE_HISTORY","REPLICATION_USAGE_HISTORY","REST_EVENT_HISTORY","RESULT_SCAN","REVERSE","RIGHT","RLIKE","ROUND","ROW_NUMBER","RPAD","RTRIM","RTRIMMED_LENGTH","SEARCH_OPTIMIZATION_HISTORY","SEQ1","SEQ2","SEQ4","SEQ8","SERVERLESS_TASK_HISTORY","SHA1","SHA1_HEX","SHA1_BINARY","SHA2","SHA2_HEX","SHA2_BINARY","SIGN","SIN","SINH","SKEW","SOUNDEX","SPACE","SPLIT","SPLIT_PART","SPLIT_TO_TABLE","SQRT","SQUARE","ST_AREA","ST_ASEWKB","ST_ASEWKT","ST_ASGEOJSON","ST_ASWKB","ST_ASBINARY","ST_ASWKT","ST_ASTEXT","ST_AZIMUTH","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DWITHIN","ST_ENDPOINT","ST_ENVELOPE","ST_GEOGFROMGEOHASH","ST_GEOGPOINTFROMGEOHASH","ST_GEOGRAPHYFROMWKB","ST_GEOGRAPHYFROMWKT","ST_GEOHASH","ST_GEOMETRYFROMWKB","ST_GEOMETRYFROMWKT","ST_HAUSDORFFDISTANCE","ST_INTERSECTION","ST_INTERSECTS","ST_LENGTH","ST_MAKEGEOMPOINT","ST_GEOM_POINT","ST_MAKELINE","ST_MAKEPOINT","ST_POINT","ST_MAKEPOLYGON","ST_POLYGON","ST_NPOINTS","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SETSRID","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","STAGE_DIRECTORY_FILE_REGISTRATION_HISTORY","STAGE_STORAGE_USAGE_HISTORY","STARTSWITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRIP_NULL_VALUE","STRTOK","STRTOK_SPLIT_TO_TABLE","STRTOK_TO_ARRAY","SUBSTR","SUBSTRING","SUM","SYSDATE","SYSTEM$ABORT_SESSION","SYSTEM$ABORT_TRANSACTION","SYSTEM$AUTHORIZE_PRIVATELINK","SYSTEM$AUTHORIZE_STAGE_PRIVATELINK_ACCESS","SYSTEM$BEHAVIOR_CHANGE_BUNDLE_STATUS","SYSTEM$CANCEL_ALL_QUERIES","SYSTEM$CANCEL_QUERY","SYSTEM$CLUSTERING_DEPTH","SYSTEM$CLUSTERING_INFORMATION","SYSTEM$CLUSTERING_RATIO ","SYSTEM$CURRENT_USER_TASK_NAME","SYSTEM$DATABASE_REFRESH_HISTORY ","SYSTEM$DATABASE_REFRESH_PROGRESS","SYSTEM$DATABASE_REFRESH_PROGRESS_BY_JOB ","SYSTEM$DISABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$DISABLE_DATABASE_REPLICATION","SYSTEM$ENABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$ESTIMATE_QUERY_ACCELERATION","SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS","SYSTEM$EXPLAIN_JSON_TO_TEXT","SYSTEM$EXPLAIN_PLAN_JSON","SYSTEM$EXTERNAL_TABLE_PIPE_STATUS","SYSTEM$GENERATE_SAML_CSR","SYSTEM$GENERATE_SCIM_ACCESS_TOKEN","SYSTEM$GET_AWS_SNS_IAM_POLICY","SYSTEM$GET_PREDECESSOR_RETURN_VALUE","SYSTEM$GET_PRIVATELINK","SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS","SYSTEM$GET_PRIVATELINK_CONFIG","SYSTEM$GET_SNOWFLAKE_PLATFORM_INFO","SYSTEM$GET_TAG","SYSTEM$GET_TAG_ALLOWED_VALUES","SYSTEM$GET_TAG_ON_CURRENT_COLUMN","SYSTEM$GET_TAG_ON_CURRENT_TABLE","SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER","SYSTEM$LAST_CHANGE_COMMIT_TIME","SYSTEM$LINK_ACCOUNT_OBJECTS_BY_NAME","SYSTEM$MIGRATE_SAML_IDP_REGISTRATION","SYSTEM$PIPE_FORCE_RESUME","SYSTEM$PIPE_STATUS","SYSTEM$REVOKE_PRIVATELINK","SYSTEM$REVOKE_STAGE_PRIVATELINK_ACCESS","SYSTEM$SET_RETURN_VALUE","SYSTEM$SHOW_OAUTH_CLIENT_SECRETS","SYSTEM$STREAM_GET_TABLE_TIMESTAMP","SYSTEM$STREAM_HAS_DATA","SYSTEM$TASK_DEPENDENTS_ENABLE","SYSTEM$TYPEOF","SYSTEM$USER_TASK_CANCEL_ONGOING_EXECUTIONS","SYSTEM$VERIFY_EXTERNAL_OAUTH_TOKEN","SYSTEM$WAIT","SYSTEM$WHITELIST","SYSTEM$WHITELIST_PRIVATELINK","TAG_REFERENCES","TAG_REFERENCES_ALL_COLUMNS","TAG_REFERENCES_WITH_LINEAGE","TAN","TANH","TASK_DEPENDENTS","TASK_HISTORY","TIME_FROM_PARTS","TIME_SLICE","TIMEADD","TIMEDIFF","TIMESTAMP_FROM_PARTS","TIMESTAMPADD","TIMESTAMPDIFF","TO_ARRAY","TO_BINARY","TO_BOOLEAN","TO_CHAR","TO_VARCHAR","TO_DATE","DATE","TO_DECIMAL","TO_NUMBER","TO_NUMERIC","TO_DOUBLE","TO_GEOGRAPHY","TO_GEOMETRY","TO_JSON","TO_OBJECT","TO_TIME","TIME","TO_TIMESTAMP","TO_TIMESTAMP_LTZ","TO_TIMESTAMP_NTZ","TO_TIMESTAMP_TZ","TO_VARIANT","TO_XML","TRANSLATE","TRIM","TRUNCATE","TRUNC","TRUNC","TRY_BASE64_DECODE_BINARY","TRY_BASE64_DECODE_STRING","TRY_CAST","TRY_HEX_DECODE_BINARY","TRY_HEX_DECODE_STRING","TRY_PARSE_JSON","TRY_TO_BINARY","TRY_TO_BOOLEAN","TRY_TO_DATE","TRY_TO_DECIMAL","TRY_TO_NUMBER","TRY_TO_NUMERIC","TRY_TO_DOUBLE","TRY_TO_GEOGRAPHY","TRY_TO_GEOMETRY","TRY_TO_TIME","TRY_TO_TIMESTAMP","TRY_TO_TIMESTAMP_LTZ","TRY_TO_TIMESTAMP_NTZ","TRY_TO_TIMESTAMP_TZ","TYPEOF","UNICODE","UNIFORM","UPPER","UUID_STRING","VALIDATE","VALIDATE_PIPE_LOAD","VAR_POP","VAR_SAMP","VARIANCE","VARIANCE_SAMP","VARIANCE_POP","WAREHOUSE_LOAD_HISTORY","WAREHOUSE_METERING_HISTORY","WIDTH_BUCKET","XMLGET","YEAR","YEAROFWEEK","YEAROFWEEKISO","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEKISO","DAYOFYEAR","WEEK","WEEK","WEEKOFYEAR","WEEKISO","MONTH","QUARTER","ZEROIFNULL","ZIPF"],rbe=["ACCOUNT","ALL","ALTER","AND","ANY","AS","BETWEEN","BY","CASE","CAST","CHECK","COLUMN","CONNECT","CONNECTION","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DELETE","DISTINCT","DROP","ELSE","EXISTS","FALSE","FOLLOWING","FOR","FROM","FULL","GRANT","GROUP","GSCLUSTER","HAVING","ILIKE","IN","INCREMENT","INNER","INSERT","INTERSECT","INTO","IS","ISSUE","JOIN","LATERAL","LEFT","LIKE","LOCALTIME","LOCALTIMESTAMP","MINUS","NATURAL","NOT","NULL","OF","ON","OR","ORDER","ORGANIZATION","QUALIFY","REGEXP","REVOKE","RIGHT","RLIKE","ROW","ROWS","SAMPLE","SCHEMA","SELECT","SET","SOME","START","TABLE","TABLESAMPLE","THEN","TO","TRIGGER","TRUE","TRY_CAST","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHENEVER","WHERE","WITH","COMMENT"],nbe=["NUMBER","DECIMAL","NUMERIC","INT","INTEGER","BIGINT","SMALLINT","TINYINT","BYTEINT","FLOAT","FLOAT4","FLOAT8","DOUBLE","DOUBLE PRECISION","REAL","VARCHAR","CHAR","CHARACTER","STRING","TEXT","BINARY","VARBINARY","BOOLEAN","DATE","DATETIME","TIME","TIMESTAMP","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TIMESTAMP_TZ","VARIANT","OBJECT","ARRAY","GEOGRAPHY","GEOMETRY"],sbe=$e(["SELECT [ALL | DISTINCT]"]),ibe=$e(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","QUALIFY","LIMIT","OFFSET","FETCH [FIRST | NEXT]","INSERT [OVERWRITE] [ALL INTO | INTO | ALL | FIRST]","{THEN | ELSE} INTO","VALUES","SET","CLUSTER BY","[WITH] {MASKING POLICY | TAG | ROW ACCESS POLICY}","COPY GRANTS","USING TEMPLATE","MERGE INTO","WHEN MATCHED [AND]","THEN {UPDATE SET | DELETE}","WHEN NOT MATCHED THEN INSERT"]),Y4=$e(["CREATE [OR REPLACE] [VOLATILE] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [LOCAL | GLOBAL] {TEMP|TEMPORARY} TABLE [IF NOT EXISTS]"]),tw=$e(["CREATE [OR REPLACE] [SECURE] [RECURSIVE] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","RENAME TO","SWAP WITH","[SUSPEND | RESUME] RECLUSTER","DROP CLUSTERING KEY","ADD [COLUMN]","RENAME COLUMN","{ALTER | MODIFY} [COLUMN]","DROP [COLUMN]","{ADD | ALTER | MODIFY | DROP} [CONSTRAINT]","RENAME CONSTRAINT","{ADD | DROP} SEARCH OPTIMIZATION","{SET | UNSET} TAG","{ADD | DROP} ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","SET DATA TYPE","UNSET COMMENT","{SET | UNSET} MASKING POLICY","TRUNCATE [TABLE] [IF EXISTS]","ALTER ACCOUNT","ALTER API INTEGRATION","ALTER CONNECTION","ALTER DATABASE","ALTER EXTERNAL TABLE","ALTER FAILOVER GROUP","ALTER FILE FORMAT","ALTER FUNCTION","ALTER INTEGRATION","ALTER MASKING POLICY","ALTER MATERIALIZED VIEW","ALTER NETWORK POLICY","ALTER NOTIFICATION INTEGRATION","ALTER PIPE","ALTER PROCEDURE","ALTER REPLICATION GROUP","ALTER RESOURCE MONITOR","ALTER ROLE","ALTER ROW ACCESS POLICY","ALTER SCHEMA","ALTER SECURITY INTEGRATION","ALTER SEQUENCE","ALTER SESSION","ALTER SESSION POLICY","ALTER SHARE","ALTER STAGE","ALTER STORAGE INTEGRATION","ALTER STREAM","ALTER TAG","ALTER TASK","ALTER USER","ALTER VIEW","ALTER WAREHOUSE","BEGIN","CALL","COMMIT","COPY INTO","CREATE ACCOUNT","CREATE API INTEGRATION","CREATE CONNECTION","CREATE DATABASE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL TABLE","CREATE FAILOVER GROUP","CREATE FILE FORMAT","CREATE FUNCTION","CREATE INTEGRATION","CREATE MANAGED ACCOUNT","CREATE MASKING POLICY","CREATE MATERIALIZED VIEW","CREATE NETWORK POLICY","CREATE NOTIFICATION INTEGRATION","CREATE PIPE","CREATE PROCEDURE","CREATE REPLICATION GROUP","CREATE RESOURCE MONITOR","CREATE ROLE","CREATE ROW ACCESS POLICY","CREATE SCHEMA","CREATE SECURITY INTEGRATION","CREATE SEQUENCE","CREATE SESSION POLICY","CREATE SHARE","CREATE STAGE","CREATE STORAGE INTEGRATION","CREATE STREAM","CREATE TAG","CREATE TASK","CREATE USER","CREATE WAREHOUSE","DELETE","DESCRIBE DATABASE","DESCRIBE EXTERNAL TABLE","DESCRIBE FILE FORMAT","DESCRIBE FUNCTION","DESCRIBE INTEGRATION","DESCRIBE MASKING POLICY","DESCRIBE MATERIALIZED VIEW","DESCRIBE NETWORK POLICY","DESCRIBE PIPE","DESCRIBE PROCEDURE","DESCRIBE RESULT","DESCRIBE ROW ACCESS POLICY","DESCRIBE SCHEMA","DESCRIBE SEQUENCE","DESCRIBE SESSION POLICY","DESCRIBE SHARE","DESCRIBE STAGE","DESCRIBE STREAM","DESCRIBE TABLE","DESCRIBE TASK","DESCRIBE TRANSACTION","DESCRIBE USER","DESCRIBE VIEW","DESCRIBE WAREHOUSE","DROP CONNECTION","DROP DATABASE","DROP EXTERNAL TABLE","DROP FAILOVER GROUP","DROP FILE FORMAT","DROP FUNCTION","DROP INTEGRATION","DROP MANAGED ACCOUNT","DROP MASKING POLICY","DROP MATERIALIZED VIEW","DROP NETWORK POLICY","DROP PIPE","DROP PROCEDURE","DROP REPLICATION GROUP","DROP RESOURCE MONITOR","DROP ROLE","DROP ROW ACCESS POLICY","DROP SCHEMA","DROP SEQUENCE","DROP SESSION POLICY","DROP SHARE","DROP STAGE","DROP STREAM","DROP TAG","DROP TASK","DROP USER","DROP VIEW","DROP WAREHOUSE","EXECUTE IMMEDIATE","EXECUTE TASK","EXPLAIN","GET","GRANT OWNERSHIP","GRANT ROLE","INSERT","LIST","MERGE","PUT","REMOVE","REVOKE ROLE","ROLLBACK","SHOW COLUMNS","SHOW CONNECTIONS","SHOW DATABASES","SHOW DATABASES IN FAILOVER GROUP","SHOW DATABASES IN REPLICATION GROUP","SHOW DELEGATED AUTHORIZATIONS","SHOW EXTERNAL FUNCTIONS","SHOW EXTERNAL TABLES","SHOW FAILOVER GROUPS","SHOW FILE FORMATS","SHOW FUNCTIONS","SHOW GLOBAL ACCOUNTS","SHOW GRANTS","SHOW INTEGRATIONS","SHOW LOCKS","SHOW MANAGED ACCOUNTS","SHOW MASKING POLICIES","SHOW MATERIALIZED VIEWS","SHOW NETWORK POLICIES","SHOW OBJECTS","SHOW ORGANIZATION ACCOUNTS","SHOW PARAMETERS","SHOW PIPES","SHOW PRIMARY KEYS","SHOW PROCEDURES","SHOW REGIONS","SHOW REPLICATION ACCOUNTS","SHOW REPLICATION DATABASES","SHOW REPLICATION GROUPS","SHOW RESOURCE MONITORS","SHOW ROLES","SHOW ROW ACCESS POLICIES","SHOW SCHEMAS","SHOW SEQUENCES","SHOW SESSION POLICIES","SHOW SHARES","SHOW SHARES IN FAILOVER GROUP","SHOW SHARES IN REPLICATION GROUP","SHOW STAGES","SHOW STREAMS","SHOW TABLES","SHOW TAGS","SHOW TASKS","SHOW TRANSACTIONS","SHOW USER FUNCTIONS","SHOW USERS","SHOW VARIABLES","SHOW VIEWS","SHOW WAREHOUSES","TRUNCATE MATERIALIZED VIEW","UNDROP DATABASE","UNDROP SCHEMA","UNDROP TABLE","UNDROP TAG","UNSET","USE DATABASE","USE ROLE","USE SCHEMA","USE SECONDARY ROLES","USE WAREHOUSE"]),obe=$e(["UNION [ALL]","MINUS","EXCEPT","INTERSECT"]),abe=$e(["[INNER] JOIN","[NATURAL] {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | NATURAL} JOIN"]),lbe=$e(["{ROWS | RANGE} BETWEEN","ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]"]),cbe={name:"snowflake",tokenizerOptions:{reservedSelect:sbe,reservedClauses:[...ibe,...Y4,...tw],reservedSetOperations:obe,reservedJoins:abe,reservedPhrases:lbe,reservedKeywords:rbe,reservedDataTypes:nbe,reservedFunctionNames:tbe,stringTypes:["$$","''-qq-bs"],identTypes:['""-qq'],variableTypes:[{regex:"[$][1-9]\\d*"},{regex:"[$][_a-zA-Z][_a-zA-Z0-9$]*"}],extraParens:["[]"],identChars:{rest:"$"},lineCommentTypes:["--","//"],operators:["%","::","||","=>",":=","->"],propertyAccessOperators:[":"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...Y4,...tw],tabularOnelineClauses:tw}},ube=Object.freeze(Object.defineProperty({__proto__:null,bigquery:nAe,db2:EAe,db2i:bAe,duckdb:MAe,hive:GAe,mariadb:JAe,mysql:aRe,n1ql:bRe,plsql:MRe,postgresql:VRe,redshift:ZRe,singlestoredb:ebe,snowflake:cbe,spark:lNe,sql:xNe,sqlite:TNe,tidb:ERe,transactsql:zNe,trino:kNe},Symbol.toStringTag,{value:"Module"})),Wp=t=>t[t.length-1],q4=t=>t.sort((e,r)=>r.length-e.length||e.localeCompare(r)),pv=t=>t.replace(/\s+/gu," "),rw=t=>/\n/.test(t),sa=t=>t.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),K4=/\s+/uy,hd=t=>new RegExp(`(?:${t})`,"uy"),dbe=t=>t.split("").map(e=>/ /gu.test(e)?"\\s+":`[${e.toUpperCase()}${e.toLowerCase()}]`).join(""),hbe=t=>t+"(?:-"+t+")*",fbe=({prefixes:t,requirePrefix:e})=>`(?:${t.map(dbe).join("|")}${e?"":"|"})`,mbe=t=>new RegExp(`(?:${t.map(sa).join("|")}).*?(?=\r
|\r|
|$)`,"uy"),X4=(t,e=[])=>{const r=t==="open"?0:1,n=["()",...e].map(s=>s[r]);return hd(n.map(sa).join("|"))},Q4=t=>hd(`${q4(t).map(sa).join("|")}`),pbe=({rest:t,dashes:e})=>t||e?`(?![${t||""}${e?"-":""}])`:"",Mc=(t,e={})=>{if(t.length===0)return/^\b$/u;const r=pbe(e),n=q4(t).map(sa).join("|").replace(/ /gu,"\\s+");return new RegExp(`(?:${n})${r}\\b`,"iuy")},nw=(t,e)=>{if(!t.length)return;const r=t.map(sa).join("|");return hd(`(?:${r})(?:${e})`)},Ebe=()=>{const t={"<":">","[":"]","(":")","{":"}"},e="{left}(?:(?!{right}').)*?{right}",r=Object.entries(t).map(([o,a])=>e.replace(/{left}/g,sa(o)).replace(/{right}/g,sa(a))),n=sa(Object.keys(t).join(""));return`[Qq]'(?:${String.raw`(?<tag>[^\s${n}])(?:(?!\k<tag>').)*?\k<tag>`}|${r.join("|")})'`},J4={"``":"(?:`[^`]*`)+","[]":String.raw`(?:\[[^\]]*\])(?:\][^\]]*\])*`,'""-qq':String.raw`(?:"[^"]*")+`,'""-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")`,'""-qq-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")+`,'""-raw':String.raw`(?:"[^"]*")`,"''-qq":String.raw`(?:'[^']*')+`,"''-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')`,"''-qq-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')+`,"''-raw":String.raw`(?:'[^']*')`,$$:String.raw`(?<tag>\$\w*\$)[\s\S]*?\k<tag>`,"'''..'''":String.raw`'''[^\\]*?(?:\\.[^\\]*?)*?'''`,'""".."""':String.raw`"""[^\\]*?(?:\\.[^\\]*?)*?"""`,"{}":String.raw`(?:\{[^\}]*\})`,"q''":Ebe()},Z4=t=>typeof t=="string"?J4[t]:"regex"in t?t.regex:fbe(t)+J4[t.quote],gbe=t=>hd(t.map(e=>"regex"in e?e.regex:Z4(e)).join("|")),eB=t=>t.map(Z4).join("|"),tB=t=>hd(eB(t)),Tbe=(t={})=>hd(rB(t)),rB=({first:t,rest:e,dashes:r,allowFirstCharNumber:n}={})=>{const s="\\p{Alphabetic}\\p{Mark}_",i="\\p{Decimal_Number}",o=sa(t??""),a=sa(e??""),l=n?`[${s}${i}${o}][${s}${i}${a}]*`:`[${s}${o}][${s}${i}${a}]*`;return r?hbe(l):l};function nB(t,e){const r=t.slice(0,e).split(/\n/);return{line:r.length,col:r[r.length-1].length+1}}class Sbe{constructor(e,r){this.rules=e,this.dialectName=r,this.input="",this.index=0}tokenize(e){this.input=e,this.index=0;const r=[];let n;for(;this.index<this.input.length;){const s=this.getWhitespace();if(this.index<this.input.length){if(n=this.getNextToken(),!n)throw this.createParseError();r.push(Object.assign(Object.assign({},n),{precedingWhitespace:s}))}}return r}createParseError(){const e=this.input.slice(this.index,this.index+10),{line:r,col:n}=nB(this.input,this.index);return new Error(`Parse error: Unexpected "${e}" at line ${r} column ${n}.
${this.dialectInfo()}`)}dialectInfo(){return this.dialectName==="sql"?`This likely happens because you're using the default "sql" dialect.
If possible, please select a more specific dialect (like sqlite, postgresql, etc).`:`SQL dialect used: "${this.dialectName}".`}getWhitespace(){K4.lastIndex=this.index;const e=K4.exec(this.input);if(e)return this.index+=e[0].length,e[0]}getNextToken(){for(const e of this.rules){const r=this.match(e);if(r)return r}}match(e){e.regex.lastIndex=this.index;const r=e.regex.exec(this.input);if(r){const n=r[0],s={type:e.type,raw:n,text:e.text?e.text(n):n,start:this.index};return e.key&&(s.key=e.key(n)),this.index+=n.length,s}}}const sB=/\/\*/uy,vbe=/[\s\S]/uy,ybe=/\*\//uy;class Abe{constructor(){this.lastIndex=0}exec(e){let r="",n,s=0;if(n=this.matchSection(sB,e))r+=n,s++;else return null;for(;s>0;)if(n=this.matchSection(sB,e))r+=n,s++;else if(n=this.matchSection(ybe,e))r+=n,s--;else if(n=this.matchSection(vbe,e))r+=n;else return null;return[r]}matchSection(e,r){e.lastIndex=this.lastIndex;const n=e.exec(r);return n&&(this.lastIndex+=n[0].length),n?n[0]:null}}class Rbe{constructor(e,r){this.cfg=e,this.dialectName=r,this.rulesBeforeParams=this.buildRulesBeforeParams(e),this.rulesAfterParams=this.buildRulesAfterParams(e)}tokenize(e,r){const n=[...this.rulesBeforeParams,...this.buildParamRules(this.cfg,r),...this.rulesAfterParams],s=new Sbe(n,this.dialectName).tokenize(e);return this.cfg.postProcess?this.cfg.postProcess(s):s}buildRulesBeforeParams(e){var r,n;return this.validRules([{type:qe.BLOCK_COMMENT,regex:/(\/\* *sql-formatter-disable *\*\/[\s\S]*?(?:\/\* *sql-formatter-enable *\*\/|$))/uy},{type:qe.BLOCK_COMMENT,regex:e.nestedBlockComments?new Abe:/(\/\*[^]*?\*\/)/uy},{type:qe.LINE_COMMENT,regex:mbe((r=e.lineCommentTypes)!==null&&r!==void 0?r:["--"])},{type:qe.QUOTED_IDENTIFIER,regex:tB(e.identTypes)},{type:qe.NUMBER,regex:/(?:0x[0-9a-fA-F]+|0b[01]+|(?:-\s*)?(?:[0-9]*\.[0-9]+|[0-9]+(?:\.[0-9]*)?)(?:[eE][-+]?[0-9]+(?:\.[0-9]+)?)?)(?![\w\p{Alphabetic}])/uy},{type:qe.RESERVED_PHRASE,regex:Mc((n=e.reservedPhrases)!==null&&n!==void 0?n:[],e.identChars),text:ms},{type:qe.CASE,regex:/CASE\b/iuy,text:ms},{type:qe.END,regex:/END\b/iuy,text:ms},{type:qe.BETWEEN,regex:/BETWEEN\b/iuy,text:ms},{type:qe.LIMIT,regex:e.reservedClauses.includes("LIMIT")?/LIMIT\b/iuy:void 0,text:ms},{type:qe.RESERVED_CLAUSE,regex:Mc(e.reservedClauses,e.identChars),text:ms},{type:qe.RESERVED_SELECT,regex:Mc(e.reservedSelect,e.identChars),text:ms},{type:qe.RESERVED_SET_OPERATION,regex:Mc(e.reservedSetOperations,e.identChars),text:ms},{type:qe.WHEN,regex:/WHEN\b/iuy,text:ms},{type:qe.ELSE,regex:/ELSE\b/iuy,text:ms},{type:qe.THEN,regex:/THEN\b/iuy,text:ms},{type:qe.RESERVED_JOIN,regex:Mc(e.reservedJoins,e.identChars),text:ms},{type:qe.AND,regex:/AND\b/iuy,text:ms},{type:qe.OR,regex:/OR\b/iuy,text:ms},{type:qe.XOR,regex:e.supportsXor?/XOR\b/iuy:void 0,text:ms},...e.operatorKeyword?[{type:qe.OPERATOR,regex:/OPERATOR *\([^)]+\)/iuy}]:[],{type:qe.RESERVED_FUNCTION_NAME,regex:Mc(e.reservedFunctionNames,e.identChars),text:ms},{type:qe.RESERVED_DATA_TYPE,regex:Mc(e.reservedDataTypes,e.identChars),text:ms},{type:qe.RESERVED_KEYWORD,regex:Mc(e.reservedKeywords,e.identChars),text:ms}])}buildRulesAfterParams(e){var r,n;return this.validRules([{type:qe.VARIABLE,regex:e.variableTypes?gbe(e.variableTypes):void 0},{type:qe.STRING,regex:tB(e.stringTypes)},{type:qe.IDENTIFIER,regex:Tbe(e.identChars)},{type:qe.DELIMITER,regex:/[;]/uy},{type:qe.COMMA,regex:/[,]/y},{type:qe.OPEN_PAREN,regex:X4("open",e.extraParens)},{type:qe.CLOSE_PAREN,regex:X4("close",e.extraParens)},{type:qe.OPERATOR,regex:Q4(["+","-","/",">","<","=","<>","<=",">=","!=",...(r=e.operators)!==null&&r!==void 0?r:[]])},{type:qe.ASTERISK,regex:/[*]/uy},{type:qe.PROPERTY_ACCESS_OPERATOR,regex:Q4([".",...(n=e.propertyAccessOperators)!==null&&n!==void 0?n:[]])}])}buildParamRules(e,r){var n,s,i,o,a;const l={named:(r==null?void 0:r.named)||((n=e.paramTypes)===null||n===void 0?void 0:n.named)||[],quoted:(r==null?void 0:r.quoted)||((s=e.paramTypes)===null||s===void 0?void 0:s.quoted)||[],numbered:(r==null?void 0:r.numbered)||((i=e.paramTypes)===null||i===void 0?void 0:i.numbered)||[],positional:typeof(r==null?void 0:r.positional)=="boolean"?r.positional:(o=e.paramTypes)===null||o===void 0?void 0:o.positional,custom:(r==null?void 0:r.custom)||((a=e.paramTypes)===null||a===void 0?void 0:a.custom)||[]};return this.validRules([{type:qe.NAMED_PARAMETER,regex:nw(l.named,rB(e.paramChars||e.identChars)),key:c=>c.slice(1)},{type:qe.QUOTED_PARAMETER,regex:nw(l.quoted,eB(e.identTypes)),key:c=>(({tokenKey:d,quoteChar:h})=>d.replace(new RegExp(sa("\\"+h),"gu"),h))({tokenKey:c.slice(2,-1),quoteChar:c.slice(-1)})},{type:qe.NUMBERED_PARAMETER,regex:nw(l.numbered,"[0-9]+"),key:c=>c.slice(1)},{type:qe.POSITIONAL_PARAMETER,regex:l.positional?/[?]/y:void 0},...l.custom.map(c=>{var d;return{type:qe.CUSTOM_PARAMETER,regex:hd(c.regex),key:(d=c.key)!==null&&d!==void 0?d:h=>h}})])}validRules(e){return e.filter(r=>!!r.regex)}}const ms=t=>pv(t.toUpperCase()),iB=new Map,Nbe=t=>{let e=iB.get(t);return e||(e=bbe(t),iB.set(t,e)),e},bbe=t=>({tokenizer:new Rbe(t.tokenizerOptions,t.name),formatOptions:Cbe(t.formatOptions)}),Cbe=t=>{var e;return{alwaysDenseOperators:t.alwaysDenseOperators||[],onelineClauses:Object.fromEntries(t.onelineClauses.map(r=>[r,!0])),tabularOnelineClauses:Object.fromEntries(((e=t.tabularOnelineClauses)!==null&&e!==void 0?e:t.onelineClauses).map(r=>[r,!0]))}};function xbe(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"?" ".repeat(10):t.useTabs?"	":" ".repeat(t.tabWidth)}function Qh(t){return t.indentStyle==="tabularLeft"||t.indentStyle==="tabularRight"}class wbe{constructor(e){this.params=e,this.index=0}get({key:e,text:r}){return this.params?e?this.params[e]:this.params[this.index++]:r}getPositionalParameterIndex(){return this.index}setPositionalParameterIndex(e){this.index=e}}var oB={exports:{}};(function(t){(function(e,r){t.exports?t.exports=r():e.nearley=r()})(pr,function(){function e(c,d,h){return this.id=++e.highestId,this.name=c,this.symbols=d,this.postprocess=h,this}e.highestId=0,e.prototype.toString=function(c){var d=typeof c>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,c).map(l).join(" ")+"  "+this.symbols.slice(c).map(l).join(" ");return this.name+"  "+d};function r(c,d,h,m){this.rule=c,this.dot=d,this.reference=h,this.data=[],this.wantedBy=m,this.isComplete=this.dot===c.symbols.length}r.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},r.prototype.nextState=function(c){var d=new r(this.rule,this.dot+1,this.reference,this.wantedBy);return d.left=this,d.right=c,d.isComplete&&(d.data=d.build(),d.right=void 0),d},r.prototype.build=function(){var c=[],d=this;do c.push(d.right.data),d=d.left;while(d.left);return c.reverse(),c},r.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))};function n(c,d){this.grammar=c,this.index=d,this.states=[],this.wants={},this.scannable=[],this.completed={}}n.prototype.process=function(c){for(var d=this.states,h=this.wants,m=this.completed,f=0;f<d.length;f++){var p=d[f];if(p.isComplete){if(p.finish(),p.data!==o.fail){for(var E=p.wantedBy,g=E.length;g--;){var T=E[g];this.complete(T,p)}if(p.reference===this.index){var S=p.rule.name;(this.completed[S]=this.completed[S]||[]).push(p)}}}else{var S=p.rule.symbols[p.dot];if(typeof S!="string"){this.scannable.push(p);continue}if(h[S]){if(h[S].push(p),m.hasOwnProperty(S))for(var v=m[S],g=0;g<v.length;g++){var N=v[g];this.complete(p,N)}}else h[S]=[p],this.predict(S)}}},n.prototype.predict=function(c){for(var d=this.grammar.byName[c]||[],h=0;h<d.length;h++){var m=d[h],f=this.wants[c],p=new r(m,0,this.index,f);this.states.push(p)}},n.prototype.complete=function(c,d){var h=c.nextState(d);this.states.push(h)};function s(c,d){this.rules=c,this.start=d||this.rules[0].name;var h=this.byName={};this.rules.forEach(function(m){h.hasOwnProperty(m.name)||(h[m.name]=[]),h[m.name].push(m)})}s.fromCompiled=function(m,d){var h=m.Lexer;m.ParserStart&&(d=m.ParserStart,m=m.ParserRules);var m=m.map(function(p){return new e(p.name,p.symbols,p.postprocess)}),f=new s(m,d);return f.lexer=h,f};function i(){this.reset("")}i.prototype.reset=function(c,d){this.buffer=c,this.index=0,this.line=d?d.line:1,this.lastLineBreak=d?-d.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var c=this.buffer[this.index++];return c===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:c}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(c,d){var h=this.buffer;if(typeof h=="string"){var m=h.split(`
`).slice(Math.max(0,this.line-5),this.line),f=h.indexOf(`
`,this.index);f===-1&&(f=h.length);var p=this.index-this.lastLineBreak,E=String(this.line).length;return d+=" at line "+this.line+" col "+p+`:

`,d+=m.map(function(T,S){return g(this.line-m.length+S+1,E)+" "+T},this).join(`
`),d+=`
`+g("",E+p)+`^
`,d}else return d+" at index "+(this.index-1);function g(T,S){var v=String(T);return Array(S-v.length+1).join(" ")+v}};function o(c,d,h){if(c instanceof s)var m=c,h=d;else var m=s.fromCompiled(c,d);this.grammar=m,this.options={keepHistory:!1,lexer:m.lexer||new i};for(var f in h||{})this.options[f]=h[f];this.lexer=this.options.lexer,this.lexerState=void 0;var p=new n(m,0);this.table=[p],p.wants[m.start]=[],p.predict(m.start),p.process(),this.current=0}o.fail={},o.prototype.feed=function(c){var d=this.lexer;d.reset(c,this.lexerState);for(var h;;){try{if(h=d.next(),!h)break}catch(A){var E=new n(this.grammar,this.current+1);this.table.push(E);var m=new Error(this.reportLexerError(A));throw m.offset=this.current,m.token=A.token,m}var f=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var p=this.current+1,E=new n(this.grammar,p);this.table.push(E);for(var g=h.text!==void 0?h.text:h.value,T=d.constructor===i?h.value:h,S=f.scannable,v=S.length;v--;){var N=S[v],C=N.rule.symbols[N.dot];if(C.test?C.test(T):C.type?C.type===h.type:C.literal===g){var x=N.nextState({data:T,token:h,isToken:!0,reference:p-1});E.states.push(x)}}if(E.process(),E.states.length===0){var m=new Error(this.reportError(h));throw m.offset=this.current,m.token=h,m}this.options.keepHistory&&(f.lexerState=d.save()),this.current++}return f&&(this.lexerState=d.save()),this.results=this.finish(),this},o.prototype.reportLexerError=function(c){var d,h,m=c.token;return m?(d="input "+JSON.stringify(m.text[0])+" (lexer error)",h=this.lexer.formatError(m,"Syntax error")):(d="input (lexer error)",h=c.message),this.reportErrorCommon(h,d)},o.prototype.reportError=function(c){var d=(c.type?c.type+" token: ":"")+JSON.stringify(c.value!==void 0?c.value:c),h=this.lexer.formatError(c,"Syntax error");return this.reportErrorCommon(h,d)},o.prototype.reportErrorCommon=function(c,d){var h=[];h.push(c);var m=this.table.length-2,f=this.table[m],p=f.states.filter(function(g){var T=g.rule.symbols[g.dot];return T&&typeof T!="string"});if(p.length===0)h.push("Unexpected "+d+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(f.states,h);else{h.push("Unexpected "+d+`. Instead, I was expecting to see one of the following:
`);var E=p.map(function(g){return this.buildFirstStateStack(g,[])||[g]},this);E.forEach(function(g){var T=g[0],S=T.rule.symbols[T.dot],v=this.getSymbolDisplay(S);h.push("A "+v+" based on:"),this.displayStateStack(g,h)},this)}return h.push(""),h.join(`
`)},o.prototype.displayStateStack=function(c,d){for(var h,m=0,f=0;f<c.length;f++){var p=c[f],E=p.rule.toString(p.dot);E===h?m++:(m>0&&d.push("    ^ "+m+" more lines identical to this"),m=0,d.push("    "+E)),h=E}},o.prototype.getSymbolDisplay=function(c){return a(c)},o.prototype.buildFirstStateStack=function(c,d){if(d.indexOf(c)!==-1)return null;if(c.wantedBy.length===0)return[c];var h=c.wantedBy[0],m=[c].concat(d),f=this.buildFirstStateStack(h,m);return f===null?null:[c].concat(f)},o.prototype.save=function(){var c=this.table[this.current];return c.lexerState=this.lexerState,c},o.prototype.restore=function(c){var d=c.index;this.current=d,this.table[d]=c,this.table.splice(d+1),this.lexerState=c.lexerState,this.results=this.finish()},o.prototype.rewind=function(c){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[c])},o.prototype.finish=function(){var c=[],d=this.grammar.start,h=this.table[this.table.length-1];return h.states.forEach(function(m){m.rule.name===d&&m.dot===m.rule.symbols.length&&m.reference===0&&m.data!==o.fail&&c.push(m)}),c.map(function(m){return m.data})};function a(c){var d=typeof c;if(d==="string")return c;if(d==="object"){if(c.literal)return JSON.stringify(c.literal);if(c instanceof RegExp)return"character matching "+c;if(c.type)return c.type+" token";if(c.test)return"token matching "+String(c.test);throw new Error("Unknown symbol type: "+c)}}function l(c){var d=typeof c;if(d==="string")return c;if(d==="object"){if(c.literal)return JSON.stringify(c.literal);if(c instanceof RegExp)return c.toString();if(c.type)return"%"+c.type;if(c.test)return"<"+String(c.test)+">";throw new Error("Unknown symbol type: "+c)}}return{Parser:o,Grammar:s,Rule:e}})})(oB);var Obe=oB.exports;const Ibe=Yr(Obe);function _be(t){return t.map(Lbe).map(Dbe).map(Mbe).map(Pbe).map(kbe)}const Lbe=(t,e,r)=>{if(x4(t.type)){const n=Ube(r,e);if(n&&n.type===qe.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:qe.IDENTIFIER,text:t.raw});const s=Jh(r,e);if(s&&s.type===qe.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},t),{type:qe.IDENTIFIER,text:t.raw})}return t},Dbe=(t,e,r)=>{if(t.type===qe.RESERVED_FUNCTION_NAME){const n=Jh(r,e);if(!n||!aB(n))return Object.assign(Object.assign({},t),{type:qe.IDENTIFIER,text:t.raw})}return t},Mbe=(t,e,r)=>{if(t.type===qe.RESERVED_DATA_TYPE){const n=Jh(r,e);if(n&&aB(n))return Object.assign(Object.assign({},t),{type:qe.RESERVED_PARAMETERIZED_DATA_TYPE})}return t},Pbe=(t,e,r)=>{if(t.type===qe.IDENTIFIER){const n=Jh(r,e);if(n&&lB(n))return Object.assign(Object.assign({},t),{type:qe.ARRAY_IDENTIFIER})}return t},kbe=(t,e,r)=>{if(t.type===qe.RESERVED_DATA_TYPE){const n=Jh(r,e);if(n&&lB(n))return Object.assign(Object.assign({},t),{type:qe.ARRAY_KEYWORD})}return t},Ube=(t,e)=>Jh(t,e,-1),Jh=(t,e,r=1)=>{let n=1;for(;t[e+n*r]&&jbe(t[e+n*r]);)n++;return t[e+n*r]},aB=t=>t.type===qe.OPEN_PAREN&&t.text==="(",lB=t=>t.type===qe.OPEN_PAREN&&t.text==="[",jbe=t=>t.type===qe.BLOCK_COMMENT||t.type===qe.LINE_COMMENT;class cB{constructor(e){this.tokenize=e,this.index=0,this.tokens=[],this.input=""}reset(e,r){this.input=e,this.index=0,this.tokens=this.tokenize(e)}next(){return this.tokens[this.index++]}save(){}formatError(e){const{line:r,col:n}=nB(this.input,e.start);return`Parse error at token: ${e.text} at line ${r} column ${n}`}has(e){return e in qe}}var Ct;(function(t){t.statement="statement",t.clause="clause",t.set_operation="set_operation",t.function_call="function_call",t.parameterized_data_type="parameterized_data_type",t.array_subscript="array_subscript",t.property_access="property_access",t.parenthesis="parenthesis",t.between_predicate="between_predicate",t.case_expression="case_expression",t.case_when="case_when",t.case_else="case_else",t.limit_clause="limit_clause",t.all_columns_asterisk="all_columns_asterisk",t.literal="literal",t.identifier="identifier",t.keyword="keyword",t.data_type="data_type",t.parameter="parameter",t.operator="operator",t.comma="comma",t.line_comment="line_comment",t.block_comment="block_comment",t.disable_comment="disable_comment"})(Ct=Ct||(Ct={}));function sw(t){return t[0]}const Ft=new cB(t=>[]),fd=([[t]])=>t,ps=t=>({type:Ct.keyword,tokenType:t.type,text:t.text,raw:t.raw}),uB=t=>({type:Ct.data_type,text:t.text,raw:t.raw}),Es=(t,{leading:e,trailing:r})=>(e!=null&&e.length&&(t=Object.assign(Object.assign({},t),{leadingComments:e})),r!=null&&r.length&&(t=Object.assign(Object.assign({},t),{trailingComments:r})),t),Bbe=(t,{leading:e,trailing:r})=>{if(e!=null&&e.length){const[n,...s]=t;t=[Es(n,{leading:e}),...s]}if(r!=null&&r.length){const n=t.slice(0,-1),s=t[t.length-1];t=[...n,Es(s,{trailing:r})]}return t},Fbe={Lexer:Ft,ParserRules:[{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement"],postprocess:t=>t[0].concat([t[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([t])=>{const e=t[t.length-1];return e&&!e.hasSemicolon?e.children.length>0?t:t.slice(0,-1):t}},{name:"statement$subexpression$1",symbols:[Ft.has("DELIMITER")?{type:"DELIMITER"}:DELIMITER]},{name:"statement$subexpression$1",symbols:[Ft.has("EOF")?{type:"EOF"}:EOF]},{name:"statement",symbols:["expressions_or_clauses","statement$subexpression$1"],postprocess:([t,[e]])=>({type:Ct.statement,children:t,hasSemicolon:e.type===qe.DELIMITER})},{name:"expressions_or_clauses$ebnf$1",symbols:[]},{name:"expressions_or_clauses$ebnf$1",symbols:["expressions_or_clauses$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses$ebnf$2",symbols:[]},{name:"expressions_or_clauses$ebnf$2",symbols:["expressions_or_clauses$ebnf$2","clause"],postprocess:t=>t[0].concat([t[1]])},{name:"expressions_or_clauses",symbols:["expressions_or_clauses$ebnf$1","expressions_or_clauses$ebnf$2"],postprocess:([t,e])=>[...t,...e]},{name:"clause$subexpression$1",symbols:["limit_clause"]},{name:"clause$subexpression$1",symbols:["select_clause"]},{name:"clause$subexpression$1",symbols:["other_clause"]},{name:"clause$subexpression$1",symbols:["set_operation"]},{name:"clause",symbols:["clause$subexpression$1"],postprocess:fd},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["free_form_sql"]},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"limit_clause$ebnf$1$subexpression$1",symbols:[Ft.has("COMMA")?{type:"COMMA"}:COMMA,"limit_clause$ebnf$1$subexpression$1$ebnf$1"]},{name:"limit_clause$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1"],postprocess:sw},{name:"limit_clause$ebnf$1",symbols:[],postprocess:()=>null},{name:"limit_clause",symbols:[Ft.has("LIMIT")?{type:"LIMIT"}:LIMIT,"_","expression_chain_","limit_clause$ebnf$1"],postprocess:([t,e,r,n])=>{if(n){const[s,i]=n;return{type:Ct.limit_clause,limitKw:Es(ps(t),{trailing:e}),offset:r,count:i}}else return{type:Ct.limit_clause,limitKw:Es(ps(t),{trailing:e}),count:r}}},{name:"select_clause$subexpression$1$ebnf$1",symbols:[]},{name:"select_clause$subexpression$1$ebnf$1",symbols:["select_clause$subexpression$1$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["all_columns_asterisk","select_clause$subexpression$1$ebnf$1"]},{name:"select_clause$subexpression$1$ebnf$2",symbols:[]},{name:"select_clause$subexpression$1$ebnf$2",symbols:["select_clause$subexpression$1$ebnf$2","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"select_clause$subexpression$1",symbols:["asteriskless_free_form_sql","select_clause$subexpression$1$ebnf$2"]},{name:"select_clause",symbols:[Ft.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT,"select_clause$subexpression$1"],postprocess:([t,[e,r]])=>({type:Ct.clause,nameKw:ps(t),children:[e,...r]})},{name:"select_clause",symbols:[Ft.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT],postprocess:([t])=>({type:Ct.clause,nameKw:ps(t),children:[]})},{name:"all_columns_asterisk",symbols:[Ft.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK],postprocess:()=>({type:Ct.all_columns_asterisk})},{name:"other_clause$ebnf$1",symbols:[]},{name:"other_clause$ebnf$1",symbols:["other_clause$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"other_clause",symbols:[Ft.has("RESERVED_CLAUSE")?{type:"RESERVED_CLAUSE"}:RESERVED_CLAUSE,"other_clause$ebnf$1"],postprocess:([t,e])=>({type:Ct.clause,nameKw:ps(t),children:e})},{name:"set_operation$ebnf$1",symbols:[]},{name:"set_operation$ebnf$1",symbols:["set_operation$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"set_operation",symbols:[Ft.has("RESERVED_SET_OPERATION")?{type:"RESERVED_SET_OPERATION"}:RESERVED_SET_OPERATION,"set_operation$ebnf$1"],postprocess:([t,e])=>({type:Ct.set_operation,nameKw:ps(t),children:e})},{name:"expression_chain_$ebnf$1",symbols:["expression_with_comments_"]},{name:"expression_chain_$ebnf$1",symbols:["expression_chain_$ebnf$1","expression_with_comments_"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain_",symbols:["expression_chain_$ebnf$1"],postprocess:sw},{name:"expression_chain$ebnf$1",symbols:[]},{name:"expression_chain$ebnf$1",symbols:["expression_chain$ebnf$1","_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"expression_chain",symbols:["expression","expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"andless_expression_chain$ebnf$1",symbols:[]},{name:"andless_expression_chain$ebnf$1",symbols:["andless_expression_chain$ebnf$1","_andless_expression_with_comments"],postprocess:t=>t[0].concat([t[1]])},{name:"andless_expression_chain",symbols:["andless_expression","andless_expression_chain$ebnf$1"],postprocess:([t,e])=>[t,...e]},{name:"expression_with_comments_",symbols:["expression","_"],postprocess:([t,e])=>Es(t,{trailing:e})},{name:"_expression_with_comments",symbols:["_","expression"],postprocess:([t,e])=>Es(e,{leading:t})},{name:"_andless_expression_with_comments",symbols:["_","andless_expression"],postprocess:([t,e])=>Es(e,{leading:t})},{name:"free_form_sql$subexpression$1",symbols:["asteriskless_free_form_sql"]},{name:"free_form_sql$subexpression$1",symbols:["asterisk"]},{name:"free_form_sql",symbols:["free_form_sql$subexpression$1"],postprocess:fd},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["logic_operator"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comma"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comment"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["other_keyword"]},{name:"asteriskless_free_form_sql",symbols:["asteriskless_free_form_sql$subexpression$1"],postprocess:fd},{name:"expression$subexpression$1",symbols:["andless_expression"]},{name:"expression$subexpression$1",symbols:["logic_operator"]},{name:"expression",symbols:["expression$subexpression$1"],postprocess:fd},{name:"andless_expression$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"andless_expression$subexpression$1",symbols:["asterisk"]},{name:"andless_expression",symbols:["andless_expression$subexpression$1"],postprocess:fd},{name:"asteriskless_andless_expression$subexpression$1",symbols:["atomic_expression"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["between_predicate"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["case_expression"]},{name:"asteriskless_andless_expression",symbols:["asteriskless_andless_expression$subexpression$1"],postprocess:fd},{name:"atomic_expression$subexpression$1",symbols:["array_subscript"]},{name:"atomic_expression$subexpression$1",symbols:["function_call"]},{name:"atomic_expression$subexpression$1",symbols:["property_access"]},{name:"atomic_expression$subexpression$1",symbols:["parenthesis"]},{name:"atomic_expression$subexpression$1",symbols:["curly_braces"]},{name:"atomic_expression$subexpression$1",symbols:["square_brackets"]},{name:"atomic_expression$subexpression$1",symbols:["operator"]},{name:"atomic_expression$subexpression$1",symbols:["identifier"]},{name:"atomic_expression$subexpression$1",symbols:["parameter"]},{name:"atomic_expression$subexpression$1",symbols:["literal"]},{name:"atomic_expression$subexpression$1",symbols:["data_type"]},{name:"atomic_expression$subexpression$1",symbols:["keyword"]},{name:"atomic_expression",symbols:["atomic_expression$subexpression$1"],postprocess:fd},{name:"array_subscript",symbols:[Ft.has("ARRAY_IDENTIFIER")?{type:"ARRAY_IDENTIFIER"}:ARRAY_IDENTIFIER,"_","square_brackets"],postprocess:([t,e,r])=>({type:Ct.array_subscript,array:Es({type:Ct.identifier,quoted:!1,text:t.text},{trailing:e}),parenthesis:r})},{name:"array_subscript",symbols:[Ft.has("ARRAY_KEYWORD")?{type:"ARRAY_KEYWORD"}:ARRAY_KEYWORD,"_","square_brackets"],postprocess:([t,e,r])=>({type:Ct.array_subscript,array:Es(ps(t),{trailing:e}),parenthesis:r})},{name:"function_call",symbols:[Ft.has("RESERVED_FUNCTION_NAME")?{type:"RESERVED_FUNCTION_NAME"}:RESERVED_FUNCTION_NAME,"_","parenthesis"],postprocess:([t,e,r])=>({type:Ct.function_call,nameKw:Es(ps(t),{trailing:e}),parenthesis:r})},{name:"parenthesis",symbols:[{literal:"("},"expressions_or_clauses",{literal:")"}],postprocess:([t,e,r])=>({type:Ct.parenthesis,children:e,openParen:"(",closeParen:")"})},{name:"curly_braces$ebnf$1",symbols:[]},{name:"curly_braces$ebnf$1",symbols:["curly_braces$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"curly_braces",symbols:[{literal:"{"},"curly_braces$ebnf$1",{literal:"}"}],postprocess:([t,e,r])=>({type:Ct.parenthesis,children:e,openParen:"{",closeParen:"}"})},{name:"square_brackets$ebnf$1",symbols:[]},{name:"square_brackets$ebnf$1",symbols:["square_brackets$ebnf$1","free_form_sql"],postprocess:t=>t[0].concat([t[1]])},{name:"square_brackets",symbols:[{literal:"["},"square_brackets$ebnf$1",{literal:"]"}],postprocess:([t,e,r])=>({type:Ct.parenthesis,children:e,openParen:"[",closeParen:"]"})},{name:"property_access$subexpression$1",symbols:["identifier"]},{name:"property_access$subexpression$1",symbols:["array_subscript"]},{name:"property_access$subexpression$1",symbols:["all_columns_asterisk"]},{name:"property_access$subexpression$1",symbols:["parameter"]},{name:"property_access",symbols:["atomic_expression","_",Ft.has("PROPERTY_ACCESS_OPERATOR")?{type:"PROPERTY_ACCESS_OPERATOR"}:PROPERTY_ACCESS_OPERATOR,"_","property_access$subexpression$1"],postprocess:([t,e,r,n,[s]])=>({type:Ct.property_access,object:Es(t,{trailing:e}),operator:r.text,property:Es(s,{leading:n})})},{name:"between_predicate",symbols:[Ft.has("BETWEEN")?{type:"BETWEEN"}:BETWEEN,"_","andless_expression_chain","_",Ft.has("AND")?{type:"AND"}:AND,"_","andless_expression"],postprocess:([t,e,r,n,s,i,o])=>({type:Ct.between_predicate,betweenKw:ps(t),expr1:Bbe(r,{leading:e,trailing:n}),andKw:ps(s),expr2:[Es(o,{leading:i})]})},{name:"case_expression$ebnf$1",symbols:["expression_chain_"],postprocess:sw},{name:"case_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"case_expression$ebnf$2",symbols:[]},{name:"case_expression$ebnf$2",symbols:["case_expression$ebnf$2","case_clause"],postprocess:t=>t[0].concat([t[1]])},{name:"case_expression",symbols:[Ft.has("CASE")?{type:"CASE"}:CASE,"_","case_expression$ebnf$1","case_expression$ebnf$2",Ft.has("END")?{type:"END"}:END],postprocess:([t,e,r,n,s])=>({type:Ct.case_expression,caseKw:Es(ps(t),{trailing:e}),endKw:ps(s),expr:r||[],clauses:n})},{name:"case_clause",symbols:[Ft.has("WHEN")?{type:"WHEN"}:WHEN,"_","expression_chain_",Ft.has("THEN")?{type:"THEN"}:THEN,"_","expression_chain_"],postprocess:([t,e,r,n,s,i])=>({type:Ct.case_when,whenKw:Es(ps(t),{trailing:e}),thenKw:Es(ps(n),{trailing:s}),condition:r,result:i})},{name:"case_clause",symbols:[Ft.has("ELSE")?{type:"ELSE"}:ELSE,"_","expression_chain_"],postprocess:([t,e,r])=>({type:Ct.case_else,elseKw:Es(ps(t),{trailing:e}),result:r})},{name:"comma$subexpression$1",symbols:[Ft.has("COMMA")?{type:"COMMA"}:COMMA]},{name:"comma",symbols:["comma$subexpression$1"],postprocess:([[t]])=>({type:Ct.comma})},{name:"asterisk$subexpression$1",symbols:[Ft.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK]},{name:"asterisk",symbols:["asterisk$subexpression$1"],postprocess:([[t]])=>({type:Ct.operator,text:t.text})},{name:"operator$subexpression$1",symbols:[Ft.has("OPERATOR")?{type:"OPERATOR"}:OPERATOR]},{name:"operator",symbols:["operator$subexpression$1"],postprocess:([[t]])=>({type:Ct.operator,text:t.text})},{name:"identifier$subexpression$1",symbols:[Ft.has("IDENTIFIER")?{type:"IDENTIFIER"}:IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[Ft.has("QUOTED_IDENTIFIER")?{type:"QUOTED_IDENTIFIER"}:QUOTED_IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[Ft.has("VARIABLE")?{type:"VARIABLE"}:VARIABLE]},{name:"identifier",symbols:["identifier$subexpression$1"],postprocess:([[t]])=>({type:Ct.identifier,quoted:t.type!=="IDENTIFIER",text:t.text})},{name:"parameter$subexpression$1",symbols:[Ft.has("NAMED_PARAMETER")?{type:"NAMED_PARAMETER"}:NAMED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[Ft.has("QUOTED_PARAMETER")?{type:"QUOTED_PARAMETER"}:QUOTED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[Ft.has("NUMBERED_PARAMETER")?{type:"NUMBERED_PARAMETER"}:NUMBERED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[Ft.has("POSITIONAL_PARAMETER")?{type:"POSITIONAL_PARAMETER"}:POSITIONAL_PARAMETER]},{name:"parameter$subexpression$1",symbols:[Ft.has("CUSTOM_PARAMETER")?{type:"CUSTOM_PARAMETER"}:CUSTOM_PARAMETER]},{name:"parameter",symbols:["parameter$subexpression$1"],postprocess:([[t]])=>({type:Ct.parameter,key:t.key,text:t.text})},{name:"literal$subexpression$1",symbols:[Ft.has("NUMBER")?{type:"NUMBER"}:NUMBER]},{name:"literal$subexpression$1",symbols:[Ft.has("STRING")?{type:"STRING"}:STRING]},{name:"literal",symbols:["literal$subexpression$1"],postprocess:([[t]])=>({type:Ct.literal,text:t.text})},{name:"keyword$subexpression$1",symbols:[Ft.has("RESERVED_KEYWORD")?{type:"RESERVED_KEYWORD"}:RESERVED_KEYWORD]},{name:"keyword$subexpression$1",symbols:[Ft.has("RESERVED_PHRASE")?{type:"RESERVED_PHRASE"}:RESERVED_PHRASE]},{name:"keyword$subexpression$1",symbols:[Ft.has("RESERVED_JOIN")?{type:"RESERVED_JOIN"}:RESERVED_JOIN]},{name:"keyword",symbols:["keyword$subexpression$1"],postprocess:([[t]])=>ps(t)},{name:"data_type$subexpression$1",symbols:[Ft.has("RESERVED_DATA_TYPE")?{type:"RESERVED_DATA_TYPE"}:RESERVED_DATA_TYPE]},{name:"data_type",symbols:["data_type$subexpression$1"],postprocess:([[t]])=>uB(t)},{name:"data_type",symbols:[Ft.has("RESERVED_PARAMETERIZED_DATA_TYPE")?{type:"RESERVED_PARAMETERIZED_DATA_TYPE"}:RESERVED_PARAMETERIZED_DATA_TYPE,"_","parenthesis"],postprocess:([t,e,r])=>({type:Ct.parameterized_data_type,dataType:Es(uB(t),{trailing:e}),parenthesis:r})},{name:"logic_operator$subexpression$1",symbols:[Ft.has("AND")?{type:"AND"}:AND]},{name:"logic_operator$subexpression$1",symbols:[Ft.has("OR")?{type:"OR"}:OR]},{name:"logic_operator$subexpression$1",symbols:[Ft.has("XOR")?{type:"XOR"}:XOR]},{name:"logic_operator",symbols:["logic_operator$subexpression$1"],postprocess:([[t]])=>ps(t)},{name:"other_keyword$subexpression$1",symbols:[Ft.has("WHEN")?{type:"WHEN"}:WHEN]},{name:"other_keyword$subexpression$1",symbols:[Ft.has("THEN")?{type:"THEN"}:THEN]},{name:"other_keyword$subexpression$1",symbols:[Ft.has("ELSE")?{type:"ELSE"}:ELSE]},{name:"other_keyword$subexpression$1",symbols:[Ft.has("END")?{type:"END"}:END]},{name:"other_keyword",symbols:["other_keyword$subexpression$1"],postprocess:([[t]])=>ps(t)},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","comment"],postprocess:t=>t[0].concat([t[1]])},{name:"_",symbols:["_$ebnf$1"],postprocess:([t])=>t},{name:"comment",symbols:[Ft.has("LINE_COMMENT")?{type:"LINE_COMMENT"}:LINE_COMMENT],postprocess:([t])=>({type:Ct.line_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[Ft.has("BLOCK_COMMENT")?{type:"BLOCK_COMMENT"}:BLOCK_COMMENT],postprocess:([t])=>({type:Ct.block_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})},{name:"comment",symbols:[Ft.has("DISABLE_COMMENT")?{type:"DISABLE_COMMENT"}:DISABLE_COMMENT],postprocess:([t])=>({type:Ct.disable_comment,text:t.text,precedingWhitespace:t.precedingWhitespace})}],ParserStart:"main"},{Parser:Hbe,Grammar:$be}=Ibe;function Gbe(t){let e={};const r=new cB(s=>[..._be(t.tokenize(s,e)),C4(s.length)]),n=new Hbe($be.fromCompiled(Fbe),{lexer:r});return{parse:(s,i)=>{e=i;const{results:o}=n.feed(s);if(o.length===1)return o[0];throw o.length===0?new Error("Parse error: Invalid SQL"):new Error(`Parse error: Ambiguous grammar
${JSON.stringify(o,void 0,2)}`)}}}var ze;(function(t){t[t.SPACE=0]="SPACE",t[t.NO_SPACE=1]="NO_SPACE",t[t.NO_NEWLINE=2]="NO_NEWLINE",t[t.NEWLINE=3]="NEWLINE",t[t.MANDATORY_NEWLINE=4]="MANDATORY_NEWLINE",t[t.INDENT=5]="INDENT",t[t.SINGLE_INDENT=6]="SINGLE_INDENT"})(ze=ze||(ze={}));class dB{constructor(e){this.indentation=e,this.items=[]}add(...e){for(const r of e)switch(r){case ze.SPACE:this.items.push(ze.SPACE);break;case ze.NO_SPACE:this.trimHorizontalWhitespace();break;case ze.NO_NEWLINE:this.trimWhitespace();break;case ze.NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(ze.NEWLINE);break;case ze.MANDATORY_NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(ze.MANDATORY_NEWLINE);break;case ze.INDENT:this.addIndentation();break;case ze.SINGLE_INDENT:this.items.push(ze.SINGLE_INDENT);break;default:this.items.push(r)}}trimHorizontalWhitespace(){for(;Vbe(Wp(this.items));)this.items.pop()}trimWhitespace(){for(;zbe(Wp(this.items));)this.items.pop()}addNewline(e){if(this.items.length>0)switch(Wp(this.items)){case ze.NEWLINE:this.items.pop(),this.items.push(e);break;case ze.MANDATORY_NEWLINE:break;default:this.items.push(e);break}}addIndentation(){for(let e=0;e<this.indentation.getLevel();e++)this.items.push(ze.SINGLE_INDENT)}toString(){return this.items.map(e=>this.itemToString(e)).join("")}getLayoutItems(){return this.items}itemToString(e){switch(e){case ze.SPACE:return" ";case ze.NEWLINE:case ze.MANDATORY_NEWLINE:return`
`;case ze.SINGLE_INDENT:return this.indentation.getSingleIndent();default:return e}}}const Vbe=t=>t===ze.SPACE||t===ze.SINGLE_INDENT,zbe=t=>t===ze.SPACE||t===ze.SINGLE_INDENT||t===ze.NEWLINE;function hB(t,e){if(e==="standard")return t;let r=[];return t.length>=10&&t.includes(" ")&&([t,...r]=t.split(" ")),e==="tabularLeft"?t=t.padEnd(9," "):t=t.padStart(9," "),t+["",...r].join(" ")}function fB(t){return qye(t)||t===qe.RESERVED_CLAUSE||t===qe.RESERVED_SELECT||t===qe.RESERVED_SET_OPERATION||t===qe.RESERVED_JOIN||t===qe.LIMIT}const iw="top-level",Wbe="block-level";class mB{constructor(e){this.indent=e,this.indentTypes=[]}getSingleIndent(){return this.indent}getLevel(){return this.indentTypes.length}increaseTopLevel(){this.indentTypes.push(iw)}increaseBlockLevel(){this.indentTypes.push(Wbe)}decreaseTopLevel(){this.indentTypes.length>0&&Wp(this.indentTypes)===iw&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===iw;);}}class Ybe extends dB{constructor(e){super(new mB("")),this.expressionWidth=e,this.length=0,this.trailingSpace=!1}add(...e){if(e.forEach(r=>this.addToLength(r)),this.length>this.expressionWidth)throw new ow;super.add(...e)}addToLength(e){if(typeof e=="string")this.length+=e.length,this.trailingSpace=!1;else{if(e===ze.MANDATORY_NEWLINE||e===ze.NEWLINE)throw new ow;e===ze.INDENT||e===ze.SINGLE_INDENT||e===ze.SPACE?this.trailingSpace||(this.length++,this.trailingSpace=!0):(e===ze.NO_NEWLINE||e===ze.NO_SPACE)&&this.trailingSpace&&(this.trailingSpace=!1,this.length--)}}}class ow extends Error{}class Ev{constructor({cfg:e,dialectCfg:r,params:n,layout:s,inline:i=!1}){this.inline=!1,this.nodes=[],this.index=-1,this.cfg=e,this.dialectCfg=r,this.inline=i,this.params=n,this.layout=s}format(e){for(this.nodes=e,this.index=0;this.index<this.nodes.length;this.index++)this.formatNode(this.nodes[this.index]);return this.layout}formatNode(e){this.formatComments(e.leadingComments),this.formatNodeWithoutComments(e),this.formatComments(e.trailingComments)}formatNodeWithoutComments(e){switch(e.type){case Ct.function_call:return this.formatFunctionCall(e);case Ct.parameterized_data_type:return this.formatParameterizedDataType(e);case Ct.array_subscript:return this.formatArraySubscript(e);case Ct.property_access:return this.formatPropertyAccess(e);case Ct.parenthesis:return this.formatParenthesis(e);case Ct.between_predicate:return this.formatBetweenPredicate(e);case Ct.case_expression:return this.formatCaseExpression(e);case Ct.case_when:return this.formatCaseWhen(e);case Ct.case_else:return this.formatCaseElse(e);case Ct.clause:return this.formatClause(e);case Ct.set_operation:return this.formatSetOperation(e);case Ct.limit_clause:return this.formatLimitClause(e);case Ct.all_columns_asterisk:return this.formatAllColumnsAsterisk(e);case Ct.literal:return this.formatLiteral(e);case Ct.identifier:return this.formatIdentifier(e);case Ct.parameter:return this.formatParameter(e);case Ct.operator:return this.formatOperator(e);case Ct.comma:return this.formatComma(e);case Ct.line_comment:return this.formatLineComment(e);case Ct.block_comment:return this.formatBlockComment(e);case Ct.disable_comment:return this.formatBlockComment(e);case Ct.data_type:return this.formatDataType(e);case Ct.keyword:return this.formatKeywordNode(e)}}formatFunctionCall(e){this.withComments(e.nameKw,()=>{this.layout.add(this.showFunctionKw(e.nameKw))}),this.formatNode(e.parenthesis)}formatParameterizedDataType(e){this.withComments(e.dataType,()=>{this.layout.add(this.showDataType(e.dataType))}),this.formatNode(e.parenthesis)}formatArraySubscript(e){let r;switch(e.array.type){case Ct.data_type:r=this.showDataType(e.array);break;case Ct.keyword:r=this.showKw(e.array);break;default:r=this.showIdentifier(e.array);break}this.withComments(e.array,()=>{this.layout.add(r)}),this.formatNode(e.parenthesis)}formatPropertyAccess(e){this.formatNode(e.object),this.layout.add(ze.NO_SPACE,e.operator),this.formatNode(e.property)}formatParenthesis(e){const r=this.formatInlineExpression(e.children);r?(this.layout.add(e.openParen),this.layout.add(...r.getLayoutItems()),this.layout.add(ze.NO_SPACE,e.closeParen,ze.SPACE)):(this.layout.add(e.openParen,ze.NEWLINE),Qh(this.cfg)?(this.layout.add(ze.INDENT),this.layout=this.formatSubExpression(e.children)):(this.layout.indentation.increaseBlockLevel(),this.layout.add(ze.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseBlockLevel()),this.layout.add(ze.NEWLINE,ze.INDENT,e.closeParen,ze.SPACE))}formatBetweenPredicate(e){this.layout.add(this.showKw(e.betweenKw),ze.SPACE),this.layout=this.formatSubExpression(e.expr1),this.layout.add(ze.NO_SPACE,ze.SPACE,this.showNonTabularKw(e.andKw),ze.SPACE),this.layout=this.formatSubExpression(e.expr2),this.layout.add(ze.SPACE)}formatCaseExpression(e){this.formatNode(e.caseKw),this.layout.indentation.increaseBlockLevel(),this.layout=this.formatSubExpression(e.expr),this.layout=this.formatSubExpression(e.clauses),this.layout.indentation.decreaseBlockLevel(),this.layout.add(ze.NEWLINE,ze.INDENT),this.formatNode(e.endKw)}formatCaseWhen(e){this.layout.add(ze.NEWLINE,ze.INDENT),this.formatNode(e.whenKw),this.layout=this.formatSubExpression(e.condition),this.formatNode(e.thenKw),this.layout=this.formatSubExpression(e.result)}formatCaseElse(e){this.layout.add(ze.NEWLINE,ze.INDENT),this.formatNode(e.elseKw),this.layout=this.formatSubExpression(e.result)}formatClause(e){this.isOnelineClause(e)?this.formatClauseInOnelineStyle(e):Qh(this.cfg)?this.formatClauseInTabularStyle(e):this.formatClauseInIndentedStyle(e)}isOnelineClause(e){return Qh(this.cfg)?this.dialectCfg.tabularOnelineClauses[e.nameKw.text]:this.dialectCfg.onelineClauses[e.nameKw.text]}formatClauseInIndentedStyle(e){this.layout.add(ze.NEWLINE,ze.INDENT,this.showKw(e.nameKw),ze.NEWLINE),this.layout.indentation.increaseTopLevel(),this.layout.add(ze.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatClauseInOnelineStyle(e){this.layout.add(ze.NEWLINE,ze.INDENT,this.showKw(e.nameKw),ze.SPACE),this.layout=this.formatSubExpression(e.children)}formatClauseInTabularStyle(e){this.layout.add(ze.NEWLINE,ze.INDENT,this.showKw(e.nameKw),ze.SPACE),this.layout.indentation.increaseTopLevel(),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatSetOperation(e){this.layout.add(ze.NEWLINE,ze.INDENT,this.showKw(e.nameKw),ze.NEWLINE),this.layout.add(ze.INDENT),this.layout=this.formatSubExpression(e.children)}formatLimitClause(e){this.withComments(e.limitKw,()=>{this.layout.add(ze.NEWLINE,ze.INDENT,this.showKw(e.limitKw))}),this.layout.indentation.increaseTopLevel(),Qh(this.cfg)?this.layout.add(ze.SPACE):this.layout.add(ze.NEWLINE,ze.INDENT),e.offset?(this.layout=this.formatSubExpression(e.offset),this.layout.add(ze.NO_SPACE,",",ze.SPACE),this.layout=this.formatSubExpression(e.count)):this.layout=this.formatSubExpression(e.count),this.layout.indentation.decreaseTopLevel()}formatAllColumnsAsterisk(e){this.layout.add("*",ze.SPACE)}formatLiteral(e){this.layout.add(e.text,ze.SPACE)}formatIdentifier(e){this.layout.add(this.showIdentifier(e),ze.SPACE)}formatParameter(e){this.layout.add(this.params.get(e),ze.SPACE)}formatOperator({text:e}){this.cfg.denseOperators||this.dialectCfg.alwaysDenseOperators.includes(e)?this.layout.add(ze.NO_SPACE,e):e===":"?this.layout.add(ze.NO_SPACE,e,ze.SPACE):this.layout.add(e,ze.SPACE)}formatComma(e){this.inline?this.layout.add(ze.NO_SPACE,",",ze.SPACE):this.layout.add(ze.NO_SPACE,",",ze.NEWLINE,ze.INDENT)}withComments(e,r){this.formatComments(e.leadingComments),r(),this.formatComments(e.trailingComments)}formatComments(e){e&&e.forEach(r=>{r.type===Ct.line_comment?this.formatLineComment(r):this.formatBlockComment(r)})}formatLineComment(e){rw(e.precedingWhitespace||"")?this.layout.add(ze.NEWLINE,ze.INDENT,e.text,ze.MANDATORY_NEWLINE,ze.INDENT):this.layout.getLayoutItems().length>0?this.layout.add(ze.NO_NEWLINE,ze.SPACE,e.text,ze.MANDATORY_NEWLINE,ze.INDENT):this.layout.add(e.text,ze.MANDATORY_NEWLINE,ze.INDENT)}formatBlockComment(e){e.type===Ct.block_comment&&this.isMultilineBlockComment(e)?(this.splitBlockComment(e.text).forEach(r=>{this.layout.add(ze.NEWLINE,ze.INDENT,r)}),this.layout.add(ze.NEWLINE,ze.INDENT)):this.layout.add(e.text,ze.SPACE)}isMultilineBlockComment(e){return rw(e.text)||rw(e.precedingWhitespace||"")}isDocComment(e){const r=e.split(/\n/);return/^\/\*\*?$/.test(r[0])&&r.slice(1,r.length-1).every(n=>/^\s*\*/.test(n))&&/^\s*\*\/$/.test(Wp(r))}splitBlockComment(e){return this.isDocComment(e)?e.split(/\n/).map(r=>/^\s*\*/.test(r)?" "+r.replace(/^\s*/,""):r):e.split(/\n/).map(r=>r.replace(/^\s*/,""))}formatSubExpression(e){return new Ev({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:this.layout,inline:this.inline}).format(e)}formatInlineExpression(e){const r=this.params.getPositionalParameterIndex();try{return new Ev({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:new Ybe(this.cfg.expressionWidth),inline:!0}).format(e)}catch(n){if(n instanceof ow){this.params.setPositionalParameterIndex(r);return}else throw n}}formatKeywordNode(e){switch(e.tokenType){case qe.RESERVED_JOIN:return this.formatJoin(e);case qe.AND:case qe.OR:case qe.XOR:return this.formatLogicalOperator(e);default:return this.formatKeyword(e)}}formatJoin(e){Qh(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(ze.NEWLINE,ze.INDENT,this.showKw(e),ze.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(ze.NEWLINE,ze.INDENT,this.showKw(e),ze.SPACE)}formatKeyword(e){this.layout.add(this.showKw(e),ze.SPACE)}formatLogicalOperator(e){this.cfg.logicalOperatorNewline==="before"?Qh(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(ze.NEWLINE,ze.INDENT,this.showKw(e),ze.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(ze.NEWLINE,ze.INDENT,this.showKw(e),ze.SPACE):this.layout.add(this.showKw(e),ze.NEWLINE,ze.INDENT)}formatDataType(e){this.layout.add(this.showDataType(e),ze.SPACE)}showKw(e){return fB(e.tokenType)?hB(this.showNonTabularKw(e),this.cfg.indentStyle):this.showNonTabularKw(e)}showNonTabularKw(e){switch(this.cfg.keywordCase){case"preserve":return pv(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showFunctionKw(e){return fB(e.tokenType)?hB(this.showNonTabularFunctionKw(e),this.cfg.indentStyle):this.showNonTabularFunctionKw(e)}showNonTabularFunctionKw(e){switch(this.cfg.functionCase){case"preserve":return pv(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showIdentifier(e){if(e.quoted)return e.text;switch(this.cfg.identifierCase){case"preserve":return e.text;case"upper":return e.text.toUpperCase();case"lower":return e.text.toLowerCase()}}showDataType(e){switch(this.cfg.dataTypeCase){case"preserve":return pv(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}}class qbe{constructor(e,r){this.dialect=e,this.cfg=r,this.params=new wbe(this.cfg.params)}format(e){const r=this.parse(e);return this.formatAst(r).trimEnd()}parse(e){return Gbe(this.dialect.tokenizer).parse(e,this.cfg.paramTypes||{})}formatAst(e){return e.map(r=>this.formatStatement(r)).join(`
`.repeat(this.cfg.linesBetweenQueries+1))}formatStatement(e){const r=new Ev({cfg:this.cfg,dialectCfg:this.dialect.formatOptions,params:this.params,layout:new dB(new mB(xbe(this.cfg)))}).format(e.children);return e.hasSemicolon&&(this.cfg.newlineBeforeSemicolon?r.add(ze.NEWLINE,";"):r.add(ze.NO_NEWLINE,";")),r.toString()}}class gv extends Error{}function Kbe(t){const e=["multilineLists","newlineBeforeOpenParen","newlineBeforeCloseParen","aliasAs","commaPosition","tabulateAlias"];for(const r of e)if(r in t)throw new gv(`${r} config is no more supported.`);if(t.expressionWidth<=0)throw new gv(`expressionWidth config must be positive number. Received ${t.expressionWidth} instead.`);if(t.params&&!Xbe(t.params)&&console.warn('WARNING: All "params" option values should be strings.'),t.paramTypes&&!Qbe(t.paramTypes))throw new gv("Empty regex given in custom paramTypes. That would result in matching infinite amount of parameters.");return t}function Xbe(t){return(t instanceof Array?t:Object.values(t)).every(r=>typeof r=="string")}function Qbe(t){return t.custom&&Array.isArray(t.custom)?t.custom.every(e=>e.regex!==""):!0}var Jbe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const pB={bigquery:"bigquery",db2:"db2",db2i:"db2i",duckdb:"duckdb",hive:"hive",mariadb:"mariadb",mysql:"mysql",n1ql:"n1ql",plsql:"plsql",postgresql:"postgresql",redshift:"redshift",spark:"spark",sqlite:"sqlite",sql:"sql",tidb:"tidb",trino:"trino",transactsql:"transactsql",tsql:"transactsql",singlestoredb:"singlestoredb",snowflake:"snowflake"},Zbe=Object.keys(pB),e1e={tabWidth:2,useTabs:!1,keywordCase:"preserve",identifierCase:"preserve",dataTypeCase:"preserve",functionCase:"preserve",indentStyle:"standard",logicalOperatorNewline:"before",expressionWidth:50,linesBetweenQueries:1,denseOperators:!1,newlineBeforeSemicolon:!1},qs=(t,e={})=>{if(typeof e.language=="string"&&!Zbe.includes(e.language))throw new gv(`Unsupported SQL dialect: ${e.language}`);const r=pB[e.language||"sql"];return t1e(t,Object.assign(Object.assign({},e),{dialect:ube[r]}))},t1e=(t,e)=>{var{dialect:r}=e,n=Jbe(e,["dialect"]);if(typeof t!="string")throw new Error("Invalid query argument. Expected string, instead got "+typeof t);const s=Kbe(Object.assign(Object.assign({},e1e),n));return new qbe(Nbe(r),s).format(t)};function r1e(t,e){(typeof e>"u"||e===null)&&(e="utf8mb4");let r=t;return e=`_${e}`,t.startsWith(e)?(r=r.substring(e.length,t.length).replace(/\\/g,""),r.startsWith("'")&&r.endsWith("'")?`'${r.substring(1,r.length-1)}'`:`'${r}'`):`${r}`}const n1e=async(t,{table:e,customDefaults:r}={})=>{Me.setState({databaseMetadata:[]});const n=qs(`
      SELECT
        c.TABLE_SCHEMA,
        c.TABLE_NAME,
        c.COLUMN_NAME,
        c.COLUMN_DEFAULT,
        c.IS_NULLABLE,
        c.COLUMN_TYPE,
        c.CHARACTER_SET_NAME,
        c.GENERATION_EXPRESSION,
        c.EXTRA,
        t.TABLE_TYPE
      FROM information_schema.columns AS c
      JOIN information_schema.tables AS t
        ON c.TABLE_SCHEMA = t.TABLE_SCHEMA
        AND c.TABLE_NAME = t.TABLE_NAME
      WHERE c.TABLE_SCHEMA IN (SELECT DATABASE())
      ORDER BY c.TABLE_NAME, c.ORDINAL_POSITION;
    `,{language:"mysql"}),[s,i]=await Promise.all([t(n).then(c=>(Me.setState(d=>{d.databaseMetadata.push({id:"columns",sql:n,rows:c})}),c)).catch(c=>{throw Me.setState(d=>{d.databaseMetadata.push({id:"columns",sql:n,error:c})}),c}),EB(t,{table:e,types:["PRIMARY KEY","UNIQUE"]})]),o=s.filter((c,d,h)=>h.findIndex(m=>m.TABLE_SCHEMA===c.TABLE_SCHEMA&&m.TABLE_NAME===c.TABLE_NAME)===d),a=o.map(c=>{var T;const d=((T=i[c.TABLE_SCHEMA])==null?void 0:T[c.TABLE_NAME])||{},h=Ws(S=>S.type==="primary",d),m=Ws(S=>S.columns.length>1,h),f=Ws(S=>S.type==="unique",d),E=s.filter(S=>S.TABLE_NAME===c.TABLE_NAME).map(S=>{const v=Object.values(h).some(L=>L.columns.includes(S.COLUMN_NAME)),N=Object.values(f).some(L=>L.columns.includes(S.COLUMN_NAME))||v;let C=!1,x=!1;typeof S.EXTRA<"u"&&(C=S.EXTRA==="auto_increment",x=S.EXTRA.includes("DEFAULT_GENERATED"));let A=S.COLUMN_TYPE;S.COLUMN_TYPE.includes("bigint unsigned")&&C&&v?A=A.replace("bigint unsigned","serial"):S.COLUMN_TYPE.startsWith("int")?A=A.replace("int","integer"):(S.COLUMN_TYPE==="tinyint(1)"||S.COLUMN_TYPE==="tinyinteger(1)")&&(A="boolean");const b={};if(A.startsWith("decimal")||A.startsWith("real")||A.startsWith("double")||A.startsWith("float")){const L=S.COLUMN_TYPE.match(/\((\d+),(\d+)\)/);L&&(b.precision=L[1],b.scale=L[2],A=A.replace(/\(\d+,\s\d+\)/,""))}else if(A.startsWith("varchar")||A.startsWith("binary")||A.startsWith("varbinary")){const L=S.COLUMN_TYPE.match(/\((\d+)\)/);L&&(b.length=L[1],A=A.replace(/\(\d+\)/,""))}const _=S.GENERATION_EXPRESSION?{type:S.EXTRA==="VIRTUAL GENERATED"?"virtual":"stored",as:S.GENERATION_EXPRESSION}:void 0,U=S.COLUMN_DEFAULT===null?void 0:/^-?[\d.]+(?:e-?\d+)?$/.test(S.COLUMN_DEFAULT)&&!S.COLUMN_TYPE.startsWith("decimal")?Number(S.COLUMN_DEFAULT):x?r1e(S.COLUMN_DEFAULT,S.CHARACTER_SET_NAME):`'${S.COLUMN_DEFAULT}'`;return{id:`${c.TABLE_SCHEMA}.${c.TABLE_NAME}.${S.COLUMN_NAME}`,schema:c.TABLE_SCHEMA,table:c.TABLE_NAME,name:S.COLUMN_NAME,type:A,isUnique:N,isPrimary:v,isNotNull:S.IS_NULLABLE==="NO",generatedParams:_,typeParams:b,defaultValue:U,hasDefaultValue:typeof U<"u"||(r==null?void 0:r.some(L=>L.schema===c.TABLE_SCHEMA&&L.table===c.TABLE_NAME&&L.column===S.COLUMN_NAME))}});return{id:`${c.TABLE_SCHEMA}.${c.TABLE_NAME}`,name:c.TABLE_NAME,type:c.TABLE_TYPE==="BASE TABLE"?"table":"view",schema:c.TABLE_SCHEMA,indexes:{},columns:Object.fromEntries(E.map(S=>[S.name,S])),foreignKeys:{},constraints:d,compositePrimaryKeys:m,uniqueConstraints:{}}}),l=o.reduce((c,d)=>c.includes(d.TABLE_SCHEMA)?c:[...c,d.TABLE_SCHEMA],[]);return l.length?Object.fromEntries(l.map(c=>[c,{name:c,tables:Object.fromEntries(a.filter(d=>d.schema===c&&d.type==="table").map(d=>[d.name,d])),views:Object.fromEntries(a.filter(d=>d.schema===c&&d.type==="view").map(d=>[d.name,d])),enums:{}}])):{public:{name:"public",tables:{},views:{},enums:{}}}},EB=async(t,{table:e,types:r}={})=>{const n=r?`(${r.map(a=>`'${a}'`).join(",")})`:"('PRIMARY KEY','FOREIGN KEY','UNIQUE','CHECK')",s=qs(`
      SELECT
        tc.CONSTRAINT_TYPE AS constraint_type,
        tc.CONSTRAINT_SCHEMA AS constraint_schema,
        tc.CONSTRAINT_NAME AS constraint_name,
        cc.CHECK_CLAUSE AS check_clause,
        tc.TABLE_NAME AS table_name,
        kcu.COLUMN_NAME AS column_name,
        kcu.REFERENCED_TABLE_SCHEMA AS foreign_table_schema,
        kcu.REFERENCED_TABLE_NAME AS foreign_table_name,
        kcu.REFERENCED_COLUMN_NAME AS foreign_column_name,
        rc.UPDATE_RULE AS update_rule,
        rc.DELETE_RULE AS delete_rule
      FROM 
        information_schema.table_constraints AS tc
      LEFT JOIN information_schema.key_column_usage AS kcu
        USING(CONSTRAINT_NAME,TABLE_SCHEMA,TABLE_NAME)
      LEFT JOIN information_schema.referential_constraints AS rc
        ON tc.CONSTRAINT_NAME = rc.CONSTRAINT_NAME
      LEFT JOIN information_schema.check_constraints AS cc 
        ON tc.constraint_name = cc.constraint_name
      WHERE
        tc.TABLE_SCHEMA IN (SELECT DATABASE())
        AND tc.CONSTRAINT_TYPE IN ${n}
        ${e?`AND kcu.TABLE_NAME = '${e}'`:""}
    `,{language:"mysql"});return(await t(s).then(a=>(Me.setState(l=>{l.databaseMetadata.push({id:"constraints",sql:s,rows:a})}),a)).catch(a=>{throw Me.setState(l=>{l.databaseMetadata.push({id:"constraints",sql:s,error:a})}),a})).reduce((a,l)=>{if(a[l.constraint_schema]||(a[l.constraint_schema]={}),a[l.constraint_schema][l.table_name]||(a[l.constraint_schema][l.table_name]={}),a[l.constraint_schema][l.table_name][l.constraint_name]){const c=a[l.constraint_schema][l.table_name][l.constraint_name];c.type==="foreign"?(c.columns.push(l.column_name),c.refColumns.push(l.foreign_column_name)):(c.type==="primary"||c.type==="unique")&&c.columns.push(l.column_name)}else{const c=`${l.constraint_schema}.${l.table_name}.${l.constraint_name}`;if(l.constraint_type==="FOREIGN KEY")a[l.constraint_schema][l.table_name][l.constraint_name]={id:c,type:"foreign",schema:l.constraint_schema,table:l.table_name,name:l.constraint_name,columns:[l.column_name],refSchema:l.foreign_table_schema,refTable:l.foreign_table_name,refColumns:[l.foreign_column_name],updateRule:l.update_rule,deleteRule:l.delete_rule};else if(l.constraint_type==="CHECK"){const d=l.check_clause.replace(/^\(/,"").replace(/\)$/,"");a[l.constraint_schema][l.table_name][l.constraint_name]={id:c,type:"check",schema:l.constraint_schema,table:l.table_name,name:l.constraint_name,expression:d}}else a[l.constraint_schema][l.table_name][l.constraint_name]={id:c,type:l.constraint_type==="PRIMARY KEY"?"primary":"unique",schema:l.constraint_schema,table:l.table_name,name:l.constraint_name,columns:[l.column_name]}}return a},{})},s1e=Object.freeze(Object.defineProperty({__proto__:null,pull:n1e,pullConstraints:EB,pullIndexes:async(t,{table:e}={})=>(await t(`

        SELECT
          TABLE_SCHEMA AS schema_name,
          TABLE_NAME AS table_name,
          COLUMN_NAME AS column_name,
          INDEX_NAME AS index_name,
          INDEX_TYPE AS method,
          NON_UNIQUE AS non_unique
        FROM INFORMATION_SCHEMA.STATISTICS
	      WHERE
          INFORMATION_SCHEMA.STATISTICS.TABLE_SCHEMA IN (SELECT DATABASE())
          ${e?`AND INFORMATION_SCHEMA.STATISTICS.TABLE_NAME = '${e}'`:""}
          AND INFORMATION_SCHEMA.STATISTICS.INDEX_NAME != 'PRIMARY';
      `)).reduce((s,i)=>{const o=`${i.schema_name}.${i.table_name}.${i.index_name}`;return s[i.schema_name]||(s[i.schema_name]={}),s[i.schema_name][i.table_name]||(s[i.schema_name][i.table_name]={}),s[i.schema_name][i.table_name][i.index_name]?s[i.schema_name][i.table_name][i.index_name].columns.push(i.column_name):s[i.schema_name][i.table_name][i.index_name]={id:o,schema:i.schema_name,table:i.table_name,name:i.index_name,method:i.method,columns:[i.column_name],isUnique:!i.non_unique},s},{})},Symbol.toStringTag,{value:"Module"})),i1e=(t,e)=>{let r=0,n=t.length;for(;r<n&&t[r]===e;)++r;for(;n>r&&t[n-1]===e;)--n;return r>0||n<t.length?t.substring(r,n):t.toString()};function o1e(t){return t?!/^'[^']*'$|^\d+$/.test(t):!1}const a1e=(t,e)=>!t.column_default||t.generated_type==="s"||t.data_type==="serial"||t.data_type==="smallserial"||t.data_type==="bigserial"?{value:void 0,isExpression:!1}:{value:t.column_default,isExpression:o1e(t.column_default)};function Yp(t){return typeof t=="string"?t:typeof t>"u"||t===null?void 0:typeof t=="bigint"?t.toString():String(t)}const l1e=async(t,{schema:e,table:r,excludeSchemas:n,excludeTables:s,customDefaults:i}={})=>{Me.setState({databaseMetadata:[]});const o=n&&n.length>0?`(${n.map(v=>`'${v}'`).join(",")})`:void 0,a=s&&s.length>0?`(${s.map(v=>`('${v.schema}', '${v.name}')`).join(",")})`:void 0,l=qs(`
      SELECT 
        n.nspname as name
      FROM pg_catalog.pg_namespace n
      WHERE 
        n.nspname NOT LIKE 'pg\\_%'
        ${e?`AND n.nspname = '${e}'`:""}
        ${o?`AND n.nspname NOT IN ${o}`:""}
        AND n.nspname != 'information_schema'
      ORDER BY n.nspname;
    `,{language:"postgresql"}),c=qs(`
      SELECT 
        n.nspname as schema,
        c.relname as name,
        CASE 
          WHEN c.relkind = 'r'
            OR c.relkind = 't'
            OR c.relkind = 'p'
            OR c.relkind = 'f'
            THEN 'table'
          WHEN c.relkind = 'v' THEN 'view'
          WHEN c.relkind = 'm' THEN 'mat_view'
        END AS type,
        definition
      FROM pg_class c
      JOIN pg_namespace n ON c.relnamespace = n.oid
      LEFT JOIN pg_views v ON c.relname = v.viewname
      WHERE n.nspname NOT LIKE 'pg\\_%'
      ${e?`AND n.nspname = '${e}'`:""}
      ${r?`AND c.relname = '${r}'`:""}
      ${o?`AND n.nspname NOT IN ${o}`:""}
      ${a?`AND (n.nspname, c.relname) NOT IN ${a}`:""}
      AND n.nspname != 'information_schema'
      ORDER BY n.nspname, c.relname;
    `,{language:"postgresql"}),d=qs(`
      SELECT 
          n.nspname AS table_schema,
          c.relname AS table_name,
          a.attname AS column_name,
          pg_catalog.pg_get_expr(ad.adbin, ad.adrelid) AS column_default,
          CASE a.attnotnull WHEN TRUE THEN 'NO' ELSE 'YES' END AS is_nullable,
          CASE 
              WHEN pg_catalog.pg_get_expr(ad.adbin, ad.adrelid) LIKE 'nextval(%' AND format_type(a.atttypid, a.atttypmod) = 'integer' THEN 'serial'
              WHEN pg_catalog.pg_get_expr(ad.adbin, ad.adrelid) LIKE 'nextval(%' AND format_type(a.atttypid, a.atttypmod) = 'bigint' THEN 'bigserial'
              WHEN pg_catalog.pg_get_expr(ad.adbin, ad.adrelid) LIKE 'nextval(%' AND format_type(a.atttypid, a.atttypmod) = 'smallint' THEN 'smallserial'
              ELSE format_type(a.atttypid, a.atttypmod)
          END AS data_type,
          CASE 
              WHEN t.typcategory = 'A' THEN 'ARRAY'
              WHEN t.typcategory = 'E' THEN 'ENUM'
              WHEN t.typtype = 'b' THEN a.atttypid::text
              ELSE 'USER-DEFINED'
          END AS additional_dt,
          typ_namespace.nspname AS type_schema,
          t.typname AS type_name,
          a.attndims AS array_dimensions,
          a.attnum,
          a.attidentity::text AS identity_type,
          a.attgenerated::text as generated_type,
          seq_class.relname AS identity_name,
          seq.seqincrement AS identity_increment,
          seq.seqmax AS identity_max,
          seq.seqmin AS identity_min,
          seq.seqstart AS identity_start,
          seq.seqcache AS identity_cache,
          seq.seqcycle AS identity_cycle
      FROM 
          pg_catalog.pg_attribute a
      JOIN pg_catalog.pg_class c ON a.attrelid = c.oid
      JOIN pg_catalog.pg_namespace n ON c.relnamespace = n.oid
      LEFT JOIN pg_catalog.pg_depend dep ON dep.refobjid = c.oid AND dep.refobjsubid = a.attnum
      LEFT JOIN pg_catalog.pg_class seq_class ON seq_class.oid = dep.objid
      LEFT JOIN pg_catalog.pg_sequence seq ON seq_class.oid = seq.seqrelid
      LEFT JOIN pg_catalog.pg_attrdef ad ON a.attrelid = ad.adrelid AND a.attnum = ad.adnum
      JOIN pg_catalog.pg_type t ON a.atttypid = t.oid
      LEFT JOIN pg_catalog.pg_namespace typ_namespace ON t.typnamespace = typ_namespace.oid
      WHERE 
          c.relkind IN ('r', 't', 'p', 'f', 'v', 'm')
          AND a.attnum > 0 
          AND NOT a.attisdropped
          AND n.nspname NOT LIKE 'pg\\_%'
          AND n.nspname != 'information_schema'
          ${e?`AND n.nspname = '${e}'`:""}
          ${r?`AND c.relname = '${r}'`:""}
          ${o?`AND n.nspname NOT IN ${o}`:""}
          ${a?`AND (n.nspname, c.relname) NOT IN ${a}`:""}
      ORDER BY attnum;
    `,{language:"postgresql"}),h=qs(`
      SELECT 
        n.nspname as schema_name,
        t.typname as name,
        e.enumlabel as value
      FROM pg_type t
      JOIN pg_enum e ON t.oid = e.enumtypid
      JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace
      WHERE 
        n.nspname NOT LIKE 'pg\\_%'
        ${e?`AND n.nspname = '${e}'`:""}
        ${o?`AND n.nspname NOT IN ${o}`:""}
        AND n.nspname != 'information_schema';
    `,{language:"postgresql"}),[m,f,p,E,g]=await Promise.all([t(l).then(v=>(Me.setState(N=>{N.databaseMetadata.push({id:"schemas",sql:l,rows:v})}),v)).catch(v=>{throw Me.setState(N=>{N.databaseMetadata.push({id:"schemas",sql:l,error:v})}),v}),t(c).then(v=>(Me.setState(N=>{N.databaseMetadata.push({id:"entities",sql:c,rows:v})}),v)).catch(v=>{throw Me.setState(N=>{N.databaseMetadata.push({id:"entities",sql:c,error:v})}),v}),t(d).then(v=>(Me.setState(N=>{N.databaseMetadata.push({id:"columns",sql:d,rows:v})}),v)).catch(v=>{throw Me.setState(N=>{N.databaseMetadata.push({id:"columns",sql:d,error:v})}),v}),gB(t,{schema:e,table:r,types:["PRIMARY KEY","UNIQUE"],excludeSchemas:n,excludeTables:s}),r?new Promise(v=>v([])):t(h).then(v=>(Me.setState(N=>{N.databaseMetadata.push({id:"enums",sql:h,rows:v})}),v)).catch(v=>{throw Me.setState(N=>{N.databaseMetadata.push({id:"enums",sql:h,error:v})}),v})]),T=g.reduce((v,N)=>(v[N.schema_name]||(v[N.schema_name]={}),v[N.schema_name][N.name]||(v[N.schema_name][N.name]={id:`${N.schema_name}.${N.name}`,schema:N.schema_name,name:N.name,values:[]}),v[N.schema_name][N.name].values.push(N.value),v),{}),S=f.map(v=>{var L;const N=((L=E[v.schema])==null?void 0:L[v.name])||{},C=Ws(P=>P.type==="primary",N),x=Ua(P=>({name:P.name,columns:P.columns}),C),A=Ws(P=>P.columns.length>1,x),b=Ws(P=>P.type==="unique",N),U=p.filter(P=>P.table_name===v.name&&P.table_schema===v.schema).map(P=>{var Z;const F=P.additional_dt==="ENUM",W=a1e(P),Y=P.array_dimensions;let k=P.data_type;if(k.startsWith("numeric(")&&(k=k.replace(",",", ")),k=k.replace("character varying","varchar").replace(" without time zone","").replace("character","char"),k=i1e(k,'"'),F){const Ee=(Z=T[P.type_schema])==null?void 0:Z[P.type_name];Ee&&(k=Ee.schema==="public"?Ee.name:Ee.id)}const V={};if(Y&&(V.dimensions=Y,k=k.replace(/\[\]/g,"")),k.startsWith("numeric")||k.startsWith("decimal")||k.startsWith("double precision")||k.startsWith("real")){const Ee=P.data_type.match(/\((\d+),(\d+)\)/);Ee&&(V.precision=Ee[1],V.scale=Ee[2],k=k.replace(/\(\d+,\s\d+\)/,""))}else if(k.startsWith("varchar")||k.startsWith("bpchar")||k.startsWith("char")||k.startsWith("bit")||k.startsWith("time")||k.startsWith("timestamp")||k.startsWith("interval")){const Ee=P.data_type.match(/\((\d+)\)/);Ee&&(V.length=Ee[1],k=k.replace(/\(\d+\)/,""))}const re=Object.values(C).some(Ee=>Ee.columns.includes(P.column_name)),K=Object.values(b).some(Ee=>Ee.columns.includes(P.column_name))||re,B=P.generated_type==="s"?{type:"stored",as:P.column_default}:void 0,X=P.identity_type!==""?{type:P.identity_type==="a"?"always":"by default",name:P.identity_name||void 0,increment:Yp(P.identity_increment),maxValue:Yp(P.identity_max),minValue:Yp(P.identity_min),startWith:Yp(P.identity_start),cache:Yp(P.identity_cache),cycle:P.identity_cycle||!1}:void 0;return{id:`${P.table_schema}.${P.table_name}.${P.column_name}`,schema:P.table_schema,table:P.table_name,name:P.column_name,type:k,typeParams:V,isPrimary:re,isUnique:K,isNotNull:P.is_nullable==="NO",generatedParams:B,identityParams:X,defaultValue:W.value,isDefaultAnExpression:W.isExpression,hasDefaultValue:typeof W.value<"u"||P.generated_type==="s"||k==="serial"||k==="bigserial"||k==="smallserial"||(i==null?void 0:i.some(Ee=>Ee.schema===P.table_schema&&Ee.table===P.table_name&&Ee.column===P.column_name))}});return{id:`${v.schema}.${v.name}`,type:v.type,schema:v.schema,name:v.name,indexes:{},columns:Object.fromEntries(U.map(P=>[P.name,P])),constraints:N,compositePrimaryKeys:A,foreignKeys:{},uniqueConstraints:b,...v.definition&&{definition:v.definition}}});return Object.fromEntries(Array.from(m).sort(v=>v.name==="public"?-1:1).map(({name:v})=>[v,{name:v,tables:Object.fromEntries(S.filter(N=>N.schema===v&&N.type==="table").map(N=>[N.name,N])),views:Object.fromEntries(S.filter(N=>N.schema===v&&(N.type==="view"||N.type==="mat_view")).map(N=>[N.name,N])),enums:T[v]||{}}]))},c1e={"PRIMARY KEY":"p","FOREIGN KEY":"f",UNIQUE:"u",CHECK:"c"},gB=async(t,{schema:e,table:r,types:n,excludeSchemas:s,excludeTables:i}={})=>{const o=n?`('${n.map(m=>c1e[m]).join("', '")}')`:"('p', 'f', 'u', 'c')",a=s&&s.length>0?`(${s.map(m=>`'${m}'`).join(",")})`:void 0,l=i&&i.length>0?`(${i.map(m=>`('${m.schema}', '${m.name}')`).join(",")})`:void 0,c=qs(`
      SELECT
        con.contype::text AS constraint_type,
        nsp.nspname AS constraint_schema,
        con.conname AS constraint_name,
        rel.relname AS table_name,
        att.attname AS column_name,
        pg_get_constraintdef(con.oid) AS expression,
        fnsp.nspname AS foreign_table_schema,
        frel.relname AS foreign_table_name,
        fatt.attname AS foreign_column_name,
        CASE con.confupdtype
          WHEN 'a' THEN 'NO ACTION'
          WHEN 'r' THEN 'RESTRICT'
          WHEN 'n' THEN 'SET NULL'
          WHEN 'c' THEN 'CASCADE'
          WHEN 'd' THEN 'SET DEFAULT'
        END AS update_rule,
        CASE con.confdeltype
          WHEN 'a' THEN 'NO ACTION'
          WHEN 'r' THEN 'RESTRICT'
          WHEN 'n' THEN 'SET NULL'
          WHEN 'c' THEN 'CASCADE'
          WHEN 'd' THEN 'SET DEFAULT'
        END AS delete_rule
      FROM
        pg_catalog.pg_constraint con
        JOIN pg_catalog.pg_class rel ON rel.oid = con.conrelid
        JOIN pg_catalog.pg_namespace nsp ON nsp.oid = con.connamespace
        LEFT JOIN LATERAL UNNEST (con.conkey) WITH ORDINALITY AS conkeys(attnum, n) ON TRUE
        LEFT JOIN pg_catalog.pg_attribute att
          ON att.attnum = conkeys.attnum
          AND att.attrelid = con.conrelid
          AND att.attnum > 0
        LEFT JOIN pg_catalog.pg_class frel ON frel.oid = con.confrelid
        LEFT JOIN pg_catalog.pg_namespace fnsp ON fnsp.oid = frel.relnamespace
        LEFT JOIN LATERAL UNNEST (con.confkey) WITH ORDINALITY AS confkeys(attnum, n) ON conkeys.n = confkeys.n
        LEFT JOIN pg_catalog.pg_attribute fatt
          ON fatt.attnum = confkeys.attnum
          AND fatt.attrelid = con.confrelid
          AND fatt.attnum > 0
      WHERE
        nsp.nspname NOT LIKE 'pg\\_%'
        AND nsp.nspname != 'information_schema'
        ${e?`AND nsp.nspname = '${e}'`:""}
        ${r?`AND rel.relname = '${r}'`:""}
        ${a?`AND nsp.nspname NOT IN ${a}`:""}
        ${l?`AND (nsp.nspname, rel.relname) NOT IN ${l}`:""}
        AND con.contype IN ${o};
    `,{language:"postgresql"});return(await t(c).then(m=>(Me.setState(f=>{f.databaseMetadata.push({id:"constraints",sql:c,rows:m})}),m)).catch(m=>{throw Me.setState(f=>{f.databaseMetadata.push({id:"constraints",sql:c,error:m})}),m})).reduce((m,f)=>{if(m[f.constraint_schema]||(m[f.constraint_schema]={}),m[f.constraint_schema][f.table_name]||(m[f.constraint_schema][f.table_name]={}),m[f.constraint_schema][f.table_name][f.constraint_name]){const p=m[f.constraint_schema][f.table_name][f.constraint_name];p.type==="foreign"?(p.columns.push(f.column_name),p.refColumns.push(f.foreign_column_name)):(p.type==="primary"||p.type==="unique")&&p.columns.push(f.column_name)}else{const p=`${f.constraint_schema}.${f.table_name}.${f.constraint_name}`;if(f.constraint_type==="f")m[f.constraint_schema][f.table_name][f.constraint_name]={id:p,type:"foreign",schema:f.constraint_schema,table:f.table_name,name:f.constraint_name,columns:[f.column_name],refSchema:f.foreign_table_schema,refTable:f.foreign_table_name,refColumns:[f.foreign_column_name],updateRule:f.update_rule,deleteRule:f.delete_rule};else if(f.constraint_type==="c"){const E=f.expression.replace(/^CHECK\s*\(\(/,"").replace(/\)\)\s*$/,"");m[f.constraint_schema][f.table_name][f.constraint_name]={id:p,type:"check",schema:f.constraint_schema,table:f.table_name,name:f.constraint_name,expression:E}}else m[f.constraint_schema][f.table_name][f.constraint_name]={id:p,type:f.constraint_type==="p"?"primary":"unique",schema:f.constraint_schema,table:f.table_name,name:f.constraint_name,columns:[f.column_name]}}return m},{})},u1e=Object.freeze(Object.defineProperty({__proto__:null,pull:l1e,pullConstraints:gB,pullIndexes:async(t,{schema:e,table:r,excludeSchemas:n,excludeTables:s}={})=>{const i=n&&n.length>0?`(${n.map(c=>`'${c}'`).join(",")})`:void 0,o=s&&s.length>0?`(${s.map(c=>`('${c.schema}', '${c.name}')`).join(",")})`:void 0;return(await t(`
        SELECT 
          n.nspname AS schema_name,
          t.relname AS table_name,
          ic.relname AS index_name,
          a.attname AS column_name,
          am.amname as method,
          i.indisunique as is_unique
        FROM 
          pg_class t
        JOIN 
          pg_namespace n ON n.oid = t.relnamespace
        JOIN pg_index i ON t.oid = i.indrelid
        JOIN pg_class ic ON ic.oid = i.indexrelid
        JOIN pg_am AS am ON ic.relam = am.oid
        JOIN 
          pg_attribute a ON a.attnum = ANY(i.indkey) AND a.attrelid = t.oid
        WHERE
          n.nspname NOT LIKE 'pg_%'
          AND n.nspname != 'information_schema'
          ${e?`AND n.nspname = '${e}'`:""}
          ${r?`AND t.relname = '${r}'`:""}
          ${i?`AND n.nspname NOT IN ${i}`:""}
          ${o?`AND (n.nspname, t.relname) NOT IN ${o}`:""};
      `)).reduce((c,d)=>{const h=`${d.schema_name}.${d.table_name}.${d.index_name}`;return c[d.schema_name]||(c[d.schema_name]={}),c[d.schema_name][d.table_name]||(c[d.schema_name][d.table_name]={}),c[d.schema_name][d.table_name][d.index_name]?c[d.schema_name][d.table_name][d.index_name].columns.push(d.column_name):c[d.schema_name][d.table_name][d.index_name]={id:h,schema:d.schema_name,table:d.table_name,name:d.index_name,method:d.method,columns:[d.column_name],isUnique:d.is_unique},c},{})}},Symbol.toStringTag,{value:"Module"}));function d1e(t,e){(typeof e>"u"||e===null)&&(e="utf8mb4");let r=t;return e=`_${e}`,t.startsWith(e)?(r=r.substring(e.length,t.length).replace(/\\/g,""),r.startsWith("'")&&r.endsWith("'")?`'${r.substring(1,r.length-1)}'`:`'${r}'`):`${r}`}const h1e=async(t,{table:e,customDefaults:r}={})=>{Me.setState({databaseMetadata:[]});const n=qs(`
        SELECT
          c.TABLE_SCHEMA,
          c.TABLE_NAME,
          c.COLUMN_NAME,
          c.COLUMN_DEFAULT,
          c.IS_NULLABLE,
          c.COLUMN_TYPE,
          c.CHARACTER_SET_NAME,
          c.GENERATION_EXPRESSION,
          c.EXTRA,
          t.TABLE_TYPE
        FROM information_schema.columns AS c
        JOIN information_schema.tables AS t
          ON c.TABLE_SCHEMA = t.TABLE_SCHEMA
          AND c.TABLE_NAME = t.TABLE_NAME
        WHERE c.TABLE_SCHEMA = (SELECT DATABASE())
        ORDER BY c.TABLE_NAME, c.ORDINAL_POSITION;
      `,{language:"mysql"}),[s,i]=await Promise.all([t(n).then(c=>(Me.setState(d=>{d.databaseMetadata.push({id:"columns",sql:n,rows:c})}),c)).catch(c=>{throw Me.setState(d=>{d.databaseMetadata.push({id:"columns",sql:n,error:c})}),c}),TB(t,{table:e})]),o=s.filter((c,d,h)=>h.findIndex(m=>m.TABLE_SCHEMA===c.TABLE_SCHEMA&&m.TABLE_NAME===c.TABLE_NAME)===d),a=o.map(c=>{var T;const d=((T=i[c.TABLE_SCHEMA])==null?void 0:T[c.TABLE_NAME])||{},h=Ws(S=>S.type==="primary",d),m=Ws(S=>S.columns.length>1,h),f=Ws(S=>S.type==="unique",d),E=s.filter(S=>S.TABLE_NAME===c.TABLE_NAME).map(S=>{const v=Object.values(h).some(L=>L.columns.includes(S.COLUMN_NAME)),N=Object.values(f).some(L=>L.columns.includes(S.COLUMN_NAME))||v;let C=!1,x=!1;typeof S.EXTRA<"u"&&(C=S.EXTRA==="auto_increment",x=S.EXTRA.includes("DEFAULT_GENERATED"));let A=S.COLUMN_TYPE;S.COLUMN_TYPE.includes("bigint unsigned")&&C&&v?A=A.replace("bigint unsigned","serial"):S.COLUMN_TYPE.startsWith("int")?A=A.replace("int","integer"):(S.COLUMN_TYPE==="tinyint(1)"||S.COLUMN_TYPE==="tinyinteger(1)")&&(A="boolean");const b={};if(A.startsWith("decimal")||A.startsWith("real")||A.startsWith("double")||A.startsWith("float")){const L=S.COLUMN_TYPE.match(/\((\d+),(\d+)\)/);L&&(b.precision=L[1],b.scale=L[2],A=A.replace(/\(\d+,\s\d+\)/,""))}else if(A.startsWith("varchar")||A.startsWith("binary")||A.startsWith("varbinary")){const L=S.COLUMN_TYPE.match(/\((\d+)\)/);L&&(b.length=L[1],A=A.replace(/\(\d+\)/,""))}const _=S.GENERATION_EXPRESSION?{type:S.EXTRA==="VIRTUAL GENERATED"?"virtual":"stored",as:S.GENERATION_EXPRESSION}:void 0,U=S.COLUMN_DEFAULT===null?void 0:/^-?[\d.]+(?:e-?\d+)?$/.test(S.COLUMN_DEFAULT)&&!S.COLUMN_TYPE.startsWith("decimal")?Number(S.COLUMN_DEFAULT):x?d1e(S.COLUMN_DEFAULT,S.CHARACTER_SET_NAME):`'${S.COLUMN_DEFAULT}'`;return{id:`${c.TABLE_SCHEMA}.${c.TABLE_NAME}.${S.COLUMN_NAME}`,schema:c.TABLE_SCHEMA,table:c.TABLE_NAME,name:S.COLUMN_NAME,type:A,isUnique:N,isPrimary:v,isNotNull:S.IS_NULLABLE==="NO",generatedParams:_,typeParams:b,defaultValue:U,hasDefaultValue:typeof U<"u"||(r==null?void 0:r.some(L=>L.schema===c.TABLE_SCHEMA&&L.table===c.TABLE_NAME&&L.column===S.COLUMN_NAME))}});return{id:`${c.TABLE_SCHEMA}.${c.TABLE_NAME}`,name:c.TABLE_NAME,type:c.TABLE_TYPE==="BASE TABLE"?"table":"view",schema:c.TABLE_SCHEMA,indexes:{},columns:Object.fromEntries(E.map(S=>[S.name,S])),foreignKeys:{},constraints:d,compositePrimaryKeys:m,uniqueConstraints:{}}}),l=o.reduce((c,d)=>c.includes(d.TABLE_SCHEMA)?c:[...c,d.TABLE_SCHEMA],[]);return l.length?Object.fromEntries(l.map(c=>[c,{name:c,tables:Object.fromEntries(a.filter(d=>d.schema===c&&d.type==="table").map(d=>[d.name,d])),views:Object.fromEntries(a.filter(d=>d.schema===c&&d.type==="view").map(d=>[d.name,d])),enums:{}}])):{public:{name:"public",tables:{},views:{},enums:{}}}},TB=async(t,{table:e}={})=>{const r=qs(`
        SELECT
          tc.CONSTRAINT_TYPE AS constraint_type,
          tc.CONSTRAINT_SCHEMA AS constraint_schema,
          tc.CONSTRAINT_NAME AS constraint_name,
          tc.TABLE_NAME AS table_name,
          kcu.COLUMN_NAME AS column_name
        FROM 
          information_schema.table_constraints AS tc
        LEFT JOIN information_schema.key_column_usage AS kcu
          USING(CONSTRAINT_NAME,TABLE_SCHEMA,TABLE_NAME)
        WHERE
          tc.TABLE_SCHEMA = (SELECT DATABASE())
          AND tc.CONSTRAINT_TYPE = 'UNIQUE'
          ${e?`AND tc.TABLE_NAME = '${e}'`:""}
      `,{language:"mysql"});return(await t(r).then(i=>(Me.setState(o=>{o.databaseMetadata.push({id:"constraints",sql:r,rows:i})}),i)).catch(i=>{throw Me.setState(o=>{o.databaseMetadata.push({id:"constraints",sql:r,error:i})}),i})).reduce((i,o)=>{if(i[o.constraint_schema]||(i[o.constraint_schema]={}),i[o.constraint_schema][o.table_name]||(i[o.constraint_schema][o.table_name]={}),i[o.constraint_schema][o.table_name][o.constraint_name]){const a=i[o.constraint_schema][o.table_name][o.constraint_name];a.type==="primary"&&a.columns.push(o.column_name)}else{const a=`${o.constraint_schema}.${o.table_name}.${o.constraint_name}`;i[o.constraint_schema][o.table_name][o.constraint_name]={id:a,type:"primary",schema:o.constraint_schema,table:o.table_name,name:o.constraint_name,columns:[o.column_name]}}return i},{})},f1e=Object.freeze(Object.defineProperty({__proto__:null,pull:h1e,pullConstraints:TB,pullIndexes:async(t,{table:e}={})=>(await t(`
  
          SELECT
            TABLE_SCHEMA AS schema_name,
            TABLE_NAME AS table_name,
            COLUMN_NAME AS column_name,
            INDEX_NAME AS index_name,
            INDEX_TYPE AS method,
            NON_UNIQUE AS non_unique
          FROM INFORMATION_SCHEMA.STATISTICS
            WHERE
            INFORMATION_SCHEMA.STATISTICS.TABLE_SCHEMA = (SELECT DATABASE())
            ${e?`AND INFORMATION_SCHEMA.STATISTICS.TABLE_NAME = '${e}'`:""}
            AND INFORMATION_SCHEMA.STATISTICS.INDEX_NAME != 'PRIMARY';
        `)).reduce((s,i)=>{const o=`${i.schema_name}.${i.table_name}.${i.index_name}`;return s[i.schema_name]||(s[i.schema_name]={}),s[i.schema_name][i.table_name]||(s[i.schema_name][i.table_name]={}),s[i.schema_name][i.table_name][i.index_name]?s[i.schema_name][i.table_name][i.index_name].columns.push(i.column_name):s[i.schema_name][i.table_name][i.index_name]={id:o,schema:i.schema_name,table:i.table_name,name:i.index_name,method:i.method,columns:[i.column_name],isUnique:!i.non_unique},s},{})},Symbol.toStringTag,{value:"Module"}));function m1e(t){return["int","integer","integer auto_increment","tinyint","smallint","mediumint","bigint","unsigned big int","int2","int8"].includes(t.toLowerCase())?"integer":["character","varchar","vatying character","nchar","native character","nvarchar","text","clob"].some(e=>e.startsWith(t.toLowerCase()))?"text":t.toLowerCase()==="blob"?"blob":["real","double","double precision","float"].includes(t.toLowerCase())?"real":"numeric"}function p1e(t){const e={},r=t.split(/,\s*(?![^()]*\))/);for(const n of r)if(n.includes("GENERATED ALWAYS AS")){const s=n.trim().split(/\s+/),i=s[0].replace(/[`'"]/g,""),o=n.match(/\(([^()]*|\([^()]*\))*\)/),a=o?o[0]:"",l=s.findIndex(d=>d.match(/(stored|virtual)/i));let c="virtual";l!==-1&&(c=s[l].replace(/[^a-z]/gi,"").toLowerCase()),e[i]={columnName:i,expression:a,type:c}}return e}const Zh=t=>t.replace(/^['"`\[]/,"").replace(/['"`\]]$/,"");function Tv(t){return`${t} NOT LIKE '\\_cf\\_%' ESCAPE '\\'
			AND ${t} NOT LIKE '\\_litestream\\_%' ESCAPE '\\'
			AND ${t} NOT LIKE 'libsql\\_%' ESCAPE '\\'
			AND ${t} NOT LIKE 'sqlite\\_%' ESCAPE '\\'`}const E1e=async(t,{table:e,customDefaults:r}={})=>{Me.setState({databaseMetadata:[]});const n=qs(`
      SELECT
        m.type,
        m.name,
        m.sql
      FROM sqlite_master AS m
      WHERE (m.type = 'table' or m.type = 'view')
        AND ${Tv("m.tbl_name")}
        ${e?`AND m.tbl_name = '${e}'`:""}
      ORDER BY m.name COLLATE NOCASE;
    `,{language:"sqlite"}),s=qs(`
      SELECT
        m.tbl_name as table_name,
        il.name as index_name,
        ii.name as column_name,
        il.[unique] as is_unique,
        il.origin as origin
      FROM sqlite_master AS m,
        pragma_index_list(m.name) AS il,
        pragma_index_info(il.name) AS ii
      WHERE
        m.type = 'table'
        AND ${Tv("m.tbl_name")}
      ${e?`AND m.name = '${e}'`:""};
    `,{language:"sqlite"}),i=qs(`
      SELECT 
        name
      FROM sqlite_master
      WHERE
        sql GLOB '*[ *' || CHAR(9) || CHAR(10) || CHAR(13) || ']AUTOINCREMENT[^'']*'
        AND ${Tv("tbl_name")}
        ${e?`AND tbl_name = '${e}'`:""};
    `,{language:"sqlite"}),[o,a,l,c]=await Promise.all([t(n).then(f=>(Me.setState(p=>{p.databaseMetadata.push({id:"entities",sql:n,rows:f})}),f)).catch(f=>{throw Me.setState(p=>{p.databaseMetadata.push({id:"entities",sql:n,error:f})}),f}),SB(t,{table:e}),t(s).then(f=>(Me.setState(p=>{p.databaseMetadata.push({id:"indexes",sql:s,rows:f})}),f)).catch(f=>{throw Me.setState(p=>{p.databaseMetadata.push({id:"indexes",sql:s,error:f})}),f}),t(i).then(f=>(Me.setState(p=>{p.databaseMetadata.push({id:"sequences",sql:i,rows:f})}),f)).catch(f=>{throw Me.setState(p=>{p.databaseMetadata.push({id:"sequences",sql:i,error:f})}),f})]),d=l.reduce((f,p)=>{const E=`public.${p.table_name}.${p.index_name}`;return f[p.table_name]||(f[p.table_name]={}),f[p.table_name][p.index_name]?f[p.table_name][p.index_name].columns.push(p.column_name):f[p.table_name][p.index_name]={id:E,schema:"public",table:p.table_name,name:p.index_name,columns:[p.column_name],isUnique:p.is_unique===1,origin:p.origin},f},{});let h={};const m=o.map(f=>{const p=a.columns.filter(B=>B.entityName===f.name),E=c.some(B=>B.name===f.name),g=p.filter(B=>B.pk!==0),T=d[f.name]||{},S=g.length>1?Object.fromEntries(g.map(B=>{const X=g.map(Z=>Z.columnName),J=`${B.entityName}_${X.join("_")}_pk`;return[J,{name:J,columns:X}]})):{},v=p.map(B=>{const X=B.entityName,J=B.columnName,Z=B.notNull===1,Ee=B.columnType,se=B.pk!==0,Te=se&&g.length===1?null:Object.values(T).filter(H=>H.origin==="u"&&H.isUnique&&H.columns.length===1&&H.table===f.name&&H.columns.includes(J))[0]||null,ve=B.defaultValue;(B.hidden===2||B.hidden===3)&&typeof h[B.entityName]>"u"&&(h[B.entityName]=p1e(f.sql));const _e=h[X]&&h[X][J]?{type:h[X][J].type,as:h[X][J].expression}:void 0,fe=ve===null?void 0:ve.startsWith("'")&&ve.endsWith("'")?ve.substring(1,ve.length-1):ve,je=/^-?[\d.]+(?:e-?\d+)?$/.test(ve)||["CURRENT_TIME","CURRENT_DATE","CURRENT_TIMESTAMP"].includes(ve)||ve==="false"||ve==="true";return{id:`public.${X}.${J}`,schema:"public",table:X,isUnique:!!Te,defaultValue:fe,isDefaultAnExpression:je,hasDefaultValue:typeof fe<"u"||(r==null?void 0:r.some(H=>H.schema==="public"&&H.table===X&&H.column===J)),generatedParams:_e,name:J,type:m1e(Ee),isPrimary:se,isAutoIncrement:E&&se,isNotNull:Z}}),N={},C=/CONSTRAINT\s*["'`\[]?(\w+)["'`\]]?\s*PRIMARY\sKEY\s*\((.*?)\)/gi,x=new RegExp("(?<!CONSTRAINT\\s*[\"'`\\[]?(\\w+)[\"'`\\]]?\\s*)PRIMARY\\sKEY\\s*\\((.*?)\\)","gi");Array.from(f.sql.matchAll(C)).forEach(B=>{const X=B[1],J=B[2].split(",").map(Z=>Zh(Z.trim()));N[X]={id:`public.${f.name}.${X}`,name:X,type:"primary",schema:"public",table:f.name,columns:J}}),Array.from(f.sql.matchAll(x)).forEach(B=>{const X=B[2].split(",").map(Z=>Zh(Z.trim())),J=`${f.name}_${X.join("_")}_pk`;N[J]={id:`public.${f.name}.${J}`,name:J,type:"primary",schema:"public",table:f.name,columns:X}});const _=(B,X)=>`${B}_${X.join("_")}_unique`;for(const B of Object.values(d[f.name]||{}).filter(X=>X.isUnique)){if(B.columns.length===1)continue;if(!B.origin)throw new Error(`Index with unexpected origin: ${B.origin}`);const J=_(f.name,B.columns);N[J]={id:`public.${f.name}.${J}`,name:J,type:"unique",schema:"public",table:f.name,columns:B.columns,origin:B.origin==="u"||B.origin==="pk"?"auto":B.origin==="c"?"manual":void 0}}const U=/CONSTRAINT\s*["'`\[]?(\w+)["'`\]]?\s*FOREIGN\sKEY\s*\((.*?)\)\s*REFERENCES\s*["'`\[]?(\w+)["'`\]]?\s*\((.*?)\)\s*(ON\s*UPDATE\s*(.*))?\s*(ON\s*DELETE\s*(.*))?/gi,j=new RegExp("(?<!CONSTRAINT\\s*[\"'`\\[]?(\\w+)[\"'`\\]]?\\s*)FOREIGN\\sKEY\\s*\\((.*?)\\)\\s*REFERENCES\\s*[\"'`\\[]?(\\w+)[\"'`\\]]?\\s*\\((.*?)\\)\\s*(ON\\s*UPDATE\\s*(.*))?\\s*(ON\\s*DELETE\\s*(.*))?","gi");Array.from(f.sql.matchAll(U)).forEach(B=>{const X=B[1],J=B[2].split(",").map(se=>Zh(se.trim())),Z=B[3],Ee=B[4].split(",").map(se=>Zh(se.trim()));N[X]={id:`public.${f.name}.${X}`,name:X,type:"foreign",schema:"public",table:f.name,columns:J,refSchema:"public",refTable:Z,refColumns:Ee,updateRule:"NO ACTION",deleteRule:"NO ACTION"}}),Array.from(f.sql.matchAll(j)).forEach(B=>{const X=B[2].split(",").map(se=>Zh(se.trim())),J=B[3],Z=B[4].split(",").map(se=>Zh(se.trim())),Ee=`${f.name}_${X.join("_")}_${J}_${Z.join("_")}_fk`;N[Ee]={id:`public.${f.name}.${Ee}`,name:Ee,type:"foreign",schema:"public",table:f.name,columns:X,refSchema:"public",refTable:J,refColumns:Z,updateRule:"NO ACTION",deleteRule:"NO ACTION"}});const I=/CONSTRAINT\s*["'`\[]?(\w+)["'`\]]?\s*CHECK\s*\((.*?)\)/gi,F=new RegExp("(?<!CONSTRAINT\\s*[\"'`\\[]?(\\w+)[\"'`\\]]?\\s*)CHECK\\s*\\((.*?)\\)","gi");Array.from(f.sql.matchAll(I)).forEach(B=>{const X=B[1],J=B[2];N[X]={id:`public.${f.name}.${X}`,name:X,type:"check",schema:"public",table:f.name,expression:J}});const Y=Array.from(f.sql.matchAll(F));let k=1;Y.forEach(B=>{const X=B[2],J=`${f.name}_check_${k++}`;N[J]={id:`public.${f.name}.${J}`,name:J,type:"check",schema:"public",table:f.name,expression:X}});const V=a.errors.find(B=>B.entity===f.name),re=Object.fromEntries(Object.entries(T).map(([B,X])=>{const J=X.origin==="u"||X.origin==="pk"?"auto":X.origin==="c"?"manual":null;if(!J)throw new Error(`Index with unexpected origin: ${X.origin}`);return[B,{...X,origin:J}]}));return{id:`public.${f.name}`,name:f.name,type:f.type,indexes:re,schema:"public",columns:Object.fromEntries(v.map(B=>[B.name,B])),foreignKeys:{},constraints:N,compositePrimaryKeys:S,uniqueConstraints:{},sqliteRowidAlias:f.type==="table"?D8(v):void 0,definition:f.sql,pullError:V?{type:V.type,error:V.error}:void 0}});return{public:{name:"public",tables:Object.fromEntries(m.filter(f=>f.type==="table").map(f=>[f.name,f])),views:Object.fromEntries(m.filter(f=>f.type==="view").map(f=>[f.name,f])),enums:{}}}},g1e=async(t,{table:e}={})=>({}),T1e=async(t,{table:e}={})=>({}),SB=async(t,{table:e}={})=>{const r=(h,m)=>qs(`
      SELECT
        m.type as "entityType",
        m.name as "entityName",
        p.name as "columnName",
        p.type as "columnType",
        p."notnull" as "notNull",
        p.dflt_value as "defaultValue",
        p.pk as pk,
        p.hidden
      FROM sqlite_master AS m
      JOIN pragma_table_xinfo(m.name) AS p
      WHERE ${h==="both"?"m.type IN ('table', 'view')":`m.type = '${h}'`}
        AND ${Tv("m.tbl_name")}
        ${m?`AND m.tbl_name = '${m}'`:""}
      ORDER BY m.name, p.cid;
    `,{language:"sqlite"}),n=r("both",e);try{const h=await t(n);return Me.setState(m=>{m.databaseMetadata.push({id:"all-columns",sql:n,rows:h})}),{columns:h,errors:[]}}catch(h){Me.setState(m=>{m.databaseMetadata.push({id:"all-columns",sql:n,error:h})})}let s=[];const i=r("table",e);try{s=await t(i),Me.setState(h=>{h.databaseMetadata.push({id:"table-columns",sql:i,rows:s})})}catch(h){throw Me.setState(m=>{m.databaseMetadata.push({id:"table-columns",sql:i,error:h})}),h}let o=[];const a=[],l=r("view",e);try{return o=await t(l),Me.setState(h=>{h.databaseMetadata.push({id:"view-columns",sql:l,rows:o})}),{columns:[...s,...o],errors:a}}catch(h){Me.setState(m=>{m.databaseMetadata.push({id:"view-columns",sql:l,error:h})})}const c=qs(`
        SELECT
          m.type,
          m.name
        FROM sqlite_master AS m
        WHERE m.type = 'view'
        ${e?`AND name = '${e}'`:""};
      `,{language:"sqlite"}),d=h=>qs(`
              SELECT
                p.name as "columnName",
                p.type as "columnType",
                p."notnull" as "notNull",
                p.dflt_value as "defaultValue",
                p.pk as pk,
                p.hidden
              FROM pragma_table_xinfo('${h}') AS p
              ORDER BY p.cid;
            `,{language:"sqlite"});try{const h=await t(c);Me.setState(m=>{m.databaseMetadata.push({id:"views",sql:c,rows:h})});for(const m of h){const f=d(m.name);try{const p=await t(f);Me.setState(E=>{E.databaseMetadata.push({id:`${m.name}-view-columns`,sql:f,rows:p})}),o.push(...p.map(E=>({entityType:m.type,entityName:m.name,...E})))}catch(p){Me.setState(E=>{E.databaseMetadata.push({id:`${m.name}-view-columns`,sql:f,error:p})}),a.push({entity:m.name,type:"view",error:p})}}}catch(h){throw Me.setState(m=>{m.databaseMetadata.push({id:"views",sql:c,error:h})}),h}return{columns:[...s,...o],errors:a}},S1e=Object.freeze(Object.defineProperty({__proto__:null,getColumnsFromDatabase:SB,pull:E1e,pullConstraints:g1e,pullIndexes:T1e},Symbol.toStringTag,{value:"Module"})),Sv=t=>{if(t==="mysql")return s1e;if(t==="singlestore")return f1e;if(t==="postgresql")return u1e;if(t==="sqlite")return S1e;throw new Error(`Dialect ${t} is not supported`)},kl=(t,e,r,n,s)=>{const{dbTableToDrizzleTable:i}=b4(t,r[n]),o=r[n].tables[s]||r[n].views[s],a=i(o);return $t([n,s],a,e)},aw=(t,e)=>Ua(r=>{const{dbTableToDrizzleTable:n}=b4(t,r),s=Ua(o=>n(o),r.tables),i=Ua(o=>n(o),r.views);return{...s,...i}},e),it=KC()((t,e)=>({dialect:null,driver:null,hash:null,excludeSchemas:[],excludeTables:[],escapeParam:null,customDefaults:null,fillDataWithCustomDefaults:null,query:null,transaction:null,isPulling:!1,schemas:{},drizzleSchemas:{},isInitialized:!1,actions:{initialize:(r,n,s,i,o)=>{const{actions:{pull:a}}=e();return t({isInitialized:!1}),t({dialect:r,driver:(o==null?void 0:o.driver)||null,hash:n,excludeSchemas:(o==null?void 0:o.excludeSchemas)||[],excludeTables:(o==null?void 0:o.excludeTables)||[],escapeParam:(o==null?void 0:o.escapeParam)||null,customDefaults:(o==null?void 0:o.customDefaults)||null,fillDataWithCustomDefaults:(o==null?void 0:o.fillDataWithCustomDefaults)||null,query:async(l,c,d)=>{try{return await s(l,c,d)}catch(h){throw h instanceof cd&&(ld.getState().error instanceof cd||ld.getState().showBoundary(h)),h}},transaction:async(l,c)=>{try{return await i(l,c)}catch(d){throw d instanceof cd&&(ld.getState().error instanceof cd||ld.getState().showBoundary(d)),d}}}),o!=null&&o.withoutPull?(t({isInitialized:!0}),Promise.resolve()):a({callback:o==null?void 0:o.pullCallback}).finally(()=>{t({isInitialized:!0})})},pull:async r=>{var E;const{dialect:n,query:s,excludeSchemas:i,excludeTables:o,customDefaults:a,actions:{pullCounts:l,pullIndexes:c,pullConstraints:d}}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");t({isPulling:!0});const{pull:h}=Sv(n);let m={};try{m=await h(s,{table:r==null?void 0:r.table,schema:r==null?void 0:r.schema,excludeSchemas:i,excludeTables:o,customDefaults:a||void 0}),(E=r==null?void 0:r.callback)==null||E.call(r,m)}catch(g){ld.getState().showBoundary(g)}const f=r==null?void 0:r.schema,p=r==null?void 0:r.table;if(f||p)t(g=>{const T=dve(g.schemas,m),S=aw(n,T);return{schemas:T,drizzleSchemas:S,isPulling:!1}});else{const g=aw(n,m);t({schemas:m,drizzleSchemas:g,isPulling:!1})}d({schema:f,table:p,types:["FOREIGN KEY","CHECK"]}),c({schema:f,table:p}),ht.getState().showCounts&&l({schema:f,table:p})},pullConstraints:async({schema:r,table:n,types:s})=>{var m,f;const{dialect:i,query:o,schemas:a,excludeSchemas:l,excludeTables:c}=e();if(!i)throw new Error("Dialect is not initialized");if(!o)throw new Error("Query function is not initialized");const{pullConstraints:d}=Sv(i);if(r&&n){if(l.includes(r)||c.some(g=>g.schema===r&&g.name===n)||!((m=a[r])!=null&&m.tables[n]))return;const E=((f=(await d(o,{schema:r,table:n,types:s,excludeSchemas:l,excludeTables:c}))[r])==null?void 0:f[n])||{};t(g=>{const T=[r,"tables",n];return ka(T,g.schemas)?{schemas:$t([...T,"constraints"],E,g.schemas)}:g});return}const h=await d(o,{types:s,excludeSchemas:l,excludeTables:c});Object.values(a).forEach(p=>{Object.values(p.tables).forEach(E=>{var T;const g=(T=h[E.schema])==null?void 0:T[E.name];g&&t(S=>{const v=[p.name,"tables",E.name];return ka(v,S.schemas)?{schemas:$t([...v,"constraints"],g,S.schemas)}:S})})})},pullForeignKeys:async r=>{var m;const{dialect:n,query:s,schemas:i,excludeSchemas:o,excludeTables:a}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{pullConstraints:l}=Sv(n),c=r==null?void 0:r.schema,d=r==null?void 0:r.table;if(c&&d){if(o.includes(c)||a.some(f=>f.schema===c&&f.name===d)||!((m=i[c])!=null&&m.tables[d]))return;l(s,{schema:c,table:d,types:["FOREIGN KEY"],excludeSchemas:o,excludeTables:a}).then(f=>{var E;const p=(E=f[c])==null?void 0:E[d];p&&t(g=>{const T=[c,"tables",d];return ka(T,g.schemas)?{schemas:$t([...T,"constraints"],lj([xi([...T,"constraints"],g.schemas),p]),g.schemas)}:g})});return}const h=await l(s,{types:["FOREIGN KEY"],excludeSchemas:o,excludeTables:a});Object.values(i).forEach(f=>{Object.values(f.tables).forEach(p=>{var g;const E=(g=h[p.schema])==null?void 0:g[p.name];E&&t(T=>{const S=[f.name,"tables",p.name];return ka(S,T.schemas)?{schemas:$t([...S,"constraints"],lj([xi([...S,"constraints"],T.schemas),E]),T.schemas)}:T})})})},pullIndexes:async r=>{var m;const{dialect:n,query:s,schemas:i,excludeSchemas:o,excludeTables:a}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{pullIndexes:l}=Sv(n),c=r==null?void 0:r.schema,d=r==null?void 0:r.table;if(c&&d){if(o.includes(c)||a.some(f=>f.schema===c&&f.name===d)||!((m=i[c])!=null&&m.tables[d]))return;l(s,{schema:c,table:d,excludeSchemas:o,excludeTables:a}).then(f=>{var E;const p=(E=f[c])==null?void 0:E[d];p&&t(g=>{const T=[c,"tables",d];return ka(T,g.schemas)?{schemas:$t([...T,"indexes"],p,g.schemas)}:g})});return}const h=await l(s,{excludeSchemas:o,excludeTables:a});Object.values(i).forEach(f=>{Object.values(f.tables).forEach(p=>{var g;const E=(g=h[p.schema])==null?void 0:g[p.name];E&&t(T=>{const S=[f.name,"tables",p.name];return ka(S,T.schemas)?{schemas:$t([...S,"indexes"],E,T.schemas)}:T})})})},pullCounts:async r=>{var T;const{dialect:n,query:s,schemas:i,driver:o,excludeSchemas:a,excludeTables:l}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const c=Object.values(i).filter(S=>!a.includes(S.name)).flatMap(S=>[...Object.values(S.tables),...Object.values(S.views)]).filter(S=>!l.some(v=>v.schema===S.schema&&v.name===S.name));if(c.length===0)return;const{prepareSelectCountStatement:d,prepareUnionSelectCountStatement:h}=cr(n),m=r==null?void 0:r.schema,f=r==null?void 0:r.table;if(m&&f){if(a.includes(m)||l.some(v=>v.schema===m&&v.name===f)||!((T=i[m])!=null&&T.tables[f]))return;const S=d({schema:m,table:f});s(S,[],{method:"all"}).then(v=>{t(N=>{const C=ka([m,"tables",f],N.schemas)?"tables":ka([m,"views",f],N.schemas)?"views":null;if(!C)return N;const x=[m,C,f];return ka(x,N.schemas)?{schemas:$t([...x,"rowsCount"],Number(v[0].count),N.schemas)}:N})});return}const p=h0e(3),E=c.filter(S=>!S.pullError),g=o==="d1-http"?5:50;for(let S=0;S<E.length;S+=g){const v=E.slice(S,S+g),N=h(v.map(C=>({schema:C.schema,table:C.name})));(async()=>{const C=await p(()=>s(N,[],{method:"all"}));E.forEach(x=>{t(A=>{const b=Ws(j=>n==="postgresql"?j.schema===x.schema&&j.table===x.name:j.table===x.name,C);if(b.length===0)return A;const _=[x.schema,x.type==="table"?"tables":"views",x.name];return ka(_,A.schemas)?{schemas:$t([..._,"rowsCount"],Number(b[0].count),A.schemas)}:A})})})()}},removeCounts:r=>{const{schemas:n}=e(),s=r==null?void 0:r.schema,i=r==null?void 0:r.table;Object.values(n).forEach(o=>{s&&o.name!==s||Object.values(o.tables).forEach(a=>{i&&a.name!==i||t(l=>({schemas:zi([o.name,"tables",a.name,"rowsCount"],l.schemas)}))})})},prepareCreateSchema:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareCreateSchemaStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>({schemas:Pp(r.name,{name:r.name,tables:{},views:{},enums:{}},l.schemas)}))}}},prepareDropSchema:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareDropSchemaStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>{const c=ev(r.name,l.schemas),d=ev(r.name,l.drizzleSchemas),{currentTable:h,currentSchemaName:m,actions:{setCurrentTable:f,setCurrentSchemaName:p}}=Me.getState();return(h==null?void 0:h.schema)===r.name&&f(null),m===r.name&&p(Object.keys(c)[0]||null),{schemas:c,drizzleSchemas:d}})}}},prepareCreateEnum:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareCreateEnumStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>({schemas:$t([r.schema,"enums",r.name],{id:`${r.schema}.${r.name}`,schema:r.schema,name:r.name,values:r.values},l.schemas)}))}}},prepareRenameEnum:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareRenameEnumStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>({schemas:$t([r.schema,"enums",r.newName],xi([r.schema,"enums",r.oldName],l.schemas),zi([r.schema,"enums",r.oldName],l.schemas))}))}}},prepareDropEnum:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareDropEnumStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>({schemas:zi([r.schema,"enums",r.name],l.schemas)}))}}},prepareCreateTable:async r=>{const{schemas:n,dialect:s,query:i,actions:{pull:o}}=e();if(!s)throw new Error("Dialect is not initialized");if(!i)throw new Error("Query function is not initialized");const{sqlStatements:a}=await Q0e(s,n,r);return{statements:a,execute:async(l,c)=>{let d=0;for(const h of a){try{await i(h,[],{method:"execute"}),l==null||l(d)}catch(m){c==null||c(d,m);break}d++}o()}}},prepareRenameTable:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareRenameTableStatement:i}=cr(n),o=i(r),a=(c,d,h)=>{const m=f=>Array.isArray(f)?f.map(p=>p===d?h:p):typeof f=="string"&&f===d?h:typeof f=="object"&&f!==null?Ua(m,f):f;return m(c)};return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(c=>{const d=$t([r.schema,"tables",r.newName],xi([r.schema,"tables",r.oldName],c.schemas),zi([r.schema,"tables",r.oldName],c.schemas)),h=a(xi([r.schema],d),r.oldName,r.newName),m=$t([r.schema],h,d),f=kl(n,c.drizzleSchemas,m,r.schema,r.newName),p=`${r.schema}.${r.oldName}`,{currentTable:E,actions:{setCurrentTable:g}}=Me.getState();return(E==null?void 0:E.id)===p&&g({...E,id:`${r.schema}.${r.newName}`,name:r.newName}),{schemas:m,drizzleSchemas:f}})}}},prepareRenameSchema:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareRenameSchemaStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>{const c=Pp(r.newName,{name:r.newName,tables:Ua(E=>({...E,schema:r.newName}),xi([r.oldName],l.schemas).tables),views:Ua(E=>({...E,schema:r.newName}),xi([r.oldName],l.schemas).views),enums:xi([r.oldName],l.schemas).enums},ev(r.oldName,l.schemas)),d=aw(n,c),{currentTable:h,currentSchemaName:m,actions:{setCurrentSchemaName:f,setCurrentTable:p}}=Me.getState();return m===r.oldName&&f(r.newName),h!=null&&h.id.startsWith(r.oldName)&&p({...h,id:`${r.newName}${h.name}`,schema:r.newName}),{schemas:c,drizzleSchemas:d}})}}},prepareCreateView:r=>{const{dialect:n,query:s,actions:{pull:i}}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareCreateViewStatement:o}=cr(n),a=o(r);return{statement:a,execute:async()=>{await s(a,[],{method:"execute"}),await i({schema:r.schema,table:r.name})}}},prepareRenameView:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareRenameViewStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>{const c=$t([r.schema,"views",r.newName],{...xi([r.schema,"views",r.oldName],l.schemas),name:r.newName},zi([r.schema,"views",r.oldName],l.schemas)),d=kl(n,l.drizzleSchemas,c,r.schema,r.newName),h=`${r.schema}.${r.oldName}`,{currentTable:m,actions:{setCurrentTable:f}}=Me.getState();return(m==null?void 0:m.id)===h&&f({...m,id:`${r.schema}.${r.newName}`,name:r.newName}),{schemas:c,drizzleSchemas:d}})}}},prepareTruncateTable:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareTruncateTableStatement:i}=cr(n),o=[],a=[];return r.forEach(({schema:l,name:c,cascade:d})=>{const h=i({schema:l,name:c,cascade:d}),m=async()=>{const{currentTable:f,actions:{setCurrentTable:p}}=Me.getState();await s(h,[],{method:"execute"}),t(E=>typeof xi([l,"tables",c,"rowsCount"],E.schemas)=="number"?{schemas:$t([l,"tables",c,"rowsCount"],0,E.schemas)}:E),(f==null?void 0:f.id)===`${l}.${c}`&&p({...f,records:[]})};o.push(h),a.push(m)}),{statements:o,execute:async(l,c)=>{let d=0;for(const h of a){try{await h(),l==null||l(d)}catch(m){c==null||c(d,m)}d++}}}},prepareDropEntities:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareDropTableStatement:i,prepareDropViewStatement:o}=cr(n),a=[],l=[];return r.forEach(c=>{const{schema:d,name:h,type:m}=c,f=m==="table"?i(c):o(c),p=async()=>{await s(f,[],{method:"execute"}),t(S=>{const v=zi([d,m==="table"?"tables":"views",h],S.schemas),N=zi([d,h],S.drizzleSchemas);return{schemas:v,drizzleSchemas:N}});const E=`${d}.${h}`,{currentTable:g,actions:{setCurrentTable:T}}=Me.getState();(g==null?void 0:g.id)===E&&T(null)};a.push(f),l.push(p)}),{statements:a,execute:async(c,d)=>{let h=0;for(const m of l){try{await m(),c==null||c(h)}catch(f){d==null||d(h,f)}h++}}}},prepareInsert:async r=>{const{dialect:n,query:s,drizzleSchemas:i,fillDataWithCustomDefaults:o}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const a=i[r.schema];if(!a)throw new Error("Schema not found");const l=a[r.table];if(!l)throw new Error("Entity not found");const c=o?await o(r.schema,r.table,r.data):r.data,{prepareInsertStatement:d}=cr(n),h=d(l)({schema:r.schema,table:r.table,data:c});return{statement:h,execute:async()=>{await s(h,[],{method:"execute"}),t(f=>{const p=xi([r.schema,"tables",r.table,"rowsCount"],f.schemas);return typeof p=="number"?{schemas:$t([r.schema,"tables",r.table,"rowsCount"],p+1,f.schemas)}:f})}}},prepareUpdate:r=>{const{dialect:n,query:s,drizzleSchemas:i}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const o=i[r.schema];if(!o)throw new Error("Schema not found");const a=o[r.table];if(!a)throw new Error("Entity not found");const{prepareUpdateStatement:l}=cr(n),c=l(a)(r);return{statement:c,execute:async()=>{await s(c,[],{method:"execute"})}}},prepareSelect:(r,n)=>{const{dialect:s,query:i,drizzleSchemas:o,driver:a}=e();if(!s)throw new Error("Dialect is not initialized");if(!i)throw new Error("Query function is not initialized");const{prepareSelectStatement:l}=cr(s);return l(o,i,a)(r,n)},prepareDelete:r=>{const{dialect:n,query:s,drizzleSchemas:i,actions:{pullCounts:o}}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const a=i[r.schema];if(!a)throw new Error("Schema not found");const l=a[r.table];if(!l)throw new Error("Entity not found");const{prepareDeleteStatement:c}=cr(n),d=c(l)(r);return{statement:d,execute:async()=>{await s(d,[],{method:"execute"}),o({schema:r.schema,table:r.table})}}},prepareAddColumn:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareAddColumnStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>{const c=$t([r.schema,"tables",r.table,"columns",r.name],{...r,id:`${r.schema}.${r.table}.${r.name}`,schema:r.schema,table:r.table,isPrimary:!!r.isPrimary,isUnique:!!r.isUnique,isNotNull:!!r.isNotNull,hasDefaultValue:typeof r.defaultValue<"u"||n==="postgresql"&&(r.type==="serial"||r.type==="bigserial"||r.type==="smallserial")},l.schemas),d=kl(n,l.drizzleSchemas,c,r.schema,r.table);return{schemas:c,drizzleSchemas:d}})}}},prepareAlterColumnType:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareAlterColumnTypeStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>{let c=$t([r.schema,"tables",r.table,"columns",r.name,"type"],r.type,l.schemas);n==="postgresql"&&(r.type==="serial"||r.type==="bigserial"||r.type==="smallserial")&&(c=$t([r.schema,"tables",r.table,"columns",r.name,"hasDefaultValue"],!0,c));const d=kl(n,l.drizzleSchemas,c,r.schema,r.table);return{schemas:c,drizzleSchemas:d}})}}},prepareAlterColumnDefault:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareAlterColumnDefaultStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>{const c=$t([r.schema,"tables",r.table,"columns",r.name],{...xi([r.schema,"tables",r.table,"columns",r.name],l.schemas),defaultValue:r.defaultValue,hasDefaultValue:!0,isDefaultAnExpression:r.isDefaultAnExpression},l.schemas),d=kl(n,l.drizzleSchemas,c,r.schema,r.table);return{schemas:c,drizzleSchemas:d}})}}},prepareAlterColumnIdentity:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareAlterColumnIdentityStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>({schemas:$t([r.schema,"tables",r.table,"columns",r.name],{...xi([r.schema,"tables",r.table,"columns",r.name],l.schemas),identityParams:r.identityParams},l.schemas)}))}}},prepareSchemaChanges(r,n){const{schemas:s,actions:{prepareRenameSchema:i,pull:o}}=e(),a=[],l=[];if(!s[r])throw new Error("Schema not found");if(n.name!==r){const d=i({oldName:r,newName:n.name});a.push(d.statement),l.push(d.execute)}return{statements:a,execute:async(d,h)=>{let m=0;for(const f of l){try{await f(),d==null||d(m)}catch(p){h==null||h(m,p);break}m++}o()}}},prepareTableChanges:async(r,n,s)=>{const{dialect:i,schemas:o,query:a,transaction:l,actions:{pull:c}}=e();if(!i)throw new Error("Dialect is not initialized");if(!a)throw new Error("Query function is not initialized");const d=o[r];if(!d)throw new Error("Schema not found");const h=d.tables[n];if(!h)throw new Error("Table not found");const f=(await X0e(i,o,h,s)).groupedStatements.map(({sqlStatements:p})=>p.length===1?{type:"statement",value:p[0]}:{type:"transaction",statements:p});return{statements:f,execute:async p=>{for(const E of f)try{if(E.type==="statement")await a(E.value,[],{method:"execute"}),p==null||p({type:"statement",value:E.value});else{if(!l)throw new Error("Transaction function is not initialized");const g=await l(E.statements.map(S=>({sql:S,options:{method:"execute"}})));if(p==null||p({type:"transaction",statements:E.statements.map((S,v)=>({value:S,...g[v]instanceof Error&&{error:g[v]}})),error:g.find(S=>S instanceof Error)}),g.some(S=>S instanceof Error))break}}catch(g){E.type==="statement"?p==null||p({type:"statement",value:E.value,error:g}):p==null||p({type:"transaction",statements:E.statements.map(T=>({value:T})),error:g});break}c()}}},prepareViewChanges(r,n,s){const{schemas:i,actions:{prepareRenameView:o,pull:a}}=e(),l=[],c=[],d=i[r];if(!d)throw new Error("Schema not found");if(!d.views[n])throw new Error("View not found");if(s.name!==n){const m=o({schema:s.schema,oldName:n,newName:s.name});l.push(m.statement),c.push(m.execute)}return{statements:l,execute:async(m,f)=>{let p=0;for(const E of c){try{await E(),m==null||m(p)}catch(g){f==null||f(p,g);break}p++}a()}}},prepareAlterColumnUnique:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareAlterColumnUniqueStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>{let c=$t([r.schema,"tables",r.table,"columns",r.name,"isUnique"],r.isUnique,l.schemas);const d=kl(n,l.drizzleSchemas,c,r.schema,r.table);return{schemas:c,drizzleSchemas:d}})}}},prepareAlterColumnNotNull:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareAlterColumnNotNullStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>{const c=$t([r.schema,"tables",r.table,"columns",r.name,"isNotNull"],r.isNotNull,l.schemas),d=kl(n,l.drizzleSchemas,c,r.schema,r.table);return{schemas:c,drizzleSchemas:d}})}}},prepareRenameColumn:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareRenameColumnStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>{const c=$t([r.schema,"tables",r.table,"columns",r.newName],{...xi([r.schema,"tables",r.table,"columns",r.oldName],l.schemas),name:r.newName},zi([r.schema,"tables",r.table,"columns",r.oldName],l.schemas)),d=kl(n,l.drizzleSchemas,c,r.schema,r.table);return{schemas:c,drizzleSchemas:d}})}}},prepareDropColumn:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareDropColumnStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>{const c=zi([r.schema,"tables",r.table,"columns",r.name],l.schemas),d=kl(n,l.drizzleSchemas,c,r.schema,r.table);return{schemas:c,drizzleSchemas:d}})}}},prepareAddConstraint:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareAddConstraintStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>({schemas:$t([r.schema,"tables",r.table,"constraints",r.name],r,l.schemas)}))}}},prepareDropConstraint:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareDropConstraintStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>({schemas:zi([r.schema,"tables",r.table,"constraints",r.name],l.schemas)}))}}},prepareAddIndex:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareAddIndexStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>({schemas:$t([r.schema,"tables",r.table,"indexes",r.name],r,l.schemas)}))}}},prepareDropIndex:r=>{const{dialect:n,query:s}=e();if(!n)throw new Error("Dialect is not initialized");if(!s)throw new Error("Query function is not initialized");const{prepareDropIndexStatement:i}=cr(n),o=i(r);return{statement:o,execute:async()=>{await s(o,[],{method:"execute"}),t(l=>({schemas:zi([r.schema,"tables",r.table,"indexes",r.name],l.schemas)}))}}},prepareDrops:r=>{const{schemas:n,actions:{pull:s,prepareDropColumn:i,prepareDropConstraint:o,prepareDropIndex:a}}=e(),l=n[r.schema];if(!l)throw new Error("Schema not found");const c=l.tables[r.table];if(!c)throw new Error("Entity not found");const d=[],h=[];let m=!1;return r.columns.forEach(f=>{const p=c.columns[f];if(p)try{const E=i({schema:p.schema,table:p.table,name:p.name});d.push({type:"statement",value:E.statement}),h.push(E.execute),m=!0}catch(E){d.push({type:"message",value:E.message}),h.push(async()=>{})}}),r.constraints.forEach(f=>{const p=c.constraints[f];if(p)try{const E=o({schema:p.schema,table:p.table,name:p.name});d.push({type:"statement",value:E.statement}),h.push(E.execute),m=!0}catch(E){d.push({type:"message",value:E.message}),h.push(async()=>{})}}),r.indexes.forEach(f=>{const p=c.indexes[f];if(p)try{const E=a({schema:p.schema,table:p.table,name:p.name});d.push({type:"statement",value:E.statement}),h.push(E.execute),m=!0}catch(E){d.push({type:"message",value:E.message}),h.push(async()=>{})}}),{statements:d,execute:async(f,p)=>{let E=0;for(const g of h){try{await g(),f==null||f(E)}catch(T){p==null||p(E,T)}E++}m&&s()}}}}})),gn=()=>it(t=>t.actions),vB=r9(async()=>({rows:[]})),ef=new ad;ef.escapeString=t=>`'${t.replace(/\\/g,"\\\\").replace(/'/g,"''")}'`;const v1e=t=>{const{oldName:e,newName:r}=t;return`ALTER TABLE \`${e}\` RENAME TO \`${r}\``},y1e=t=>{const{oldName:e,newName:r}=t;return`ALTER VIEW \`${e}\` RENAME TO \`${r}\``},A1e=(t,e)=>(r,n)=>{const s=t[r.schema];if(!s)throw new Error("Schema not found");const i=s[r.table];if(!i)throw new Error("Entity not found");let o,a;if(ge(i,Nn))o=GC(i),a=o.columns;else if(ge(i,kp))o=Xve(i),a=Object.values(o.selectedFields);else throw new Error("Unsupported entity type");const l=a.reduce((p,E)=>(p[E.name]=E,p),{}),c=r.columns&&r.columns.length>0?a.reduce((p,E)=>{var g;return(g=r.columns)!=null&&g.includes(E.name)&&(p[E.name]=E),p},{}):l,d=r.orderBy?r.orderBy.map(p=>{const E=l[p.column];return p.type==="ASC"?VS(E):p.type==="DESC"?zS(E):E}):[];let m=r9(async(p,E,g)=>({rows:await e(p,E,{method:g,mode:"array",signal:n})}),void 0,()=>new ad({escapeParam:it.getState().escapeParam||void 0})).select(c).from(i).where(r.where?ra(r.where):void 0).orderBy(...d).$dynamic();return typeof r.limit<"u"&&(m=m.limit(r.limit)),typeof r.offset<"u"&&(m=m.offset(r.offset)),{statement:ef.sqlToQuery(m.getSQL().inlineParams()).sql,execute:m.execute}},yB=t=>{const{table:e}=t;return`SELECT '${e}' AS \`table\`, COUNT(*) AS \`count\` FROM \`${e}\``},R1e=t=>t.map(e=>yB(e)).join(" UNION ALL "),AB=t=>ge(t,DC)||ge(t,hC)?e=>e&&new Date(e):ge(t,AC)||ge(t,kC)||ge(t,OC)||ge(t,bC)||ge(t,vC)||ge(t,gC)?e=>e&&Number(e):ge(t,cC)?e=>Number(e):ge(t,uC)?e=>BigInt(e):e=>e,lw=(t,e)=>{const r=n=>Object.fromEntries(Object.entries(n).map(([s,i])=>{const o=e[s];return[s,o(i)]}));return Array.isArray(t)?t.map(r):r(t)},N1e=t=>e=>{if(!ge(t,Nn))throw new Error("Unsupported entity type");const n=GC(t).columns.reduce((a,l)=>(a[l.name]=AB(l),a),{});console.log("Data:",e.data);const s=lw(e.data,n),i=vB.insert(t).values(s),o=ef.sqlToQuery(i.getSQL().inlineParams()).sql;return console.log("Insert statement:",o),o},b1e=t=>e=>{if(!ge(t,Nn))throw new Error("Unsupported entity type");const r=GC(t).columns.reduce((o,a)=>(o[a.name]=AB(a),o),{}),n=lw(e.data,r),s=vB.update(t).set(n).where(ra(e.where)),i=ef.sqlToQuery(s.getSQL().inlineParams()).sql;return console.log("Update statement:",i),i},C1e=t=>e=>{if(!ge(t,Nn))throw new Error("Unsupported entity type");const r=ef.buildDeleteQuery({table:t,where:ra(e.where)});return ef.sqlToQuery(r.inlineParams()).sql},x1e=t=>{throw new Error("Create schema is not supported")},w1e=t=>{throw new Error("Drop schema is not supported")},O1e=t=>{throw new Error("Rename schema is not supported")},I1e=t=>{throw new Error("Create enum is not supported")},_1e=t=>{throw new Error("Rename enum is not supported")},L1e=t=>{throw new Error("Drop enum is not supported")},D1e=t=>{const{name:e,columns:r,constraints:n}=t,s=Object.values(r).map(o=>{const{name:a,type:l,isPrimary:c,isNotNull:d,isUnique:h,typeParams:m,defaultValue:f,isDefaultAnExpression:p,generatedParams:E}=o,g=vv(l,m);let T=`\`${a}\` ${l}${g}`;return c&&(T+=" PRIMARY KEY"),d&&!c&&(T+=" NOT NULL"),h&&!c&&(T+=" UNIQUE"),E&&(T+=` GENERATED ALWAYS AS (${E.as}) ${E.type.toUpperCase()}`),f&&(T+=` DEFAULT ${cw(f,p)}`),T}).join(", "),i=Object.values(n).map(o=>{const{type:a,name:l}=o;if(a==="primary"){const{columns:m}=o;return`CONSTRAINT \`${l}\` PRIMARY KEY (\`${m.join("`, `")}\`)`}if(a==="unique"){const{columns:m}=o;return`CONSTRAINT \`${l}\` UNIQUE (\`${m.join("`, `")}\`)`}if(a==="check"){const{expression:m}=o;return`CONSTRAINT \`${l}\` CHECK (${m})`}const{refTable:c,refColumns:d,columns:h}=o;return`CONSTRAINT \`${l}\` FOREIGN KEY (\`${h.join("`, `")}\`) REFERENCES \`${c}\` (\`${d.join("`, `")}\`)`}).join(", ");return`CREATE TABLE \`${e}\` (${s}${i?`, ${i}`:""})`},M1e=t=>{const{name:e,query:r}=t;return`CREATE VIEW \`${e}\` AS ${r}`},P1e=t=>{const{name:e,cascade:r}=t;return`TRUNCATE TABLE \`${e}\`${r?" CASCADE":""}`},k1e=t=>{const{name:e,cascade:r}=t;return`DROP TABLE \`${e}\`${r?" CASCADE":""}`},U1e=t=>{const{name:e}=t;return`DROP VIEW \`${e}\``},j1e=t=>{const{table:e,name:r,isNotNull:n}=t;return`ALTER TABLE \`${e}\` ALTER COLUMN \`${r}\` ${n?"SET":"DROP"} NOT NULL`},B1e=t=>{const{table:e,oldName:r,newName:n}=t;return`ALTER TABLE \`${e}\` RENAME COLUMN \`${r}\` TO \`${n}\``},F1e=t=>{const{table:e,name:r}=t;return`ALTER TABLE \`${e}\` DROP COLUMN \`${r}\``},cw=(t,e)=>e?t:`'${t}'`,H1e=t=>{const{table:e,name:r,type:n,isPrimary:s,isNotNull:i,isUnique:o,typeParams:a,defaultValue:l,isDefaultAnExpression:c,generatedParams:d}=t,h=vv(n,a);let m=`ALTER TABLE \`${e}\` ADD COLUMN \`${r}\` ${n}${h}`;return s&&(m+=" PRIMARY KEY"),i&&!s&&(m+=" NOT NULL"),o&&!s&&(m+=" UNIQUE"),d&&(m+=` GENERATED ALWAYS AS (${d.as}) ${d.type.toUpperCase()}`),l&&(m+=` DEFAULT ${cw(l,c)}`),m},$1e=()=>({numberTypes:RB,booleanTypes:NB,identityTypes:bB,jsonTypes:CB,dateTypes:xB,typeGroups:wB,typeParamsNames:uw}),RB=["integer","tinyint","smallint","mediumint","bigint","real","decimal","double","float","serial"],NB=["boolean"],bB=[],CB=["json"],xB=["date","datetime","time","year","timestamp"],wB=[["integer","tinyint","smallint","mediumint","bigint"],["real","decimal","double","float"],["serial"],["binary","varbinary"],["char","varchar","text"],["boolean"],["date","datetime","time","year","timestamp"],["json"]],uw={real:{precision:!0,scale:!0},decimal:{precision:!0,scale:!0},double:{precision:!0,scale:!0},float:{precision:!0,scale:!0},varchar:{length:!0},binary:{length:!0},varbinary:{length:!0}},vv=(t,e)=>{if(!e)return"";const r=uw[t];if(!r)return"";const n=Object.keys(r).map(s=>e[s]).filter(Boolean);return n.length>0?`(${n.join(", ")})`:""},G1e=Object.freeze(Object.defineProperty({__proto__:null,booleanTypes:NB,convertColumnsValues:lw,dateTypes:xB,getTypeParamsString:vv,getTypes:$1e,identityTypes:bB,jsonTypes:CB,numberTypes:RB,prepareAddColumnStatement:H1e,prepareAddConstraintStatement:t=>{const{table:e,name:r,type:n}=t;if(n==="primary"){const{columns:h}=t,m=`\`${h.join("`, `")}\``;return`ALTER TABLE \`${e}\` ADD CONSTRAINT \`${r}\` PRIMARY KEY (${m})`}if(n==="unique"){const{columns:h}=t,m=`\`${h.join("`, `")}\``;return`ALTER TABLE \`${e}\` ADD CONSTRAINT \`${r}\` UNIQUE (${m})`}if(n==="check"){const{expression:h}=t;return`ALTER TABLE \`${e}\` ADD CONSTRAINT \`${r}\` CHECK (${h})`}const{refTable:s,refColumns:i,columns:o,updateRule:a,deleteRule:l}=t,c=`\`${o.join("`, `")}\``,d=`\`${i.join("`, `")}\``;return`ALTER TABLE \`${e}\` ADD CONSTRAINT \`${r}\` FOREIGN KEY (${c}) REFERENCES \`${s}\` (${d}) ON UPDATE ${a} ON DELETE ${l}`},prepareAddIndexStatement:t=>{const{table:e,name:r,columns:n,method:s,isUnique:i}=t,o=`\`${n.join("`, `")}\``;return`CREATE ${i?"UNIQUE ":""}INDEX \`${r}\` ON \`${e}\` USING ${s} (${o})`},prepareAlterColumnDefaultStatement:t=>{const{table:e,name:r,defaultValue:n}=t,s=i=>typeof i=="string"?`'${i}'`:i;return n?`ALTER TABLE \`${e}\` ALTER COLUMN \`${r}\` SET DEFAULT ${s(n)}`:`ALTER TABLE \`${e}\` ALTER COLUMN \`${r}\` DROP DEFAULT`},prepareAlterColumnIdentityStatement:t=>{throw new Error("Identity columns are not supported")},prepareAlterColumnNotNullStatement:j1e,prepareAlterColumnTypeStatement:t=>{const{table:e,name:r,type:n,typeParams:s}=t,i=vv(n,s);return`ALTER TABLE \`${e}\` ALTER COLUMN \`${r}\` TYPE ${n}${i}`},prepareAlterColumnUniqueStatement:t=>{const{table:e,name:r,isUnique:n}=t;return n?`ALTER TABLE \`${e}\` ADD UNIQUE (\`${r}\`)`:`ALTER TABLE \`${e}\` DROP CONSTRAINT \`${e}_${r}_key\``},prepareCreateEnumStatement:I1e,prepareCreateSchemaStatement:x1e,prepareCreateTableStatement:D1e,prepareCreateViewStatement:M1e,prepareDeleteStatement:C1e,prepareDropColumnStatement:F1e,prepareDropConstraintStatement:t=>{const{table:e,name:r}=t;return`ALTER TABLE \`${e}\` DROP CONSTRAINT \`${r}\``},prepareDropEnumStatement:L1e,prepareDropIndexStatement:t=>{const{name:e}=t;return`DROP INDEX \`${e}\``},prepareDropSchemaStatement:w1e,prepareDropTableStatement:k1e,prepareDropViewStatement:U1e,prepareInsertStatement:N1e,prepareRenameColumnStatement:B1e,prepareRenameEnumStatement:_1e,prepareRenameSchemaStatement:O1e,prepareRenameTableStatement:v1e,prepareRenameViewStatement:y1e,prepareSelectCountStatement:yB,prepareSelectStatement:A1e,prepareTruncateTableStatement:P1e,prepareUnionSelectCountStatement:R1e,prepareUpdateStatement:b1e,typeGroups:wB,typeParamsNames:uw,wrapDefaultValue:cw},Symbol.toStringTag,{value:"Module"})),V1e=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,r){var n;(n=t.httpHandler)==null||n.updateHttpClientConfig(e,r)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),z1e=t=>({httpHandler:t.httpHandler()});var OB;(function(t){t.HEADER="header",t.QUERY="query"})(OB||(OB={}));var IB;(function(t){t.HEADER="header",t.QUERY="query"})(IB||(IB={}));var qp;(function(t){t.HTTP="http",t.HTTPS="https"})(qp||(qp={}));var yv;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(yv||(yv={}));var _B;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(_B||(_B={}));const dw="__smithy_context";var LB;(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(LB||(LB={}));var DB;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(DB||(DB={}));class qi{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const r=new qi({...e,headers:{...e.headers}});return r.query&&(r.query=W1e(r.query)),r}static isInstance(e){if(!e)return!1;const r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return qi.clone(this)}}function W1e(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}class Kp{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function mnt(t){return t}const Y1e=t=>e=>async r=>{if(!qi.isInstance(r.request))return e(r);const{request:n}=r,{handlerProtocol:s=""}=t.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return e(r)},q1e={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},K1e=t=>({applyToStack:e=>{e.add(Y1e(t),q1e)}}),X1e=()=>(t,e)=>async r=>{var n,s;try{const i=await t(r),{clientName:o,commandName:a,logger:l,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:h}=c,m=d??e.inputFilterSensitiveLog,f=h??e.outputFilterSensitiveLog,{$metadata:p,...E}=i.output;return(n=l==null?void 0:l.info)==null||n.call(l,{clientName:o,commandName:a,input:m(r.input),output:f(E),metadata:p}),i}catch(i){const{clientName:o,commandName:a,logger:l,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:d}=c,h=d??e.inputFilterSensitiveLog;throw(s=l==null?void 0:l.error)==null||s.call(l,{clientName:o,commandName:a,input:h(r.input),error:i,metadata:i.$metadata}),i}},Q1e={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},J1e=t=>({applyToStack:e=>{e.add(X1e(),Q1e)}});var MB={};const hw="X-Amzn-Trace-Id",Z1e="AWS_LAMBDA_FUNCTION_NAME",eCe="_X_AMZN_TRACE_ID",tCe=t=>e=>async r=>{const{request:n}=r;if(!qi.isInstance(n)||t.runtime!=="node")return e(r);const s=Object.keys(n.headers??{}).find(l=>l.toLowerCase()===hw.toLowerCase())??hw;if(n.headers.hasOwnProperty(s))return e(r);const i=MB[Z1e],o=MB[eCe],a=l=>typeof l=="string"&&l.length>0;return a(i)&&a(o)&&(n.headers[hw]=o),e({...r,request:n})},rCe={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},nCe=t=>({applyToStack:e=>{e.add(tCe(t),rCe)}}),Av=t=>t[dw]||(t[dw]={}),Ul=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},sCe=(t,e)=>{if(!e||e.length===0)return t;const r=[];for(const n of e)for(const s of t)s.schemeId.split("#")[1]===n&&r.push(s);for(const n of t)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r};function iCe(t){const e=new Map;for(const r of t)e.set(r.schemeId,r);return e}const oCe=(t,e)=>(r,n)=>async s=>{var h;const i=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,s.input)),o=t.authSchemePreference?await t.authSchemePreference():[],a=sCe(i,o),l=iCe(t.httpAuthSchemes),c=Av(n),d=[];for(const m of a){const f=l.get(m.schemeId);if(!f){d.push(`HttpAuthScheme \`${m.schemeId}\` was not enabled for this service.`);continue}const p=f.identityProvider(await e.identityProviderConfigProvider(t));if(!p){d.push(`HttpAuthScheme \`${m.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:E={},signingProperties:g={}}=((h=m.propertiesExtractor)==null?void 0:h.call(m,t,n))||{};m.identityProperties=Object.assign(m.identityProperties||{},E),m.signingProperties=Object.assign(m.signingProperties||{},g),c.selectedHttpAuthScheme={httpAuthOption:m,identity:await p(m.identityProperties),signer:f.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(s)},aCe={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},lCe=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(oCe(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),aCe)}}),cCe=(t,e)=>(r,n)=>async s=>{var o,a,l,c;const{response:i}=await r(s);try{const d=await e(i,t);return{response:i,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:i}),!("$metadata"in d)){const h="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+h}catch{!n.logger||((a=(o=n.logger)==null?void 0:o.constructor)==null?void 0:a.name)==="NoOpLogger"?console.warn(h):(c=(l=n.logger)==null?void 0:l.warn)==null||c.call(l,h)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText);try{if(Kp.isInstance(i)){const{headers:m={}}=i,f=Object.entries(m);d.$metadata={httpStatusCode:i.statusCode,requestId:fw(/^x-[\w-]+-request-?id$/,f),extendedRequestId:fw(/^x-[\w-]+-id-2$/,f),cfId:fw(/^x-[\w-]+-cf-id$/,f)}}}catch{}}throw d}},fw=(t,e)=>(e.find(([r])=>r.match(t))||[void 0,void 0])[1],uCe=(t,e)=>(r,n)=>async s=>{var l;const i=t,o=(l=n.endpointV2)!=null&&l.url&&i.urlParser?async()=>i.urlParser(n.endpointV2.url):i.endpoint;if(!o)throw new Error("No valid endpoint provider available.");const a=await e(s.input,{...t,endpoint:o});return r({...s,request:a})},dCe={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},mw={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Rv(t,e,r){return{applyToStack:n=>{n.add(cCe(t,r),dCe),n.add(uCe(t,e),mw)}}}mw.name;const hCe=t=>e=>{throw e},fCe=(t,e)=>{},mCe=t=>(e,r)=>async n=>{if(!qi.isInstance(n.request))return e(n);const i=Av(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:l}=i,c=await e({...n,request:await l.sign(n.request,a,o)}).catch((l.errorHandler||hCe)(o));return(l.successHandler||fCe)(c.response,o),c},pCe={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},ECe=t=>({applyToStack:e=>{e.addRelativeTo(mCe(),pCe)}}),Xp=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},Pc={},tf=new Array(64);for(let t=0,e=65,r=90;t+e<=r;t++){const n=String.fromCharCode(t+e);Pc[n]=t,tf[t]=n}for(let t=0,e=97,r=122;t+e<=r;t++){const n=String.fromCharCode(t+e),s=t+26;Pc[n]=s,tf[s]=n}for(let t=0;t<10;t++){Pc[t.toString(10)]=t+52;const e=t.toString(10),r=t+52;Pc[e]=r,tf[r]=e}Pc["+"]=62,tf[62]="+",Pc["/"]=63,tf[63]="/";const rf=6,Qp=8,gCe=63,pw=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;const r=new ArrayBuffer(e),n=new DataView(r);for(let s=0;s<t.length;s+=4){let i=0,o=0;for(let c=s,d=s+3;c<=d;c++)if(t[c]!=="="){if(!(t[c]in Pc))throw new TypeError(`Invalid character ${t[c]} in base64 string.`);i|=Pc[t[c]]<<(d-c)*rf,o+=rf}else i>>=rf;const a=s/4*3;i>>=o%Qp;const l=Math.floor(o/Qp);for(let c=0;c<l;c++){const d=(l-c-1)*Qp;n.setUint8(a+c,(i&255<<d)>>d)}}return new Uint8Array(r)},nf=t=>new TextEncoder().encode(t),Jp=t=>typeof t=="string"?nf(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),PB=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function kB(t){let e;typeof t=="string"?e=nf(t):e=t;const r=typeof e=="object"&&typeof e.length=="number",n=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let s="";for(let i=0;i<e.length;i+=3){let o=0,a=0;for(let c=i,d=Math.min(i+3,e.length);c<d;c++)o|=e[c]<<(d-c-1)*Qp,a+=Qp;const l=Math.ceil(a/rf);o<<=l*rf-a;for(let c=1;c<=l;c++){const d=(l-c)*rf;s+=tf[(o&gCe<<d)>>d]}s+="==".slice(0,4-l)}return s}function TCe(t,e="utf-8"){return e==="base64"?kB(t):PB(t)}function SCe(t,e){return e==="base64"?md.mutate(pw(t)):md.mutate(nf(t))}class md extends Uint8Array{static fromString(e,r="utf-8"){switch(typeof e){case"string":return SCe(e,r);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,md.prototype),e}transformToString(e="utf-8"){return TCe(this,e)}}const pd=t=>encodeURIComponent(t).replace(/[!'()*]/g,vCe),vCe=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function yCe(t){const e=[];for(let r of Object.keys(t).sort()){const n=t[r];if(r=pd(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)e.push(`${r}=${pd(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${pd(n)}`),e.push(s)}}return e.join("&")}function UB(t,e){return new Request(t,e)}function ACe(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{const n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}const Ew={supported:void 0};class gw{static create(e){return typeof(e==null?void 0:e.handle)=="function"?e:new gw(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),Ew.supported===void 0&&(Ew.supported=typeof Request<"u"&&"keepalive"in UB("https://[::1]"))}destroy(){}async handle(e,{abortSignal:r}={}){var T;this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r!=null&&r.aborted){const S=new Error("Request aborted");return S.name="AbortError",Promise.reject(S)}let o=e.path;const a=yCe(e.query||{});a&&(o+=`?${a}`),e.fragment&&(o+=`#${e.fragment}`);let l="";if(e.username!=null||e.password!=null){const S=e.username??"",v=e.password??"";l=`${S}:${v}@`}const{port:c,method:d}=e,h=`${e.protocol}//${l}${e.hostname}${c?`:${c}`:""}${o}`,m=d==="GET"||d==="HEAD"?void 0:e.body,f={body:m,headers:new Headers(e.headers),method:d,credentials:i};(T=this.config)!=null&&T.cache&&(f.cache=this.config.cache),m&&(f.duplex="half"),typeof AbortController<"u"&&(f.signal=r),Ew.supported&&(f.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(f,this.config.requestInit(e));let p=()=>{};const E=UB(h,f),g=[fetch(E).then(S=>{const v=S.headers,N={};for(const x of v.entries())N[x[0]]=x[1];return S.body!=null?{response:new Kp({headers:N,reason:S.statusText,statusCode:S.status,body:S.body})}:S.blob().then(x=>({response:new Kp({headers:N,reason:S.statusText,statusCode:S.status,body:x})}))}),ACe(n)];return r&&g.push(new Promise((S,v)=>{const N=()=>{const C=new Error("Request aborted");C.name="AbortError",v(C)};if(typeof r.addEventListener=="function"){const C=r;C.addEventListener("abort",N,{once:!0}),p=()=>C.removeEventListener("abort",N)}else r.onabort=N})),Promise.race(g).finally(p)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}}const RCe=async t=>{var e;return typeof Blob=="function"&&t instanceof Blob||((e=t.constructor)==null?void 0:e.name)==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):NCe(t):bCe(t)};async function NCe(t){const e=await CCe(t),r=pw(e);return new Uint8Array(r)}async function bCe(t){const e=[],r=t.getReader();let n=!1,s=0;for(;!n;){const{done:a,value:l}=await r.read();l&&(e.push(l),s+=l.length),n=a}const i=new Uint8Array(s);let o=0;for(const a of e)i.set(a,o),o+=a.length;return i}function CCe(t){return new Promise((e,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;e(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}const jB={},Tw={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),jB[t]=e,Tw[e]=t}function xCe(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){const n=t.slice(r,r+2).toLowerCase();if(n in Tw)e[r/2]=Tw[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function Ed(t){let e="";for(let r=0;r<t.byteLength;r++)e+=jB[t[r]];return e}const wCe=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return md.mutate(t);if(!t)return md.mutate(new Uint8Array);const r=e.streamCollector(t);return md.mutate(await r)};function BB(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const OCe=(t,e,r,n,s,i)=>{if(e!=null&&e[r]!==void 0){const o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(s,i?o.split("/").map(a=>BB(a)).join("/"):BB(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return t};function Nv(t,e){return new ICe(t,e)}class ICe{constructor(e,r){this.input=e,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:e,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(const i of this.resolvePathStack)i(this.path);return new qi({protocol:r,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(r=>{this.path=`${r!=null&&r.endsWith("/")?r.slice(0,-1):r||""}`+e}),this}p(e,r,n,s){return this.resolvePathStack.push(i=>{this.path=OCe(i,this.input,e,r,n,s)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}function _Ce(t,e,r){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=r}class LCe{constructor(e){this.authSchemes=new Map;for(const[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}const DCe=(t=>e=>FB(e)&&e.expiration.getTime()-Date.now()<t)(3e5),FB=t=>t.expiration!==void 0,MCe=(t,e,r)=>{if(t===void 0)return;const n=typeof t!="function"?async()=>Promise.resolve(t):t;let s,i,o,a=!1;const l=async c=>{i||(i=n(c));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return e===void 0?async c=>((!o||c!=null&&c.forceRefresh)&&(s=await l(c)),s):async c=>((!o||c!=null&&c.forceRefresh)&&(s=await l(c)),a?s:r(s)?(e(s)&&await l(c),s):(a=!0,s))},PCe=void 0;function kCe(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function UCe(t){const e=Xp(t.userAgentAppId??PCe),{customUserAgent:r}=t;return Object.assign(t,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{var s,i;const n=await e();if(!kCe(n)){const o=((i=(s=t.logger)==null?void 0:s.constructor)==null?void 0:i.name)==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?o==null||o.warn("userAgentAppId must be a string or undefined."):n.length>50&&(o==null||o.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return n}})}class jCe{constructor({size:e,params:r}){this.data=new Map,this.parameters=[],this.capacity=e??50,r&&(this.parameters=r)}get(e,r){const n=this.hash(e);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){const s=this.data.keys();let i=0;for(;;){const{value:o,done:a}=s.next();if(this.data.delete(o),a||++i>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(e){let r="";const{parameters:n}=this;if(n.length===0)return!1;for(const s of n){const i=String(e[s]??"");if(i.includes("|;"))return!1;r+=i+"|;"}return r}}const BCe=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),HB=t=>BCe.test(t)||t.startsWith("[")&&t.endsWith("]"),FCe=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Sw=(t,e=!1)=>{if(!e)return FCe.test(t);const r=t.split(".");for(const n of r)if(!Sw(n))return!1;return!0},bv={},Zp="endpoints";function kc(t){return typeof t!="object"||t==null?t:"ref"in t?`$${kc(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(kc).join(", ")})`:JSON.stringify(t,null,2)}class Ki extends Error{constructor(e){super(e),this.name="EndpointError"}}const HCe=(t,e)=>t===e,$Ce=t=>{const e=t.split("."),r=[];for(const n of e){const s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Ki(`Path: '${t}' does not end with ']'`);const i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new Ki(`Invalid array index: '${i}' in path: '${t}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},$B=(t,e)=>$Ce(e).reduce((r,n)=>{if(typeof r!="object")throw new Ki(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t),GCe=t=>t!=null,VCe=t=>!t,vw={[qp.HTTP]:80,[qp.HTTPS]:443},zCe={booleanEquals:HCe,getAttr:$B,isSet:GCe,isValidHostLabel:Sw,not:VCe,parseURL:t=>{const e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:m,port:f,protocol:p="",path:E="",query:g={}}=t,T=new URL(`${p}//${m}${f?`:${f}`:""}${E}`);return T.search=Object.entries(g).map(([S,v])=>`${S}=${v}`).join("&"),T}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const r=e.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=e;if(a)return null;const l=o.slice(0,-1);if(!Object.values(qp).includes(l))return null;const c=HB(s),d=r.includes(`${n}:${vw[l]}`)||typeof t=="string"&&t.includes(`${n}:${vw[l]}`),h=`${n}${d?`:${vw[l]}`:""}`;return{scheme:l,authority:h,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:c}},stringEquals:(t,e)=>t===e,substring:(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r),uriEncode:t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},GB=(t,e)=>{const r=[],n={...e.endpointParams,...e.referenceRecord};let s=0;for(;s<t.length;){const i=t.indexOf("{",s);if(i===-1){r.push(t.slice(s));break}r.push(t.slice(s,i));const o=t.indexOf("}",i);if(o===-1){r.push(t.slice(i));break}t[i+1]==="{"&&t[o+1]==="}"&&(r.push(t.slice(i+1,o)),s=o+2);const a=t.substring(i+1,o);if(a.includes("#")){const[l,c]=a.split("#");r.push($B(n[l],c))}else r.push(n[a]);s=o+1}return r.join("")},WCe=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],Cv=(t,e,r)=>{if(typeof t=="string")return GB(t,r);if(t.fn)return VB(t,r);if(t.ref)return WCe(t,r);throw new Ki(`'${e}': ${String(t)} is not a string, function or reference.`)},VB=({fn:t,argv:e},r)=>{const n=e.map(i=>["boolean","number"].includes(typeof i)?i:Cv(i,"arg",r)),s=t.split(".");return s[0]in bv&&s[1]!=null?bv[s[0]][s[1]](...n):zCe[t](...n)},YCe=({assign:t,...e},r)=>{var s,i;if(t&&t in r.referenceRecord)throw new Ki(`'${t}' is already defined in Reference Record.`);const n=VB(e,r);return(i=(s=r.logger)==null?void 0:s.debug)==null||i.call(s,`${Zp} evaluateCondition: ${kc(e)} = ${kc(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}},yw=(t=[],e)=>{var n,s;const r={};for(const i of t){const{result:o,toAssign:a}=YCe(i,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!o)return{result:o};a&&(r[a.name]=a.value,(s=(n=e.logger)==null?void 0:n.debug)==null||s.call(n,`${Zp} assign: ${a.name} := ${kc(a.value)}`))}return{result:!0,referenceRecord:r}},qCe=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{const o=Cv(i,"Header value entry",e);if(typeof o!="string")throw new Ki(`Header '${n}' value '${o}' is not a string`);return o})}),{}),zB=(t,e)=>{if(Array.isArray(t))return t.map(r=>zB(r,e));switch(typeof t){case"string":return GB(t,e);case"object":if(t===null)throw new Ki(`Unexpected endpoint property: ${t}`);return WB(t,e);case"boolean":return t;default:throw new Ki(`Unexpected endpoint property type: ${typeof t}`)}},WB=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:zB(s,e)}),{}),KCe=(t,e)=>{const r=Cv(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ki(`Endpoint URL must be a string, got ${typeof r}`)},XCe=(t,e)=>{var d,h;const{conditions:r,endpoint:n}=t,{result:s,referenceRecord:i}=yw(r,e);if(!s)return;const o={...e,referenceRecord:{...e.referenceRecord,...i}},{url:a,properties:l,headers:c}=n;return(h=(d=e.logger)==null?void 0:d.debug)==null||h.call(d,`${Zp} Resolving endpoint from template: ${kc(n)}`),{...c!=null&&{headers:qCe(c,o)},...l!=null&&{properties:WB(l,o)},url:KCe(a,o)}},QCe=(t,e)=>{const{conditions:r,error:n}=t,{result:s,referenceRecord:i}=yw(r,e);if(s)throw new Ki(Cv(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...i}}))},JCe=(t,e)=>{const{conditions:r,rules:n}=t,{result:s,referenceRecord:i}=yw(r,e);if(s)return YB(n,{...e,referenceRecord:{...e.referenceRecord,...i}})},YB=(t,e)=>{for(const r of t)if(r.type==="endpoint"){const n=XCe(r,e);if(n)return n}else if(r.type==="error")QCe(r,e);else if(r.type==="tree"){const n=JCe(r,e);if(n)return n}else throw new Ki(`Unknown endpoint rule: ${r}`);throw new Ki("Rules evaluation failed")},ZCe=(t,e)=>{var c,d,h,m;const{endpointParams:r,logger:n}=e,{parameters:s,rules:i}=t;(d=(c=e.logger)==null?void 0:c.debug)==null||d.call(c,`${Zp} Initial EndpointParams: ${kc(r)}`);const o=Object.entries(s).filter(([,f])=>f.default!=null).map(([f,p])=>[f,p.default]);if(o.length>0)for(const[f,p]of o)r[f]=r[f]??p;const a=Object.entries(s).filter(([,f])=>f.required).map(([f])=>f);for(const f of a)if(r[f]==null)throw new Ki(`Missing required parameter: '${f}'`);const l=YB(i,{endpointParams:r,logger:n,referenceRecord:{}});return(m=(h=e.logger)==null?void 0:h.debug)==null||m.call(h,`${Zp} Resolved endpoint: ${kc(l)}`),l},qB=(t,e=!1)=>{if(e){for(const r of t.split("."))if(!qB(r))return!1;return!0}return!(!Sw(t)||t.length<3||t.length>63||t!==t.toLowerCase()||HB(t))},KB=":",exe="/",txe=t=>{const e=t.split(KB);if(e.length<6)return null;const[r,n,s,i,o,...a]=e;if(r!=="arn"||n===""||s===""||a.join(KB)==="")return null;const l=a.map(c=>c.split(exe)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:l}};let rxe={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}]};const XB={isVirtualHostableS3Bucket:qB,parseArn:txe,partition:t=>{const{partitions:e}=rxe;for(const n of e){const{regions:s,outputs:i}=n;for(const[o,a]of Object.entries(s))if(o===t)return{...i,...a}}for(const n of e){const{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(t))return{...i}}const r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}}};bv.aws=XB;function nxe(t,e,r){return t.$source||(t.$source={}),t.$source[e]=r,t}function ja(t,e,r){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=r}const QB=t=>{var e,r;return Kp.isInstance(t)?((e=t.headers)==null?void 0:e.date)??((r=t.headers)==null?void 0:r.Date):void 0},JB=t=>new Date(Date.now()+t),sxe=(t,e)=>Math.abs(JB(e).getTime()-t)>=3e5,ZB=(t,e)=>{const r=Date.parse(t);return sxe(r,e)?r-Date.now():e},eE=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},ixe=async t=>{var c,d,h;const e=eE("context",t.context),r=eE("config",t.config),n=(h=(d=(c=e.endpointV2)==null?void 0:c.properties)==null?void 0:d.authSchemes)==null?void 0:h[0],i=await eE("signer",r.signer)(n),o=t==null?void 0:t.signingRegion,a=t==null?void 0:t.signingRegionSet,l=t==null?void 0:t.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:l}};class oxe{async sign(e,r,n){var h;if(!qi.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const s=await ixe(n),{config:i,signer:o}=s;let{signingRegion:a,signingName:l}=s;const c=n.context;if(((h=c==null?void 0:c.authSchemes)==null?void 0:h.length)??!1){const[m,f]=c.authSchemes;(m==null?void 0:m.name)==="sigv4a"&&(f==null?void 0:f.name)==="sigv4"&&(a=(f==null?void 0:f.signingRegion)??a,l=(f==null?void 0:f.signingName)??l)}return await o.sign(e,{signingDate:JB(i.systemClockOffset),signingRegion:a,signingService:l})}errorHandler(e){return r=>{const n=r.ServerTime??QB(r.$response);if(n){const s=eE("config",e.config),i=s.systemClockOffset;s.systemClockOffset=ZB(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){const n=QB(e);if(n){const s=eE("config",r.config);s.systemClockOffset=ZB(n,s.systemClockOffset)}}}const axe=(t,e,r)=>{let n,s,i,o=!1;const a=async()=>{s||(s=t());try{n=await s,i=!0,o=!1}finally{s=void 0}return n};return async l=>((!i||l!=null&&l.forceRefresh)&&(n=await a()),n)},lxe="X-Amz-Algorithm",cxe="X-Amz-Credential",eF="X-Amz-Date",uxe="X-Amz-SignedHeaders",dxe="X-Amz-Expires",tF="X-Amz-Signature",rF="X-Amz-Security-Token",nF="authorization",sF=eF.toLowerCase(),hxe=[nF,sF,"date"],fxe=tF.toLowerCase(),Aw="x-amz-content-sha256",mxe=rF.toLowerCase(),pxe={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Exe=/^proxy-/,gxe=/^sec-/,Rw="AWS4-HMAC-SHA256",Txe="AWS4-HMAC-SHA256-PAYLOAD",Sxe="UNSIGNED-PAYLOAD",vxe=50,iF="aws4_request",yxe=60*60*24*7,xv={},Nw=[],bw=(t,e,r)=>`${t}/${e}/${r}/${iF}`,Axe=async(t,e,r,n,s)=>{const i=await oF(t,e.secretAccessKey,e.accessKeyId),o=`${r}:${n}:${s}:${Ed(i)}:${e.sessionToken}`;if(o in xv)return xv[o];for(Nw.push(o);Nw.length>vxe;)delete xv[Nw.shift()];let a=`AWS4${e.secretAccessKey}`;for(const l of[r,n,s,iF])a=await oF(t,a,l);return xv[o]=a},oF=(t,e,r)=>{const n=new t(e);return n.update(Jp(r)),n.digest()},aF=({headers:t},e,r)=>{const n={};for(const s of Object.keys(t).sort()){if(t[s]==null)continue;const i=s.toLowerCase();(i in pxe||e!=null&&e.has(i)||Exe.test(i)||gxe.test(i))&&(!r||r&&!r.has(i))||(n[i]=t[s].trim().replace(/\s+/g," "))}return n},Rxe=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",Cw=async({headers:t,body:e},r)=>{for(const n of Object.keys(t))if(n.toLowerCase()===Aw)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||Rxe(e)){const n=new r;return n.update(Jp(e)),Ed(await n.digest())}return Sxe};class Nxe{format(e){const r=[];for(const i of Object.keys(e)){const o=nf(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[i]))}const n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0));let s=0;for(const i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":const a=nf(e.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);const c=new Uint8Array(l.buffer);return c.set(a,3),c;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set(xw.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!bxe.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const h=new Uint8Array(17);return h[0]=9,h.set(xCe(e.value.replace(/\-/g,"")),1),h}}}var lF;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(lF||(lF={}));const bxe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class xw{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(e));n>-1&&s>0;n--,s/=256)r[n]=s;return e<0&&cF(r),new xw(r)}valueOf(){const e=this.bytes.slice(0),r=e[0]&128;return r&&cF(e),parseInt(Ed(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function cF(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}const Cxe=(t,e)=>{t=t.toLowerCase();for(const r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},xxe=(t,e={})=>{var s,i;const{headers:r,query:n={}}=qi.clone(t);for(const o of Object.keys(r)){const a=o.toLowerCase();(a.slice(0,6)==="x-amz-"&&!((s=e.unhoistableHeaders)!=null&&s.has(a))||(i=e.hoistableHeaders)!=null&&i.has(a))&&(n[o]=r[o],delete r[o])}return{...t,headers:r,query:n}},uF=t=>{t=qi.clone(t);for(const e of Object.keys(t.headers))hxe.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},wxe=({query:t={}})=>{const e=[],r={};for(const n of Object.keys(t)){if(n.toLowerCase()===fxe)continue;const s=pd(n);e.push(s);const i=t[n];typeof i=="string"?r[s]=`${s}=${pd(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${pd(a)}`]),[]).sort().join("&"))}return e.sort().map(n=>r[n]).filter(n=>n).join("&")},Oxe=t=>Ixe(t).toISOString().replace(/\.\d{3}Z$/,"Z"),Ixe=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class _xe{constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Ul(n),this.credentialProvider=Ul(r)}createCanonicalRequest(e,r,n){const s=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${wxe(e)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(e,r,n,s){const i=new this.sha256;i.update(Jp(n));const o=await i.digest();return`${s}
${e}
${r}
${Ed(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const r=[];for(const i of e.split("/"))(i==null?void 0:i.length)!==0&&i!=="."&&(i===".."?r.pop():r.push(i));const n=`${e!=null&&e.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(e!=null&&e.endsWith("/"))?"/":""}`;return pd(n).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){const r=Oxe(e).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}class dF extends _xe{constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){super({applyChecksum:e,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o}),this.headerFormatter=new Nxe}async presign(e,r={}){const{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,hoistableHeaders:l,signingRegion:c,signingService:d}=r,h=await this.credentialProvider();this.validateResolvedCredentials(h);const m=c??await this.regionProvider(),{longDate:f,shortDate:p}=this.formatDate(n);if(s>yxe)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const E=bw(p,m,d??this.service),g=xxe(uF(e),{unhoistableHeaders:o,hoistableHeaders:l});h.sessionToken&&(g.query[rF]=h.sessionToken),g.query[lxe]=Rw,g.query[cxe]=`${h.accessKeyId}/${E}`,g.query[eF]=f,g.query[dxe]=s.toString(10);const T=aF(g,i,a);return g.query[uxe]=this.getCanonicalHeaderList(T),g.query[tF]=await this.getSignature(f,E,this.getSigningKey(h,m,p,d),this.createCanonicalRequest(g,T,await Cw(e,this.sha256))),g}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:o}){const a=i??await this.regionProvider(),{shortDate:l,longDate:c}=this.formatDate(n),d=bw(l,a,o??this.service),h=await Cw({headers:{},body:r},this.sha256),m=new this.sha256;m.update(e);const f=Ed(await m.digest()),p=[Txe,c,d,s,f,h].join(`
`);return this.signString(p,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:e.priorSignature}).then(o=>({message:e.message,signature:o}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const o=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),l=new this.sha256(await this.getSigningKey(i,o,a,s));return l.update(Jp(e)),Ed(await l.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const l=i??await this.regionProvider(),c=uF(e),{longDate:d,shortDate:h}=this.formatDate(r),m=bw(h,l,o??this.service);c.headers[sF]=d,a.sessionToken&&(c.headers[mxe]=a.sessionToken);const f=await Cw(c,this.sha256);!Cxe(Aw,c.headers)&&this.applyChecksum&&(c.headers[Aw]=f);const p=aF(c,s,n),E=await this.getSignature(d,m,this.getSigningKey(a,l,h,o),this.createCanonicalRequest(c,p,f));return c.headers[nF]=`${Rw} Credential=${a.accessKeyId}/${m}, SignedHeaders=${this.getCanonicalHeaderList(p)}, Signature=${E}`,c}async getSignature(e,r,n,s){const i=await this.createStringToSign(e,r,s,Rw),o=new this.sha256(await n);return o.update(Jp(i)),Ed(await o.digest())}getSigningKey(e,r,n,s){return Axe(this.sha256,e,n,r,s||this.service)}}const Lxe=t=>{let e=t.credentials,r=!!t.credentials,n;Object.defineProperty(t,"credentials",{set(c){c&&c!==e&&c!==n&&(r=!0),e=c;const d=Dxe(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),h=Mxe(t,d);r&&!h.attributed?(n=async m=>h(m).then(f=>nxe(f,"CREDENTIALS_CODE","e")),n.memoized=h.memoized,n.configBound=h.configBound,n.attributed=!0):n=h},get(){return n},enumerable:!0,configurable:!0}),t.credentials=e;const{signingEscapePath:s=!0,systemClockOffset:i=t.systemClockOffset||0,sha256:o}=t;let a;return t.signer?a=Xp(t.signer):t.regionInfoProvider?a=()=>Xp(t.region)().then(async c=>[await t.regionInfoProvider(c,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},c]).then(([c,d])=>{const{signingRegion:h,signingService:m}=c;t.signingRegion=t.signingRegion||h||d,t.signingName=t.signingName||m||t.serviceId;const f={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:s},p=t.signerConstructor||dF;return new p(f)}):a=async c=>{c=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Xp(t.region)(),properties:{}},c);const d=c.signingRegion,h=c.signingName;t.signingRegion=t.signingRegion||d,t.signingName=t.signingName||h||t.serviceId;const m={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:s},f=t.signerConstructor||dF;return new f(m)},Object.assign(t,{systemClockOffset:i,signingEscapePath:s,signer:a})};function Dxe(t,{credentials:e,credentialDefaultProvider:r}){let n;return e?e!=null&&e.memoized?n=e:n=MCe(e,DCe,FB):r?n=Xp(r(Object.assign({},t,{parentClientConfig:t}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function Mxe(t,e){if(e.configBound)return e;const r=async n=>e({...n,callerClientConfig:t});return r.memoized=e.memoized,r.configBound=!0,r}const gd=(t,e)=>{const r=[];if(t&&r.push(t),e)for(const n of e)r.push(n);return r},Uc=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,wv=()=>{let t=[],e=[],r=!1;const n=new Set,s=h=>h.sort((m,f)=>hF[f.step]-hF[m.step]||fF[f.priority||"normal"]-fF[m.priority||"normal"]),i=h=>{let m=!1;const f=p=>{const E=gd(p.name,p.aliases);if(E.includes(h)){m=!0;for(const g of E)n.delete(g);return!1}return!0};return t=t.filter(f),e=e.filter(f),m},o=h=>{let m=!1;const f=p=>{if(p.middleware===h){m=!0;for(const E of gd(p.name,p.aliases))n.delete(E);return!1}return!0};return t=t.filter(f),e=e.filter(f),m},a=h=>{var m;return t.forEach(f=>{h.add(f.middleware,{...f})}),e.forEach(f=>{h.addRelativeTo(f.middleware,{...f})}),(m=h.identifyOnResolve)==null||m.call(h,d.identifyOnResolve()),h},l=h=>{const m=[];return h.before.forEach(f=>{f.before.length===0&&f.after.length===0?m.push(f):m.push(...l(f))}),m.push(h),h.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?m.push(f):m.push(...l(f))}),m},c=(h=!1)=>{const m=[],f=[],p={};return t.forEach(g=>{const T={...g,before:[],after:[]};for(const S of gd(T.name,T.aliases))p[S]=T;m.push(T)}),e.forEach(g=>{const T={...g,before:[],after:[]};for(const S of gd(T.name,T.aliases))p[S]=T;f.push(T)}),f.forEach(g=>{if(g.toMiddleware){const T=p[g.toMiddleware];if(T===void 0){if(h)return;throw new Error(`${g.toMiddleware} is not found when adding ${Uc(g.name,g.aliases)} middleware ${g.relation} ${g.toMiddleware}`)}g.relation==="after"&&T.after.push(g),g.relation==="before"&&T.before.push(g)}}),s(m).map(l).reduce((g,T)=>(g.push(...T),g),[])},d={add:(h,m={})=>{const{name:f,override:p,aliases:E}=m,g={step:"initialize",priority:"normal",middleware:h,...m},T=gd(f,E);if(T.length>0){if(T.some(S=>n.has(S))){if(!p)throw new Error(`Duplicate middleware name '${Uc(f,E)}'`);for(const S of T){const v=t.findIndex(C=>{var x;return C.name===S||((x=C.aliases)==null?void 0:x.some(A=>A===S))});if(v===-1)continue;const N=t[v];if(N.step!==g.step||g.priority!==N.priority)throw new Error(`"${Uc(N.name,N.aliases)}" middleware with ${N.priority} priority in ${N.step} step cannot be overridden by "${Uc(f,E)}" middleware with ${g.priority} priority in ${g.step} step.`);t.splice(v,1)}}for(const S of T)n.add(S)}t.push(g)},addRelativeTo:(h,m)=>{const{name:f,override:p,aliases:E}=m,g={middleware:h,...m},T=gd(f,E);if(T.length>0){if(T.some(S=>n.has(S))){if(!p)throw new Error(`Duplicate middleware name '${Uc(f,E)}'`);for(const S of T){const v=e.findIndex(C=>{var x;return C.name===S||((x=C.aliases)==null?void 0:x.some(A=>A===S))});if(v===-1)continue;const N=e[v];if(N.toMiddleware!==g.toMiddleware||N.relation!==g.relation)throw new Error(`"${Uc(N.name,N.aliases)}" middleware ${N.relation} "${N.toMiddleware}" middleware cannot be overridden by "${Uc(f,E)}" middleware ${g.relation} "${g.toMiddleware}" middleware.`);e.splice(v,1)}}for(const S of T)n.add(S)}e.push(g)},clone:()=>a(wv()),use:h=>{h.applyToStack(d)},remove:h=>typeof h=="string"?i(h):o(h),removeByTag:h=>{let m=!1;const f=p=>{const{tags:E,name:g,aliases:T}=p;if(E&&E.includes(h)){const S=gd(g,T);for(const v of S)n.delete(v);return m=!0,!1}return!0};return t=t.filter(f),e=e.filter(f),m},concat:h=>{var f;const m=a(wv());return m.use(h),m.identifyOnResolve(r||m.identifyOnResolve()||(((f=h.identifyOnResolve)==null?void 0:f.call(h))??!1)),m},applyToStack:a,identify:()=>c(!0).map(h=>{const m=h.step??h.relation+" "+h.toMiddleware;return Uc(h.name,h.aliases)+" - "+m}),identifyOnResolve(h){return typeof h=="boolean"&&(r=h),r},resolve:(h,m)=>{for(const f of c().map(p=>p.middleware).reverse())h=f(h,m);return r&&console.log(d.identify()),h}};return d},hF={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},fF={high:3,normal:2,low:1};class Pxe{constructor(e){this.config=e,this.middlewareStack=wv()}send(e,r,n){const s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,o=s===void 0&&this.config.cacheMiddleware===!0;let a;if(o){this.handlers||(this.handlers=new WeakMap);const l=this.handlers;l.has(e.constructor)?a=l.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,s),l.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,s);if(i)a(e).then(l=>i(null,l.output),l=>i(l)).catch(()=>{});else return a(e).then(l=>l.output)}destroy(){var e,r,n;(n=(r=(e=this.config)==null?void 0:e.requestHandler)==null?void 0:r.destroy)==null||n.call(r),delete this.handlers}}let tE=class{constructor(){this.middlewareStack=wv()}static classBuilder(){return new kxe}resolveMiddlewareWithContext(e,r,n,{middlewareFn:s,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,smithyContext:c,additionalContext:d,CommandCtor:h}){for(const g of s.bind(this)(h,e,r,n))this.middlewareStack.use(g);const m=e.concat(this.middlewareStack),{logger:f}=r,p={logger:f,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,[dw]:{commandInstance:this,...c},...d},{requestHandler:E}=r;return m.resolve(g=>E.handle(g.request,n||{}),p)}};class kxe{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let r;return r=class extends tE{static getEndpointParameterInstructions(){return e._ep}constructor(...[n]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=n??{},e._init(this)}resolveMiddleware(n,s,i){return this.resolveMiddlewareWithContext(n,s,i,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}class sf extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;const r=e;return sf.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;const r=e;return this===sf?sf.isInstance(e):sf.isInstance(e)?r.name&&this.name?this.prototype.isPrototypeOf(e)||r.name===this.name:this.prototype.isPrototypeOf(e):!1}}const gs=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(t[n]==null||t[n]==="")&&(t[n]=s)});const r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},Uxe=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{const s=Bxe(t),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:(e==null?void 0:e.code)||(e==null?void 0:e.Code)||n||i||"UnknownError",$fault:"client",$metadata:s});throw gs(o,e)},jxe=t=>({output:e,parsedBody:r,errorCode:n})=>{Uxe({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},Bxe=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),Fxe=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Hxe=t=>{const e=[];for(const r in yv){const n=yv[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms(){return e}}},$xe=t=>{const e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},Gxe=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),Vxe=t=>{const e={};return e.retryStrategy=t.retryStrategy(),e},zxe=t=>Object.assign(Hxe(t),Gxe(t)),Wxe=t=>Object.assign($xe(t),Vxe(t));class mF{trace(){}debug(){}info(){}warn(){}error(){}}function bn(t,e,r){let n,s;n={},s=t;for(const i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}pF(n,null,s,i)}return n}const Kr=(t,e)=>{const r={};for(const n in e)pF(r,t,e,n);return r},pF=(t,e,r,n)=>{if(e!==null){let o=r[n];typeof o=="function"&&(o=[,o]);const[a=Yxe,l=qxe,c=n]=o;(typeof a=="function"&&a(e[c])||typeof a!="function"&&a)&&(t[n]=l(e[c]));return}let[s,i]=r[n];if(typeof i=="function"){let o;const a=s===void 0&&(o=i())!=null,l=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?t[n]=o:l&&(t[n]=i())}else{const o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(t[n]=i)}},Yxe=t=>t!=null,qxe=t=>t,EF=t=>{if(t!==t)return"NaN";switch(t){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return t}},Ba=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(Ba);if(typeof t=="object"){const e={};for(const r of Object.keys(t))t[r]!=null&&(e[r]=Ba(t[r]));return e}return t},Ov=t=>{if(t!=null){if(typeof t=="number"){if((t===0||t===1)&&Dv.warn(Lv(`Expected boolean, got ${typeof t}: ${t}`)),t===0)return!1;if(t===1)return!0}if(typeof t=="string"){const e=t.toLowerCase();if((e==="false"||e==="true")&&Dv.warn(Lv(`Expected boolean, got ${typeof t}: ${t}`)),e==="false")return!1;if(e==="true")return!0}if(typeof t=="boolean")return t;throw new TypeError(`Expected boolean, got ${typeof t}: ${t}`)}},Kxe=t=>{if(t!=null){if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&Dv.warn(Lv(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},Iv=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},_v=(t,e)=>{if(t==null)throw new TypeError(`Expected a non-null value for ${e}`);return t},rE=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;const e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},Hn=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return Dv.warn(Lv(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},Xxe=t=>{if(t==null)return;const e=rE(t),r=Object.entries(e).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return e},ww=t=>typeof t=="string"?Qxe(t):Kxe(t),Qxe=t=>{switch(t){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${t}`)}},Lv=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),Dv={warn:console.warn},Ow=t=>{if(t!=null)return typeof t=="object"&&"__type"in t&&delete t.__type,Xxe(t)},Jxe=(t,e)=>wCe(t,e).then(r=>e.utf8Encoder(r)),nE=(t,e)=>Jxe(t,e).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw(n==null?void 0:n.name)==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Zxe=async(t,e)=>{const r=await nE(t,e);return r.message=r.message??r.Message,r},ewe=(t,e)=>{const r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(t.headers,"x-amzn-errortype");if(s!==void 0)return n(t.headers[s]);if(e&&typeof e=="object"){const i=r(e,"code");if(i&&e[i]!==void 0)return n(e[i]);if(e.__type!==void 0)return n(e.__type)}},twe=/\d{12}\.ddb/;async function rwe(t,e,r){var i,o,a,l,c,d,h;const n=r.request;if(((i=n==null?void 0:n.headers)==null?void 0:i["smithy-protocol"])==="rpc-v2-cbor"&&ja(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){const m=await e.retryStrategy();typeof m.acquireInitialRetryToken=="function"?(a=(o=m.constructor)==null?void 0:o.name)!=null&&a.includes("Adaptive")?ja(t,"RETRY_MODE_ADAPTIVE","F"):ja(t,"RETRY_MODE_STANDARD","E"):ja(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){const m=t.endpointV2;switch(String((l=m==null?void 0:m.url)==null?void 0:l.hostname).match(twe)&&ja(t,"ACCOUNT_ID_ENDPOINT","O"),await((c=e.accountIdEndpointMode)==null?void 0:c.call(e))){case"disabled":ja(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":ja(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":ja(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const s=(h=(d=t.__smithy_context)==null?void 0:d.selectedHttpAuthScheme)==null?void 0:h.identity;if(s!=null&&s.$source){const m=s;m.accountId&&ja(t,"RESOLVED_ACCOUNT_ID","T");for(const[f,p]of Object.entries(m.$source??{}))ja(t,f,p)}}const gF="user-agent",Iw="x-amz-user-agent",TF=" ",_w="/",nwe=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,swe=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,SF="-",iwe=1024;function owe(t){let e="";for(const r in t){const n=t[r];if(e.length+n.length+1<=iwe){e.length?e+=","+n:e+=n;continue}break}return e}const awe=t=>(e,r)=>async n=>{var f,p,E,g;const{request:s}=n;if(!qi.isInstance(s))return e(n);const{headers:i}=s,o=((f=r==null?void 0:r.userAgent)==null?void 0:f.map(Mv))||[],a=(await t.defaultUserAgentProvider()).map(Mv);await rwe(r,t,n);const l=r;a.push(`m/${owe(Object.assign({},(p=r.__smithy_context)==null?void 0:p.features,(E=l.__aws_sdk_context)==null?void 0:E.features))}`);const c=((g=t==null?void 0:t.customUserAgent)==null?void 0:g.map(Mv))||[],d=await t.userAgentAppId();d&&a.push(Mv([`app/${d}`]));const h=[].concat([...a,...o,...c]).join(TF),m=[...a.filter(T=>T.startsWith("aws-sdk-")),...c].join(TF);return t.runtime!=="browser"?(m&&(i[Iw]=i[Iw]?`${i[gF]} ${m}`:m),i[gF]=h):i[Iw]=h,e({...n,request:s})},Mv=t=>{var o;const e=t[0].split(_w).map(a=>a.replace(nwe,SF)).join(_w),r=(o=t[1])==null?void 0:o.replace(swe,SF),n=e.indexOf(_w),s=e.substring(0,n);let i=e.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(a=>a&&a.length>0).reduce((a,l,c)=>{switch(c){case 0:return l;case 1:return`${a}/${l}`;default:return`${a}#${l}`}},"")},lwe={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},cwe=t=>({applyToStack:e=>{e.add(awe(t),lwe)}});var vF;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(vF||(vF={}));const uwe=!1,dwe=!1,yF=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),AF=t=>yF(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,hwe=t=>{const{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{if(typeof e=="string")return AF(e);const n=await e();return AF(n)},useFipsEndpoint:async()=>{const n=typeof e=="string"?e:await e();return yF(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},RF="content-length";function fwe(t){return e=>async r=>{const n=r.request;if(qi.isInstance(n)){const{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(RF)===-1)try{const o=t(s);n.headers={...n.headers,[RF]:String(o)}}catch{}}return e({...r,request:n})}}const mwe={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},pwe=t=>({applyToStack:e=>{e.add(fwe(t.bodyLengthChecker),mwe)}}),Ewe=async t=>{const e=(t==null?void 0:t.Bucket)||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),ywe(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!vwe(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},gwe=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Twe=/(\d+\.){3}\d+/,Swe=/\.\./,vwe=t=>gwe.test(t)&&!Twe.test(t)&&!Swe.test(t),ywe=t=>{const[e,r,n,,,s]=t.split(":"),i=e==="arn"&&t.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return o},Awe=(t,e,r)=>{const n=async()=>{const s=r[t]??r[e];return typeof s=="function"?s():s};return t==="credentialScope"||e==="CredentialScope"?async()=>{const s=typeof r.credentials=="function"?await r.credentials():r.credentials;return(s==null?void 0:s.credentialScope)??(s==null?void 0:s.CredentialScope)}:t==="accountId"||e==="AccountId"?async()=>{const s=typeof r.credentials=="function"?await r.credentials():r.credentials;return(s==null?void 0:s.accountId)??(s==null?void 0:s.AccountId)}:t==="endpoint"||e==="endpoint"?async()=>{const s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){const{protocol:i,hostname:o,port:a,path:l}=s;return`${i}//${o}${a?":"+a:""}${l}`}}return s}:n},NF=async t=>{};function Rwe(t){const e={};if(t=t.replace(/^\?/,""),t)for(const r of t.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in e?Array.isArray(e[n])?e[n].push(s):e[n]=[e[n],s]:e[n]=s}return e}const Pv=t=>{if(typeof t=="string")return Pv(new URL(t));const{hostname:e,pathname:r,port:n,protocol:s,search:i}=t;let o;return i&&(o=Rwe(i)),{hostname:e,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}},bF=t=>typeof t=="object"?"url"in t?Pv(t.url):t:Pv(t),Nwe=async(t,e,r,n)=>{if(!r.endpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await NF(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(bF(o)))}const s=await bwe(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},bwe=async(t,e,r)=>{var i;const n={},s=((i=e==null?void 0:e.getEndpointParameterInstructions)==null?void 0:i.call(e))||{};for(const[o,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=t[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await Awe(a.name,o,r)();break;case"operationContextParams":n[o]=a.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Ewe(n),n},Cwe=({config:t,instructions:e})=>(r,n)=>async s=>{var a,l,c;t.endpoint&&_Ce(n,"ENDPOINT_OVERRIDE","N");const i=await Nwe(s.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=i,n.authSchemes=(a=i.properties)==null?void 0:a.authSchemes;const o=(l=n.authSchemes)==null?void 0:l[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;const d=Av(n),h=(c=d==null?void 0:d.selectedHttpAuthScheme)==null?void 0:c.httpAuthOption;h&&(h.signingProperties=Object.assign(h.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},xwe={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:mw.name},kv=(t,e)=>({applyToStack:r=>{r.addRelativeTo(Cwe({config:t,instructions:e}),xwe)}}),wwe=t=>{const e=t.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=t,i=r!=null?async()=>bF(await Ul(r)()):void 0,a=Object.assign(t,{endpoint:i,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:Ul(n??!1),useFipsEndpoint:Ul(s??!1)});let l;return a.serviceConfiguredEndpoint=async()=>(t.serviceId&&!l&&(l=NF(t.serviceId)),l),a};var of;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(of||(of={}));const Uv=3,Owe=of.STANDARD,Iwe=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],_we=["TimeoutError","RequestTimeout","RequestTimeoutException"],Lwe=[500,502,503,504],Dwe=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Mwe=t=>{var e;return(e=t.$metadata)==null?void 0:e.clockSkewCorrected},Pwe=t=>{const e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},CF=t=>{var e,r;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||Iwe.includes(t.name)||((r=t.$retryable)==null?void 0:r.throttling)==!0},Lw=(t,e=0)=>{var r;return Mwe(t)||_we.includes(t.name)||Dwe.includes((t==null?void 0:t.code)||"")||Lwe.includes(((r=t.$metadata)==null?void 0:r.httpStatusCode)||0)||Pwe(t)||t.cause!==void 0&&e<=10&&Lw(t.cause,e+1)},kwe=t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){const r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Lw(t)}return!1};class jv{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(e==null?void 0:e.beta)??.7,this.minCapacity=(e==null?void 0:e.minCapacity)??1,this.minFillRate=(e==null?void 0:e.minFillRate)??.5,this.scaleConstant=(e==null?void 0:e.scaleConstant)??.4,this.smooth=(e==null?void 0:e.smooth)??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>jv.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}const r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),CF(e)){const s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}jv.setTimeoutFn=setTimeout;const Dw=100,xF=20*1e3,Uwe=500,wF=500,jwe=5,Bwe=10,Fwe=1,Hwe="amz-sdk-invocation-id",$we="amz-sdk-request",Gwe=()=>{let t=Dw;return{computeNextBackoffDelay:n=>Math.floor(Math.min(xF,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}},OF=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(xF,t),getRetryCost:()=>r});class IF{constructor(e){this.maxAttempts=e,this.mode=of.STANDARD,this.capacity=wF,this.retryBackoffStrategy=Gwe(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return OF({retryDelay:Dw,retryCount:0})}async refreshRetryTokenForRetry(e,r){const n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){const s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?Uwe:Dw);const i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(s);return this.capacity-=a,OF({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(wF,this.capacity+(e.getRetryCost()??Fwe))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Uv}`),Uv}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?Bwe:jwe}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class Vwe{constructor(e,r){this.maxAttemptsProvider=e,this.mode=of.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new jv,this.standardRetryStrategy=new IF(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}let Bv;const zwe=new Uint8Array(16);function Wwe(){if(!Bv&&(Bv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bv(zwe)}const Ms=[];for(let t=0;t<256;++t)Ms.push((t+256).toString(16).slice(1));function Ywe(t,e=0){return Ms[t[e+0]]+Ms[t[e+1]]+Ms[t[e+2]]+Ms[t[e+3]]+"-"+Ms[t[e+4]]+Ms[t[e+5]]+"-"+Ms[t[e+6]]+Ms[t[e+7]]+"-"+Ms[t[e+8]]+Ms[t[e+9]]+"-"+Ms[t[e+10]]+Ms[t[e+11]]+Ms[t[e+12]]+Ms[t[e+13]]+Ms[t[e+14]]+Ms[t[e+15]]}const _F={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function qwe(t,e,r){if(_F.randomUUID&&!t)return _F.randomUUID();t=t||{};const n=t.random||(t.rng||Wwe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Ywe(n)}const Kwe=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),Xwe=t=>{const{retryStrategy:e,retryMode:r,maxAttempts:n}=t,s=Ul(n??Uv);return Object.assign(t,{maxAttempts:s,retryStrategy:async()=>e||(await Ul(r)()===of.ADAPTIVE?new Vwe(s):new IF(s))})},Qwe=t=>(t==null?void 0:t.body)instanceof ReadableStream,Jwe=t=>(e,r)=>async n=>{var o;let s=await t.retryStrategy();const i=await t.maxAttempts();if(Zwe(s)){s=s;let a=await s.acquireInitialRetryToken(r.partition_id),l=new Error,c=0,d=0;const{request:h}=n,m=qi.isInstance(h);for(m&&(h.headers[Hwe]=qwe());;)try{m&&(h.headers[$we]=`attempt=${c+1}; max=${i}`);const{response:f,output:p}=await e(n);return s.recordSuccess(a),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=d,{response:f,output:p}}catch(f){const p=eOe(f);if(l=Kwe(f),m&&Qwe(h))throw(o=r.logger instanceof mF?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),l;try{a=await s.refreshRetryTokenForRetry(a,p)}catch{throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=c+1,l.$metadata.totalRetryDelay=d,l}c=a.getRetryCount();const E=a.getRetryDelay();d+=E,await new Promise(g=>setTimeout(g,E))}}else return s=s,s!=null&&s.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(e,n)},Zwe=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",eOe=t=>{const e={error:t,errorType:tOe(t)},r=sOe(t.$response);return r&&(e.retryAfterHint=r),e},tOe=t=>CF(t)?"THROTTLING":Lw(t)?"TRANSIENT":kwe(t)?"SERVER_ERROR":"CLIENT_ERROR",rOe={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},nOe=t=>({applyToStack:e=>{e.add(Jwe(t),rOe)}}),sOe=t=>{if(!Kp.isInstance(t))return;const e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;const r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},iOe=async(t,e,r)=>({operation:Av(e).operation,region:await Ul(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function oOe(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"rds-data",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}const aOe=t=>{const e=[];switch(t.operation){default:e.push(oOe(t))}return e},lOe=t=>{const e=Lxe(t);return Object.assign(e,{authSchemePreference:Ul(t.authSchemePreference??[])})},cOe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"rds-data"}),Fv={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},uOe={version:"3.817.0"},dOe=t=>new TextEncoder().encode(t);var hOe=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:dOe;function sE(t){return t instanceof Uint8Array?t:typeof t=="string"?hOe(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function Mw(t){return typeof t=="string"?t.length===0:t.byteLength===0}var LF={name:"SHA-256"},DF={name:"HMAC",hash:LF},fOe=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const mOe={};function Hv(){return typeof window<"u"?window:typeof self<"u"?self:mOe}var pOe=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!Mw(e)){var r=sE(e),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(r){return Hv().crypto.subtle.sign(DF,r,e.toHash).then(function(n){return new Uint8Array(n)})}):Mw(this.toHash)?Promise.resolve(fOe):Promise.resolve().then(function(){return Hv().crypto.subtle.digest(LF,e.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(r,n){Hv().crypto.subtle.importKey("raw",sE(e.secret),DF,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))},t}(),Fa=function(){return Fa=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Fa.apply(this,arguments)};function MF(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function EOe(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function gOe(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function TOe(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var bo=64,SOe=32,vOe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yOe=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],AOe=Math.pow(2,53)-1,$v=function(){function t(){this.state=Int32Array.from(yOe),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=e.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>AOe)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[r++],n--,this.bufferLength===bo&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%bo>=bo-8){for(var s=this.bufferLength;s<bo;s++)r.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<bo-8;s++)r.setUint8(s,0);r.setUint32(bo-8,Math.floor(e/4294967296),!0),r.setUint32(bo-4,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(SOe),s=0;s<8;s++)i[s*4]=this.state[s]>>>24&255,i[s*4+1]=this.state[s]>>>16&255,i[s*4+2]=this.state[s]>>>8&255,i[s*4+3]=this.state[s]>>>0&255;return i},t.prototype.hashBuffer=function(){for(var e=this,r=e.buffer,n=e.state,s=n[0],i=n[1],o=n[2],a=n[3],l=n[4],c=n[5],d=n[6],h=n[7],m=0;m<bo;m++){if(m<16)this.temp[m]=(r[m*4]&255)<<24|(r[m*4+1]&255)<<16|(r[m*4+2]&255)<<8|r[m*4+3]&255;else{var f=this.temp[m-2],p=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10;f=this.temp[m-15];var E=(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[m]=(p+this.temp[m-7]|0)+(E+this.temp[m-16]|0)}var g=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&c^~l&d)|0)+(h+(vOe[m]+this.temp[m]|0)|0)|0,T=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&i^s&o^i&o)|0;h=d,d=c,c=l,l=a+g|0,a=o,o=i,i=s,s=g+T|0}n[0]+=s,n[1]+=i,n[2]+=o,n[3]+=a,n[4]+=l,n[5]+=c,n[6]+=d,n[7]+=h},t}(),ROe=function(){function t(e){this.secret=e,this.hash=new $v,this.reset()}return t.prototype.update=function(e){if(!(Mw(e)||this.error))try{this.hash.update(sE(e))}catch(r){this.error=r}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return EOe(this,void 0,void 0,function(){return gOe(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new $v,this.secret){this.outer=new $v;var e=NOe(this.secret),r=new Uint8Array(bo);r.set(e);for(var n=0;n<bo;n++)e[n]^=54,r[n]^=92;this.hash.update(e),this.outer.update(r);for(var n=0;n<e.byteLength;n++)e[n]=0}},t}();function NOe(t){var e=sE(t);if(e.byteLength>bo){var r=new $v;r.update(e),e=r.digest()}var n=new Uint8Array(bo);return n.set(e),n}var bOe=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function COe(t){if(xOe(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return wOe(e)}return!1}function xOe(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function wOe(t){return t&&bOe.every(function(e){return typeof t[e]=="function"})}var OOe=function(){function t(e){COe(Hv())?this.hash=new pOe(e):this.hash=new ROe(e)}return t.prototype.update=function(e,r){this.hash.update(sE(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();const IOe={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},PF={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Cn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},li={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},jc={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Ke{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const s=Ke.getVersionPrecision(e),i=Ke.getVersionPrecision(r);let o=Math.max(s,i),a=0;const l=Ke.map([e,r],c=>{const d=o-Ke.getVersionPrecision(c),h=c+new Array(d+1).join(".0");return Ke.map(h.split("."),m=>new Array(20-m.length).join("0")+m).reverse()});for(n&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(l[0][o]>l[1][o])return 1;if(l[0][o]===l[1][o]){if(o===a)return 0;o-=1}else if(l[0][o]<l[1][o])return-1}}static map(e,r){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(s=0;s<e.length;s+=1)n.push(r(e[s]));return n}static find(e,r){let n,s;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,s=e.length;n<s;n+=1){const i=e[n];if(r(i,n))return i}}static assign(e,...r){const n=e;let s,i;if(Object.assign)return Object.assign(e,...r);for(s=0,i=r.length;s<i;s+=1){const o=r[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{n[l]=o[l]})}return e}static getBrowserAlias(e){return IOe[e]}static getBrowserTypeByAlias(e){return PF[e]||""}}const Fr=/version\/(\d+(\.?_?\d+)+)/i,_Oe=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=Ke.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=Ke.getFirstMatch(Fr,t)||Ke.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=Ke.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=Ke.getFirstMatch(Fr,t)||Ke.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=Ke.getFirstMatch(Fr,t)||Ke.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=Ke.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=Ke.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=Ke.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=Ke.getFirstMatch(Fr,t)||Ke.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=Ke.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=Ke.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=Ke.getFirstMatch(Fr,t)||Ke.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=Ke.getFirstMatch(Fr,t)||Ke.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=Ke.getFirstMatch(Fr,t)||Ke.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=Ke.getFirstMatch(Fr,t)||Ke.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=Ke.getFirstMatch(Fr,t)||Ke.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=Ke.getFirstMatch(Fr,t)||Ke.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=Ke.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=Ke.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=Ke.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=Ke.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=Ke.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=Ke.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=Ke.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=Ke.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=Ke.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=Ke.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=Ke.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=Ke.getFirstMatch(Fr,t)||Ke.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=Ke.getFirstMatch(Fr,t)||Ke.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=Ke.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=Ke.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=Ke.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=Ke.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=Ke.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=Ke.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=Ke.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=Ke.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=Ke.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=Ke.getFirstMatch(Fr,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,s=t.search("\\(")!==-1?r:e;return{name:Ke.getFirstMatch(s,t),version:Ke.getSecondMatch(s,t)}}}],LOe=[{test:[/Roku\/DVP/],describe(t){const e=Ke.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:li.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=Ke.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:li.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=Ke.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=Ke.getWindowsVersionName(e);return{name:li.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:li.iOS},r=Ke.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=Ke.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=Ke.getMacOSVersionName(e),n={name:li.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=Ke.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:li.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=Ke.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=Ke.getAndroidVersionName(e),n={name:li.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=Ke.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:li.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=Ke.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||Ke.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||Ke.getFirstMatch(/\bbb(\d+)/i,t);return{name:li.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=Ke.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:li.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=Ke.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:li.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:li.Linux}}},{test:[/CrOS/],describe(){return{name:li.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=Ke.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:li.PlayStation4,version:e}}}],DOe=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=Ke.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:Cn.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Cn.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Cn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Cn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Cn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Cn.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Cn.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=Ke.getFirstMatch(/(ipod|iphone)/i,t);return{type:Cn.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Cn.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:Cn.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:Cn.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:Cn.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:Cn.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:Cn.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:Cn.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:Cn.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:Cn.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:Cn.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:Cn.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:Cn.tv}}}],MOe=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:jc.Blink};const r=Ke.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:jc.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:jc.Trident},r=Ke.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:jc.Presto},r=Ke.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:jc.Gecko},r=Ke.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:jc.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:jc.WebKit},r=Ke.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];let kF=class{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Ke.find(_Oe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Ke.find(LOe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=Ke.find(DOe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Ke.find(MOe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Ke.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const s={};let i=0;if(Object.keys(e).forEach(a=>{const l=e[a];typeof l=="string"?(s[a]=l,i+=1):typeof l=="object"&&(r[a]=l,n+=1)}),n>0){const a=Object.keys(r),l=Ke.find(a,d=>this.isOS(d));if(l){const d=this.satisfies(r[l]);if(d!==void 0)return d}const c=Ke.find(a,d=>this.isPlatform(d));if(c){const d=this.satisfies(r[c]);if(d!==void 0)return d}}if(i>0){const a=Object.keys(s),l=Ke.find(a,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(s[l])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const i=Ke.getBrowserTypeByAlias(s);return r&&i&&(s=i.toLowerCase()),s===n}compareVersion(e){let r=[0],n=e,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(s=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(s=!0,n=e.substr(1)),r.indexOf(Ke.compareVersions(i,n,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}};/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class UF{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new kF(e,r)}static parse(e){return new kF(e).getResult()}static get BROWSER_MAP(){return PF}static get ENGINE_MAP(){return jc}static get OS_MAP(){return li}static get PLATFORMS_MAP(){return Cn}}const POe=({serviceId:t,clientVersion:e})=>async r=>{var o,a,l,c,d,h;const n=typeof window<"u"&&((o=window==null?void 0:window.navigator)!=null&&o.userAgent)?UF.parse(window.navigator.userAgent):void 0,s=[["aws-sdk-js",e],["ua","2.1"],[`os/${((a=n==null?void 0:n.os)==null?void 0:a.name)||"other"}`,(l=n==null?void 0:n.os)==null?void 0:l.version],["lang/js"],["md/browser",`${((c=n==null?void 0:n.browser)==null?void 0:c.name)??"unknown"}_${((d=n==null?void 0:n.browser)==null?void 0:d.version)??"unknown"}`]];t&&s.push([`api/${t}`,e]);const i=await((h=r==null?void 0:r.userAgentAppId)==null?void 0:h.call(r));return i&&s.push([`app/${i}`]),s},kOe=t=>()=>Promise.reject(t),jF=typeof TextEncoder=="function"?new TextEncoder:null,UOe=t=>{if(typeof t=="string"){if(jF)return jF.encode(t).byteLength;let e=t.length;for(let r=e-1;r>=0;r--){const n=t.charCodeAt(r);n>127&&n<=2047?e++:n>2047&&n<=65535&&(e+=2),n>=56320&&n<=57343&&r--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)},BF="required",Ha="fn",$a="argv",af="ref",FF=!0,HF="isSet",iE="booleanEquals",lf="error",oE="endpoint",jl="tree",Pw="PartitionResult",$F={[BF]:!1,type:"String"},GF={[BF]:!0,default:!1,type:"Boolean"},VF={[af]:"Endpoint"},zF={[Ha]:iE,[$a]:[{[af]:"UseFIPS"},!0]},WF={[Ha]:iE,[$a]:[{[af]:"UseDualStack"},!0]},Ga={},YF={[Ha]:"getAttr",[$a]:[{[af]:Pw},"supportsFIPS"]},qF={[Ha]:iE,[$a]:[!0,{[Ha]:"getAttr",[$a]:[{[af]:Pw},"supportsDualStack"]}]},KF=[zF],XF=[WF],QF=[{[af]:"Region"}],jOe={parameters:{Region:$F,UseDualStack:GF,UseFIPS:GF,Endpoint:$F},rules:[{conditions:[{[Ha]:HF,[$a]:[VF]}],rules:[{conditions:KF,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:lf},{conditions:XF,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:lf},{endpoint:{url:VF,properties:Ga,headers:Ga},type:oE}],type:jl},{conditions:[{[Ha]:HF,[$a]:QF}],rules:[{conditions:[{[Ha]:"aws.partition",[$a]:QF,assign:Pw}],rules:[{conditions:[zF,WF],rules:[{conditions:[{[Ha]:iE,[$a]:[FF,YF]},qF],rules:[{endpoint:{url:"https://rds-data-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ga,headers:Ga},type:oE}],type:jl},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:lf}],type:jl},{conditions:KF,rules:[{conditions:[{[Ha]:iE,[$a]:[YF,FF]}],rules:[{endpoint:{url:"https://rds-data-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ga,headers:Ga},type:oE}],type:jl},{error:"FIPS is enabled but this partition does not support FIPS",type:lf}],type:jl},{conditions:XF,rules:[{conditions:[qF],rules:[{endpoint:{url:"https://rds-data.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ga,headers:Ga},type:oE}],type:jl},{error:"DualStack is enabled but this partition does not support DualStack",type:lf}],type:jl},{endpoint:{url:"https://rds-data.{Region}.{PartitionResult#dnsSuffix}",properties:Ga,headers:Ga},type:oE}],type:jl}],type:jl},{error:"Invalid Configuration: Missing Region",type:lf}]},BOe=new jCe({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),FOe=(t,e={})=>BOe.get(t,()=>ZCe(jOe,{endpointParams:t,logger:e.logger}));bv.aws=XB;const HOe=t=>({apiVersion:"2018-08-01",base64Decoder:(t==null?void 0:t.base64Decoder)??pw,base64Encoder:(t==null?void 0:t.base64Encoder)??kB,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??FOe,extensions:(t==null?void 0:t.extensions)??[],httpAuthSchemeProvider:(t==null?void 0:t.httpAuthSchemeProvider)??aOe,httpAuthSchemes:(t==null?void 0:t.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new oxe}],logger:(t==null?void 0:t.logger)??new mF,serviceId:(t==null?void 0:t.serviceId)??"RDS Data",urlParser:(t==null?void 0:t.urlParser)??Pv,utf8Decoder:(t==null?void 0:t.utf8Decoder)??nf,utf8Encoder:(t==null?void 0:t.utf8Encoder)??PB}),$Oe=["in-region","cross-region","mobile","standard","legacy"],GOe=({defaultsMode:t}={})=>axe(async()=>{const e=typeof t=="function"?await t():t;switch(e==null?void 0:e.toLowerCase()){case"auto":return Promise.resolve(VOe()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e==null?void 0:e.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${$Oe.join(", ")}, got ${e}`)}}),VOe=()=>{var r,n;const t=typeof window<"u"&&((r=window==null?void 0:window.navigator)!=null&&r.userAgent)?UF.parse(window.navigator.userAgent):void 0,e=(n=t==null?void 0:t.platform)==null?void 0:n.type;return e==="tablet"||e==="mobile"},zOe=t=>{const e=GOe(t),r=()=>e().then(Fxe),n=HOe(t);return{...n,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??UOe,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??(s=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??POe({serviceId:n.serviceId,clientVersion:uOe.version}),maxAttempts:(t==null?void 0:t.maxAttempts)??Uv,region:(t==null?void 0:t.region)??kOe("Region is missing"),requestHandler:gw.create((t==null?void 0:t.requestHandler)??r),retryMode:(t==null?void 0:t.retryMode)??(async()=>(await r()).retryMode||Owe),sha256:(t==null?void 0:t.sha256)??OOe,streamCollector:(t==null?void 0:t.streamCollector)??RCe,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??(()=>Promise.resolve(uwe)),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??(()=>Promise.resolve(dwe))}},WOe=t=>({setRegion(e){t.region=e},region(){return t.region}}),YOe=t=>({region:t.region()}),qOe=t=>{const e=t.httpAuthSchemes;let r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(s){const i=e.findIndex(o=>o.schemeId===s.schemeId);i===-1?e.push(s):e.splice(i,1,s)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},KOe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),XOe=(t,e)=>{const r=Object.assign(WOe(t),zxe(t),V1e(t),qOe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,YOe(r),Wxe(r),z1e(r),KOe(r))};class JF extends Pxe{constructor(...[r]){const n=zOe(r||{});super(n);O(this,"config");this.initConfig=n;const s=cOe(n),i=UCe(s),o=Xwe(i),a=hwe(o),l=a,c=wwe(l),d=lOe(c),h=XOe(d,(r==null?void 0:r.extensions)||[]);this.config=h,this.middlewareStack.use(cwe(this.config)),this.middlewareStack.use(nOe(this.config)),this.middlewareStack.use(pwe(this.config)),this.middlewareStack.use(K1e(this.config)),this.middlewareStack.use(J1e(this.config)),this.middlewareStack.use(nCe(this.config)),this.middlewareStack.use(lCe(this.config,{httpAuthSchemeParametersProvider:iOe,identityProviderConfigProvider:async m=>new LCe({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(ECe(this.config))}destroy(){super.destroy()}}class $n extends sf{constructor(e){super(e),Object.setPrototypeOf(this,$n.prototype)}}class kw extends $n{constructor(r){super({name:"AccessDeniedException",$fault:"client",...r});O(this,"name","AccessDeniedException");O(this,"$fault","client");Object.setPrototypeOf(this,kw.prototype)}}class Uw extends $n{constructor(r){super({name:"BadRequestException",$fault:"client",...r});O(this,"name","BadRequestException");O(this,"$fault","client");Object.setPrototypeOf(this,Uw.prototype)}}const Bc={DATE:"DATE",DECIMAL:"DECIMAL",JSON:"JSON",TIME:"TIME",TIMESTAMP:"TIMESTAMP",UUID:"UUID"};class jw extends $n{constructor(r){super({name:"DatabaseErrorException",$fault:"client",...r});O(this,"name","DatabaseErrorException");O(this,"$fault","client");Object.setPrototypeOf(this,jw.prototype)}}class Bw extends $n{constructor(r){super({name:"DatabaseNotFoundException",$fault:"client",...r});O(this,"name","DatabaseNotFoundException");O(this,"$fault","client");Object.setPrototypeOf(this,Bw.prototype)}}class Fw extends $n{constructor(r){super({name:"DatabaseResumingException",$fault:"client",...r});O(this,"name","DatabaseResumingException");O(this,"$fault","client");Object.setPrototypeOf(this,Fw.prototype)}}class Hw extends $n{constructor(r){super({name:"DatabaseUnavailableException",$fault:"server",...r});O(this,"name","DatabaseUnavailableException");O(this,"$fault","server");Object.setPrototypeOf(this,Hw.prototype)}}class $w extends $n{constructor(r){super({name:"ForbiddenException",$fault:"client",...r});O(this,"name","ForbiddenException");O(this,"$fault","client");Object.setPrototypeOf(this,$w.prototype)}}class Gw extends $n{constructor(r){super({name:"HttpEndpointNotEnabledException",$fault:"client",...r});O(this,"name","HttpEndpointNotEnabledException");O(this,"$fault","client");Object.setPrototypeOf(this,Gw.prototype)}}class Vw extends $n{constructor(r){super({name:"InternalServerErrorException",$fault:"server",...r});O(this,"name","InternalServerErrorException");O(this,"$fault","server");Object.setPrototypeOf(this,Vw.prototype)}}class zw extends $n{constructor(r){super({name:"InvalidResourceStateException",$fault:"client",...r});O(this,"name","InvalidResourceStateException");O(this,"$fault","client");Object.setPrototypeOf(this,zw.prototype)}}class Ww extends $n{constructor(r){super({name:"InvalidSecretException",$fault:"client",...r});O(this,"name","InvalidSecretException");O(this,"$fault","client");Object.setPrototypeOf(this,Ww.prototype)}}class Yw extends $n{constructor(r){super({name:"SecretsErrorException",$fault:"client",...r});O(this,"name","SecretsErrorException");O(this,"$fault","client");Object.setPrototypeOf(this,Yw.prototype)}}class qw extends $n{constructor(r){super({name:"ServiceUnavailableError",$fault:"server",...r});O(this,"name","ServiceUnavailableError");O(this,"$fault","server");Object.setPrototypeOf(this,qw.prototype)}}class Kw extends $n{constructor(r){super({name:"StatementTimeoutException",$fault:"client",...r});O(this,"name","StatementTimeoutException");O(this,"$fault","client");O(this,"dbConnectionId");Object.setPrototypeOf(this,Kw.prototype),this.dbConnectionId=r.dbConnectionId}}class Xw extends $n{constructor(r){super({name:"TransactionNotFoundException",$fault:"client",...r});O(this,"name","TransactionNotFoundException");O(this,"$fault","client");Object.setPrototypeOf(this,Xw.prototype)}}class Qw extends $n{constructor(r){super({name:"NotFoundException",$fault:"client",...r});O(this,"name","NotFoundException");O(this,"$fault","client");Object.setPrototypeOf(this,Qw.prototype)}}class Jw extends $n{constructor(r){super({name:"UnsupportedResultException",$fault:"client",...r});O(this,"name","UnsupportedResultException");O(this,"$fault","client");Object.setPrototypeOf(this,Jw.prototype)}}var Zw;(function(t){t.visit=(e,r)=>e.booleanValues!==void 0?r.booleanValues(e.booleanValues):e.longValues!==void 0?r.longValues(e.longValues):e.doubleValues!==void 0?r.doubleValues(e.doubleValues):e.stringValues!==void 0?r.stringValues(e.stringValues):e.arrayValues!==void 0?r.arrayValues(e.arrayValues):r._(e.$unknown[0],e.$unknown[1])})(Zw||(Zw={}));var eO;(function(t){t.visit=(e,r)=>e.isNull!==void 0?r.isNull(e.isNull):e.booleanValue!==void 0?r.booleanValue(e.booleanValue):e.longValue!==void 0?r.longValue(e.longValue):e.doubleValue!==void 0?r.doubleValue(e.doubleValue):e.stringValue!==void 0?r.stringValue(e.stringValue):e.blobValue!==void 0?r.blobValue(e.blobValue):e.arrayValue!==void 0?r.arrayValue(e.arrayValue):r._(e.$unknown[0],e.$unknown[1])})(eO||(eO={}));var ZF;(function(t){t.visit=(e,r)=>e.isNull!==void 0?r.isNull(e.isNull):e.bitValue!==void 0?r.bitValue(e.bitValue):e.bigIntValue!==void 0?r.bigIntValue(e.bigIntValue):e.intValue!==void 0?r.intValue(e.intValue):e.doubleValue!==void 0?r.doubleValue(e.doubleValue):e.realValue!==void 0?r.realValue(e.realValue):e.stringValue!==void 0?r.stringValue(e.stringValue):e.blobValue!==void 0?r.blobValue(e.blobValue):e.arrayValues!==void 0?r.arrayValues(e.arrayValues):e.structValue!==void 0?r.structValue(e.structValue):r._(e.$unknown[0],e.$unknown[1])})(ZF||(ZF={}));const QOe=async(t,e)=>{const r=Nv(t,e),n={"content-type":"application/json"};r.bp("/BeginTransaction");let s;return s=JSON.stringify(Kr(t,{database:[],resourceArn:[],schema:[],secretArn:[]})),r.m("POST").h(n).b(s),r.build()},JOe=async(t,e)=>{const r=Nv(t,e),n={"content-type":"application/json"};r.bp("/CommitTransaction");let s;return s=JSON.stringify(Kr(t,{resourceArn:[],secretArn:[],transactionId:[]})),r.m("POST").h(n).b(s),r.build()},ZOe=async(t,e)=>{const r=Nv(t,e),n={"content-type":"application/json"};r.bp("/Execute");let s;return s=JSON.stringify(Kr(t,{continueAfterTimeout:[],database:[],formatRecordsAs:[],includeResultMetadata:[],parameters:i=>xIe(i,e),resourceArn:[],resultSetOptions:i=>Ba(i),schema:[],secretArn:[],sql:[],transactionId:[]})),r.m("POST").h(n).b(s),r.build()},eIe=async(t,e)=>{const r=Nv(t,e),n={"content-type":"application/json"};r.bp("/RollbackTransaction");let s;return s=JSON.stringify(Kr(t,{resourceArn:[],secretArn:[],transactionId:[]})),r.m("POST").h(n).b(s),r.build()},tIe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return Gv(t,e);const r=bn({$metadata:xn(t)}),n=_v(rE(await nE(t.body,e)),"body"),s=Kr(n,{transactionId:Hn});return Object.assign(r,s),r},rIe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return Gv(t,e);const r=bn({$metadata:xn(t)}),n=_v(rE(await nE(t.body,e)),"body"),s=Kr(n,{transactionStatus:Hn});return Object.assign(r,s),r},nIe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return Gv(t,e);const r=bn({$metadata:xn(t)}),n=_v(rE(await nE(t.body,e)),"body"),s=Kr(n,{columnMetadata:Ba,formattedRecords:Hn,generatedFields:i=>r8(i,e),numberOfRecordsUpdated:Iv,records:i=>_Ie(i,e)});return Object.assign(r,s),r},sIe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return Gv(t,e);const r=bn({$metadata:xn(t)}),n=_v(rE(await nE(t.body,e)),"body"),s=Kr(n,{transactionStatus:Hn});return Object.assign(r,s),r},Gv=async(t,e)=>{const r={...t,body:await Zxe(t.body,e)},n=ewe(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await oIe(r);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await aIe(r);case"DatabaseErrorException":case"com.amazonaws.rdsdata#DatabaseErrorException":throw await lIe(r);case"DatabaseNotFoundException":case"com.amazonaws.rdsdata#DatabaseNotFoundException":throw await cIe(r);case"DatabaseResumingException":case"com.amazonaws.rdsdata#DatabaseResumingException":throw await uIe(r);case"DatabaseUnavailableException":case"com.amazonaws.rdsdata#DatabaseUnavailableException":throw await dIe(r);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await hIe(r);case"HttpEndpointNotEnabledException":case"com.amazonaws.rdsdata#HttpEndpointNotEnabledException":throw await fIe(r);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await mIe(r);case"InvalidResourceStateException":case"com.amazonaws.rdsdata#InvalidResourceStateException":throw await pIe(r);case"InvalidSecretException":case"com.amazonaws.rdsdata#InvalidSecretException":throw await EIe(r);case"SecretsErrorException":case"com.amazonaws.rdsdata#SecretsErrorException":throw await TIe(r);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await SIe(r);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await vIe(r);case"TransactionNotFoundException":case"com.amazonaws.rdsdata#TransactionNotFoundException":throw await yIe(r);case"NotFoundException":case"com.amazonaws.rdsdata#NotFoundException":throw await gIe(r);case"UnsupportedResultException":case"com.amazonaws.rdsdata#UnsupportedResultException":throw await AIe(r);default:const s=r.body;return iIe({output:t,parsedBody:s,errorCode:n})}},iIe=jxe($n),oIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{message:Hn});Object.assign(r,s);const i=new kw({$metadata:xn(t),...r});return gs(i,t.body)},aIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{message:Hn});Object.assign(r,s);const i=new Uw({$metadata:xn(t),...r});return gs(i,t.body)},lIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{message:Hn});Object.assign(r,s);const i=new jw({$metadata:xn(t),...r});return gs(i,t.body)},cIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{message:Hn});Object.assign(r,s);const i=new Bw({$metadata:xn(t),...r});return gs(i,t.body)},uIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{message:Hn});Object.assign(r,s);const i=new Fw({$metadata:xn(t),...r});return gs(i,t.body)},dIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{});Object.assign(r,s);const i=new Hw({$metadata:xn(t),...r});return gs(i,t.body)},hIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{message:Hn});Object.assign(r,s);const i=new $w({$metadata:xn(t),...r});return gs(i,t.body)},fIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{message:Hn});Object.assign(r,s);const i=new Gw({$metadata:xn(t),...r});return gs(i,t.body)},mIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{});Object.assign(r,s);const i=new Vw({$metadata:xn(t),...r});return gs(i,t.body)},pIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{message:Hn});Object.assign(r,s);const i=new zw({$metadata:xn(t),...r});return gs(i,t.body)},EIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{message:Hn});Object.assign(r,s);const i=new Ww({$metadata:xn(t),...r});return gs(i,t.body)},gIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{message:Hn});Object.assign(r,s);const i=new Qw({$metadata:xn(t),...r});return gs(i,t.body)},TIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{message:Hn});Object.assign(r,s);const i=new Yw({$metadata:xn(t),...r});return gs(i,t.body)},SIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{});Object.assign(r,s);const i=new qw({$metadata:xn(t),...r});return gs(i,t.body)},vIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{dbConnectionId:Iv,message:Hn});Object.assign(r,s);const i=new Kw({$metadata:xn(t),...r});return gs(i,t.body)},yIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{message:Hn});Object.assign(r,s);const i=new Xw({$metadata:xn(t),...r});return gs(i,t.body)},AIe=async(t,e)=>{const r=bn({}),n=t.body,s=Kr(n,{message:Hn});Object.assign(r,s);const i=new Jw({$metadata:xn(t),...r});return gs(i,t.body)},RIe=(t,e)=>t.filter(r=>r!=null).map(r=>e8(r)),e8=(t,e)=>Zw.visit(t,{arrayValues:r=>({arrayValues:RIe(r)}),booleanValues:r=>({booleanValues:Ba(r)}),doubleValues:r=>({doubleValues:NIe(r)}),longValues:r=>({longValues:Ba(r)}),stringValues:r=>({stringValues:Ba(r)}),_:(r,n)=>({[r]:n})}),NIe=(t,e)=>t.filter(r=>r!=null).map(r=>EF(r)),bIe=(t,e)=>eO.visit(t,{arrayValue:r=>({arrayValue:e8(r)}),blobValue:r=>({blobValue:e.base64Encoder(r)}),booleanValue:r=>({booleanValue:r}),doubleValue:r=>({doubleValue:EF(r)}),isNull:r=>({isNull:r}),longValue:r=>({longValue:r}),stringValue:r=>({stringValue:r}),_:(r,n)=>({[r]:n})}),CIe=(t,e)=>Kr(t,{name:[],typeHint:[],value:r=>bIe(r,e)}),xIe=(t,e)=>t.filter(r=>r!=null).map(r=>CIe(r,e)),wIe=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>t8(Ow(n))),t8=(t,e)=>t.arrayValues!=null?{arrayValues:wIe(t.arrayValues)}:t.booleanValues!=null?{booleanValues:Ba(t.booleanValues)}:t.doubleValues!=null?{doubleValues:OIe(t.doubleValues)}:t.longValues!=null?{longValues:Ba(t.longValues)}:t.stringValues!=null?{stringValues:Ba(t.stringValues)}:{$unknown:Object.entries(t)[0]},OIe=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>ww(n)),IIe=(t,e)=>t.arrayValue!=null?{arrayValue:t8(Ow(t.arrayValue))}:t.blobValue!=null?{blobValue:e.base64Decoder(t.blobValue)}:Ov(t.booleanValue)!==void 0?{booleanValue:Ov(t.booleanValue)}:ww(t.doubleValue)!==void 0?{doubleValue:ww(t.doubleValue)}:Ov(t.isNull)!==void 0?{isNull:Ov(t.isNull)}:Iv(t.longValue)!==void 0?{longValue:Iv(t.longValue)}:Hn(t.stringValue)!==void 0?{stringValue:Hn(t.stringValue)}:{$unknown:Object.entries(t)[0]},r8=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>IIe(Ow(n),e)),_Ie=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>r8(n,e)),xn=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});class LIe extends tE.classBuilder().ep(Fv).m(function(e,r,n,s){return[Rv(n,this.serialize,this.deserialize),kv(n,e.getEndpointParameterInstructions())]}).s("RdsDataService","BeginTransaction",{}).n("RDSDataClient","BeginTransactionCommand").f(void 0,void 0).ser(QOe).de(tIe).build(){}class DIe extends tE.classBuilder().ep(Fv).m(function(e,r,n,s){return[Rv(n,this.serialize,this.deserialize),kv(n,e.getEndpointParameterInstructions())]}).s("RdsDataService","CommitTransaction",{}).n("RDSDataClient","CommitTransactionCommand").f(void 0,void 0).ser(JOe).de(rIe).build(){}class MIe extends tE.classBuilder().ep(Fv).m(function(e,r,n,s){return[Rv(n,this.serialize,this.deserialize),kv(n,e.getEndpointParameterInstructions())]}).s("RdsDataService","ExecuteStatement",{}).n("RDSDataClient","ExecuteStatementCommand").f(void 0,void 0).ser(ZOe).de(nIe).build(){}class PIe extends tE.classBuilder().ep(Fv).m(function(e,r,n,s){return[Rv(n,this.serialize,this.deserialize),kv(n,e.getEndpointParameterInstructions())]}).s("RdsDataService","RollbackTransaction",{}).n("RDSDataClient","RollbackTransactionCommand").f(void 0,void 0).ser(eIe).de(sIe).build(){}function n8(t){if(t.stringValue!==void 0)return t.stringValue;if(t.booleanValue!==void 0)return t.booleanValue;if(t.doubleValue!==void 0)return t.doubleValue;if(t.isNull!==void 0)return null;if(t.longValue!==void 0)return t.longValue;if(t.blobValue!==void 0)return t.blobValue;if(t.arrayValue!==void 0){if(t.arrayValue.stringValues!==void 0)return t.arrayValue.stringValues;if(t.arrayValue.longValues!==void 0)return t.arrayValue.longValues;if(t.arrayValue.doubleValues!==void 0)return t.arrayValue.doubleValues;if(t.arrayValue.booleanValues!==void 0)return t.arrayValue.booleanValues;if(t.arrayValue.arrayValues!==void 0)return t.arrayValue.arrayValues;throw new Error("Unknown array type")}else throw new Error("Unknown type")}function kIe(t){return t==="date"?Bc.DATE:t==="decimal"?Bc.DECIMAL:t==="json"?Bc.JSON:t==="time"?Bc.TIME:t==="timestamp"?Bc.TIMESTAMP:t==="uuid"?Bc.UUID:void 0}function UIe(t,e){const r={value:{},typeHint:kIe(e)};if(t===null)r.value={isNull:!0};else if(typeof t=="string")switch(r.typeHint){case Bc.DATE:{r.value={stringValue:t.split("T")[0]};break}case Bc.TIMESTAMP:{r.value={stringValue:t.replace("T"," ").replace("Z","")};break}default:{r.value={stringValue:t};break}}else if(typeof t=="number"&&Number.isInteger(t))r.value={longValue:t};else if(typeof t=="number"&&!Number.isInteger(t))r.value={doubleValue:t};else if(typeof t=="boolean")r.value={booleanValue:t};else if(t instanceof Date)r.value={stringValue:t.toISOString().replace("T"," ").replace("Z","")};else throw new Error(`Unknown type for ${t}`);return r}class s8 extends(Ype=fx,Wpe=ne,Ype){constructor(r,n,s,i,o,a,l,c,d){super({sql:n,params:s});O(this,"rawQuery");this.client=r,this.params=s,this.typings=i,this.options=o,this.fields=a,this.transactionId=l,this._isResponseInArrayMode=c,this.customResultMapper=d,this.rawQuery=new MIe({sql:n,parameters:[],secretArn:o.secretArn,resourceArn:o.resourceArn,database:o.database,transactionId:l,includeResultMetadata:!a&&!d})}async execute(r={}){const{fields:n,joinsNotNullableMap:s,customResultMapper:i}=this,o=await this.values(r);if(!n&&!i){const{columnMetadata:a,rows:l}=o;if(!a)return o;const c=l.map(d=>{const h={};for(const[m,f]of d.entries()){const p=a[m];if(!p)throw new Error(`Unexpected state: no column metadata found for index ${m}. Please report this issue on GitHub: https://github.com/drizzle-team/drizzle-orm/issues/new/choose`);if(!p.name)throw new Error(`Unexpected state: no column name for index ${m} found in the column metadata. Please report this issue on GitHub: https://github.com/drizzle-team/drizzle-orm/issues/new/choose`);h[p.name]=f}return h});return Object.assign(o,{rows:c})}return i?i(o.rows):o.rows.map(a=>Cp(n,a,s))}async all(r){const n=await this.execute(r);return!this.fields&&!this.customResultMapper?n.rows:n}async values(r={}){var o,a;const n=sd(this.params,r??{});this.rawQuery.input.parameters=n.map((l,c)=>({name:`${c+1}`,...UIe(l,this.typings[c])})),(o=this.options.logger)==null||o.logQuery(this.rawQuery.input.sql,this.rawQuery.input.parameters);const s=await this.client.send(this.rawQuery),i=((a=s.records)==null?void 0:a.map(l=>l.map(c=>n8(c))))??[];return{...s,rows:i}}mapResultRows(r,n){return r.map(s=>{const i={};for(const[o,a]of s.entries()){const{name:l}=n[o];i[l??o]=n8(a)}return i})}isResponseInArrayMode(){return this._isResponseInArrayMode}}O(s8,Wpe,"AwsDataApiPreparedQuery");const _b=class _b extends(Kpe=mx,qpe=ne,Kpe){constructor(r,n,s,i,o){super(n);O(this,"rawQuery");this.client=r,this.schema=s,this.options=i,this.transactionId=o,this.rawQuery={secretArn:i.secretArn,resourceArn:i.resourceArn,database:i.database}}prepareQuery(r,n,s,i,o,a){return new s8(this.client,r.sql,r.params,r.typings??[],this.options,n,a??this.transactionId,i,o)}execute(r){return this.prepareQuery(this.dialect.sqlToQuery(r),void 0,void 0,!1,void 0,this.transactionId).execute()}async transaction(r,n){const{transactionId:s}=await this.client.send(new LIe(this.rawQuery)),i=new _b(this.client,this.dialect,this.schema,this.options,s),o=new rO(this.dialect,i,this.schema);n&&await o.setTransaction(n);try{const a=await r(o);return await this.client.send(new DIe({...this.rawQuery,transactionId:s})),a}catch(a){throw await this.client.send(new PIe({...this.rawQuery,transactionId:s})),a}}};O(_b,qpe,"AwsDataApiSession");let tO=_b;const Lb=class Lb extends(Qpe=M9,Xpe=ne,Qpe){async transaction(e){const r=`sp${this.nestedIndex+1}`,n=new Lb(this.dialect,this.session,this.schema,this.nestedIndex+1);await this.session.execute(q.raw(`savepoint ${r}`));try{const s=await e(n);return await this.session.execute(q.raw(`release savepoint ${r}`)),s}catch(s){throw await this.session.execute(q.raw(`rollback to savepoint ${r}`)),s}}};O(Lb,Xpe,"AwsDataApiTransaction");let rO=Lb;class i8 extends(Zpe=av,Jpe=ne,Zpe){execute(e){return super.execute(e)}}O(i8,Jpe,"AwsDataApiPgDatabase");class nO extends(tEe=ud,eEe=ne,tEe){escapeParam(e){return`:${e+1}`}buildInsertQuery({table:e,values:r,onConflict:n,returning:s,select:i,withList:o}){const a=e[We.Symbol.Columns];if(!i)for(const l of r)for(const c of Object.keys(a)){const d=l[c];ge(d,zs)&&d.value!==void 0&&ge(d.encoder,Ap)&&Array.isArray(d.value)&&(l[c]=q`cast(${d} as ${q.raw(d.encoder.getSQLType())})`)}return super.buildInsertQuery({table:e,values:r,onConflict:n,returning:s,withList:o})}buildUpdateSet(e,r){const n=e[We.Symbol.Columns];for(const[s,i]of Object.entries(r))n[s]&&ge(i,zs)&&i.value!==void 0&&ge(i.encoder,Ap)&&Array.isArray(i.value)&&(r[s]=q`cast(${i} as ${q.raw(i.encoder.getSQLType())})`);return super.buildUpdateSet(e,r)}}O(nO,eEe,"AwsPgDialect");function Vv(t,e){const r=new nO({casing:e.casing});let n;e.logger===!0?n=new US:e.logger!==!1&&(n=e.logger);let s;if(e.schema){const a=qS(e.schema,XS);s={fullSchema:e.schema,schema:a.tables,tableNamesMap:a.tableNamesMap}}const i=new tO(t,r,s,{...e,logger:n},void 0),o=new i8(r,i,s);return o.$client=t,o}function o8(...t){if(t[0]instanceof JF||t[0].constructor.name!=="Object")return Vv(t[0],t[1]);if(t[0].client){const{client:l,...c}=t[0];return Vv(l,c)}const{connection:e,...r}=t[0],{resourceArn:n,database:s,secretArn:i,...o}=e,a=new JF(o);return Vv(a,{resourceArn:n,database:s,secretArn:i,...r})}(t=>{function e(r){return Vv({},r)}t.mock=e})(o8||(o8={}));class a8 extends(nEe=mx,rEe=ne,nEe){constructor(r,n,s,i={}){super(n);O(this,"logger");this.client=r,this.schema=s,this.logger=i.logger??new jS}prepareQuery(r,n,s,i,o){return new l8(this.client,r.sql,r.params,r.typings,this.logger,n,i,o)}async transaction(r,n){throw new Error("Transactions are not supported by the Postgres Proxy driver")}}O(a8,rEe,"PgRemoteSession");class l8 extends(iEe=fx,sEe=ne,iEe){constructor(e,r,n,s,i,o,a,l){super({sql:r,params:n}),this.client=e,this.queryString=r,this.params=n,this.typings=s,this.logger=i,this.fields=o,this._isResponseInArrayMode=a,this.customResultMapper=l}async execute(e={}){return _s.startActiveSpan("drizzle.execute",async r=>{const n=sd(this.params,e),{fields:s,client:i,queryString:o,joinsNotNullableMap:a,customResultMapper:l,logger:c,typings:d}=this;if(r==null||r.setAttributes({"drizzle.query.text":o,"drizzle.query.params":JSON.stringify(n)}),c.logQuery(o,n),!s&&!l)return _s.startActiveSpan("drizzle.driver.execute",async()=>{const{rows:m}=await i(o,n,"execute",d);return m});const h=await _s.startActiveSpan("drizzle.driver.execute",async()=>{r==null||r.setAttributes({"drizzle.query.text":o,"drizzle.query.params":JSON.stringify(n)});const{rows:m}=await i(o,n,"all",d);return m});return _s.startActiveSpan("drizzle.mapResponse",()=>l?l(h):h.map(m=>Cp(s,m,a)))})}async all(){}isResponseInArrayMode(){return this._isResponseInArrayMode}}O(l8,sEe,"PgProxyPreparedQuery");class c8 extends(aEe=av,oEe=ne,aEe){}O(c8,oEe,"PgRemoteDatabase");function u8(t,e={},r=()=>new ud({casing:e.casing})){const n=r();let s;e.logger===!0?s=new US:e.logger!==!1&&(s=e.logger);let i;if(e.schema){const a=qS(e.schema,XS);i={fullSchema:e.schema,schema:a.tables,tableNamesMap:a.tableNamesMap}}const o=new a8(t,n,i,{logger:s});return new c8(n,o,i)}const sO=u8(async()=>({rows:[]})),zv=new ud,jIe=t=>{const{oldName:e,newName:r}=t;return`ALTER SCHEMA "${e}" RENAME TO "${r}"`},BIe=t=>{const{schema:e,oldName:r,newName:n}=t;return`ALTER TABLE "${e}"."${r}" RENAME TO "${n}"`},FIe=t=>{const{schema:e,oldName:r,newName:n}=t;return`ALTER VIEW "${e}"."${r}" RENAME TO "${n}"`},HIe=(t,e,r)=>(n,s)=>{const i=t[n.schema];if(!i)throw new Error("Schema not found");const o=i[n.table];if(!o)throw new Error("Entity not found");let a,l;if(ge(o,pn))a=px(o),l=a.columns;else if(ge(o,Fp))a=Tye(o),l=Object.values(a.selectedFields);else if(ge(o,Hp))a=Sye(o),l=Object.values(a.selectedFields);else throw new Error("Unsupported entity type");const c=l.reduce((E,g)=>(E[g.name]=g,E),{}),d=n.columns&&n.columns.length>0?l.reduce((E,g)=>{var T;return(T=n.columns)!=null&&T.includes(g.name)&&(E[g.name]=g),E},{}):c,h=n.orderBy?n.orderBy.map(E=>{const g=c[E.column];return E.type==="ASC"?VS(g):E.type==="DESC"?zS(g):g}):[];let f=u8(async(E,g,T,S)=>({rows:await e(E,g,{method:T,mode:"array",typings:S,signal:s})}),{},r==="aws-data-api"?()=>new nO:void 0).select(d).from(o).where(n.where?ra(n.where):void 0).orderBy(...h).$dynamic();return typeof n.limit<"u"&&(f=f.limit(n.limit)),typeof n.offset<"u"&&(f=f.offset(n.offset)),{statement:zv.sqlToQuery(f.getSQL().inlineParams()).sql,execute:f.execute}},d8=t=>{const{schema:e,table:r}=t;return`SELECT '${e}' AS schema, '${r}' AS table, COUNT(*) AS count FROM "${e}"."${r}"`},$Ie=t=>t.map(r=>d8(r)).map(r=>`(${r})`).join(" UNION ALL "),h8=t=>ge(t,$S)||ge(t,BS)?e=>e&&new Date(e):ge(t,b1)||ge(t,B1)||ge(t,j1)||ge(t,H1)||ge(t,R1)||ge(t,k1)||ge(t,h1)||ge(t,m1)?e=>e&&Number(e):ge(t,f1)||ge(t,p1)?e=>e&&BigInt(e):e=>e,iO=(t,e)=>{const r=n=>Object.fromEntries(Object.entries(n).map(([s,i])=>{const o=e[s];return[s,o(i)]}));return Array.isArray(t)?t.map(r):r(t)},GIe=t=>e=>{if(!ge(t,pn))throw new Error("Unsupported entity type");const n=px(t).columns.reduce((a,l)=>(a[l.name]=h8(l),a),{}),s=iO(e.data,n),i=sO.insert(t).overridingSystemValue().values(s);return zv.sqlToQuery(i.getSQL().inlineParams()).sql},VIe=t=>e=>{if(!ge(t,pn))throw new Error("Unsupported entity type");const r=px(t).columns.reduce((o,a)=>(o[a.name]=h8(a),o),{}),n=iO(e.data,r),s=sO.update(t).set(n).where(ra(e.where));return zv.sqlToQuery(s.getSQL().inlineParams()).sql},zIe=t=>e=>{if(!ge(t,pn))throw new Error("Unsupported entity type");const r=sO.delete(t).where(ra(e.where));return zv.sqlToQuery(r.getSQL().inlineParams()).sql},Wv=(t,e)=>e?t:`'${t}'`,WIe=t=>{const{name:e}=t;return`CREATE SCHEMA "${e}"`},YIe=t=>{const{name:e,cascade:r}=t;return`DROP SCHEMA "${e}"${r?" CASCADE":""}`},qIe=t=>{const{schema:e,name:r,values:n}=t;return`CREATE TYPE "${e}"."${r}" AS ENUM (${n.map(s=>`'${s}'`).join(", ")})`},KIe=t=>{const{schema:e,name:r}=t;return`DROP TYPE "${e}"."${r}"`},XIe=t=>{const{schema:e,oldName:r,newName:n}=t;return`ALTER TYPE "${e}"."${r}" RENAME TO "${n}"`},QIe=t=>{const{schema:e,name:r,columns:n,constraints:s}=t,i=Object.values(n).map(a=>{const{name:l,type:c,isPrimary:d,isNotNull:h,isUnique:m,typeParams:f,identityParams:p,generatedParams:E,defaultValue:g,isDefaultAnExpression:T}=a,S=Yv(c,f);let v=`"${l}" ${c}${S}`;return d&&(v+=" PRIMARY KEY"),h&&!d&&(v+=" NOT NULL"),m&&!d&&(v+=" UNIQUE"),p?v+=` GENERATED ${p.type==="always"?"ALWAYS":"BY DEFAULT"} AS IDENTITY`:E&&(v+=` GENERATED ALWAYS AS (${E.as}) ${E.type.toUpperCase()}`),g&&(v+=` DEFAULT ${Wv(g,T)}`),v}).join(", "),o=Object.values(s).map(a=>{const{type:l,name:c}=a;if(l==="primary"){const{columns:p}=a;return`CONSTRAINT "${c}" PRIMARY KEY ("${p.join('", "')}")`}if(l==="unique"){const{columns:p}=a;return`CONSTRAINT "${c}" UNIQUE ("${p.join('", "')}")`}if(l==="check"){const{expression:p}=a;return`CONSTRAINT "${c}" CHECK (${p})`}const{refSchema:d,refTable:h,refColumns:m,columns:f}=a;return`CONSTRAINT "${c}" FOREIGN KEY ("${f.join('", "')}") REFERENCES "${d}"."${h}" ("${m.join('", "')}")`}).join(", ");return`CREATE TABLE "${e}"."${r}" (${i}${o?`, ${o}`:""})`},JIe=t=>{const{schema:e,name:r,query:n}=t;return`CREATE VIEW "${e}"."${r}" AS ${n}`},ZIe=t=>{const{schema:e,name:r,cascade:n}=t;return`TRUNCATE TABLE "${e}"."${r}"${n?" CASCADE":""}`},e_e=t=>{const{schema:e,name:r,cascade:n}=t;return`DROP TABLE "${e}"."${r}"${n?" CASCADE":""}`},t_e=t=>{const{schema:e,name:r}=t;return`DROP VIEW "${e}"."${r}"`},r_e=t=>{const{schema:e,table:r,name:n,isNotNull:s}=t;return`ALTER TABLE "${e}"."${r}" ALTER COLUMN "${n}" ${s?"SET":"DROP"} NOT NULL`},n_e=t=>{const{schema:e,table:r,oldName:n,newName:s}=t;return`ALTER TABLE "${e}"."${r}" RENAME COLUMN "${n}" TO "${s}"`},s_e=t=>{const{schema:e,table:r,name:n}=t;return`ALTER TABLE "${e}"."${r}" DROP COLUMN "${n}"`},i_e=t=>{const{schema:e,table:r,name:n,type:s,isPrimary:i,isNotNull:o,isUnique:a,typeParams:l,identityParams:c,generatedParams:d,defaultValue:h,isDefaultAnExpression:m}=t,f=Yv(s,l);let p=`ALTER TABLE "${e}"."${r}" ADD COLUMN "${n}" ${s}${f}`;return i&&(p+=" PRIMARY KEY"),o&&!i&&(p+=" NOT NULL"),a&&!i&&(p+=" UNIQUE"),c?p+=` GENERATED ${c.type==="always"?"ALWAYS":"BY DEFAULT"} AS IDENTITY`:d&&(p+=` GENERATED ALWAYS AS (${d.as}) ${d.type.toUpperCase()}`),h&&(p+=` DEFAULT ${Wv(h,m)}`),p},o_e=()=>({numberTypes:f8,booleanTypes:m8,jsonTypes:E8,dateTypes:g8,identityTypes:p8,typeGroups:T8,typeParamsNames:oO}),f8=["integer","smallint","serial","smallserial","numeric","decimal","real","double precision"],m8=["boolean"],p8=["integer","smallint","bigint"],E8=["json","jsonb"],g8=["time","timestamp","timestamp with time zone","date"],T8=[["integer","smallint","bigint"],["serial","smallserial","bigserial"],["uuid"],["boolean"],["text","varchar","char"],["numeric","decimal","real","double precision"],["json","jsonb"],["time","timestamp","timestamp with time zone","date","interval"],["point","line"],["inet","cidr","macaddr","macaddr8"]],oO={numeric:{precision:!0,scale:!0},decimal:{precision:!0,scale:!0},char:{length:!0},varchar:{length:!0},time:{precision:!0},timestamp:{precision:!0},interval:{precision:!0},point:{precision:!0},line:{precision:!0},json:{precision:!0},jsonb:{precision:!0}},Yv=(t,e)=>{if(!e)return"";const r=oO[t]||{},n=Object.keys(r).map(o=>e[o]).filter(Boolean);let s=n.length>0?`(${n.join(", ")})`:"";const i=e.dimensions;if(typeof i=="number")for(let o=0;o<i;o++)s+="[]";return s},a_e=Object.freeze(Object.defineProperty({__proto__:null,booleanTypes:m8,convertColumnsValues:iO,dateTypes:g8,getTypeParamsString:Yv,getTypes:o_e,identityTypes:p8,jsonTypes:E8,numberTypes:f8,prepareAddColumnStatement:i_e,prepareAddConstraintStatement:t=>{const{schema:e,table:r,name:n,type:s}=t;if(s==="primary"){const{columns:f}=t,p=`"${f.join('", "')}"`;return`ALTER TABLE "${e}"."${r}" ADD CONSTRAINT "${n}" PRIMARY KEY (${p})`}if(s==="unique"){const{columns:f}=t,p=`"${f.join('", "')}"`;return`ALTER TABLE "${e}"."${r}" ADD CONSTRAINT "${n}" UNIQUE (${p})`}if(s==="check"){const{expression:f}=t;return`ALTER TABLE "${e}"."${r}" ADD CONSTRAINT "${n}" CHECK (${f})`}const{refSchema:i,refTable:o,refColumns:a,columns:l,updateRule:c,deleteRule:d}=t,h=`"${l.join('", "')}"`,m=`"${a.join('", "')}"`;return`ALTER TABLE "${e}"."${r}" ADD CONSTRAINT "${n}" FOREIGN KEY (${h}) REFERENCES "${i}"."${o}" (${m}) ON UPDATE ${c} ON DELETE ${d}`},prepareAddIndexStatement:t=>{const{schema:e,table:r,name:n,columns:s,method:i,isUnique:o}=t,a=`"${s.join('", "')}"`;return`CREATE ${o?"UNIQUE ":""}INDEX "${n}" ON "${e}"."${r}" USING ${i} (${a})`},prepareAlterColumnDefaultStatement:t=>{const{schema:e,table:r,name:n,defaultValue:s,isDefaultAnExpression:i}=t;return s?`ALTER TABLE "${e}"."${r}" ALTER COLUMN "${n}" SET DEFAULT ${Wv(s,i)}`:`ALTER TABLE "${e}"."${r}" ALTER COLUMN "${n}" DROP DEFAULT`},prepareAlterColumnIdentityStatement:t=>{const{schema:e,table:r,name:n,identityParams:s}=t;return s?`ALTER TABLE "${e}"."${r}" ALTER COLUMN "${n}" ADD GENERATED ${s.type==="always"?"ALWAYS":"BY DEFAULT"} AS IDENTITY`:`ALTER TABLE "${e}"."${r}" ALTER COLUMN "${n}" DROP IDENTITY`},prepareAlterColumnNotNullStatement:r_e,prepareAlterColumnTypeStatement:t=>{const{schema:e,table:r,name:n,type:s,typeParams:i}=t,o=Yv(s,i);return`ALTER TABLE "${e}"."${r}" ALTER COLUMN "${n}" TYPE ${s}${o}`},prepareAlterColumnUniqueStatement:t=>{const{schema:e,table:r,name:n,isUnique:s}=t;return s?`ALTER TABLE "${e}"."${r}" ADD UNIQUE ("${n}")`:`ALTER TABLE "${e}"."${r}" DROP CONSTRAINT "${r}_${n}_key"`},prepareCreateEnumStatement:qIe,prepareCreateSchemaStatement:WIe,prepareCreateTableStatement:QIe,prepareCreateViewStatement:JIe,prepareDeleteStatement:zIe,prepareDropColumnStatement:s_e,prepareDropConstraintStatement:t=>{const{schema:e,table:r,name:n}=t;return`ALTER TABLE "${e}"."${r}" DROP CONSTRAINT "${n}"`},prepareDropEnumStatement:KIe,prepareDropIndexStatement:t=>{const{schema:e,name:r}=t;return`DROP INDEX "${e}"."${r}"`},prepareDropSchemaStatement:YIe,prepareDropTableStatement:e_e,prepareDropViewStatement:t_e,prepareInsertStatement:GIe,prepareRenameColumnStatement:n_e,prepareRenameEnumStatement:XIe,prepareRenameSchemaStatement:jIe,prepareRenameTableStatement:BIe,prepareRenameViewStatement:FIe,prepareSelectCountStatement:d8,prepareSelectStatement:HIe,prepareTruncateTableStatement:ZIe,prepareUnionSelectCountStatement:$Ie,prepareUpdateStatement:VIe,typeGroups:T8,typeParamsNames:oO,wrapDefaultValue:Wv},Symbol.toStringTag,{value:"Module"}));class S8 extends(cEe=S4,lEe=ne,cEe){constructor(r,n,s,i,o={}){super(n);O(this,"logger");this.client=r,this.schema=s,this.batchCLient=i,this.logger=o.logger??new jS}prepareQuery(r,n,s,i,o){return new v8(this.client,r,this.logger,n,s,i,o)}async batch(r){const n=[],s=[];for(const o of r){const a=o._prepare(),l=a.getQuery();n.push(a),s.push({sql:l.sql,params:l.params,method:l.method})}return(await this.batchCLient(s)).map((o,a)=>n[a].mapResult(o,!0))}async transaction(r,n){const s=new aO("async",this.dialect,this,this.schema);await this.run(q.raw(`begin${n!=null&&n.behavior?" "+n.behavior:""}`));try{const i=await r(s);return await this.run(q`commit`),i}catch(i){throw await this.run(q`rollback`),i}}extractRawAllValueFromBatchResult(r){return r.rows}extractRawGetValueFromBatchResult(r){return r.rows[0]}extractRawValuesValueFromBatchResult(r){return r.rows}}O(S8,lEe,"SQLiteRemoteSession");const Db=class Db extends(dEe=v4,uEe=ne,dEe){async transaction(e){const r=`sp${this.nestedIndex}`,n=new Db("async",this.dialect,this.session,this.schema,this.nestedIndex+1);await this.session.run(q.raw(`savepoint ${r}`));try{const s=await e(n);return await this.session.run(q.raw(`release savepoint ${r}`)),s}catch(s){throw await this.session.run(q.raw(`rollback to savepoint ${r}`)),s}}};O(Db,uEe,"SQLiteProxyTransaction");let aO=Db;class v8 extends(fEe=T4,hEe=ne,fEe){constructor(r,n,s,i,o,a,l){super("async",o,n);O(this,"method");this.client=r,this.logger=s,this.fields=i,this._isResponseInArrayMode=a,this.customResultMapper=l,this.customResultMapper=l,this.method=o}getQuery(){return{...this.query,method:this.method}}run(r){const n=sd(this.query.params,r??{});return this.logger.logQuery(this.query.sql,n),this.client(this.query.sql,n,"run")}mapAllResult(r,n){return n&&(r=r.rows),!this.fields&&!this.customResultMapper?r:this.customResultMapper?this.customResultMapper(r):r.map(s=>Cp(this.fields,s,this.joinsNotNullableMap))}async all(r){const{query:n,logger:s,client:i}=this,o=sd(n.params,r??{});s.logQuery(n.sql,o);const{rows:a}=await i(n.sql,o,"all");return this.mapAllResult(a)}async get(r){const{query:n,logger:s,client:i}=this,o=sd(n.params,r??{});s.logQuery(n.sql,o);const a=await i(n.sql,o,"get");return this.mapGetResult(a.rows)}mapGetResult(r,n){n&&(r=r.rows);const s=r;if(!this.fields&&!this.customResultMapper)return s;if(s)return this.customResultMapper?this.customResultMapper([r]):Cp(this.fields,s,this.joinsNotNullableMap)}async values(r){const n=sd(this.query.params,r??{});return this.logger.logQuery(this.query.sql,n),(await this.client(this.query.sql,n,"values")).rows}isResponseInArrayMode(){return this._isResponseInArrayMode}}O(v8,hEe,"SQLiteProxyPreparedQuery");class y8 extends(pEe=Dx,mEe=ne,pEe){async batch(e){return this.session.batch(e)}}O(y8,mEe,"SqliteRemoteDatabase");function A8(t,e,r){const n=new Cx({casing:r==null?void 0:r.casing});let s,i,o={},a;if(o.schema){const c=qS(o.schema,XS);a={fullSchema:o.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}const l=new S8(t,n,a,i,{logger:s});return new y8("async",n,l,a)}const lO=A8(async()=>({rows:[]})),qv=new Cx,l_e=t=>{const{oldName:e,newName:r}=t;return`ALTER TABLE "${e}" RENAME TO "${r}"`},c_e=t=>{const{oldName:e,newName:r}=t;return`ALTER VIEW "${e}" RENAME TO "${r}"`},u_e=(t,e)=>(r,n)=>{const s=t[r.schema];if(!s)throw new Error("Schema not found");const i=s[r.table];if(!i)throw new Error("Entity not found");let o,a,l;if(ge(i,En))o=Px(i),a=o.columns,o.primaryKeys.length===0&&a.every(g=>!g.primary)&&(l=D8(a),l&&(a=a.concat(e4(l).primaryKey().build(i))));else if(ge(i,zp))o=kye(i),a=Object.values(o.selectedFields);else throw new Error("Unsupported entity type");const c=a.reduce((g,T)=>(g[T.name]=T,g),{}),d=r.columns&&r.columns.length>0?a.reduce((g,T)=>{var S;return(S=r.columns)!=null&&S.includes(T.name)&&(g[T.name]=T),g},{}):c,h=r.orderBy?r.orderBy.map(g=>{const T=c[g.column];return g.type==="ASC"?VS(T):g.type==="DESC"?zS(T):T}):[],m=A8(async(g,T,S)=>({rows:await e(g,T,{method:S,mode:"array",signal:n})})),f={...d,...l?{__drizzlerowid__:q.raw(l).as(l)}:{}};let p=m.select(f).from(i).where(r.where?ra(r.where):void 0).orderBy(...h).$dynamic();return typeof r.limit<"u"&&(p=p.limit(r.limit)),typeof r.offset<"u"&&(p=p.offset(r.offset)),{statement:qv.sqlToQuery(p.getSQL().inlineParams()).sql,execute:p.all}},R8=t=>{const{table:e}=t;return`SELECT '${e}' AS "table", COUNT(*) as "count" FROM "${e}"`},d_e=t=>t.map(e=>R8(e)).join(" UNION ALL "),N8=t=>ge(t,vx)?e=>e&&new Date(e):ge(t,Sx)?e=>e&&Number(e):e=>e,cO=(t,e)=>{const r=n=>Object.fromEntries(Object.entries(n).map(([s,i])=>{const o=e[s];return[s,o(i)]}));return Array.isArray(t)?t.map(r):r(t)},h_e=t=>e=>{if(!ge(t,En))throw new Error("Unsupported entity type");const n=Px(t).columns.reduce((a,l)=>(a[l.name]=N8(l),a),{}),s=cO(e.data,n),i=lO.insert(t).values(s);return qv.sqlToQuery(i.getSQL().inlineParams()).sql},f_e=t=>e=>{if(!ge(t,En))throw new Error("Unsupported entity type");const r=Px(t).columns.reduce((o,a)=>(o[a.name]=N8(a),o),{}),n=cO(e.data,r),s=lO.update(t).set(n).where(ra(e.where));return qv.sqlToQuery(s.getSQL().inlineParams()).sql},m_e=t=>e=>{if(!ge(t,En))throw new Error("Unsupported entity type");const r=lO.delete(t).where(ra(e.where));return qv.sqlToQuery(r.getSQL().inlineParams()).sql},uO=(t,e)=>e?t:`'${t}'`,p_e=t=>{throw new Error("Create schema is not supported")},E_e=t=>{throw new Error("Drop schema is not supported")},g_e=t=>{throw new Error("Rename schema is not supported")},T_e=t=>{throw new Error("Create enum is not supported")},S_e=t=>{throw new Error("Rename enum is not supported")},v_e=t=>{throw new Error("Drop enum is not supported")},y_e=t=>{const{name:e,columns:r,constraints:n}=t,s=Object.values(r).map(o=>{const{name:a,type:l,isPrimary:c,isAutoIncrement:d,isNotNull:h,isUnique:m,typeParams:f,defaultValue:p,isDefaultAnExpression:E,generatedParams:g}=o,T=hO(l,f);let S=`"${a}" ${l}${T}`;return c&&(S+=" PRIMARY KEY",d&&(S+=" AUTOINCREMENT")),h&&!c&&(S+=" NOT NULL"),m&&!c&&(S+=" UNIQUE"),g&&(S+=` GENERATED ALWAYS AS (${g.as}) ${g.type.toUpperCase()}`),p&&(S+=` DEFAULT ${uO(p,E)}`),S}).join(", "),i=Object.values(n).map(o=>{const{type:a,name:l}=o;if(a==="primary"){const{columns:f}=o;return`CONSTRAINT "${l}" PRIMARY KEY ("${f.join('", "')}")`}if(a==="unique"){const{columns:f}=o;return`CONSTRAINT "${l}" UNIQUE ("${f.join('", "')}")`}if(a==="check"){const{expression:f}=o;return`CONSTRAINT "${l}" CHECK (${f})`}const{refSchema:c,refTable:d,refColumns:h,columns:m}=o;return`CONSTRAINT "${l}" FOREIGN KEY ("${m.join('", "')}") REFERENCES "${c}"."${d}" ("${h.join('", "')}")`}).join(", ");return`CREATE TABLE "${e}" (${s}${i?`, ${i}`:""})`},A_e=t=>{const{name:e,query:r}=t;return`CREATE VIEW "${e}" AS ${r}`},R_e=t=>{const{name:e}=t;return`DELETE FROM "${e}"`},N_e=t=>{const{name:e}=t;return`DROP TABLE "${e}"`},b_e=t=>{const{name:e}=t;return`DROP VIEW "${e}"`},C_e=t=>{throw new Error("Alter column not null is not yet supported")},x_e=t=>{const{table:e,oldName:r,newName:n}=t;return`ALTER TABLE "${e}" RENAME COLUMN "${r}" TO "${n}"`},w_e=t=>{const{table:e,name:r}=t;return`ALTER TABLE "${e}" DROP COLUMN "${r}"`},O_e=t=>{const{table:e,name:r,type:n,isPrimary:s,isAutoIncrement:i,isNotNull:o,isUnique:a,typeParams:l,defaultValue:c,isDefaultAnExpression:d,generatedParams:h}=t,m=hO(n,l);let f=`ALTER TABLE "${e}" ADD COLUMN "${r}" ${n}${m}`;return s&&(f+=" PRIMARY KEY"),i&&(f+=" AUTOINCREMENT"),o&&!s&&(f+=" NOT NULL"),a&&!s&&(f+=" UNIQUE"),h&&(f+=` GENERATED ALWAYS AS (${h.as}) ${h.type.toUpperCase()}`),c&&(f+=` DEFAULT ${uO(c,d)}`),f},I_e=()=>({numberTypes:b8,booleanTypes:C8,jsonTypes:x8,dateTypes:O8,identityTypes:w8,typeGroups:I8,typeParamsNames:dO}),b8=["integer","real","bigint"],C8=["boolean"],x8=[],w8=[],O8=[],I8=[["integer","real","text","blob","boolean","bigint"]],dO={},hO=(t,e)=>{if(!e)return"";const r=dO[t];if(!r)return"";const n=Object.keys(r).map(s=>e[s]).filter(Boolean);return n.length>0?`(${n.join(", ")})`:""},__e=Object.freeze(Object.defineProperty({__proto__:null,booleanTypes:C8,convertColumnsValues:cO,dateTypes:O8,getTypeParamsString:hO,getTypes:I_e,identityTypes:w8,jsonTypes:x8,numberTypes:b8,prepareAddColumnStatement:O_e,prepareAddConstraintStatement:t=>{throw new Error("Add constraint is not yet supported")},prepareAddIndexStatement:t=>{const{table:e,name:r,columns:n,isUnique:s}=t,i=`"${n.join('", "')}"`;return`CREATE ${s?"UNIQUE ":""}INDEX "${r}" ON "${e}" (${i})`},prepareAlterColumnDefaultStatement:t=>{throw new Error("Alter column default is not yet supported")},prepareAlterColumnIdentityStatement:t=>{throw new Error("Identity columns are not supported")},prepareAlterColumnNotNullStatement:C_e,prepareAlterColumnTypeStatement:t=>{throw new Error("Alter column type is not yet supported")},prepareAlterColumnUniqueStatement:t=>{throw new Error("Alter column unique is not yet supported")},prepareCreateEnumStatement:T_e,prepareCreateSchemaStatement:p_e,prepareCreateTableStatement:y_e,prepareCreateViewStatement:A_e,prepareDeleteStatement:m_e,prepareDropColumnStatement:w_e,prepareDropConstraintStatement:t=>{throw new Error("Drop constraint is not yet supported")},prepareDropEnumStatement:v_e,prepareDropIndexStatement:t=>{const{name:e}=t;return`DROP INDEX "${e}"`},prepareDropSchemaStatement:E_e,prepareDropTableStatement:N_e,prepareDropViewStatement:b_e,prepareInsertStatement:h_e,prepareRenameColumnStatement:x_e,prepareRenameEnumStatement:S_e,prepareRenameSchemaStatement:g_e,prepareRenameTableStatement:l_e,prepareRenameViewStatement:c_e,prepareSelectCountStatement:R8,prepareSelectStatement:u_e,prepareTruncateTableStatement:R_e,prepareUnionSelectCountStatement:d_e,prepareUpdateStatement:f_e,typeGroups:I8,typeParamsNames:dO,wrapDefaultValue:uO},Symbol.toStringTag,{value:"Module"})),cr=t=>{if(t==="mysql"||t==="singlestore")return G1e;if(t==="postgresql")return a_e;if(t==="sqlite")return __e;throw new Error(`Dialect ${t} is not supported`)},L_e=(t,e,r)=>{var o;if(e==null)return e;if(typeof e=="object"&&"_type"in e&&e._type==="DEFAULT")return;if(typeof e=="object"&&"_type"in e&&e._type==="BINARY")return e.value;const{numberTypes:n,jsonTypes:s,booleanTypes:i}=cr(t);if((o=r.typeParams)!=null&&o.dimensions){if(!Array.isArray(e))throw new Error(`'${r.name}' is not an array: ${e}`);return e}if(n.includes(r.type)){if(Number.isNaN(+e))throw new Error(`'${r.name}' is not a number: ${e}`);return Number(e)}if(i.includes(r.type)){if(!["true","false"].includes(e)&&typeof e!="boolean")throw new Error(`'${r.name}' is not a boolean: ${e}`);return!!e}if(s.includes(r.type))try{return JSON.parse(JSON.stringify(e))}catch{throw new Error(`'${r.name}' is not a JSON object: ${e}`)}return e},_8=(t,e,r)=>{const n={};return r.filter(s=>s.name in e).forEach(s=>{n[s.name]=L_e(t,e[s.name],s)}),n},L8=t=>t.reduce((e,r)=>{const{recordKey:n,columnKey:s,value:i}=r;return e[n]||(e[n]={}),e[n][s]=i,e},{}),D8=t=>t.find(r=>r.name==="rowid")?t.find(r=>r.name==="oid")?t.find(r=>r.name==="_rowid_")?void 0:"_rowid_":"oid":"rowid",Nr=(t,e)=>({...t,values:{...t.values,...e}}),M8=(t,e)=>Object.fromEntries(Object.entries(t).filter(([r])=>e.find(n=>n.name===r))),D_e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Ii=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=D_e[r[t]&63];return e};const Kv={BASE_URL:"./",DEV:!1,MODE:"expo-plugin",PROD:!0,SSR:!1},fO=new Map,Xv=t=>{const e=fO.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,n])=>[r,n.getState()])):{}},M_e=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const n=fO.get(r.name);if(n)return{type:"tracked",store:t,...n};const s={connection:e.connect(r),stores:{}};return fO.set(r.name,s),{type:"tracked",store:t,...s}},P_e=(t,e={})=>(r,n,s)=>{const{enabled:i,anonymousActionType:o,store:a,...l}=e;let c;try{c=(i??(Kv?"expo-plugin":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return(Kv?"expo-plugin":void 0)!=="production"&&i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(r,n,s);const{connection:d,...h}=M_e(a,c,l);let m=!0;s.setState=(E,g,T)=>{const S=r(E,g);if(!m)return S;const v=T===void 0?{type:o||"anonymous"}:typeof T=="string"?{type:T}:T;return a===void 0?(d==null||d.send(v,n()),S):(d==null||d.send({...v,type:`${a}/${v.type}`},{...Xv(l.name),[a]:s.getState()}),S)};const f=(...E)=>{const g=m;m=!1,r(...E),m=g},p=t(s.setState,n,s);if(h.type==="untracked"?d==null||d.init(p):(h.stores[h.store]=s,d==null||d.init(Object.fromEntries(Object.entries(h.stores).map(([E,g])=>[E,E===h.store?p:g.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let E=!1;const g=s.dispatch;s.dispatch=(...T)=>{(Kv?"expo-plugin":void 0)!=="production"&&T[0].type==="__setState"&&!E&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),E=!0),g(...T)}}return d.subscribe(E=>{var g;switch(E.type){case"ACTION":if(typeof E.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return mO(E.payload,T=>{if(T.type==="__setState"){if(a===void 0){f(T.state);return}Object.keys(T.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const S=T.state[a];if(S==null)return;JSON.stringify(s.getState())!==JSON.stringify(S)&&f(S);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(T)});case"DISPATCH":switch(E.payload.type){case"RESET":return f(p),a===void 0?d==null?void 0:d.init(s.getState()):d==null?void 0:d.init(Xv(l.name));case"COMMIT":if(a===void 0){d==null||d.init(s.getState());return}return d==null?void 0:d.init(Xv(l.name));case"ROLLBACK":return mO(E.state,T=>{if(a===void 0){f(T),d==null||d.init(s.getState());return}f(T[a]),d==null||d.init(Xv(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return mO(E.state,T=>{if(a===void 0){f(T);return}JSON.stringify(s.getState())!==JSON.stringify(T[a])&&f(T[a])});case"IMPORT_STATE":{const{nextLiftedState:T}=E.payload,S=(g=T.computedStates.slice(-1)[0])==null?void 0:g.state;if(!S)return;f(a===void 0?S:S[a]),d==null||d.send(null,T);return}case"PAUSE_RECORDING":return m=!m}return}}),p},mO=(t,e)=>{let r;try{r=JSON.parse(t)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&e(r)};function P8(t,e){let r;try{r=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,e==null?void 0:e.reviver),a=(i=r.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,e==null?void 0:e.replacer)),removeItem:s=>r.removeItem(s)}}const aE=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return aE(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return aE(n)(r)}}}},k_e=(t,e)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,T)=>({...T,...g}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...g)},n,s);const d=aE(i.serialize),h=()=>{const g=i.partialize({...n()});let T;const S=d({state:g,version:i.version}).then(v=>c.setItem(i.name,v)).catch(v=>{T=v});if(T)throw T;return S},m=s.setState;s.setState=(g,T)=>{m(g,T),h()};const f=t((...g)=>{r(...g),h()},n,s);let p;const E=()=>{var g;if(!c)return;o=!1,a.forEach(S=>S(n()));const T=((g=i.onRehydrateStorage)==null?void 0:g.call(i,n()))||void 0;return aE(c.getItem.bind(c))(i.name).then(S=>{if(S)return i.deserialize(S)}).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==i.version){if(i.migrate)return i.migrate(S.state,S.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return S.state}).then(S=>{var v;return p=i.merge(S,(v=n())!=null?v:f),r(p,!0),h()}).then(()=>{T==null||T(p,void 0),o=!0,l.forEach(S=>S(p))}).catch(S=>{T==null||T(void 0,S)})};return s.persist={setOptions:g=>{i={...i,...g},g.getStorage&&(c=g.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>E(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},E(),p||f},U_e=(t,e)=>(r,n,s)=>{let i={storage:P8(()=>localStorage),partialize:E=>E,version:0,merge:(E,g)=>({...g,...E}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...E)},n,s);const d=()=>{const E=i.partialize({...n()});return c.setItem(i.name,{state:E,version:i.version})},h=s.setState;s.setState=(E,g)=>{h(E,g),d()};const m=t((...E)=>{r(...E),d()},n,s);s.getInitialState=()=>m;let f;const p=()=>{var E,g;if(!c)return;o=!1,a.forEach(S=>{var v;return S((v=n())!=null?v:m)});const T=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(E=n())!=null?E:m))||void 0;return aE(c.getItem.bind(c))(i.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==i.version){if(i.migrate)return[!0,i.migrate(S.state,S.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var v;const[N,C]=S;if(f=i.merge(C,(v=n())!=null?v:m),r(f,!0),N)return d()}).then(()=>{T==null||T(f,void 0),f=n(),o=!0,l.forEach(S=>S(f))}).catch(S=>{T==null||T(void 0,S)})};return s.persist={setOptions:E=>{i={...i,...E},E.storage&&(c=E.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:E=>(a.add(E),()=>{a.delete(E)}),onFinishHydration:E=>(l.add(E),()=>{l.delete(E)})},i.skipHydration||p(),f||m},pO=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Kv?"expo-plugin":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),k_e(t,e)):U_e(t,e);var k8=Symbol.for("immer-nothing"),U8=Symbol.for("immer-draftable"),Xi=Symbol.for("immer-state");function ia(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var cf=Object.getPrototypeOf;function uf(t){return!!t&&!!t[Xi]}function Td(t){var e;return t?j8(t)||Array.isArray(t)||!!t[U8]||!!((e=t.constructor)!=null&&e[U8])||Zv(t)||e0(t):!1}var j_e=Object.prototype.constructor.toString();function j8(t){if(!t||typeof t!="object")return!1;const e=cf(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===j_e}function Qv(t,e){Jv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Jv(t){const e=t[Xi];return e?e.type_:Array.isArray(t)?1:Zv(t)?2:e0(t)?3:0}function EO(t,e){return Jv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function B8(t,e,r){const n=Jv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function B_e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Zv(t){return t instanceof Map}function e0(t){return t instanceof Set}function Sd(t){return t.copy_||t.base_}function gO(t,e){if(Zv(t))return new Map(t);if(e0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=j8(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Xi];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(cf(t),n)}else{const n=cf(t);if(n!==null&&r)return{...t};const s=Object.create(n);return Object.assign(s,t)}}function TO(t,e=!1){return t0(t)||uf(t)||!Td(t)||(Jv(t)>1&&(t.set=t.add=t.clear=t.delete=F_e),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>TO(n,!0))),t}function F_e(){ia(2)}function t0(t){return Object.isFrozen(t)}var H_e={};function vd(t){const e=H_e[t];return e||ia(0,t),e}var lE;function F8(){return lE}function $_e(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function H8(t,e){e&&(vd("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function SO(t){vO(t),t.drafts_.forEach(G_e),t.drafts_=null}function vO(t){t===lE&&(lE=t.parent_)}function $8(t){return lE=$_e(lE,t)}function G_e(t){const e=t[Xi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function G8(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Xi].modified_&&(SO(e),ia(4)),Td(t)&&(t=r0(e,t),e.parent_||n0(e,t)),e.patches_&&vd("Patches").generateReplacementPatches_(r[Xi].base_,t,e.patches_,e.inversePatches_)):t=r0(e,r,[]),SO(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==k8?t:void 0}function r0(t,e,r){if(t0(e))return e;const n=e[Xi];if(!n)return Qv(e,(s,i)=>V8(t,n,e,s,i,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return n0(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),Qv(i,(a,l)=>V8(t,n,s,a,l,r,o)),n0(t,s,!1),r&&t.patches_&&vd("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function V8(t,e,r,n,s,i,o){if(uf(s)){const a=i&&e&&e.type_!==3&&!EO(e.assigned_,n)?i.concat(n):void 0,l=r0(t,s,a);if(B8(r,n,l),uf(l))t.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Td(s)&&!t0(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;r0(t,s),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&n0(t,s)}}function n0(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&TO(e,r)}function V_e(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:F8(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=yO;r&&(s=[n],i=cE);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return n.draft_=a,n.revoke_=o,a}var yO={get(t,e){if(e===Xi)return t;const r=Sd(t);if(!EO(r,e))return z_e(t,r,e);const n=r[e];return t.finalized_||!Td(n)?n:n===AO(t.base_,e)?(NO(t),t.copy_[e]=bO(n,t)):n},has(t,e){return e in Sd(t)},ownKeys(t){return Reflect.ownKeys(Sd(t))},set(t,e,r){const n=z8(Sd(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const s=AO(Sd(t),e),i=s==null?void 0:s[Xi];if(i&&i.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(B_e(r,s)&&(r!==void 0||EO(t.base_,e)))return!0;NO(t),RO(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return AO(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,NO(t),RO(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Sd(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){ia(11)},getPrototypeOf(t){return cf(t.base_)},setPrototypeOf(){ia(12)}},cE={};Qv(yO,(t,e)=>{cE[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),cE.deleteProperty=function(t,e){return cE.set.call(this,t,e,void 0)},cE.set=function(t,e,r){return yO.set.call(this,t[0],e,r,t[0])};function AO(t,e){const r=t[Xi];return(r?Sd(r):t)[e]}function z_e(t,e,r){var s;const n=z8(e,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(t.draft_):void 0}function z8(t,e){if(!(e in t))return;let r=cf(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=cf(r)}}function RO(t){t.modified_||(t.modified_=!0,t.parent_&&RO(t.parent_))}function NO(t){t.copy_||(t.copy_=gO(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var W_e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const i=r;r=e;const o=this;return function(l=i,...c){return o.produce(l,d=>r.call(this,d,...c))}}typeof r!="function"&&ia(6),n!==void 0&&typeof n!="function"&&ia(7);let s;if(Td(e)){const i=$8(this),o=bO(e,void 0);let a=!0;try{s=r(o),a=!1}finally{a?SO(i):vO(i)}return H8(i,n),G8(s,i)}else if(!e||typeof e!="object"){if(s=r(e),s===void 0&&(s=e),s===k8&&(s=void 0),this.autoFreeze_&&TO(s,!0),n){const i=[],o=[];vd("Patches").generateReplacementPatches_(e,s,i,o),n(i,o)}return s}else ia(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let n,s;return[this.produce(e,r,(o,a)=>{n=o,s=a}),n,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Td(t)||ia(8),uf(t)&&(t=Y_e(t));const e=$8(this),r=bO(t,void 0);return r[Xi].isManual_=!0,vO(e),r}finishDraft(t,e){const r=t&&t[Xi];(!r||!r.isManual_)&&ia(9);const{scope_:n}=r;return H8(n,e),G8(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const s=e[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(e=e.slice(r+1));const n=vd("Patches").applyPatches_;return uf(t)?n(t,e):this.produce(t,s=>n(s,e))}};function bO(t,e){const r=Zv(t)?vd("MapSet").proxyMap_(t,e):e0(t)?vd("MapSet").proxySet_(t,e):V_e(t,e);return(e?e.scope_:F8()).drafts_.push(r),r}function Y_e(t){return uf(t)||ia(10,t),W8(t)}function W8(t){if(!Td(t)||t0(t))return t;const e=t[Xi];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=gO(t,e.scope_.immer_.useStrictShallowCopy_)}else r=gO(t,!0);return Qv(r,(n,s)=>{B8(r,n,W8(s))}),e&&(e.finalized_=!1),r}var Qi=new W_e,q_e=Qi.produce;Qi.produceWithPatches.bind(Qi),Qi.setAutoFreeze.bind(Qi),Qi.setUseStrictShallowCopy.bind(Qi),Qi.applyPatches.bind(Qi),Qi.createDraft.bind(Qi),Qi.finishDraft.bind(Qi);const Y8=t=>(e,r,n)=>(n.setState=(s,i,...o)=>{const a=typeof s=="function"?q_e(s):s;return e(a,i,...o)},t(n.setState,r,n));function q8(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,s]of t)if(!Object.is(s,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(e,n)||!Object.is(t[n],e[n]))return!1;return!0}const K8=(t,e)=>KC()(P_e((e?r=>r:pO)(Y8((r,n)=>({structureScenario:null,databaseMetadata:[],sidebarWidth:268,schemaFiles:null,customRelations:null,tab:"content",currentPage:"main",history:[],actionForUnsavedChanges:null,isSidebarOpen:!0,isShowSidebarContent:!0,filtersVisible:!1,filterViews:{},currentSchema:{name:"public",tables:[],views:[]},currentSchemaName:null,currentTable:null,selectedTableIds:[],selectedRecords:[],loadingRecords:!1,restartTrigger:0,actions:{setStructureScenario:s=>{r({structureScenario:s})},setSidebarWidth:s=>{r({sidebarWidth:s})},setTab:s=>{r({tab:s})},setCurrentPage:s=>{r({currentPage:s})},setHistory:s=>{r({history:s})},setActionForUnsavedChanges:s=>{r({actionForUnsavedChanges:s})},toggleSidebarOpen:()=>{const{isSidebarOpen:s}=n();s?(r({isShowSidebarContent:!1}),setTimeout(()=>{r({isSidebarOpen:!1})},150)):(r({isSidebarOpen:!0}),setTimeout(()=>{r({isShowSidebarContent:!0})},150))},setPagination:s=>{const{currentTable:i}=n();if(!i)throw new Error("currentTable is not defined");r(o=>{var a;return{currentTable:{...o.currentTable,pagination:{...(a=o.currentTable)==null?void 0:a.pagination,...s}}}})},setFilters:s=>{const{currentTable:i}=n();if(!i)throw new Error("currentTable is not defined");r(o=>({currentTable:{...o.currentTable,filters:s}}))},removeFilters:s=>{const{currentTable:i}=n();if(!i)throw new Error("currentTable is not defined");if(s!==void 0){r(o=>{var a;return{currentTable:{...o.currentTable,filters:(a=o.currentTable)==null?void 0:a.filters.filter(l=>l.id!==s)}}});return}r(o=>({currentTable:{...o.currentTable,filters:[]}}))},setSort:s=>{const{currentTable:i}=n();if(!i)throw new Error("currentTable is not defined");r(o=>({currentTable:{...o.currentTable,sort:s}}))},setFiltersVisible:s=>{r({filtersVisible:s})},setFilterView:()=>{const{currentTable:s,filterViews:i}=n();if(!s)throw new Error("currentTable is not defined");const o=`${s.schema}.${s.name}`,a=i[o]||[];let l;const c=s.filters[0],d=c?c.type===Je.in?`(${c.value})`:[Je.isNull,Je.isNotNull].includes(c.type)?"null":c.value:"",h=typeof c<"u"&&(c==null?void 0:c.value)!==""?`${c.column} ${c.type} ${d}`:s.sort?`${s.sort.column} ${s.sort.type}`:"View "+(a.length+1);if(!a.length){l="filter-view-"+o+"-"+Ii(),r(f=>({filterViews:{...f.filterViews,[o]:[{id:l,name:h,filters:s.filters,columnSettings:s.columnSettings,pagination:s.pagination,sort:s.sort}]},currentTable:{...f.currentTable,id:l}}));return}const m=a.findIndex(f=>f.id===(s==null?void 0:s.id));m===-1?(l="filter-view-"+o+"-"+Ii(),r(f=>{var p;(p=f.filterViews[o])==null||p.push({id:l,name:h,filters:s.filters,columnSettings:s.columnSettings,pagination:s.pagination,sort:s.sort})}),r(f=>({currentTable:{...f.currentTable,id:l}}))):r(f=>{var p;(p=f.filterViews[o])==null||p.splice(m,1,{...a[m],filters:s.filters,columnSettings:s.columnSettings,pagination:s.pagination,sort:s.sort})})},removeFilterView:s=>{const{currentTable:i,filterViews:o}=n();if(!i)throw new Error("currentTable is not defined");const a=`${i.schema}.${i.name}`,l=o[a];if(!l)return;const c=l.findIndex(d=>d.id===(s||(i==null?void 0:i.id)));c!==-1&&(r(d=>{var h,m;(h=d.filterViews[a])==null||h.splice(c,1),((m=d.filterViews[a])==null?void 0:m.length)===0&&delete d.filterViews[a]}),r(d=>{var h;return{currentTable:{...d.currentTable,columnSettings:Ua(m=>({...m,hidden:!1}),((h=d.currentTable)==null?void 0:h.columnSettings)||{}),filters:[],pagination:{limit:50,offset:0},sort:null,id:`${i.schema}.${i.name}`}}}))},setFilterViewName:(s,i)=>{const{currentTable:o,filterViews:a}=n();if(!o)throw new Error("currentTable is not defined");const l=`${o.schema}.${o.name}`,c=a[l];if(!c)return;const d=c.findIndex(h=>h.id===s);d!==-1&&r(h=>{var m;(m=h.filterViews[l])==null||m.splice(d,1,{...c[d],name:i})})},setCurrentSchemaName:s=>{r({currentSchemaName:s})},setCurrentTable:s=>{var i;if(!s){r({currentTable:null});return}"drizzleOnTableSelected"in window&&s.name!==((i=n().currentTable)==null?void 0:i.name)&&window.drizzleOnTableSelected(s.name),r({currentTable:s})},syncWithDatabase:s=>{let{currentSchemaName:i,currentTable:o,filterViews:a,actions:{setCurrentSchemaName:l,setCurrentTable:c}}=n();if((!i||!s[i])&&(i=s.public?"public":Object.keys(s)[0]||null,l(i)),!o||!s[o.schema]||!s[o.schema].tables[o.name]&&!s[o.schema].views[o.name]){const f=(p=>{if(!p||!s[p])return null;const E=s[p],g=Object.values(E.tables)[0],T=Object.values(E.views)[0];return g||T||null})(i);c(f?{id:f.id,name:f.name,schema:f.schema,type:f.type,createdRecords:[],editedFields:[],filters:[],pagination:{limit:50,offset:0},records:[],sort:null,columnSettings:{}}:null)}else{const m=s[o.schema],f=m.tables[o.name]||m.views[o.name];c({...o,filters:o.filters.filter(p=>f.columns[p.column]),columnSettings:hve(Object.keys(f.columns),o.columnSettings)})}for(const m in a){const[f,p]=m.split(".");(!s[f]||!s[f].tables[p]||!s[f].views[p])&&r(E=>{delete E.filterViews[m]})}},setSelectedTableIds:s=>{r({selectedTableIds:s})},setColumnWidth:(s,i)=>{const{currentTable:o}=n();if(!o)throw new Error("currentTable is not defined");r(a=>({currentTable:$t(["columnSettings",s,"width"],i,a.currentTable)}))},setColumnsVisibility:(s,i)=>{const{currentTable:o}=n();if(!o)throw new Error("currentTable is not defined");r(a=>{var l;return{currentTable:$t(["columnSettings"],nj((c,d)=>Pp(d,{hidden:!s},c),((l=a.currentTable)==null?void 0:l.columnSettings)||{},i),a.currentTable)}})},setSelectedRecords:s=>{r({selectedRecords:s})},fetchRecords:async s=>{const{currentTable:i}=n();if(!i)throw new Error("currentTable is not defined");const{schemas:o}=it.getState(),a=o[i.schema];if(!a)throw new Error("schema is not defined");const l=a.tables[i.name]||a.views[i.name];if(!l)throw new Error("entity is not defined");r(m=>({currentTable:{...m.currentTable,editedFields:[],recordsErrorResult:void 0}})),r({loadingRecords:!0});const c=i.filters.length>0?{and:i.filters.map(({column:m,type:f,value:p})=>p===void 0?{}:{op:[m,f,p]})}:void 0;let d;if(i.sort)d=[i.sort];else{const m=jh(l);m.length>0&&(d=m.map(f=>({column:f})))}const h=it.getState().actions.prepareSelect({schema:i.schema,table:i.name,columns:Object.keys(l.columns),limit:i.pagination.limit,where:c,orderBy:d,offset:i.pagination.offset},s);try{const m=performance.now();let f=await h.execute();const p=performance.now();r(E=>{var g;if(((g=E.currentTable)==null?void 0:g.id)===i.id)return{currentTable:{...E.currentTable,executionTime:p-m,records:f.map(T=>{const S=T.__drizzlerowid__;return{id:Ii(),rowid:S,type:"DEFAULT",expanded:!1,relation:null,values:T}})}}})}catch(m){if(m instanceof Error&&m.name==="AbortError")return;r(f=>{var p;if(((p=f.currentTable)==null?void 0:p.id)===i.id)return{currentTable:{...f.currentTable,executionTime:void 0,records:[],recordsErrorResult:{error:m,statement:h.statement}}}})}finally{r({loadingRecords:!1})}},prepareDeleteRecords:()=>{const{currentTable:s,selectedRecords:i,actions:{fetchRecords:o}}=n();if(!s)throw new Error("currentTable is not defined");const{schemas:a}=it.getState(),l=a[s.schema];if(!l)throw new Error("schema is not defined");const c=l.tables[s.name]||l.views[s.name];if(!c)throw new Error("entity is not defined");const d=jh(c),h=Object.values(c.columns).filter(E=>E.isUnique).map(E=>E.name);let m;if(d.length===0&&h.length===0)throw new Error("Primary key or unique column is required");d.length>0?m="primary":m="unique";const f={or:i.map(E=>({and:(m==="primary"?d:h).map(g=>{const T=g in E.values?E.values[g]:E.rowid,S=T===null?Je.isNull:Je.equals;return{op:[g,S,T]}})}))},p=it.getState().actions.prepareDelete({schema:s.schema,table:s.name,where:f});return{statement:p.statement,execute:async()=>{await p.execute(),await o()}}},addCreatedRecord:()=>{const{currentTable:s}=n();if(!s)throw new Error("currentTable is not defined");const{schemas:i}=it.getState(),o=i[s.schema];if(!o)throw new Error("schema is not defined");const a=o.tables[s.name]||o.views[s.name];if(!a)throw new Error("entity is not defined");const l={id:`created-record-${Ii()}`,type:"CREATE",expandedColumnName:null,relation:null,values:{}};Object.values(a.columns).forEach(c=>{var d;c.hasDefaultValue||(d=c.identityParams)!=null&&d.type?l.values[c.name]={_type:"DEFAULT"}:l.values[c.name]=null}),r(c=>{var d;return{currentTable:{...c.currentTable,createdRecords:[...((d=c.currentTable)==null?void 0:d.createdRecords)||[],l]}}})},setCreatedRecords:s=>{const{currentTable:i}=n();if(!i)throw new Error("currentTable is not defined");r(o=>({currentTable:{...o.currentTable,createdRecords:s}}))},removeCreatedRecord:s=>{const{currentTable:i}=n();if(!i)throw new Error("currentTable is not defined");r(o=>{var a;return{currentTable:{...o.currentTable,createdRecords:(((a=o.currentTable)==null?void 0:a.createdRecords)||[]).filter(l=>l.id!==s)}}})},addEditedField:(s,i,o)=>{const{currentTable:a}=n();if(!a)throw new Error("currentTable is not defined");r(l=>{var d,h,m,f,p;const c=(((d=l.currentTable)==null?void 0:d.editedFields)||[]).findIndex(E=>E.recordKey===s&&E.columnKey===i);c===-1?(h=l.currentTable)==null||h.editedFields.push({recordKey:s,columnKey:i,value:o}):(Pr((m=l.currentTable)==null?void 0:m.editedFields[c].value,o)&&((f=l.currentTable)==null||f.editedFields.splice(c,1)),(p=l.currentTable)==null||p.editedFields.splice(c,1,{recordKey:s,columnKey:i,value:o}))})},removeEditedField:(s,i)=>{const{currentTable:o}=n();if(!o)throw new Error("currentTable is not defined");r(a=>{var l;return{currentTable:{...a.currentTable,editedFields:(((l=a.currentTable)==null?void 0:l.editedFields)||[]).filter(c=>c.recordKey!==s||c.columnKey!==i)}}})},saveChanges:async()=>{const{currentTable:s,actions:{fetchRecords:i}}=n(),o=it.getState().dialect;if(!o)throw new Error("dialect is not defined");if(!s)throw new Error("currentTable is not defined");const{schemas:a}=it.getState(),l=a[s.schema];if(!l)throw new Error("schema is not defined");const c=l.tables[s.name]||l.views[s.name];if(!c)throw new Error("entity is not defined");const d=[];if(s.createdRecords.length>0){const h=[],m=[];await Promise.all(s.createdRecords.map(async f=>{try{const p=await it.getState().actions.prepareInsert({schema:s.schema,table:s.name,data:_8(o,f.values,Object.values(c.columns))});await p.execute().then(()=>{d.push({statement:p.statement}),h.push(f.id)}).catch(E=>{d.push({statement:p.statement,error:E}),m.push(f.id),ds(E,!1)})}catch(p){d.push({error:p}),m.push(f.id),ds(p,!1)}})),r(f=>{var p;return{currentTable:{...f.currentTable,createdRecords:(p=f.currentTable)==null?void 0:p.createdRecords.filter(E=>!h.includes(E.id))}}})}if(s.editedFields.length>0){const h=jh(c),m=Object.values(c.columns).filter(T=>T.isUnique).map(T=>T.name);let f;if(h.length===0&&m.length===0)throw new Error("Primary key or unique column is required");h.length>0?f="primary":f="unique";const p=L8(s.editedFields),E=[],g=[];await Promise.all(Object.entries(p).map(async([T,S])=>{const v=s.records.find(C=>C.id===T);if(!v)return;const N={and:(f==="primary"?h:m).map(C=>{const x=C in v.values?v.values[C]:v.rowid,A=x===null?Je.isNull:Je.equals;return{op:[C,A,x]}})};try{const C=it.getState().actions.prepareUpdate({schema:s.schema,table:s.name,data:_8(o,S,Object.values(c.columns)),where:N});await C.execute().then(()=>{d.push({statement:C.statement}),E.push(T)}).catch(x=>{d.push({statement:C.statement,error:x}),g.push(T),ds(x,!1)})}catch(C){d.push({error:C}),g.push(T),ds(C,!1)}})),r(T=>{var S;return{currentTable:{...T.currentTable,editedFields:(S=T.currentTable)==null?void 0:S.editedFields.filter(v=>!E.includes(v.recordKey))}}})}return d.length>0&&d.some(h=>!h.error)&&await i(),d},discardChanges:()=>{r(s=>({currentTable:{...s.currentTable,createdRecords:[],editedFields:[]}}))},restart:()=>{r(s=>({restartTrigger:s.restartTrigger+1}))},reset:()=>{r({filterViews:{},currentSchemaName:"public",currentTable:null})}}})),{name:`drizzle-db-${t}`,partialize:({currentPage:r,isSidebarOpen:n,isShowSidebarContent:s,filtersVisible:i,currentSchemaName:o,currentTable:a,filterViews:l,sidebarWidth:c})=>({currentPage:r,filterViews:l,isSidebarOpen:n,isShowSidebarContent:s,filtersVisible:i,sidebarWidth:c,currentSchemaName:o,currentTable:a?{...a,records:[],createdRecords:[],editedFields:[],recordsErrorResult:void 0,count:void 0}:null}),version:1,migrate:(r,n)=>(n===0&&(r.currentTable.columnSettings=aj(r.currentTable.columns.map(s=>[s.name,{hidden:!s.visible,width:s.width}])),delete r.currentTable.columns,r.filterViews=Ua(s=>s.map(i=>({id:i.id,name:i.name,filters:i.filters,pagination:i.pagination,columnSettings:aj(i.columns.map(o=>[o.name,{hidden:!o.visible,width:o.width}]))})),r.filterViews)),r)}),{name:"drizzle-db-temp",enabled:!1})),ht=yp()(pO(Y8((t,e)=>({isBugReportOpen:!1,setIsBugReportOpen:r=>{t({isBugReportOpen:r})},readonlyMode:!1,setReadonlyMode:r=>{const{mainStore:n}=e();r&&n&&n.getState().actions.discardChanges(),t({readonlyMode:r})},schemaReadonlyMode:!1,setSchemaReadonlyMode:r=>{t({schemaReadonlyMode:r})},isSchemaPaletteOpen:!1,setIsSchemaPaletteOpen:r=>{t({isSchemaPaletteOpen:r})},isSettingsOpen:!1,setIsSettingsOpen:r=>{t({isSettingsOpen:r})},isAppearanceSettingsOpen:!1,setIsAppearanceSettingsOpen:r=>{t({isAppearanceSettingsOpen:r})},paginationType:"limit-offset",setPaginationType:r=>{t({paginationType:r})},spotlightOpen:!1,setSpotlightOpen:r=>{t({spotlightOpen:r})},mainStore:null,setMainStore:r=>{t({mainStore:r})},sqlEditorStore:null,setSqlEditorStore:r=>{t({sqlEditorStore:r})},dataFormats:null,setDataFormats:r=>{t({dataFormats:r})},flatSchemas:!1,setFlatSchemas:r=>{t({flatSchemas:r})},expandSubviews:!1,setExpandSubviews:r=>{t({expandSubviews:r})},showCounts:!1,setShowCounts:r=>{t({showCounts:r})},hasNewNotification:!1,onEvent:()=>{},setOnEvent:r=>{t({onEvent:r})},onError:()=>{},setOnError:r=>{t({onError:r})}})),{name:"drizzle-global",partialize:({showCounts:t,flatSchemas:e,dataFormats:r,expandSubviews:n,paginationType:s})=>({showCounts:t,flatSchemas:e,dataFormats:r,expandSubviews:n,paginationType:s})})),CO=K8("temp",!0),Me=Object.assign((t,e)=>{const r=ht(n=>n.mainStore);return r?r(t,e??q8):CO(t,e)},{setState:t=>{const e=ht.getState().mainStore;if(!e)return CO.setState(t);e.setState(t)},getState:()=>{const t=ht.getState().mainStore;return t?t.getState():CO.getState()}}),sr=()=>Me(t=>t.actions);function s0(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var X8={exports:{}};/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,s,i){function o(c,d){if(!s[c]){if(!n[c]){var h=typeof s0=="function"&&s0;if(!d&&h)return h(c,!0);if(a)return a(c,!0);var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m}var f=s[c]={exports:{}};n[c][0].call(f.exports,function(p){var E=n[c][1][p];return o(E||p)},f,f.exports,r,n,s,i)}return s[c].exports}for(var a=typeof s0=="function"&&s0,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(r,n,s){var i=r("./utils"),o=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var c,d,h,m,f,p,E,g=[],T=0,S=l.length,v=S,N=i.getTypeOf(l)!=="string";T<l.length;)v=S-T,h=N?(c=l[T++],d=T<S?l[T++]:0,T<S?l[T++]:0):(c=l.charCodeAt(T++),d=T<S?l.charCodeAt(T++):0,T<S?l.charCodeAt(T++):0),m=c>>2,f=(3&c)<<4|d>>4,p=1<v?(15&d)<<2|h>>6:64,E=2<v?63&h:64,g.push(a.charAt(m)+a.charAt(f)+a.charAt(p)+a.charAt(E));return g.join("")},s.decode=function(l){var c,d,h,m,f,p,E=0,g=0,T="data:";if(l.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var S,v=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&v--,l.charAt(l.length-2)===a.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=o.uint8array?new Uint8Array(0|v):new Array(0|v);E<l.length;)c=a.indexOf(l.charAt(E++))<<2|(m=a.indexOf(l.charAt(E++)))>>4,d=(15&m)<<4|(f=a.indexOf(l.charAt(E++)))>>2,h=(3&f)<<6|(p=a.indexOf(l.charAt(E++))),S[g++]=c,f!==64&&(S[g++]=d),p!==64&&(S[g++]=h);return S}},{"./support":30,"./utils":32}],2:[function(r,n,s){var i=r("./external"),o=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(d,h,m,f,p){this.compressedSize=d,this.uncompressedSize=h,this.crc32=m,this.compression=f,this.compressedContent=p}c.prototype={getContentWorker:function(){var d=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,h,m){return d.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(m)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,s){var i=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,s){var i=r("./utils"),o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(c,d,h,m){var f=o,p=m+h;c^=-1;for(var E=m;E<p;E++)c=c>>>8^f[255&(c^d[E])];return-1^c}(0|l,a,a.length,0):function(c,d,h,m){var f=o,p=m+h;c^=-1;for(var E=m;E<p;E++)c=c>>>8^f[255&(c^d.charCodeAt(E))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(r,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,n,s){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),a=r("./utils"),l=r("./stream/GenericWorker"),c=i?"uint8array":"array";function d(h,m){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=m,this.meta={}}s.magic="\b\0",a.inherits(d,l),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,h.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(m){h.push({data:m,meta:h.meta})}},s.compressWorker=function(h){return new d("Deflate",h)},s.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,s){function i(f,p){var E,g="";for(E=0;E<p;E++)g+=String.fromCharCode(255&f),f>>>=8;return g}function o(f,p,E,g,T,S){var v,N,C=f.file,x=f.compression,A=S!==c.utf8encode,b=a.transformTo("string",S(C.name)),_=a.transformTo("string",c.utf8encode(C.name)),U=C.comment,j=a.transformTo("string",S(U)),L=a.transformTo("string",c.utf8encode(U)),P=_.length!==C.name.length,I=L.length!==U.length,F="",W="",Y="",k=C.dir,V=C.date,re={crc32:0,compressedSize:0,uncompressedSize:0};p&&!E||(re.crc32=f.crc32,re.compressedSize=f.compressedSize,re.uncompressedSize=f.uncompressedSize);var K=0;p&&(K|=8),A||!P&&!I||(K|=2048);var B=0,X=0;k&&(B|=16),T==="UNIX"?(X=798,B|=function(Z,Ee){var se=Z;return Z||(se=Ee?16893:33204),(65535&se)<<16}(C.unixPermissions,k)):(X=20,B|=function(Z){return 63&(Z||0)}(C.dosPermissions)),v=V.getUTCHours(),v<<=6,v|=V.getUTCMinutes(),v<<=5,v|=V.getUTCSeconds()/2,N=V.getUTCFullYear()-1980,N<<=4,N|=V.getUTCMonth()+1,N<<=5,N|=V.getUTCDate(),P&&(W=i(1,1)+i(d(b),4)+_,F+="up"+i(W.length,2)+W),I&&(Y=i(1,1)+i(d(j),4)+L,F+="uc"+i(Y.length,2)+Y);var J="";return J+=`
\0`,J+=i(K,2),J+=x.magic,J+=i(v,2),J+=i(N,2),J+=i(re.crc32,4),J+=i(re.compressedSize,4),J+=i(re.uncompressedSize,4),J+=i(b.length,2),J+=i(F.length,2),{fileRecord:h.LOCAL_FILE_HEADER+J+b+F,dirRecord:h.CENTRAL_FILE_HEADER+i(X,2)+J+i(j.length,2)+"\0\0\0\0"+i(B,4)+i(g,4)+b+F+j}}var a=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),d=r("../crc32"),h=r("../signature");function m(f,p,E,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=E,this.encodeFileName=g,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(m,l),m.prototype.push=function(f){var p=f.meta.percent||0,E=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:E?(p+100*(E-g-1))/E:100}}))},m.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var p=this.streamFiles&&!f.file.dir;if(p){var E=o(f,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:E.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(f){this.accumulate=!1;var p=this.streamFiles&&!f.file.dir,E=o(f,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(E.dirRecord),p)this.push({data:function(g){return h.DATA_DESCRIPTOR+i(g.crc32,4)+i(g.compressedSize,4)+i(g.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:E.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var f=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var E=this.bytesWritten-f,g=function(T,S,v,N,C){var x=a.transformTo("string",C(N));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(T,2)+i(T,2)+i(S,4)+i(v,4)+i(x.length,2)+x}(this.dirRecords.length,E,f,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(f){this._sources.push(f);var p=this;return f.on("data",function(E){p.processChunk(E)}),f.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),f.on("error",function(E){p.error(E)}),this},m.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(f){var p=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var E=0;E<p.length;E++)try{p[E].error(f)}catch{}return!0},m.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,p=0;p<f.length;p++)f[p].lock()},n.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,s){var i=r("../compressions"),o=r("./ZipFileWorker");s.generateWorker=function(a,l,c){var d=new o(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{a.forEach(function(m,f){h++;var p=function(S,v){var N=S||v,C=i[N];if(!C)throw new Error(N+" is not a valid compression method !");return C}(f.options.compression,l.compression),E=f.options.compressionOptions||l.compressionOptions||{},g=f.dir,T=f.date;f._compressWorker(p,E).withStreamInfo("file",{name:m,dir:g,date:T,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(m){d.error(m)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,s){var i=r("./utils"),o=r("./external"),a=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),d=r("./nodejsUtils");function h(m){return new o.Promise(function(f,p){var E=m.decompressed.getContentWorker().pipe(new c);E.on("error",function(g){p(g)}).on("end",function(){E.streamInfo.crc32!==m.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}n.exports=function(m,f){var p=this;return f=i.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),d.isNode&&d.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",m,!0,f.optimizedBinaryString,f.base64).then(function(E){var g=new l(f);return g.load(E),g}).then(function(E){var g=[o.Promise.resolve(E)],T=E.files;if(f.checkCRC32)for(var S=0;S<T.length;S++)g.push(h(T[S]));return o.Promise.all(g)}).then(function(E){for(var g=E.shift(),T=g.files,S=0;S<T.length;S++){var v=T[S],N=v.fileNameStr,C=i.resolve(v.fileNameStr);p.file(C,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:f.createFolders}),v.dir||(p.file(C).unsafeOriginalName=N)}return g.zipComment.length&&(p.comment=g.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,s){var i=r("../utils"),o=r("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,s){var i=r("readable-stream").Readable;function o(a,l,c){i.call(this,l),this._helper=a;var d=this;a.on("data",function(h,m){d.push(h)||d._helper.pause(),c&&c(m)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}r("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,s){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,s){function i(C,x,A){var b,_=a.getTypeOf(x),U=a.extend(A||{},d);U.date=U.date||new Date,U.compression!==null&&(U.compression=U.compression.toUpperCase()),typeof U.unixPermissions=="string"&&(U.unixPermissions=parseInt(U.unixPermissions,8)),U.unixPermissions&&16384&U.unixPermissions&&(U.dir=!0),U.dosPermissions&&16&U.dosPermissions&&(U.dir=!0),U.dir&&(C=T(C)),U.createFolders&&(b=g(C))&&S.call(this,b,!0);var j=_==="string"&&U.binary===!1&&U.base64===!1;A&&A.binary!==void 0||(U.binary=!j),(x instanceof h&&x.uncompressedSize===0||U.dir||!x||x.length===0)&&(U.base64=!1,U.binary=!0,x="",U.compression="STORE",_="string");var L=null;L=x instanceof h||x instanceof l?x:p.isNode&&p.isStream(x)?new E(C,x):a.prepareContent(C,x,U.binary,U.optimizedBinaryString,U.base64);var P=new m(C,L,U);this.files[C]=P}var o=r("./utf8"),a=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),d=r("./defaults"),h=r("./compressedObject"),m=r("./zipObject"),f=r("./generate"),p=r("./nodejsUtils"),E=r("./nodejs/NodejsStreamInputAdapter"),g=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var x=C.lastIndexOf("/");return 0<x?C.substring(0,x):""},T=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},S=function(C,x){return x=x!==void 0?x:d.createFolders,C=T(C),this.files[C]||i.call(this,C,null,{dir:!0,createFolders:x}),this.files[C]};function v(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var x,A,b;for(x in this.files)b=this.files[x],(A=x.slice(this.root.length,x.length))&&x.slice(0,this.root.length)===this.root&&C(A,b)},filter:function(C){var x=[];return this.forEach(function(A,b){C(A,b)&&x.push(b)}),x},file:function(C,x,A){if(arguments.length!==1)return C=this.root+C,i.call(this,C,x,A),this;if(v(C)){var b=C;return this.filter(function(U,j){return!j.dir&&b.test(U)})}var _=this.files[this.root+C];return _&&!_.dir?_:null},folder:function(C){if(!C)return this;if(v(C))return this.filter(function(_,U){return U.dir&&C.test(_)});var x=this.root+C,A=S.call(this,x),b=this.clone();return b.root=A.name,b},remove:function(C){C=this.root+C;var x=this.files[C];if(x||(C.slice(-1)!=="/"&&(C+="/"),x=this.files[C]),x&&!x.dir)delete this.files[C];else for(var A=this.filter(function(_,U){return U.name.slice(0,C.length)===C}),b=0;b<A.length;b++)delete this.files[A[b].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var x,A={};try{if((A=a.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");a.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var b=A.comment||this.comment||"";x=f.generateWorker(this,A,b)}catch(_){(x=new l("error")).error(_)}return new c(x,A.type||"string",A.mimeType)},generateAsync:function(C,x){return this.generateInternalStream(C).accumulate(x)},generateNodeStream:function(C,x){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(x)}};n.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,s){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,s){var i=r("./DataReader");function o(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}r("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),h=a.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===l&&this.data[m+1]===c&&this.data[m+2]===d&&this.data[m+3]===h)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),h=a.charCodeAt(3),m=this.readData(4);return l===m[0]&&c===m[1]&&d===m[2]&&h===m[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,s){var i=r("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,s){var i=r("./Uint8ArrayReader");function o(a){i.call(this,a)}r("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,s){var i=r("./DataReader");function o(a){i.call(this,a)}r("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,s){var i=r("./ArrayReader");function o(a){i.call(this,a)}r("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,s){var i=r("../utils"),o=r("../support"),a=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),d=r("./Uint8ArrayReader");n.exports=function(h){var m=i.getTypeOf(h);return i.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new c(h):o.uint8array?new d(i.transformTo("uint8array",h)):new a(i.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,s){var i=r("./GenericWorker"),o=r("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,s){var i=r("./GenericWorker"),o=r("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,s){var i=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,s){var i=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=i.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=i},{}],29:[function(r,n,s){var i=r("../utils"),o=r("./ConvertWorker"),a=r("./GenericWorker"),l=r("../base64"),c=r("../support"),d=r("../external"),h=null;if(c.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(p,E){return new d.Promise(function(g,T){var S=[],v=p._internalType,N=p._outputType,C=p._mimeType;p.on("data",function(x,A){S.push(x),E&&E(A)}).on("error",function(x){S=[],T(x)}).on("end",function(){try{var x=function(A,b,_){switch(A){case"blob":return i.newBlob(i.transformTo("arraybuffer",b),_);case"base64":return l.encode(b);default:return i.transformTo(A,b)}}(N,function(A,b){var _,U=0,j=null,L=0;for(_=0;_<b.length;_++)L+=b[_].length;switch(A){case"string":return b.join("");case"array":return Array.prototype.concat.apply([],b);case"uint8array":for(j=new Uint8Array(L),_=0;_<b.length;_++)j.set(b[_],U),U+=b[_].length;return j;case"nodebuffer":return Buffer.concat(b);default:throw new Error("concat : unsupported type '"+A+"'")}}(v,S),C);g(x)}catch(A){T(A)}S=[]}).resume()})}function f(p,E,g){var T=E;switch(E){case"blob":case"arraybuffer":T="uint8array";break;case"base64":T="string"}try{this._internalType=T,this._outputType=E,this._mimeType=g,i.checkSupport(T),this._worker=p.pipe(new o(T)),p.lock()}catch(S){this._worker=new a("error"),this._worker.error(S)}}f.prototype={accumulate:function(p){return m(this,p)},on:function(p,E){var g=this;return p==="data"?this._worker.on(p,function(T){E.call(g,T.data,T.meta)}):this._worker.on(p,function(){i.delay(E,arguments,g)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},p)}},n.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,s){for(var i=r("./utils"),o=r("./support"),a=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function m(){l.call(this,"utf-8 encode")}s.utf8encode=function(f){return o.nodebuffer?a.newBufferFrom(f,"utf-8"):function(p){var E,g,T,S,v,N=p.length,C=0;for(S=0;S<N;S++)(64512&(g=p.charCodeAt(S)))==55296&&S+1<N&&(64512&(T=p.charCodeAt(S+1)))==56320&&(g=65536+(g-55296<<10)+(T-56320),S++),C+=g<128?1:g<2048?2:g<65536?3:4;for(E=o.uint8array?new Uint8Array(C):new Array(C),S=v=0;v<C;S++)(64512&(g=p.charCodeAt(S)))==55296&&S+1<N&&(64512&(T=p.charCodeAt(S+1)))==56320&&(g=65536+(g-55296<<10)+(T-56320),S++),g<128?E[v++]=g:(g<2048?E[v++]=192|g>>>6:(g<65536?E[v++]=224|g>>>12:(E[v++]=240|g>>>18,E[v++]=128|g>>>12&63),E[v++]=128|g>>>6&63),E[v++]=128|63&g);return E}(f)},s.utf8decode=function(f){return o.nodebuffer?i.transformTo("nodebuffer",f).toString("utf-8"):function(p){var E,g,T,S,v=p.length,N=new Array(2*v);for(E=g=0;E<v;)if((T=p[E++])<128)N[g++]=T;else if(4<(S=c[T]))N[g++]=65533,E+=S-1;else{for(T&=S===2?31:S===3?15:7;1<S&&E<v;)T=T<<6|63&p[E++],S--;1<S?N[g++]=65533:T<65536?N[g++]=T:(T-=65536,N[g++]=55296|T>>10&1023,N[g++]=56320|1023&T)}return N.length!==g&&(N.subarray?N=N.subarray(0,g):N.length=g),i.applyFromCharCode(N)}(f=i.transformTo(o.uint8array?"uint8array":"array",f))},i.inherits(h,l),h.prototype.processChunk=function(f){var p=i.transformTo(o.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var E=p;(p=new Uint8Array(E.length+this.leftOver.length)).set(this.leftOver,0),p.set(E,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var g=function(S,v){var N;for((v=v||S.length)>S.length&&(v=S.length),N=v-1;0<=N&&(192&S[N])==128;)N--;return N<0||N===0?v:N+c[S[N]]>v?N:v}(p),T=p;g!==p.length&&(o.uint8array?(T=p.subarray(0,g),this.leftOver=p.subarray(g,p.length)):(T=p.slice(0,g),this.leftOver=p.slice(g,p.length))),this.push({data:s.utf8decode(T),meta:f.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=h,i.inherits(m,l),m.prototype.processChunk=function(f){this.push({data:s.utf8encode(f.data),meta:f.meta})},s.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,s){var i=r("./support"),o=r("./base64"),a=r("./nodejsUtils"),l=r("./external");function c(E){return E}function d(E,g){for(var T=0;T<E.length;++T)g[T]=255&E.charCodeAt(T);return g}r("setimmediate"),s.newBlob=function(E,g){s.checkSupport("blob");try{return new Blob([E],{type:g})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(E),T.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(E,g,T){var S=[],v=0,N=E.length;if(N<=T)return String.fromCharCode.apply(null,E);for(;v<N;)g==="array"||g==="nodebuffer"?S.push(String.fromCharCode.apply(null,E.slice(v,Math.min(v+T,N)))):S.push(String.fromCharCode.apply(null,E.subarray(v,Math.min(v+T,N)))),v+=T;return S.join("")},stringifyByChar:function(E){for(var g="",T=0;T<E.length;T++)g+=String.fromCharCode(E[T]);return g},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function m(E){var g=65536,T=s.getTypeOf(E),S=!0;if(T==="uint8array"?S=h.applyCanBeUsed.uint8array:T==="nodebuffer"&&(S=h.applyCanBeUsed.nodebuffer),S)for(;1<g;)try{return h.stringifyByChunk(E,T,g)}catch{g=Math.floor(g/2)}return h.stringifyByChar(E)}function f(E,g){for(var T=0;T<E.length;T++)g[T]=E[T];return g}s.applyFromCharCode=m;var p={};p.string={string:c,array:function(E){return d(E,new Array(E.length))},arraybuffer:function(E){return p.string.uint8array(E).buffer},uint8array:function(E){return d(E,new Uint8Array(E.length))},nodebuffer:function(E){return d(E,a.allocBuffer(E.length))}},p.array={string:m,array:c,arraybuffer:function(E){return new Uint8Array(E).buffer},uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return a.newBufferFrom(E)}},p.arraybuffer={string:function(E){return m(new Uint8Array(E))},array:function(E){return f(new Uint8Array(E),new Array(E.byteLength))},arraybuffer:c,uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return a.newBufferFrom(new Uint8Array(E))}},p.uint8array={string:m,array:function(E){return f(E,new Array(E.length))},arraybuffer:function(E){return E.buffer},uint8array:c,nodebuffer:function(E){return a.newBufferFrom(E)}},p.nodebuffer={string:m,array:function(E){return f(E,new Array(E.length))},arraybuffer:function(E){return p.nodebuffer.uint8array(E).buffer},uint8array:function(E){return f(E,new Uint8Array(E.length))},nodebuffer:c},s.transformTo=function(E,g){if(g=g||"",!E)return g;s.checkSupport(E);var T=s.getTypeOf(g);return p[T][E](g)},s.resolve=function(E){for(var g=E.split("/"),T=[],S=0;S<g.length;S++){var v=g[S];v==="."||v===""&&S!==0&&S!==g.length-1||(v===".."?T.pop():T.push(v))}return T.join("/")},s.getTypeOf=function(E){return typeof E=="string"?"string":Object.prototype.toString.call(E)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(E)?"nodebuffer":i.uint8array&&E instanceof Uint8Array?"uint8array":i.arraybuffer&&E instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(E){if(!i[E.toLowerCase()])throw new Error(E+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(E){var g,T,S="";for(T=0;T<(E||"").length;T++)S+="\\x"+((g=E.charCodeAt(T))<16?"0":"")+g.toString(16).toUpperCase();return S},s.delay=function(E,g,T){setImmediate(function(){E.apply(T||null,g||[])})},s.inherits=function(E,g){function T(){}T.prototype=g.prototype,E.prototype=new T},s.extend=function(){var E,g,T={};for(E=0;E<arguments.length;E++)for(g in arguments[E])Object.prototype.hasOwnProperty.call(arguments[E],g)&&T[g]===void 0&&(T[g]=arguments[E][g]);return T},s.prepareContent=function(E,g,T,S,v){return l.Promise.resolve(g).then(function(N){return i.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new l.Promise(function(C,x){var A=new FileReader;A.onload=function(b){C(b.target.result)},A.onerror=function(b){x(b.target.error)},A.readAsArrayBuffer(N)}):N}).then(function(N){var C=s.getTypeOf(N);return C?(C==="arraybuffer"?N=s.transformTo("uint8array",N):C==="string"&&(v?N=o.decode(N):T&&S!==!0&&(N=function(x){return d(x,i.uint8array?new Uint8Array(x.length):new Array(x.length))}(N))),N):l.Promise.reject(new Error("Can't read the data of '"+E+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,s){var i=r("./reader/readerFor"),o=r("./utils"),a=r("./signature"),l=r("./zipEntry"),c=r("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(h)+")")}},isSignature:function(h,m){var f=this.reader.index;this.reader.setIndex(h);var p=this.reader.readString(4)===m;return this.reader.setIndex(f),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),m=c.uint8array?"uint8array":"array",f=o.transformTo(m,h);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,m,f,p=this.zip64EndOfCentralSize-44;0<p;)h=this.reader.readInt(2),m=this.reader.readInt(4),f=this.reader.readData(m),this.zip64ExtensibleData[h]={id:h,length:m,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,m;for(h=0;h<this.files.length;h++)m=this.files[h],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var m=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var p=m-f;if(0<p)this.isSignature(m,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,s){var i=r("./reader/readerFor"),o=r("./utils"),a=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),d=r("./compressions"),h=r("./support");function m(f,p){this.options=f,this.loadOptions=p}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var p,E;if(f.skip(22),this.fileNameLength=f.readInt(2),E=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(E),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(g){for(var T in d)if(Object.prototype.hasOwnProperty.call(d,T)&&d[T].magic===g)return d[T];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var p=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(p),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var p,E,g,T=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<T;)p=f.readInt(2),E=f.readInt(2),g=f.readData(E),this.extraFields[p]={id:p,length:E,value:g};f.setIndex(T)},handleUTF8:function(){var f=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var E=o.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(E)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var T=o.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var p=i(f.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:c.utf8decode(p.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var p=i(f.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:c.utf8decode(p.readData(f.length-5))}return null}},n.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,s){function i(p,E,g){this.name=p,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=E,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),d=r("./stream/GenericWorker");i.prototype={internalStream:function(p){var E=null,g="string";try{if(!p)throw new Error("No output type specified.");var T=(g=p.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),E=this._decompressWorker();var S=!this._dataBinary;S&&!T&&(E=E.pipe(new l.Utf8EncodeWorker)),!S&&T&&(E=E.pipe(new l.Utf8DecodeWorker))}catch(v){(E=new d("error")).error(v)}return new o(E,g,"")},async:function(p,E){return this.internalStream(p).accumulate(E)},nodeStream:function(p,E){return this.internalStream(p||"nodebuffer").toNodejsStream(E)},_compressWorker:function(p,E){if(this._data instanceof c&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(g,p,E)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<h.length;f++)i.prototype[h[f]]=m;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,s){(function(i){var o,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var c=0,d=new l(p),h=i.document.createTextNode("");d.observe(h,{characterData:!0}),o=function(){h.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var E=i.document.createElement("script");E.onreadystatechange=function(){p(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},i.document.documentElement.appendChild(E)}:function(){setTimeout(p,0)};else{var m=new i.MessageChannel;m.port1.onmessage=p,o=function(){m.port2.postMessage(0)}}var f=[];function p(){var E,g;a=!0;for(var T=f.length;T;){for(g=f,f=[],E=-1;++E<T;)g[E]();T=f.length}a=!1}n.exports=function(E){f.push(E)!==1||a||o()}}).call(this,typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,s){var i=r("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function h(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,T!==o&&E(this,T)}function m(T,S,v){this.promise=T,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function f(T,S,v){i(function(){var N;try{N=S(v)}catch(C){return a.reject(T,C)}N===T?a.reject(T,new TypeError("Cannot resolve promise with itself")):a.resolve(T,N)})}function p(T){var S=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof S=="function")return function(){S.apply(T,arguments)}}function E(T,S){var v=!1;function N(A){v||(v=!0,a.reject(T,A))}function C(A){v||(v=!0,a.resolve(T,A))}var x=g(function(){S(C,N)});x.status==="error"&&N(x.value)}function g(T,S){var v={};try{v.value=T(S),v.status="success"}catch(N){v.status="error",v.value=N}return v}(n.exports=h).prototype.finally=function(T){if(typeof T!="function")return this;var S=this.constructor;return this.then(function(v){return S.resolve(T()).then(function(){return v})},function(v){return S.resolve(T()).then(function(){throw v})})},h.prototype.catch=function(T){return this.then(null,T)},h.prototype.then=function(T,S){if(typeof T!="function"&&this.state===c||typeof S!="function"&&this.state===l)return this;var v=new this.constructor(o);return this.state!==d?f(v,this.state===c?T:S,this.outcome):this.queue.push(new m(v,T,S)),v},m.prototype.callFulfilled=function(T){a.resolve(this.promise,T)},m.prototype.otherCallFulfilled=function(T){f(this.promise,this.onFulfilled,T)},m.prototype.callRejected=function(T){a.reject(this.promise,T)},m.prototype.otherCallRejected=function(T){f(this.promise,this.onRejected,T)},a.resolve=function(T,S){var v=g(p,S);if(v.status==="error")return a.reject(T,v.value);var N=v.value;if(N)E(T,N);else{T.state=c,T.outcome=S;for(var C=-1,x=T.queue.length;++C<x;)T.queue[C].callFulfilled(S)}return T},a.reject=function(T,S){T.state=l,T.outcome=S;for(var v=-1,N=T.queue.length;++v<N;)T.queue[v].callRejected(S);return T},h.resolve=function(T){return T instanceof this?T:a.resolve(new this(o),T)},h.reject=function(T){var S=new this(o);return a.reject(S,T)},h.all=function(T){var S=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=T.length,N=!1;if(!v)return this.resolve([]);for(var C=new Array(v),x=0,A=-1,b=new this(o);++A<v;)_(T[A],A);return b;function _(U,j){S.resolve(U).then(function(L){C[j]=L,++x!==v||N||(N=!0,a.resolve(b,C))},function(L){N||(N=!0,a.reject(b,L))})}},h.race=function(T){var S=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=T.length,N=!1;if(!v)return this.resolve([]);for(var C=-1,x=new this(o);++C<v;)A=T[C],S.resolve(A).then(function(b){N||(N=!0,a.resolve(x,b))},function(b){N||(N=!0,a.reject(x,b))});var A;return x}},{immediate:36}],38:[function(r,n,s){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,s){var i=r("./zlib/deflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),d=Object.prototype.toString,h=0,m=-1,f=0,p=8;function E(T){if(!(this instanceof E))return new E(T);this.options=o.assign({level:m,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},T||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var v=i.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(v!==h)throw new Error(l[v]);if(S.header&&i.deflateSetHeader(this.strm,S.header),S.dictionary){var N;if(N=typeof S.dictionary=="string"?a.string2buf(S.dictionary):d.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(v=i.deflateSetDictionary(this.strm,N))!==h)throw new Error(l[v]);this._dict_set=!0}}function g(T,S){var v=new E(S);if(v.push(T,!0),v.err)throw v.msg||l[v.err];return v.result}E.prototype.push=function(T,S){var v,N,C=this.strm,x=this.options.chunkSize;if(this.ended)return!1;N=S===~~S?S:S===!0?4:0,typeof T=="string"?C.input=a.string2buf(T):d.call(T)==="[object ArrayBuffer]"?C.input=new Uint8Array(T):C.input=T,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(x),C.next_out=0,C.avail_out=x),(v=i.deflate(C,N))!==1&&v!==h)return this.onEnd(v),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(C.output,C.next_out))):this.onData(o.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&v!==1);return N===4?(v=i.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===h):N!==2||(this.onEnd(h),!(C.avail_out=0))},E.prototype.onData=function(T){this.chunks.push(T)},E.prototype.onEnd=function(T){T===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},s.Deflate=E,s.deflate=g,s.deflateRaw=function(T,S){return(S=S||{}).raw=!0,g(T,S)},s.gzip=function(T,S){return(S=S||{}).gzip=!0,g(T,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,s){var i=r("./zlib/inflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),d=r("./zlib/zstream"),h=r("./zlib/gzheader"),m=Object.prototype.toString;function f(E){if(!(this instanceof f))return new f(E);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},E||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||E&&E.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&!(15&g.windowBits)&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var T=i.inflateInit2(this.strm,g.windowBits);if(T!==l.Z_OK)throw new Error(c[T]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function p(E,g){var T=new f(g);if(T.push(E,!0),T.err)throw T.msg||c[T.err];return T.result}f.prototype.push=function(E,g){var T,S,v,N,C,x,A=this.strm,b=this.options.chunkSize,_=this.options.dictionary,U=!1;if(this.ended)return!1;S=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof E=="string"?A.input=a.binstring2buf(E):m.call(E)==="[object ArrayBuffer]"?A.input=new Uint8Array(E):A.input=E,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(b),A.next_out=0,A.avail_out=b),(T=i.inflate(A,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&_&&(x=typeof _=="string"?a.string2buf(_):m.call(_)==="[object ArrayBuffer]"?new Uint8Array(_):_,T=i.inflateSetDictionary(this.strm,x)),T===l.Z_BUF_ERROR&&U===!0&&(T=l.Z_OK,U=!1),T!==l.Z_STREAM_END&&T!==l.Z_OK)return this.onEnd(T),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&T!==l.Z_STREAM_END&&(A.avail_in!==0||S!==l.Z_FINISH&&S!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=a.utf8border(A.output,A.next_out),N=A.next_out-v,C=a.buf2string(A.output,v),A.next_out=N,A.avail_out=b-N,N&&o.arraySet(A.output,A.output,v,N,0),this.onData(C)):this.onData(o.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(U=!0)}while((0<A.avail_in||A.avail_out===0)&&T!==l.Z_STREAM_END);return T===l.Z_STREAM_END&&(S=l.Z_FINISH),S===l.Z_FINISH?(T=i.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===l.Z_OK):S!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(A.avail_out=0))},f.prototype.onData=function(E){this.chunks.push(E)},f.prototype.onEnd=function(E){E===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},s.Inflate=f,s.inflate=p,s.inflateRaw=function(E,g){return(g=g||{}).raw=!0,p(E,g)},s.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(l[h]=d[h])}}return l},s.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,d,h,m){if(c.subarray&&l.subarray)l.set(c.subarray(d,d+h),m);else for(var f=0;f<h;f++)l[m+f]=c[d+f]},flattenChunks:function(l){var c,d,h,m,f,p;for(c=h=0,d=l.length;c<d;c++)h+=l[c].length;for(p=new Uint8Array(h),c=m=0,d=l.length;c<d;c++)f=l[c],p.set(f,m),m+=f.length;return p}},a={arraySet:function(l,c,d,h,m){for(var f=0;f<h;f++)l[m+f]=c[d+f]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(r,n,s){var i=r("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(h,m){if(m<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(h,m));for(var f="",p=0;p<m;p++)f+=String.fromCharCode(h[p]);return f}l[254]=l[254]=1,s.string2buf=function(h){var m,f,p,E,g,T=h.length,S=0;for(E=0;E<T;E++)(64512&(f=h.charCodeAt(E)))==55296&&E+1<T&&(64512&(p=h.charCodeAt(E+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),E++),S+=f<128?1:f<2048?2:f<65536?3:4;for(m=new i.Buf8(S),E=g=0;g<S;E++)(64512&(f=h.charCodeAt(E)))==55296&&E+1<T&&(64512&(p=h.charCodeAt(E+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),E++),f<128?m[g++]=f:(f<2048?m[g++]=192|f>>>6:(f<65536?m[g++]=224|f>>>12:(m[g++]=240|f>>>18,m[g++]=128|f>>>12&63),m[g++]=128|f>>>6&63),m[g++]=128|63&f);return m},s.buf2binstring=function(h){return d(h,h.length)},s.binstring2buf=function(h){for(var m=new i.Buf8(h.length),f=0,p=m.length;f<p;f++)m[f]=h.charCodeAt(f);return m},s.buf2string=function(h,m){var f,p,E,g,T=m||h.length,S=new Array(2*T);for(f=p=0;f<T;)if((E=h[f++])<128)S[p++]=E;else if(4<(g=l[E]))S[p++]=65533,f+=g-1;else{for(E&=g===2?31:g===3?15:7;1<g&&f<T;)E=E<<6|63&h[f++],g--;1<g?S[p++]=65533:E<65536?S[p++]=E:(E-=65536,S[p++]=55296|E>>10&1023,S[p++]=56320|1023&E)}return d(S,p)},s.utf8border=function(h,m){var f;for((m=m||h.length)>h.length&&(m=h.length),f=m-1;0<=f&&(192&h[f])==128;)f--;return f<0||f===0?m:f+l[h[f]]>m?f:m}},{"./common":41}],43:[function(r,n,s){n.exports=function(i,o,a,l){for(var c=65535&i|0,d=i>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;d=d+(c=c+o[l++]|0)|0,--h;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(r,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,s){var i=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,c){var d=i,h=c+l;o^=-1;for(var m=c;m<h;m++)o=o>>>8^d[255&(o^a[m])];return-1^o}},{}],46:[function(r,n,s){var i,o=r("../utils/common"),a=r("./trees"),l=r("./adler32"),c=r("./crc32"),d=r("./messages"),h=0,m=4,f=0,p=-2,E=-1,g=4,T=2,S=8,v=9,N=286,C=30,x=19,A=2*N+1,b=15,_=3,U=258,j=U+_+1,L=42,P=113,I=1,F=2,W=3,Y=4;function k(H,Ce){return H.msg=d[Ce],Ce}function V(H){return(H<<1)-(4<H?9:0)}function re(H){for(var Ce=H.length;0<=--Ce;)H[Ce]=0}function K(H){var Ce=H.state,be=Ce.pending;be>H.avail_out&&(be=H.avail_out),be!==0&&(o.arraySet(H.output,Ce.pending_buf,Ce.pending_out,be,H.next_out),H.next_out+=be,Ce.pending_out+=be,H.total_out+=be,H.avail_out-=be,Ce.pending-=be,Ce.pending===0&&(Ce.pending_out=0))}function B(H,Ce){a._tr_flush_block(H,0<=H.block_start?H.block_start:-1,H.strstart-H.block_start,Ce),H.block_start=H.strstart,K(H.strm)}function X(H,Ce){H.pending_buf[H.pending++]=Ce}function J(H,Ce){H.pending_buf[H.pending++]=Ce>>>8&255,H.pending_buf[H.pending++]=255&Ce}function Z(H,Ce){var be,ce,Q=H.max_chain_length,Ae=H.strstart,te=H.prev_length,ae=H.nice_match,le=H.strstart>H.w_size-j?H.strstart-(H.w_size-j):0,we=H.window,Ie=H.w_mask,ue=H.prev,pe=H.strstart+U,he=we[Ae+te-1],Ne=we[Ae+te];H.prev_length>=H.good_match&&(Q>>=2),ae>H.lookahead&&(ae=H.lookahead);do if(we[(be=Ce)+te]===Ne&&we[be+te-1]===he&&we[be]===we[Ae]&&we[++be]===we[Ae+1]){Ae+=2,be++;do;while(we[++Ae]===we[++be]&&we[++Ae]===we[++be]&&we[++Ae]===we[++be]&&we[++Ae]===we[++be]&&we[++Ae]===we[++be]&&we[++Ae]===we[++be]&&we[++Ae]===we[++be]&&we[++Ae]===we[++be]&&Ae<pe);if(ce=U-(pe-Ae),Ae=pe-U,te<ce){if(H.match_start=Ce,ae<=(te=ce))break;he=we[Ae+te-1],Ne=we[Ae+te]}}while((Ce=ue[Ce&Ie])>le&&--Q!=0);return te<=H.lookahead?te:H.lookahead}function Ee(H){var Ce,be,ce,Q,Ae,te,ae,le,we,Ie,ue=H.w_size;do{if(Q=H.window_size-H.lookahead-H.strstart,H.strstart>=ue+(ue-j)){for(o.arraySet(H.window,H.window,ue,ue,0),H.match_start-=ue,H.strstart-=ue,H.block_start-=ue,Ce=be=H.hash_size;ce=H.head[--Ce],H.head[Ce]=ue<=ce?ce-ue:0,--be;);for(Ce=be=ue;ce=H.prev[--Ce],H.prev[Ce]=ue<=ce?ce-ue:0,--be;);Q+=ue}if(H.strm.avail_in===0)break;if(te=H.strm,ae=H.window,le=H.strstart+H.lookahead,we=Q,Ie=void 0,Ie=te.avail_in,we<Ie&&(Ie=we),be=Ie===0?0:(te.avail_in-=Ie,o.arraySet(ae,te.input,te.next_in,Ie,le),te.state.wrap===1?te.adler=l(te.adler,ae,Ie,le):te.state.wrap===2&&(te.adler=c(te.adler,ae,Ie,le)),te.next_in+=Ie,te.total_in+=Ie,Ie),H.lookahead+=be,H.lookahead+H.insert>=_)for(Ae=H.strstart-H.insert,H.ins_h=H.window[Ae],H.ins_h=(H.ins_h<<H.hash_shift^H.window[Ae+1])&H.hash_mask;H.insert&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[Ae+_-1])&H.hash_mask,H.prev[Ae&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=Ae,Ae++,H.insert--,!(H.lookahead+H.insert<_)););}while(H.lookahead<j&&H.strm.avail_in!==0)}function se(H,Ce){for(var be,ce;;){if(H.lookahead<j){if(Ee(H),H.lookahead<j&&Ce===h)return I;if(H.lookahead===0)break}if(be=0,H.lookahead>=_&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+_-1])&H.hash_mask,be=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),be!==0&&H.strstart-be<=H.w_size-j&&(H.match_length=Z(H,be)),H.match_length>=_)if(ce=a._tr_tally(H,H.strstart-H.match_start,H.match_length-_),H.lookahead-=H.match_length,H.match_length<=H.max_lazy_match&&H.lookahead>=_){for(H.match_length--;H.strstart++,H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+_-1])&H.hash_mask,be=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart,--H.match_length!=0;);H.strstart++}else H.strstart+=H.match_length,H.match_length=0,H.ins_h=H.window[H.strstart],H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+1])&H.hash_mask;else ce=a._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++;if(ce&&(B(H,!1),H.strm.avail_out===0))return I}return H.insert=H.strstart<_-1?H.strstart:_-1,Ce===m?(B(H,!0),H.strm.avail_out===0?W:Y):H.last_lit&&(B(H,!1),H.strm.avail_out===0)?I:F}function ie(H,Ce){for(var be,ce,Q;;){if(H.lookahead<j){if(Ee(H),H.lookahead<j&&Ce===h)return I;if(H.lookahead===0)break}if(be=0,H.lookahead>=_&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+_-1])&H.hash_mask,be=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),H.prev_length=H.match_length,H.prev_match=H.match_start,H.match_length=_-1,be!==0&&H.prev_length<H.max_lazy_match&&H.strstart-be<=H.w_size-j&&(H.match_length=Z(H,be),H.match_length<=5&&(H.strategy===1||H.match_length===_&&4096<H.strstart-H.match_start)&&(H.match_length=_-1)),H.prev_length>=_&&H.match_length<=H.prev_length){for(Q=H.strstart+H.lookahead-_,ce=a._tr_tally(H,H.strstart-1-H.prev_match,H.prev_length-_),H.lookahead-=H.prev_length-1,H.prev_length-=2;++H.strstart<=Q&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+_-1])&H.hash_mask,be=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),--H.prev_length!=0;);if(H.match_available=0,H.match_length=_-1,H.strstart++,ce&&(B(H,!1),H.strm.avail_out===0))return I}else if(H.match_available){if((ce=a._tr_tally(H,0,H.window[H.strstart-1]))&&B(H,!1),H.strstart++,H.lookahead--,H.strm.avail_out===0)return I}else H.match_available=1,H.strstart++,H.lookahead--}return H.match_available&&(ce=a._tr_tally(H,0,H.window[H.strstart-1]),H.match_available=0),H.insert=H.strstart<_-1?H.strstart:_-1,Ce===m?(B(H,!0),H.strm.avail_out===0?W:Y):H.last_lit&&(B(H,!1),H.strm.avail_out===0)?I:F}function Te(H,Ce,be,ce,Q){this.good_length=H,this.max_lazy=Ce,this.nice_length=be,this.max_chain=ce,this.func=Q}function ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*A),this.dyn_dtree=new o.Buf16(2*(2*C+1)),this.bl_tree=new o.Buf16(2*(2*x+1)),re(this.dyn_ltree),re(this.dyn_dtree),re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(b+1),this.heap=new o.Buf16(2*N+1),re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*N+1),re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _e(H){var Ce;return H&&H.state?(H.total_in=H.total_out=0,H.data_type=T,(Ce=H.state).pending=0,Ce.pending_out=0,Ce.wrap<0&&(Ce.wrap=-Ce.wrap),Ce.status=Ce.wrap?L:P,H.adler=Ce.wrap===2?0:1,Ce.last_flush=h,a._tr_init(Ce),f):k(H,p)}function fe(H){var Ce=_e(H);return Ce===f&&function(be){be.window_size=2*be.w_size,re(be.head),be.max_lazy_match=i[be.level].max_lazy,be.good_match=i[be.level].good_length,be.nice_match=i[be.level].nice_length,be.max_chain_length=i[be.level].max_chain,be.strstart=0,be.block_start=0,be.lookahead=0,be.insert=0,be.match_length=be.prev_length=_-1,be.match_available=0,be.ins_h=0}(H.state),Ce}function je(H,Ce,be,ce,Q,Ae){if(!H)return p;var te=1;if(Ce===E&&(Ce=6),ce<0?(te=0,ce=-ce):15<ce&&(te=2,ce-=16),Q<1||v<Q||be!==S||ce<8||15<ce||Ce<0||9<Ce||Ae<0||g<Ae)return k(H,p);ce===8&&(ce=9);var ae=new ve;return(H.state=ae).strm=H,ae.wrap=te,ae.gzhead=null,ae.w_bits=ce,ae.w_size=1<<ae.w_bits,ae.w_mask=ae.w_size-1,ae.hash_bits=Q+7,ae.hash_size=1<<ae.hash_bits,ae.hash_mask=ae.hash_size-1,ae.hash_shift=~~((ae.hash_bits+_-1)/_),ae.window=new o.Buf8(2*ae.w_size),ae.head=new o.Buf16(ae.hash_size),ae.prev=new o.Buf16(ae.w_size),ae.lit_bufsize=1<<Q+6,ae.pending_buf_size=4*ae.lit_bufsize,ae.pending_buf=new o.Buf8(ae.pending_buf_size),ae.d_buf=1*ae.lit_bufsize,ae.l_buf=3*ae.lit_bufsize,ae.level=Ce,ae.strategy=Ae,ae.method=be,fe(H)}i=[new Te(0,0,0,0,function(H,Ce){var be=65535;for(be>H.pending_buf_size-5&&(be=H.pending_buf_size-5);;){if(H.lookahead<=1){if(Ee(H),H.lookahead===0&&Ce===h)return I;if(H.lookahead===0)break}H.strstart+=H.lookahead,H.lookahead=0;var ce=H.block_start+be;if((H.strstart===0||H.strstart>=ce)&&(H.lookahead=H.strstart-ce,H.strstart=ce,B(H,!1),H.strm.avail_out===0)||H.strstart-H.block_start>=H.w_size-j&&(B(H,!1),H.strm.avail_out===0))return I}return H.insert=0,Ce===m?(B(H,!0),H.strm.avail_out===0?W:Y):(H.strstart>H.block_start&&(B(H,!1),H.strm.avail_out),I)}),new Te(4,4,8,4,se),new Te(4,5,16,8,se),new Te(4,6,32,32,se),new Te(4,4,16,16,ie),new Te(8,16,32,32,ie),new Te(8,16,128,128,ie),new Te(8,32,128,256,ie),new Te(32,128,258,1024,ie),new Te(32,258,258,4096,ie)],s.deflateInit=function(H,Ce){return je(H,Ce,S,15,8,0)},s.deflateInit2=je,s.deflateReset=fe,s.deflateResetKeep=_e,s.deflateSetHeader=function(H,Ce){return H&&H.state?H.state.wrap!==2?p:(H.state.gzhead=Ce,f):p},s.deflate=function(H,Ce){var be,ce,Q,Ae;if(!H||!H.state||5<Ce||Ce<0)return H?k(H,p):p;if(ce=H.state,!H.output||!H.input&&H.avail_in!==0||ce.status===666&&Ce!==m)return k(H,H.avail_out===0?-5:p);if(ce.strm=H,be=ce.last_flush,ce.last_flush=Ce,ce.status===L)if(ce.wrap===2)H.adler=0,X(ce,31),X(ce,139),X(ce,8),ce.gzhead?(X(ce,(ce.gzhead.text?1:0)+(ce.gzhead.hcrc?2:0)+(ce.gzhead.extra?4:0)+(ce.gzhead.name?8:0)+(ce.gzhead.comment?16:0)),X(ce,255&ce.gzhead.time),X(ce,ce.gzhead.time>>8&255),X(ce,ce.gzhead.time>>16&255),X(ce,ce.gzhead.time>>24&255),X(ce,ce.level===9?2:2<=ce.strategy||ce.level<2?4:0),X(ce,255&ce.gzhead.os),ce.gzhead.extra&&ce.gzhead.extra.length&&(X(ce,255&ce.gzhead.extra.length),X(ce,ce.gzhead.extra.length>>8&255)),ce.gzhead.hcrc&&(H.adler=c(H.adler,ce.pending_buf,ce.pending,0)),ce.gzindex=0,ce.status=69):(X(ce,0),X(ce,0),X(ce,0),X(ce,0),X(ce,0),X(ce,ce.level===9?2:2<=ce.strategy||ce.level<2?4:0),X(ce,3),ce.status=P);else{var te=S+(ce.w_bits-8<<4)<<8;te|=(2<=ce.strategy||ce.level<2?0:ce.level<6?1:ce.level===6?2:3)<<6,ce.strstart!==0&&(te|=32),te+=31-te%31,ce.status=P,J(ce,te),ce.strstart!==0&&(J(ce,H.adler>>>16),J(ce,65535&H.adler)),H.adler=1}if(ce.status===69)if(ce.gzhead.extra){for(Q=ce.pending;ce.gzindex<(65535&ce.gzhead.extra.length)&&(ce.pending!==ce.pending_buf_size||(ce.gzhead.hcrc&&ce.pending>Q&&(H.adler=c(H.adler,ce.pending_buf,ce.pending-Q,Q)),K(H),Q=ce.pending,ce.pending!==ce.pending_buf_size));)X(ce,255&ce.gzhead.extra[ce.gzindex]),ce.gzindex++;ce.gzhead.hcrc&&ce.pending>Q&&(H.adler=c(H.adler,ce.pending_buf,ce.pending-Q,Q)),ce.gzindex===ce.gzhead.extra.length&&(ce.gzindex=0,ce.status=73)}else ce.status=73;if(ce.status===73)if(ce.gzhead.name){Q=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>Q&&(H.adler=c(H.adler,ce.pending_buf,ce.pending-Q,Q)),K(H),Q=ce.pending,ce.pending===ce.pending_buf_size)){Ae=1;break}Ae=ce.gzindex<ce.gzhead.name.length?255&ce.gzhead.name.charCodeAt(ce.gzindex++):0,X(ce,Ae)}while(Ae!==0);ce.gzhead.hcrc&&ce.pending>Q&&(H.adler=c(H.adler,ce.pending_buf,ce.pending-Q,Q)),Ae===0&&(ce.gzindex=0,ce.status=91)}else ce.status=91;if(ce.status===91)if(ce.gzhead.comment){Q=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>Q&&(H.adler=c(H.adler,ce.pending_buf,ce.pending-Q,Q)),K(H),Q=ce.pending,ce.pending===ce.pending_buf_size)){Ae=1;break}Ae=ce.gzindex<ce.gzhead.comment.length?255&ce.gzhead.comment.charCodeAt(ce.gzindex++):0,X(ce,Ae)}while(Ae!==0);ce.gzhead.hcrc&&ce.pending>Q&&(H.adler=c(H.adler,ce.pending_buf,ce.pending-Q,Q)),Ae===0&&(ce.status=103)}else ce.status=103;if(ce.status===103&&(ce.gzhead.hcrc?(ce.pending+2>ce.pending_buf_size&&K(H),ce.pending+2<=ce.pending_buf_size&&(X(ce,255&H.adler),X(ce,H.adler>>8&255),H.adler=0,ce.status=P)):ce.status=P),ce.pending!==0){if(K(H),H.avail_out===0)return ce.last_flush=-1,f}else if(H.avail_in===0&&V(Ce)<=V(be)&&Ce!==m)return k(H,-5);if(ce.status===666&&H.avail_in!==0)return k(H,-5);if(H.avail_in!==0||ce.lookahead!==0||Ce!==h&&ce.status!==666){var ae=ce.strategy===2?function(le,we){for(var Ie;;){if(le.lookahead===0&&(Ee(le),le.lookahead===0)){if(we===h)return I;break}if(le.match_length=0,Ie=a._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,Ie&&(B(le,!1),le.strm.avail_out===0))return I}return le.insert=0,we===m?(B(le,!0),le.strm.avail_out===0?W:Y):le.last_lit&&(B(le,!1),le.strm.avail_out===0)?I:F}(ce,Ce):ce.strategy===3?function(le,we){for(var Ie,ue,pe,he,Ne=le.window;;){if(le.lookahead<=U){if(Ee(le),le.lookahead<=U&&we===h)return I;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=_&&0<le.strstart&&(ue=Ne[pe=le.strstart-1])===Ne[++pe]&&ue===Ne[++pe]&&ue===Ne[++pe]){he=le.strstart+U;do;while(ue===Ne[++pe]&&ue===Ne[++pe]&&ue===Ne[++pe]&&ue===Ne[++pe]&&ue===Ne[++pe]&&ue===Ne[++pe]&&ue===Ne[++pe]&&ue===Ne[++pe]&&pe<he);le.match_length=U-(he-pe),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=_?(Ie=a._tr_tally(le,1,le.match_length-_),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(Ie=a._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),Ie&&(B(le,!1),le.strm.avail_out===0))return I}return le.insert=0,we===m?(B(le,!0),le.strm.avail_out===0?W:Y):le.last_lit&&(B(le,!1),le.strm.avail_out===0)?I:F}(ce,Ce):i[ce.level].func(ce,Ce);if(ae!==W&&ae!==Y||(ce.status=666),ae===I||ae===W)return H.avail_out===0&&(ce.last_flush=-1),f;if(ae===F&&(Ce===1?a._tr_align(ce):Ce!==5&&(a._tr_stored_block(ce,0,0,!1),Ce===3&&(re(ce.head),ce.lookahead===0&&(ce.strstart=0,ce.block_start=0,ce.insert=0))),K(H),H.avail_out===0))return ce.last_flush=-1,f}return Ce!==m?f:ce.wrap<=0?1:(ce.wrap===2?(X(ce,255&H.adler),X(ce,H.adler>>8&255),X(ce,H.adler>>16&255),X(ce,H.adler>>24&255),X(ce,255&H.total_in),X(ce,H.total_in>>8&255),X(ce,H.total_in>>16&255),X(ce,H.total_in>>24&255)):(J(ce,H.adler>>>16),J(ce,65535&H.adler)),K(H),0<ce.wrap&&(ce.wrap=-ce.wrap),ce.pending!==0?f:1)},s.deflateEnd=function(H){var Ce;return H&&H.state?(Ce=H.state.status)!==L&&Ce!==69&&Ce!==73&&Ce!==91&&Ce!==103&&Ce!==P&&Ce!==666?k(H,p):(H.state=null,Ce===P?k(H,-3):f):p},s.deflateSetDictionary=function(H,Ce){var be,ce,Q,Ae,te,ae,le,we,Ie=Ce.length;if(!H||!H.state||(Ae=(be=H.state).wrap)===2||Ae===1&&be.status!==L||be.lookahead)return p;for(Ae===1&&(H.adler=l(H.adler,Ce,Ie,0)),be.wrap=0,Ie>=be.w_size&&(Ae===0&&(re(be.head),be.strstart=0,be.block_start=0,be.insert=0),we=new o.Buf8(be.w_size),o.arraySet(we,Ce,Ie-be.w_size,be.w_size,0),Ce=we,Ie=be.w_size),te=H.avail_in,ae=H.next_in,le=H.input,H.avail_in=Ie,H.next_in=0,H.input=Ce,Ee(be);be.lookahead>=_;){for(ce=be.strstart,Q=be.lookahead-(_-1);be.ins_h=(be.ins_h<<be.hash_shift^be.window[ce+_-1])&be.hash_mask,be.prev[ce&be.w_mask]=be.head[be.ins_h],be.head[be.ins_h]=ce,ce++,--Q;);be.strstart=ce,be.lookahead=_-1,Ee(be)}return be.strstart+=be.lookahead,be.block_start=be.strstart,be.insert=be.lookahead,be.lookahead=0,be.match_length=be.prev_length=_-1,be.match_available=0,H.next_in=ae,H.input=le,H.avail_in=te,be.wrap=Ae,f},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,s){n.exports=function(i,o){var a,l,c,d,h,m,f,p,E,g,T,S,v,N,C,x,A,b,_,U,j,L,P,I,F;a=i.state,l=i.next_in,I=i.input,c=l+(i.avail_in-5),d=i.next_out,F=i.output,h=d-(o-i.avail_out),m=d+(i.avail_out-257),f=a.dmax,p=a.wsize,E=a.whave,g=a.wnext,T=a.window,S=a.hold,v=a.bits,N=a.lencode,C=a.distcode,x=(1<<a.lenbits)-1,A=(1<<a.distbits)-1;e:do{v<15&&(S+=I[l++]<<v,v+=8,S+=I[l++]<<v,v+=8),b=N[S&x];t:for(;;){if(S>>>=_=b>>>24,v-=_,(_=b>>>16&255)===0)F[d++]=65535&b;else{if(!(16&_)){if(!(64&_)){b=N[(65535&b)+(S&(1<<_)-1)];continue t}if(32&_){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}U=65535&b,(_&=15)&&(v<_&&(S+=I[l++]<<v,v+=8),U+=S&(1<<_)-1,S>>>=_,v-=_),v<15&&(S+=I[l++]<<v,v+=8,S+=I[l++]<<v,v+=8),b=C[S&A];r:for(;;){if(S>>>=_=b>>>24,v-=_,!(16&(_=b>>>16&255))){if(!(64&_)){b=C[(65535&b)+(S&(1<<_)-1)];continue r}i.msg="invalid distance code",a.mode=30;break e}if(j=65535&b,v<(_&=15)&&(S+=I[l++]<<v,(v+=8)<_&&(S+=I[l++]<<v,v+=8)),f<(j+=S&(1<<_)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(S>>>=_,v-=_,(_=d-h)<j){if(E<(_=j-_)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(P=T,(L=0)===g){if(L+=p-_,_<U){for(U-=_;F[d++]=T[L++],--_;);L=d-j,P=F}}else if(g<_){if(L+=p+g-_,(_-=g)<U){for(U-=_;F[d++]=T[L++],--_;);if(L=0,g<U){for(U-=_=g;F[d++]=T[L++],--_;);L=d-j,P=F}}}else if(L+=g-_,_<U){for(U-=_;F[d++]=T[L++],--_;);L=d-j,P=F}for(;2<U;)F[d++]=P[L++],F[d++]=P[L++],F[d++]=P[L++],U-=3;U&&(F[d++]=P[L++],1<U&&(F[d++]=P[L++]))}else{for(L=d-j;F[d++]=F[L++],F[d++]=F[L++],F[d++]=F[L++],2<(U-=3););U&&(F[d++]=F[L++],1<U&&(F[d++]=F[L++]))}break}}break}}while(l<c&&d<m);l-=U=v>>3,S&=(1<<(v-=U<<3))-1,i.next_in=l,i.next_out=d,i.avail_in=l<c?c-l+5:5-(l-c),i.avail_out=d<m?m-d+257:257-(d-m),a.hold=S,a.bits=v}},{}],49:[function(r,n,s){var i=r("../utils/common"),o=r("./adler32"),a=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),d=1,h=2,m=0,f=-2,p=1,E=852,g=592;function T(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(L){var P;return L&&L.state?(P=L.state,L.total_in=L.total_out=P.total=0,L.msg="",P.wrap&&(L.adler=1&P.wrap),P.mode=p,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new i.Buf32(E),P.distcode=P.distdyn=new i.Buf32(g),P.sane=1,P.back=-1,m):f}function N(L){var P;return L&&L.state?((P=L.state).wsize=0,P.whave=0,P.wnext=0,v(L)):f}function C(L,P){var I,F;return L&&L.state?(F=L.state,P<0?(I=0,P=-P):(I=1+(P>>4),P<48&&(P&=15)),P&&(P<8||15<P)?f:(F.window!==null&&F.wbits!==P&&(F.window=null),F.wrap=I,F.wbits=P,N(L))):f}function x(L,P){var I,F;return L?(F=new S,(L.state=F).window=null,(I=C(L,P))!==m&&(L.state=null),I):f}var A,b,_=!0;function U(L){if(_){var P;for(A=new i.Buf32(512),b=new i.Buf32(32),P=0;P<144;)L.lens[P++]=8;for(;P<256;)L.lens[P++]=9;for(;P<280;)L.lens[P++]=7;for(;P<288;)L.lens[P++]=8;for(c(d,L.lens,0,288,A,0,L.work,{bits:9}),P=0;P<32;)L.lens[P++]=5;c(h,L.lens,0,32,b,0,L.work,{bits:5}),_=!1}L.lencode=A,L.lenbits=9,L.distcode=b,L.distbits=5}function j(L,P,I,F){var W,Y=L.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new i.Buf8(Y.wsize)),F>=Y.wsize?(i.arraySet(Y.window,P,I-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(F<(W=Y.wsize-Y.wnext)&&(W=F),i.arraySet(Y.window,P,I-F,W,Y.wnext),(F-=W)?(i.arraySet(Y.window,P,I-F,F,0),Y.wnext=F,Y.whave=Y.wsize):(Y.wnext+=W,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=W))),0}s.inflateReset=N,s.inflateReset2=C,s.inflateResetKeep=v,s.inflateInit=function(L){return x(L,15)},s.inflateInit2=x,s.inflate=function(L,P){var I,F,W,Y,k,V,re,K,B,X,J,Z,Ee,se,ie,Te,ve,_e,fe,je,H,Ce,be,ce,Q=0,Ae=new i.Buf8(4),te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return f;(I=L.state).mode===12&&(I.mode=13),k=L.next_out,W=L.output,re=L.avail_out,Y=L.next_in,F=L.input,V=L.avail_in,K=I.hold,B=I.bits,X=V,J=re,Ce=m;e:for(;;)switch(I.mode){case p:if(I.wrap===0){I.mode=13;break}for(;B<16;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}if(2&I.wrap&&K===35615){Ae[I.check=0]=255&K,Ae[1]=K>>>8&255,I.check=a(I.check,Ae,2,0),B=K=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&K)<<8)+(K>>8))%31){L.msg="incorrect header check",I.mode=30;break}if((15&K)!=8){L.msg="unknown compression method",I.mode=30;break}if(B-=4,H=8+(15&(K>>>=4)),I.wbits===0)I.wbits=H;else if(H>I.wbits){L.msg="invalid window size",I.mode=30;break}I.dmax=1<<H,L.adler=I.check=1,I.mode=512&K?10:12,B=K=0;break;case 2:for(;B<16;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}if(I.flags=K,(255&I.flags)!=8){L.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){L.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=K>>8&1),512&I.flags&&(Ae[0]=255&K,Ae[1]=K>>>8&255,I.check=a(I.check,Ae,2,0)),B=K=0,I.mode=3;case 3:for(;B<32;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}I.head&&(I.head.time=K),512&I.flags&&(Ae[0]=255&K,Ae[1]=K>>>8&255,Ae[2]=K>>>16&255,Ae[3]=K>>>24&255,I.check=a(I.check,Ae,4,0)),B=K=0,I.mode=4;case 4:for(;B<16;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}I.head&&(I.head.xflags=255&K,I.head.os=K>>8),512&I.flags&&(Ae[0]=255&K,Ae[1]=K>>>8&255,I.check=a(I.check,Ae,2,0)),B=K=0,I.mode=5;case 5:if(1024&I.flags){for(;B<16;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}I.length=K,I.head&&(I.head.extra_len=K),512&I.flags&&(Ae[0]=255&K,Ae[1]=K>>>8&255,I.check=a(I.check,Ae,2,0)),B=K=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(V<(Z=I.length)&&(Z=V),Z&&(I.head&&(H=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),i.arraySet(I.head.extra,F,Y,Z,H)),512&I.flags&&(I.check=a(I.check,F,Z,Y)),V-=Z,Y+=Z,I.length-=Z),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(V===0)break e;for(Z=0;H=F[Y+Z++],I.head&&H&&I.length<65536&&(I.head.name+=String.fromCharCode(H)),H&&Z<V;);if(512&I.flags&&(I.check=a(I.check,F,Z,Y)),V-=Z,Y+=Z,H)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(V===0)break e;for(Z=0;H=F[Y+Z++],I.head&&H&&I.length<65536&&(I.head.comment+=String.fromCharCode(H)),H&&Z<V;);if(512&I.flags&&(I.check=a(I.check,F,Z,Y)),V-=Z,Y+=Z,H)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;B<16;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}if(K!==(65535&I.check)){L.msg="header crc mismatch",I.mode=30;break}B=K=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),L.adler=I.check=0,I.mode=12;break;case 10:for(;B<32;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}L.adler=I.check=T(K),B=K=0,I.mode=11;case 11:if(I.havedict===0)return L.next_out=k,L.avail_out=re,L.next_in=Y,L.avail_in=V,I.hold=K,I.bits=B,2;L.adler=I.check=1,I.mode=12;case 12:if(P===5||P===6)break e;case 13:if(I.last){K>>>=7&B,B-=7&B,I.mode=27;break}for(;B<3;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}switch(I.last=1&K,B-=1,3&(K>>>=1)){case 0:I.mode=14;break;case 1:if(U(I),I.mode=20,P!==6)break;K>>>=2,B-=2;break e;case 2:I.mode=17;break;case 3:L.msg="invalid block type",I.mode=30}K>>>=2,B-=2;break;case 14:for(K>>>=7&B,B-=7&B;B<32;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}if((65535&K)!=(K>>>16^65535)){L.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&K,B=K=0,I.mode=15,P===6)break e;case 15:I.mode=16;case 16:if(Z=I.length){if(V<Z&&(Z=V),re<Z&&(Z=re),Z===0)break e;i.arraySet(W,F,Y,Z,k),V-=Z,Y+=Z,re-=Z,k+=Z,I.length-=Z;break}I.mode=12;break;case 17:for(;B<14;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}if(I.nlen=257+(31&K),K>>>=5,B-=5,I.ndist=1+(31&K),K>>>=5,B-=5,I.ncode=4+(15&K),K>>>=4,B-=4,286<I.nlen||30<I.ndist){L.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;B<3;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}I.lens[te[I.have++]]=7&K,K>>>=3,B-=3}for(;I.have<19;)I.lens[te[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,be={bits:I.lenbits},Ce=c(0,I.lens,0,19,I.lencode,0,I.work,be),I.lenbits=be.bits,Ce){L.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;Te=(Q=I.lencode[K&(1<<I.lenbits)-1])>>>16&255,ve=65535&Q,!((ie=Q>>>24)<=B);){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}if(ve<16)K>>>=ie,B-=ie,I.lens[I.have++]=ve;else{if(ve===16){for(ce=ie+2;B<ce;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}if(K>>>=ie,B-=ie,I.have===0){L.msg="invalid bit length repeat",I.mode=30;break}H=I.lens[I.have-1],Z=3+(3&K),K>>>=2,B-=2}else if(ve===17){for(ce=ie+3;B<ce;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}B-=ie,H=0,Z=3+(7&(K>>>=ie)),K>>>=3,B-=3}else{for(ce=ie+7;B<ce;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}B-=ie,H=0,Z=11+(127&(K>>>=ie)),K>>>=7,B-=7}if(I.have+Z>I.nlen+I.ndist){L.msg="invalid bit length repeat",I.mode=30;break}for(;Z--;)I.lens[I.have++]=H}}if(I.mode===30)break;if(I.lens[256]===0){L.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,be={bits:I.lenbits},Ce=c(d,I.lens,0,I.nlen,I.lencode,0,I.work,be),I.lenbits=be.bits,Ce){L.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,be={bits:I.distbits},Ce=c(h,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,be),I.distbits=be.bits,Ce){L.msg="invalid distances set",I.mode=30;break}if(I.mode=20,P===6)break e;case 20:I.mode=21;case 21:if(6<=V&&258<=re){L.next_out=k,L.avail_out=re,L.next_in=Y,L.avail_in=V,I.hold=K,I.bits=B,l(L,J),k=L.next_out,W=L.output,re=L.avail_out,Y=L.next_in,F=L.input,V=L.avail_in,K=I.hold,B=I.bits,I.mode===12&&(I.back=-1);break}for(I.back=0;Te=(Q=I.lencode[K&(1<<I.lenbits)-1])>>>16&255,ve=65535&Q,!((ie=Q>>>24)<=B);){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}if(Te&&!(240&Te)){for(_e=ie,fe=Te,je=ve;Te=(Q=I.lencode[je+((K&(1<<_e+fe)-1)>>_e)])>>>16&255,ve=65535&Q,!(_e+(ie=Q>>>24)<=B);){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}K>>>=_e,B-=_e,I.back+=_e}if(K>>>=ie,B-=ie,I.back+=ie,I.length=ve,Te===0){I.mode=26;break}if(32&Te){I.back=-1,I.mode=12;break}if(64&Te){L.msg="invalid literal/length code",I.mode=30;break}I.extra=15&Te,I.mode=22;case 22:if(I.extra){for(ce=I.extra;B<ce;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}I.length+=K&(1<<I.extra)-1,K>>>=I.extra,B-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;Te=(Q=I.distcode[K&(1<<I.distbits)-1])>>>16&255,ve=65535&Q,!((ie=Q>>>24)<=B);){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}if(!(240&Te)){for(_e=ie,fe=Te,je=ve;Te=(Q=I.distcode[je+((K&(1<<_e+fe)-1)>>_e)])>>>16&255,ve=65535&Q,!(_e+(ie=Q>>>24)<=B);){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}K>>>=_e,B-=_e,I.back+=_e}if(K>>>=ie,B-=ie,I.back+=ie,64&Te){L.msg="invalid distance code",I.mode=30;break}I.offset=ve,I.extra=15&Te,I.mode=24;case 24:if(I.extra){for(ce=I.extra;B<ce;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}I.offset+=K&(1<<I.extra)-1,K>>>=I.extra,B-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){L.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(re===0)break e;if(Z=J-re,I.offset>Z){if((Z=I.offset-Z)>I.whave&&I.sane){L.msg="invalid distance too far back",I.mode=30;break}Ee=Z>I.wnext?(Z-=I.wnext,I.wsize-Z):I.wnext-Z,Z>I.length&&(Z=I.length),se=I.window}else se=W,Ee=k-I.offset,Z=I.length;for(re<Z&&(Z=re),re-=Z,I.length-=Z;W[k++]=se[Ee++],--Z;);I.length===0&&(I.mode=21);break;case 26:if(re===0)break e;W[k++]=I.length,re--,I.mode=21;break;case 27:if(I.wrap){for(;B<32;){if(V===0)break e;V--,K|=F[Y++]<<B,B+=8}if(J-=re,L.total_out+=J,I.total+=J,J&&(L.adler=I.check=I.flags?a(I.check,W,J,k-J):o(I.check,W,J,k-J)),J=re,(I.flags?K:T(K))!==I.check){L.msg="incorrect data check",I.mode=30;break}B=K=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;B<32;){if(V===0)break e;V--,K+=F[Y++]<<B,B+=8}if(K!==(4294967295&I.total)){L.msg="incorrect length check",I.mode=30;break}B=K=0}I.mode=29;case 29:Ce=1;break e;case 30:Ce=-3;break e;case 31:return-4;case 32:default:return f}return L.next_out=k,L.avail_out=re,L.next_in=Y,L.avail_in=V,I.hold=K,I.bits=B,(I.wsize||J!==L.avail_out&&I.mode<30&&(I.mode<27||P!==4))&&j(L,L.output,L.next_out,J-L.avail_out)?(I.mode=31,-4):(X-=L.avail_in,J-=L.avail_out,L.total_in+=X,L.total_out+=J,I.total+=J,I.wrap&&J&&(L.adler=I.check=I.flags?a(I.check,W,J,L.next_out-J):o(I.check,W,J,L.next_out-J)),L.data_type=I.bits+(I.last?64:0)+(I.mode===12?128:0)+(I.mode===20||I.mode===15?256:0),(X==0&&J===0||P===4)&&Ce===m&&(Ce=-5),Ce)},s.inflateEnd=function(L){if(!L||!L.state)return f;var P=L.state;return P.window&&(P.window=null),L.state=null,m},s.inflateGetHeader=function(L,P){var I;return L&&L.state&&2&(I=L.state).wrap?((I.head=P).done=!1,m):f},s.inflateSetDictionary=function(L,P){var I,F=P.length;return L&&L.state?(I=L.state).wrap!==0&&I.mode!==11?f:I.mode===11&&o(1,P,F,0)!==I.check?-3:j(L,P,F,F)?(I.mode=31,-4):(I.havedict=1,m):f},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,s){var i=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,h,m,f,p,E,g,T){var S,v,N,C,x,A,b,_,U,j=T.bits,L=0,P=0,I=0,F=0,W=0,Y=0,k=0,V=0,re=0,K=0,B=null,X=0,J=new i.Buf16(16),Z=new i.Buf16(16),Ee=null,se=0;for(L=0;L<=15;L++)J[L]=0;for(P=0;P<f;P++)J[h[m+P]]++;for(W=j,F=15;1<=F&&J[F]===0;F--);if(F<W&&(W=F),F===0)return p[E++]=20971520,p[E++]=20971520,T.bits=1,0;for(I=1;I<F&&J[I]===0;I++);for(W<I&&(W=I),L=V=1;L<=15;L++)if(V<<=1,(V-=J[L])<0)return-1;if(0<V&&(d===0||F!==1))return-1;for(Z[1]=0,L=1;L<15;L++)Z[L+1]=Z[L]+J[L];for(P=0;P<f;P++)h[m+P]!==0&&(g[Z[h[m+P]]++]=P);if(A=d===0?(B=Ee=g,19):d===1?(B=o,X-=257,Ee=a,se-=257,256):(B=l,Ee=c,-1),L=I,x=E,k=P=K=0,N=-1,C=(re=1<<(Y=W))-1,d===1&&852<re||d===2&&592<re)return 1;for(;;){for(b=L-k,U=g[P]<A?(_=0,g[P]):g[P]>A?(_=Ee[se+g[P]],B[X+g[P]]):(_=96,0),S=1<<L-k,I=v=1<<Y;p[x+(K>>k)+(v-=S)]=b<<24|_<<16|U|0,v!==0;);for(S=1<<L-1;K&S;)S>>=1;if(S!==0?(K&=S-1,K+=S):K=0,P++,--J[L]==0){if(L===F)break;L=h[m+g[P]]}if(W<L&&(K&C)!==N){for(k===0&&(k=W),x+=I,V=1<<(Y=L-k);Y+k<F&&!((V-=J[Y+k])<=0);)Y++,V<<=1;if(re+=1<<Y,d===1&&852<re||d===2&&592<re)return 1;p[N=K&C]=W<<24|Y<<16|x-E|0}}return K!==0&&(p[x+K]=L-k<<24|64<<16|0),T.bits=W,0}},{"../utils/common":41}],51:[function(r,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,s){var i=r("../utils/common"),o=0,a=1;function l(Q){for(var Ae=Q.length;0<=--Ae;)Q[Ae]=0}var c=0,d=29,h=256,m=h+1+d,f=30,p=19,E=2*m+1,g=15,T=16,S=7,v=256,N=16,C=17,x=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],b=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(m+2));l(j);var L=new Array(2*f);l(L);var P=new Array(512);l(P);var I=new Array(256);l(I);var F=new Array(d);l(F);var W,Y,k,V=new Array(f);function re(Q,Ae,te,ae,le){this.static_tree=Q,this.extra_bits=Ae,this.extra_base=te,this.elems=ae,this.max_length=le,this.has_stree=Q&&Q.length}function K(Q,Ae){this.dyn_tree=Q,this.max_code=0,this.stat_desc=Ae}function B(Q){return Q<256?P[Q]:P[256+(Q>>>7)]}function X(Q,Ae){Q.pending_buf[Q.pending++]=255&Ae,Q.pending_buf[Q.pending++]=Ae>>>8&255}function J(Q,Ae,te){Q.bi_valid>T-te?(Q.bi_buf|=Ae<<Q.bi_valid&65535,X(Q,Q.bi_buf),Q.bi_buf=Ae>>T-Q.bi_valid,Q.bi_valid+=te-T):(Q.bi_buf|=Ae<<Q.bi_valid&65535,Q.bi_valid+=te)}function Z(Q,Ae,te){J(Q,te[2*Ae],te[2*Ae+1])}function Ee(Q,Ae){for(var te=0;te|=1&Q,Q>>>=1,te<<=1,0<--Ae;);return te>>>1}function se(Q,Ae,te){var ae,le,we=new Array(g+1),Ie=0;for(ae=1;ae<=g;ae++)we[ae]=Ie=Ie+te[ae-1]<<1;for(le=0;le<=Ae;le++){var ue=Q[2*le+1];ue!==0&&(Q[2*le]=Ee(we[ue]++,ue))}}function ie(Q){var Ae;for(Ae=0;Ae<m;Ae++)Q.dyn_ltree[2*Ae]=0;for(Ae=0;Ae<f;Ae++)Q.dyn_dtree[2*Ae]=0;for(Ae=0;Ae<p;Ae++)Q.bl_tree[2*Ae]=0;Q.dyn_ltree[2*v]=1,Q.opt_len=Q.static_len=0,Q.last_lit=Q.matches=0}function Te(Q){8<Q.bi_valid?X(Q,Q.bi_buf):0<Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0}function ve(Q,Ae,te,ae){var le=2*Ae,we=2*te;return Q[le]<Q[we]||Q[le]===Q[we]&&ae[Ae]<=ae[te]}function _e(Q,Ae,te){for(var ae=Q.heap[te],le=te<<1;le<=Q.heap_len&&(le<Q.heap_len&&ve(Ae,Q.heap[le+1],Q.heap[le],Q.depth)&&le++,!ve(Ae,ae,Q.heap[le],Q.depth));)Q.heap[te]=Q.heap[le],te=le,le<<=1;Q.heap[te]=ae}function fe(Q,Ae,te){var ae,le,we,Ie,ue=0;if(Q.last_lit!==0)for(;ae=Q.pending_buf[Q.d_buf+2*ue]<<8|Q.pending_buf[Q.d_buf+2*ue+1],le=Q.pending_buf[Q.l_buf+ue],ue++,ae===0?Z(Q,le,Ae):(Z(Q,(we=I[le])+h+1,Ae),(Ie=A[we])!==0&&J(Q,le-=F[we],Ie),Z(Q,we=B(--ae),te),(Ie=b[we])!==0&&J(Q,ae-=V[we],Ie)),ue<Q.last_lit;);Z(Q,v,Ae)}function je(Q,Ae){var te,ae,le,we=Ae.dyn_tree,Ie=Ae.stat_desc.static_tree,ue=Ae.stat_desc.has_stree,pe=Ae.stat_desc.elems,he=-1;for(Q.heap_len=0,Q.heap_max=E,te=0;te<pe;te++)we[2*te]!==0?(Q.heap[++Q.heap_len]=he=te,Q.depth[te]=0):we[2*te+1]=0;for(;Q.heap_len<2;)we[2*(le=Q.heap[++Q.heap_len]=he<2?++he:0)]=1,Q.depth[le]=0,Q.opt_len--,ue&&(Q.static_len-=Ie[2*le+1]);for(Ae.max_code=he,te=Q.heap_len>>1;1<=te;te--)_e(Q,we,te);for(le=pe;te=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],_e(Q,we,1),ae=Q.heap[1],Q.heap[--Q.heap_max]=te,Q.heap[--Q.heap_max]=ae,we[2*le]=we[2*te]+we[2*ae],Q.depth[le]=(Q.depth[te]>=Q.depth[ae]?Q.depth[te]:Q.depth[ae])+1,we[2*te+1]=we[2*ae+1]=le,Q.heap[1]=le++,_e(Q,we,1),2<=Q.heap_len;);Q.heap[--Q.heap_max]=Q.heap[1],function(Ne,Se){var Ye,Ge,Ze,ut,He,lt,Qe=Se.dyn_tree,Lt=Se.max_code,Nt=Se.stat_desc.static_tree,Pt=Se.stat_desc.has_stree,vt=Se.stat_desc.extra_bits,mn=Se.stat_desc.extra_base,wt=Se.stat_desc.max_length,Rr=0;for(ut=0;ut<=g;ut++)Ne.bl_count[ut]=0;for(Qe[2*Ne.heap[Ne.heap_max]+1]=0,Ye=Ne.heap_max+1;Ye<E;Ye++)wt<(ut=Qe[2*Qe[2*(Ge=Ne.heap[Ye])+1]+1]+1)&&(ut=wt,Rr++),Qe[2*Ge+1]=ut,Lt<Ge||(Ne.bl_count[ut]++,He=0,mn<=Ge&&(He=vt[Ge-mn]),lt=Qe[2*Ge],Ne.opt_len+=lt*(ut+He),Pt&&(Ne.static_len+=lt*(Nt[2*Ge+1]+He)));if(Rr!==0){do{for(ut=wt-1;Ne.bl_count[ut]===0;)ut--;Ne.bl_count[ut]--,Ne.bl_count[ut+1]+=2,Ne.bl_count[wt]--,Rr-=2}while(0<Rr);for(ut=wt;ut!==0;ut--)for(Ge=Ne.bl_count[ut];Ge!==0;)Lt<(Ze=Ne.heap[--Ye])||(Qe[2*Ze+1]!==ut&&(Ne.opt_len+=(ut-Qe[2*Ze+1])*Qe[2*Ze],Qe[2*Ze+1]=ut),Ge--)}}(Q,Ae),se(we,he,Q.bl_count)}function H(Q,Ae,te){var ae,le,we=-1,Ie=Ae[1],ue=0,pe=7,he=4;for(Ie===0&&(pe=138,he=3),Ae[2*(te+1)+1]=65535,ae=0;ae<=te;ae++)le=Ie,Ie=Ae[2*(ae+1)+1],++ue<pe&&le===Ie||(ue<he?Q.bl_tree[2*le]+=ue:le!==0?(le!==we&&Q.bl_tree[2*le]++,Q.bl_tree[2*N]++):ue<=10?Q.bl_tree[2*C]++:Q.bl_tree[2*x]++,we=le,he=(ue=0)===Ie?(pe=138,3):le===Ie?(pe=6,3):(pe=7,4))}function Ce(Q,Ae,te){var ae,le,we=-1,Ie=Ae[1],ue=0,pe=7,he=4;for(Ie===0&&(pe=138,he=3),ae=0;ae<=te;ae++)if(le=Ie,Ie=Ae[2*(ae+1)+1],!(++ue<pe&&le===Ie)){if(ue<he)for(;Z(Q,le,Q.bl_tree),--ue!=0;);else le!==0?(le!==we&&(Z(Q,le,Q.bl_tree),ue--),Z(Q,N,Q.bl_tree),J(Q,ue-3,2)):ue<=10?(Z(Q,C,Q.bl_tree),J(Q,ue-3,3)):(Z(Q,x,Q.bl_tree),J(Q,ue-11,7));we=le,he=(ue=0)===Ie?(pe=138,3):le===Ie?(pe=6,3):(pe=7,4)}}l(V);var be=!1;function ce(Q,Ae,te,ae){J(Q,(c<<1)+(ae?1:0),3),function(le,we,Ie,ue){Te(le),X(le,Ie),X(le,~Ie),i.arraySet(le.pending_buf,le.window,we,Ie,le.pending),le.pending+=Ie}(Q,Ae,te)}s._tr_init=function(Q){be||(function(){var Ae,te,ae,le,we,Ie=new Array(g+1);for(le=ae=0;le<d-1;le++)for(F[le]=ae,Ae=0;Ae<1<<A[le];Ae++)I[ae++]=le;for(I[ae-1]=le,le=we=0;le<16;le++)for(V[le]=we,Ae=0;Ae<1<<b[le];Ae++)P[we++]=le;for(we>>=7;le<f;le++)for(V[le]=we<<7,Ae=0;Ae<1<<b[le]-7;Ae++)P[256+we++]=le;for(te=0;te<=g;te++)Ie[te]=0;for(Ae=0;Ae<=143;)j[2*Ae+1]=8,Ae++,Ie[8]++;for(;Ae<=255;)j[2*Ae+1]=9,Ae++,Ie[9]++;for(;Ae<=279;)j[2*Ae+1]=7,Ae++,Ie[7]++;for(;Ae<=287;)j[2*Ae+1]=8,Ae++,Ie[8]++;for(se(j,m+1,Ie),Ae=0;Ae<f;Ae++)L[2*Ae+1]=5,L[2*Ae]=Ee(Ae,5);W=new re(j,A,h+1,m,g),Y=new re(L,b,0,f,g),k=new re(new Array(0),_,0,p,S)}(),be=!0),Q.l_desc=new K(Q.dyn_ltree,W),Q.d_desc=new K(Q.dyn_dtree,Y),Q.bl_desc=new K(Q.bl_tree,k),Q.bi_buf=0,Q.bi_valid=0,ie(Q)},s._tr_stored_block=ce,s._tr_flush_block=function(Q,Ae,te,ae){var le,we,Ie=0;0<Q.level?(Q.strm.data_type===2&&(Q.strm.data_type=function(ue){var pe,he=4093624447;for(pe=0;pe<=31;pe++,he>>>=1)if(1&he&&ue.dyn_ltree[2*pe]!==0)return o;if(ue.dyn_ltree[18]!==0||ue.dyn_ltree[20]!==0||ue.dyn_ltree[26]!==0)return a;for(pe=32;pe<h;pe++)if(ue.dyn_ltree[2*pe]!==0)return a;return o}(Q)),je(Q,Q.l_desc),je(Q,Q.d_desc),Ie=function(ue){var pe;for(H(ue,ue.dyn_ltree,ue.l_desc.max_code),H(ue,ue.dyn_dtree,ue.d_desc.max_code),je(ue,ue.bl_desc),pe=p-1;3<=pe&&ue.bl_tree[2*U[pe]+1]===0;pe--);return ue.opt_len+=3*(pe+1)+5+5+4,pe}(Q),le=Q.opt_len+3+7>>>3,(we=Q.static_len+3+7>>>3)<=le&&(le=we)):le=we=te+5,te+4<=le&&Ae!==-1?ce(Q,Ae,te,ae):Q.strategy===4||we===le?(J(Q,2+(ae?1:0),3),fe(Q,j,L)):(J(Q,4+(ae?1:0),3),function(ue,pe,he,Ne){var Se;for(J(ue,pe-257,5),J(ue,he-1,5),J(ue,Ne-4,4),Se=0;Se<Ne;Se++)J(ue,ue.bl_tree[2*U[Se]+1],3);Ce(ue,ue.dyn_ltree,pe-1),Ce(ue,ue.dyn_dtree,he-1)}(Q,Q.l_desc.max_code+1,Q.d_desc.max_code+1,Ie+1),fe(Q,Q.dyn_ltree,Q.dyn_dtree)),ie(Q),ae&&Te(Q)},s._tr_tally=function(Q,Ae,te){return Q.pending_buf[Q.d_buf+2*Q.last_lit]=Ae>>>8&255,Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=255&Ae,Q.pending_buf[Q.l_buf+Q.last_lit]=255&te,Q.last_lit++,Ae===0?Q.dyn_ltree[2*te]++:(Q.matches++,Ae--,Q.dyn_ltree[2*(I[te]+h+1)]++,Q.dyn_dtree[2*B(Ae)]++),Q.last_lit===Q.lit_bufsize-1},s._tr_align=function(Q){J(Q,2,3),Z(Q,v,j),function(Ae){Ae.bi_valid===16?(X(Ae,Ae.bi_buf),Ae.bi_buf=0,Ae.bi_valid=0):8<=Ae.bi_valid&&(Ae.pending_buf[Ae.pending++]=255&Ae.bi_buf,Ae.bi_buf>>=8,Ae.bi_valid-=8)}(Q)}},{"../utils/common":41}],53:[function(r,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,s){(function(i){(function(o,a){if(!o.setImmediate){var l,c,d,h,m=1,f={},p=!1,E=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,l={}.toString.call(o.process)==="[object process]"?function(N){process.nextTick(function(){S(N)})}:function(){if(o.postMessage&&!o.importScripts){var N=!0,C=o.onmessage;return o.onmessage=function(){N=!1},o.postMessage("","*"),o.onmessage=C,N}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",v,!1):o.attachEvent("onmessage",v),function(N){o.postMessage(h+N,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(N){S(N.data)},function(N){d.port2.postMessage(N)}):E&&"onreadystatechange"in E.createElement("script")?(c=E.documentElement,function(N){var C=E.createElement("script");C.onreadystatechange=function(){S(N),C.onreadystatechange=null,c.removeChild(C),C=null},c.appendChild(C)}):function(N){setTimeout(S,0,N)},g.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var C=new Array(arguments.length-1),x=0;x<C.length;x++)C[x]=arguments[x+1];var A={callback:N,args:C};return f[m]=A,l(m),m++},g.clearImmediate=T}function T(N){delete f[N]}function S(N){if(p)setTimeout(S,0,N);else{var C=f[N];if(C){p=!0;try{(function(x){var A=x.callback,b=x.args;switch(b.length){case 0:A();break;case 1:A(b[0]);break;case 2:A(b[0],b[1]);break;case 3:A(b[0],b[1],b[2]);break;default:A.apply(a,b)}})(C)}finally{T(N),p=!1}}}}function v(N){N.source===o&&typeof N.data=="string"&&N.data.indexOf(h)===0&&S(+N.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(X8);var K_e=X8.exports;const X_e=Yr(K_e),Q8=()=>{var o;const t=Me.getState().schemaFiles,e=ht.persist.getOptions().name,r=(o=ht.getState().mainStore)==null?void 0:o.persist.getOptions().name,n=["drizzle-version","drizzle-playground"],s={};e&&n.push(e),r&&n.push(r);for(const a of n){const l=localStorage.getItem(a);if(l)try{s[a]=JSON.parse(l)}catch{s[a]=l}}const i=Me.getState().databaseMetadata;return{...t?{schemaFiles:t}:null,localStorage:s,databaseMetadata:i}},J8=(t,e)=>{const r=[];t&&r.push({filename:"error.json",data:JSON.stringify(t,null,2)}),e.schemaFiles&&r.push(...e.schemaFiles.map(({name:i,content:o})=>({filename:i,data:o}))),e.localStorage&&r.push({filename:"local-storage.json",data:JSON.stringify(e.localStorage,null,2)}),e.databaseMetadata&&r.push({filename:"db-metadata.json",data:JSON.stringify(e.databaseMetadata,null,2)});const n=r.map(i=>({blob:new Blob([i.data]),filename:i.filename})),s=new X_e;n.forEach(i=>{s.file(i.filename,i.blob)}),s.generateAsync({type:"blob"}).then(i=>{const o=URL.createObjectURL(i),a=document.createElement("a");a.href=o,a.download="bug-report.zip",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)})},Q_e=globalThis;function J_e(){const t=Q_e;return t.crypto||t.msCrypto}function Z_e(t=J_e()){let e=()=>Math.random()*16;try{if(t!=null&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t!=null&&t.getRandomValues&&(e=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(e()&15)>>r/4).toString(16))}const Z8={componentStack:null,context:null,error:null,eventId:null};class eLe extends y.Component{constructor(r){super(r);O(this,"state");this.state=Z8}componentDidCatch(r,n){const{componentStack:s}=n,{onError:i}=this.props,o=Z_e(),a=Q8(),l=r instanceof Error?r:new Error(String(r)||"Unknown error");i&&i(l,a,s,o),this.setState({error:l,context:a,componentStack:s,eventId:o})}resetErrorBoundary(){const{onReset:r}=this.props,{error:n,context:s,componentStack:i,eventId:o}=this.state;r&&r(n,s,i,o),this.setState(Z8)}render(){const{fallback:r,children:n}=this.props,s=this.state;if(s.componentStack===null)return u.jsx(tLe,{children:typeof n=="function"?n():n});const i=typeof r=="function"?y.createElement(r,{error:s.error,componentStack:s.componentStack,context:s.context,resetError:()=>this.resetErrorBoundary(),eventId:s.eventId}):r;return y.isValidElement(i)?i:null}}const tLe=({children:t})=>{const e=ld(r=>r.error);if(e)throw e;return t};function e6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Bl(...t){return e=>{let r=!1;const n=t.map(s=>{const i=e6(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():e6(t[s],null)}}}}function Ht(...t){return y.useCallback(Bl(...t),t)}function Fc(t){const e=rLe(t),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,a=y.Children.toArray(i),l=a.find(sLe);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return u.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var t6=Fc("Slot");function rLe(t){const e=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=oLe(s),a=iLe(i,s.props);return s.type!==y.Fragment&&(a.ref=n?Bl(n,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var r6=Symbol("radix.slottable");function nLe(t){const e=({children:r})=>u.jsx(u.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=r6,e}function sLe(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===r6}function iLe(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function oLe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const n6=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,s6=ea,i0=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return s6(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=r==null?void 0:r[c],h=i==null?void 0:i[c];if(d===null)return null;const m=n6(d)||n6(h);return s[c][m]}),a=r&&Object.entries(r).reduce((c,d)=>{let[h,m]=d;return m===void 0||(c[h]=m),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:h,className:m,...f}=d;return Object.entries(f).every(p=>{let[E,g]=p;return Array.isArray(g)?g.includes({...i,...a}[E]):{...i,...a}[E]===g})?[...c,h,m]:c},[]);return s6(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aLe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i6=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lLe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cLe=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...lLe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:i6("lucide",s),...a},[...o.map(([c,d])=>y.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(t,e)=>{const r=y.forwardRef(({className:n,...s},i)=>y.createElement(cLe,{ref:i,iconNode:e,className:i6(`lucide-${aLe(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uLe=xt("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=xt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dLe=xt("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=xt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hLe=xt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fLe=xt("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=xt("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mLe=xt("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=xt("Braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pLe=xt("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ELe=xt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=xt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=xt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=xt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=xt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=xt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gLe=xt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TLe=xt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SLe=xt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vLe=xt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=xt("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=xt("CornerDownLeft",[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=xt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yLe=xt("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=xt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ALe=xt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=xt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=xt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RLe=xt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=xt("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=xt("Layers3",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1e5n1m"}],["path",{d:"m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1iwflc"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NLe=xt("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=xt("ListCheck",[["path",{d:"M11 18H3",key:"n3j2dh"}],["path",{d:"m15 18 2 2 4-4",key:"1szwhi"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 6H3",key:"1wxfjs"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=xt("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bLe=xt("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=xt("ListRestart",[["path",{d:"M21 6H3",key:"1jwq7v"}],["path",{d:"M7 12H3",key:"13ou7f"}],["path",{d:"M7 18H3",key:"1sijw9"}],["path",{d:"M12 18a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L11 14",key:"qth677"}],["path",{d:"M11 10v4h4",key:"172dkj"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=xt("ListStart",[["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M10 6H3",key:"lf8lx7"}],["path",{d:"M21 18V8a2 2 0 0 0-2-2h-5",key:"1hghli"}],["path",{d:"m16 8-2-2 2-2",key:"160uvd"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CLe=xt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=xt("Option",[["path",{d:"M3 3h6l6 18h6",key:"ph9rgk"}],["path",{d:"M14 3h7",key:"16f0ms"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xLe=xt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=xt("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=xt("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=xt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=xt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=xt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wLe=xt("SaveOff",[["path",{d:"M13 13H8a1 1 0 0 0-1 1v7",key:"h8g396"}],["path",{d:"M14 8h1",key:"1lfen6"}],["path",{d:"M17 21v-4",key:"1yknxs"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M20.41 20.41A2 2 0 0 1 19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 .59-1.41",key:"1t4vdl"}],["path",{d:"M29.5 11.5s5 5 4 5",key:"zzn4i6"}],["path",{d:"M9 3h6.2a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V15",key:"24cby9"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OLe=xt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ILe=xt("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Le=xt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=xt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LLe=xt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DLe=xt("SquareAsterisk",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8.5 14 7-4",key:"12hpby"}],["path",{d:"m8.5 10 7 4",key:"wwy2dy"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=xt("SquareCode",[["path",{d:"M10 9.5 8 12l2 2.5",key:"3mjy60"}],["path",{d:"m14 9.5 2 2.5-2 2.5",key:"1bir2l"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=xt("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=xt("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=xt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=xt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MLe=xt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=xt("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=xt("View",[["path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2",key:"mrq65r"}],["path",{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2",key:"be3xqs"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=xt("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.419.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),uE=i0("focus-visible:ring-ring inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:!outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"hover:bg-primary/90 bg-primary text-primary-foreground",destructive:"hover:bg-destructive/90 bg-destructive text-destructive-foreground",submit:"hover:bg-submit/90 bg-submit text-submit-foreground",outline:"bg-button-outline border-button-outline-border text-button-outline-text hover:!text-button-outline-text-hover hover:!border-button-outline-border-hover hover:!bg-button-outline-hover border",secondary:"hover:bg-secondary/80 bg-secondary text-secondary-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-button-outline-text hover:!text-button-outline-text-hover underline-offset-4 hover:underline"},isActive:{true:"",false:""},size:{default:"h-10 px-4",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8"}},compoundVariants:[{variant:"outline",isActive:!0,className:"!bg-button-outline-active hover:!bg-button-outline-active-hover hover:!text-button-outline-active-text-hover !border-button-outline-active-border hover:!border-button-outline-active-border-hover !text-button-outline-active-text"}],defaultVariants:{variant:"default",size:"default"}}),Le=y.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,children:s,isLoading:i,isActive:o,...a},l)=>{const c=n?t6:"button";return n?u.jsx(c,{className:z(uE({variant:e,size:r,isActive:o,className:t})),ref:l,...a,children:s}):u.jsxs(c,{className:z(uE({variant:e,size:r,isActive:o,className:t}),i&&"relative overflow-hidden"),ref:l,...a,children:[i&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-inherit",children:u.jsx(CLe,{className:"animate-spin text-current"})}),s]})});Le.displayName="Button";const wn=yp()(t=>({shadowRoot:null,setShadowRoot:e=>t({shadowRoot:e})}));function kr(t){const e=wn.getState().shadowRoot,r=(e==null?void 0:e.host)??document.documentElement;return t*parseFloat(getComputedStyle(r).fontSize)}function Fl(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}const Ps=(t,e,r)=>{try{return qs(t,{language:e==="duckdb"?"postgresql":e==="singlestore"?"mysql":e,...r})}catch{return t}};var S6={exports:{}},Zi={},v6={exports:{}},y6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,V){var re=k.length;k.push(V);e:for(;0<re;){var K=re-1>>>1,B=k[K];if(0<s(B,V))k[K]=V,k[re]=B,re=K;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var V=k[0],re=k.pop();if(re!==V){k[0]=re;e:for(var K=0,B=k.length,X=B>>>1;K<X;){var J=2*(K+1)-1,Z=k[J],Ee=J+1,se=k[Ee];if(0>s(Z,re))Ee<B&&0>s(se,Z)?(k[K]=se,k[Ee]=re,K=Ee):(k[K]=Z,k[J]=re,K=J);else if(Ee<B&&0>s(se,re))k[K]=se,k[Ee]=re,K=Ee;else break e}}return V}function s(k,V){var re=k.sortIndex-V.sortIndex;return re!==0?re:k.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,m=3,f=!1,p=!1,E=!1,g=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=k)n(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(c)}}function N(k){if(E=!1,v(k),!p)if(r(l)!==null)p=!0,W(C);else{var V=r(c);V!==null&&Y(N,V.startTime-k)}}function C(k,V){p=!1,E&&(E=!1,T(b),b=-1),f=!0;var re=m;try{for(v(V),h=r(l);h!==null&&(!(h.expirationTime>V)||k&&!j());){var K=h.callback;if(typeof K=="function"){h.callback=null,m=h.priorityLevel;var B=K(h.expirationTime<=V);V=t.unstable_now(),typeof B=="function"?h.callback=B:h===r(l)&&n(l),v(V)}else n(l);h=r(l)}if(h!==null)var X=!0;else{var J=r(c);J!==null&&Y(N,J.startTime-V),X=!1}return X}finally{h=null,m=re,f=!1}}var x=!1,A=null,b=-1,_=5,U=-1;function j(){return!(t.unstable_now()-U<_)}function L(){if(A!==null){var k=t.unstable_now();U=k;var V=!0;try{V=A(!0,k)}finally{V?P():(x=!1,A=null)}}else x=!1}var P;if(typeof S=="function")P=function(){S(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,F=I.port2;I.port1.onmessage=L,P=function(){F.postMessage(null)}}else P=function(){g(L,0)};function W(k){A=k,x||(x=!0,P())}function Y(k,V){b=g(function(){k(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,W(C))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(k){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var re=m;m=V;try{return k()}finally{m=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,V){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var re=m;m=k;try{return V()}finally{m=re}},t.unstable_scheduleCallback=function(k,V,re){var K=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?K+re:K):re=K,k){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=re+B,k={id:d++,callback:V,priorityLevel:k,startTime:re,expirationTime:B,sortIndex:-1},re>K?(k.sortIndex=re,e(c,k),r(l)===null&&k===r(c)&&(E?(T(b),b=-1):E=!0,Y(N,re-K))):(k.sortIndex=B,e(l,k),p||f||(p=!0,W(C))),k},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(k){var V=m;return function(){var re=m;m=V;try{return k.apply(this,arguments)}finally{m=re}}}})(y6),v6.exports=y6;var PLe=v6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kLe=y,eo=PLe;function st(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A6=new Set,dE={};function Nd(t,e){mf(t,e),mf(t+"Capture",e)}function mf(t,e){for(dE[t]=e,t=0;t<e.length;t++)A6.add(e[t])}var Hl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),MO=Object.prototype.hasOwnProperty,ULe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R6={},N6={};function jLe(t){return MO.call(N6,t)?!0:MO.call(R6,t)?!1:ULe.test(t)?N6[t]=!0:(R6[t]=!0,!1)}function BLe(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FLe(t,e,r,n){if(e===null||typeof e>"u"||BLe(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ui(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ks={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ks[t]=new ui(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ks[e]=new ui(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){ks[t]=new ui(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ks[t]=new ui(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ks[t]=new ui(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){ks[t]=new ui(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){ks[t]=new ui(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){ks[t]=new ui(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){ks[t]=new ui(t,5,!1,t.toLowerCase(),null,!1,!1)});var PO=/[\-:]([a-z])/g;function kO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(PO,kO);ks[e]=new ui(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(PO,kO);ks[e]=new ui(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(PO,kO);ks[e]=new ui(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){ks[t]=new ui(t,1,!1,t.toLowerCase(),null,!1,!1)}),ks.xlinkHref=new ui("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){ks[t]=new ui(t,1,!1,t.toLowerCase(),null,!0,!0)});function UO(t,e,r,n){var s=ks.hasOwnProperty(e)?ks[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FLe(e,r,s,n)&&(r=null),n||s===null?jLe(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var $l=kLe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h0=Symbol.for("react.element"),pf=Symbol.for("react.portal"),Ef=Symbol.for("react.fragment"),jO=Symbol.for("react.strict_mode"),BO=Symbol.for("react.profiler"),b6=Symbol.for("react.provider"),C6=Symbol.for("react.context"),FO=Symbol.for("react.forward_ref"),HO=Symbol.for("react.suspense"),$O=Symbol.for("react.suspense_list"),GO=Symbol.for("react.memo"),$c=Symbol.for("react.lazy"),x6=Symbol.for("react.offscreen"),w6=Symbol.iterator;function hE(t){return t===null||typeof t!="object"?null:(t=w6&&t[w6]||t["@@iterator"],typeof t=="function"?t:null)}var cn=Object.assign,VO;function fE(t){if(VO===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);VO=e&&e[1]||""}return`
`+VO+t}var zO=!1;function WO(t,e){if(!t||zO)return"";zO=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{zO=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?fE(t):""}function HLe(t){switch(t.tag){case 5:return fE(t.type);case 16:return fE("Lazy");case 13:return fE("Suspense");case 19:return fE("SuspenseList");case 0:case 2:case 15:return t=WO(t.type,!1),t;case 11:return t=WO(t.type.render,!1),t;case 1:return t=WO(t.type,!0),t;default:return""}}function YO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ef:return"Fragment";case pf:return"Portal";case BO:return"Profiler";case jO:return"StrictMode";case HO:return"Suspense";case $O:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C6:return(t.displayName||"Context")+".Consumer";case b6:return(t._context.displayName||"Context")+".Provider";case FO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case GO:return e=t.displayName||null,e!==null?e:YO(t.type)||"Memo";case $c:e=t._payload,t=t._init;try{return YO(t(e))}catch{}}return null}function $Le(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return YO(e);case 8:return e===jO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GLe(t){var e=O6(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function f0(t){t._valueTracker||(t._valueTracker=GLe(t))}function I6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=O6(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function m0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qO(t,e){var r=e.checked;return cn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function _6(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Gc(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function L6(t,e){e=e.checked,e!=null&&UO(t,"checked",e,!1)}function KO(t,e){L6(t,e);var r=Gc(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?XO(t,e.type,r):e.hasOwnProperty("defaultValue")&&XO(t,e.type,Gc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function D6(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function XO(t,e,r){(e!=="number"||m0(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var mE=Array.isArray;function gf(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Gc(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function QO(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(st(91));return cn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M6(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(st(92));if(mE(r)){if(1<r.length)throw Error(st(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Gc(r)}}function P6(t,e){var r=Gc(e.value),n=Gc(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function k6(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function JO(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var p0,j6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(p0=p0||document.createElement("div"),p0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=p0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pE(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var EE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VLe=["Webkit","ms","Moz","O"];Object.keys(EE).forEach(function(t){VLe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),EE[e]=EE[t]})});function B6(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||EE.hasOwnProperty(t)&&EE[t]?(""+e).trim():e+"px"}function F6(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=B6(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var zLe=cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ZO(t,e){if(e){if(zLe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(st(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(st(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(st(61))}if(e.style!=null&&typeof e.style!="object")throw Error(st(62))}}function eI(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tI=null;function rI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nI=null,Tf=null,Sf=null;function H6(t){if(t=jE(t)){if(typeof nI!="function")throw Error(st(280));var e=t.stateNode;e&&(e=j0(e),nI(t.stateNode,t.type,e))}}function $6(t){Tf?Sf?Sf.push(t):Sf=[t]:Tf=t}function G6(){if(Tf){var t=Tf,e=Sf;if(Sf=Tf=null,H6(t),e)for(t=0;t<e.length;t++)H6(e[t])}}function V6(t,e){return t(e)}function z6(){}var sI=!1;function W6(t,e,r){if(sI)return t(e,r);sI=!0;try{return V6(t,e,r)}finally{sI=!1,(Tf!==null||Sf!==null)&&(z6(),G6())}}function gE(t,e){var r=t.stateNode;if(r===null)return null;var n=j0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(st(231,e,typeof r));return r}var iI=!1;if(Hl)try{var TE={};Object.defineProperty(TE,"passive",{get:function(){iI=!0}}),window.addEventListener("test",TE,TE),window.removeEventListener("test",TE,TE)}catch{iI=!1}function WLe(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var SE=!1,E0=null,g0=!1,oI=null,YLe={onError:function(t){SE=!0,E0=t}};function qLe(t,e,r,n,s,i,o,a,l){SE=!1,E0=null,WLe.apply(YLe,arguments)}function KLe(t,e,r,n,s,i,o,a,l){if(qLe.apply(this,arguments),SE){if(SE){var c=E0;SE=!1,E0=null}else throw Error(st(198));g0||(g0=!0,oI=c)}}function bd(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Y6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function q6(t){if(bd(t)!==t)throw Error(st(188))}function XLe(t){var e=t.alternate;if(!e){if(e=bd(t),e===null)throw Error(st(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return q6(s),t;if(i===n)return q6(s),e;i=i.sibling}throw Error(st(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(st(189))}}if(r.alternate!==n)throw Error(st(190))}if(r.tag!==3)throw Error(st(188));return r.stateNode.current===r?t:e}function K6(t){return t=XLe(t),t!==null?X6(t):null}function X6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=X6(t);if(e!==null)return e;t=t.sibling}return null}var Q6=eo.unstable_scheduleCallback,J6=eo.unstable_cancelCallback,QLe=eo.unstable_shouldYield,JLe=eo.unstable_requestPaint,On=eo.unstable_now,ZLe=eo.unstable_getCurrentPriorityLevel,aI=eo.unstable_ImmediatePriority,Z6=eo.unstable_UserBlockingPriority,T0=eo.unstable_NormalPriority,e2e=eo.unstable_LowPriority,eH=eo.unstable_IdlePriority,S0=null,Wa=null;function t2e(t){if(Wa&&typeof Wa.onCommitFiberRoot=="function")try{Wa.onCommitFiberRoot(S0,t,void 0,(t.current.flags&128)===128)}catch{}}var oa=Math.clz32?Math.clz32:s2e,r2e=Math.log,n2e=Math.LN2;function s2e(t){return t>>>=0,t===0?32:31-(r2e(t)/n2e|0)|0}var v0=64,y0=4194304;function vE(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function A0(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=vE(a):(i&=o,i!==0&&(n=vE(i)))}else o=r&~s,o!==0?n=vE(o):i!==0&&(n=vE(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-oa(e),s=1<<r,n|=t[r],e&=~s;return n}function i2e(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o2e(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-oa(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=i2e(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function lI(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tH(){var t=v0;return v0<<=1,!(v0&4194240)&&(v0=64),t}function cI(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function yE(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oa(e),t[e]=r}function a2e(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-oa(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function uI(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-oa(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var jr=0;function rH(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nH,dI,sH,iH,oH,hI=!1,R0=[],Vc=null,zc=null,Wc=null,AE=new Map,RE=new Map,Yc=[],l2e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aH(t,e){switch(t){case"focusin":case"focusout":Vc=null;break;case"dragenter":case"dragleave":zc=null;break;case"mouseover":case"mouseout":Wc=null;break;case"pointerover":case"pointerout":AE.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":RE.delete(e.pointerId)}}function NE(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=jE(e),e!==null&&dI(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function c2e(t,e,r,n,s){switch(e){case"focusin":return Vc=NE(Vc,t,e,r,n,s),!0;case"dragenter":return zc=NE(zc,t,e,r,n,s),!0;case"mouseover":return Wc=NE(Wc,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return AE.set(i,NE(AE.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,RE.set(i,NE(RE.get(i)||null,t,e,r,n,s)),!0}return!1}function lH(t){var e=Cd(t.target);if(e!==null){var r=bd(e);if(r!==null){if(e=r.tag,e===13){if(e=Y6(r),e!==null){t.blockedOn=e,oH(t.priority,function(){sH(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function N0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=mI(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);tI=n,r.target.dispatchEvent(n),tI=null}else return e=jE(r),e!==null&&dI(e),t.blockedOn=r,!1;e.shift()}return!0}function cH(t,e,r){N0(t)&&r.delete(e)}function u2e(){hI=!1,Vc!==null&&N0(Vc)&&(Vc=null),zc!==null&&N0(zc)&&(zc=null),Wc!==null&&N0(Wc)&&(Wc=null),AE.forEach(cH),RE.forEach(cH)}function bE(t,e){t.blockedOn===e&&(t.blockedOn=null,hI||(hI=!0,eo.unstable_scheduleCallback(eo.unstable_NormalPriority,u2e)))}function CE(t){function e(s){return bE(s,t)}if(0<R0.length){bE(R0[0],t);for(var r=1;r<R0.length;r++){var n=R0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Vc!==null&&bE(Vc,t),zc!==null&&bE(zc,t),Wc!==null&&bE(Wc,t),AE.forEach(e),RE.forEach(e),r=0;r<Yc.length;r++)n=Yc[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Yc.length&&(r=Yc[0],r.blockedOn===null);)lH(r),r.blockedOn===null&&Yc.shift()}var vf=$l.ReactCurrentBatchConfig,b0=!0;function d2e(t,e,r,n){var s=jr,i=vf.transition;vf.transition=null;try{jr=1,fI(t,e,r,n)}finally{jr=s,vf.transition=i}}function h2e(t,e,r,n){var s=jr,i=vf.transition;vf.transition=null;try{jr=4,fI(t,e,r,n)}finally{jr=s,vf.transition=i}}function fI(t,e,r,n){if(b0){var s=mI(t,e,r,n);if(s===null)_I(t,e,n,C0,r),aH(t,n);else if(c2e(s,t,e,r,n))n.stopPropagation();else if(aH(t,n),e&4&&-1<l2e.indexOf(t)){for(;s!==null;){var i=jE(s);if(i!==null&&nH(i),i=mI(t,e,r,n),i===null&&_I(t,e,n,C0,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else _I(t,e,n,null,r)}}var C0=null;function mI(t,e,r,n){if(C0=null,t=rI(n),t=Cd(t),t!==null)if(e=bd(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Y6(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return C0=t,null}function uH(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZLe()){case aI:return 1;case Z6:return 4;case T0:case e2e:return 16;case eH:return 536870912;default:return 16}default:return 16}}var qc=null,pI=null,x0=null;function dH(){if(x0)return x0;var t,e=pI,r=e.length,n,s="value"in qc?qc.value:qc.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return x0=s.slice(t,1<n?1-n:void 0)}function w0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function O0(){return!0}function hH(){return!1}function to(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?O0:hH,this.isPropagationStopped=hH,this}return cn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=O0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=O0)},persist:function(){},isPersistent:O0}),e}var yf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},EI=to(yf),xE=cn({},yf,{view:0,detail:0}),f2e=to(xE),gI,TI,wE,I0=cn({},xE,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wE&&(wE&&t.type==="mousemove"?(gI=t.screenX-wE.screenX,TI=t.screenY-wE.screenY):TI=gI=0,wE=t),gI)},movementY:function(t){return"movementY"in t?t.movementY:TI}}),fH=to(I0),m2e=cn({},I0,{dataTransfer:0}),p2e=to(m2e),E2e=cn({},xE,{relatedTarget:0}),SI=to(E2e),g2e=cn({},yf,{animationName:0,elapsedTime:0,pseudoElement:0}),T2e=to(g2e),S2e=cn({},yf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v2e=to(S2e),y2e=cn({},yf,{data:0}),mH=to(y2e),A2e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R2e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N2e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b2e(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=N2e[t])?!!e[t]:!1}function vI(){return b2e}var C2e=cn({},xE,{key:function(t){if(t.key){var e=A2e[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=w0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?R2e[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vI,charCode:function(t){return t.type==="keypress"?w0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?w0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),x2e=to(C2e),w2e=cn({},I0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pH=to(w2e),O2e=cn({},xE,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vI}),I2e=to(O2e),_2e=cn({},yf,{propertyName:0,elapsedTime:0,pseudoElement:0}),L2e=to(_2e),D2e=cn({},I0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M2e=to(D2e),P2e=[9,13,27,32],yI=Hl&&"CompositionEvent"in window,OE=null;Hl&&"documentMode"in document&&(OE=document.documentMode);var k2e=Hl&&"TextEvent"in window&&!OE,EH=Hl&&(!yI||OE&&8<OE&&11>=OE),gH=" ",TH=!1;function SH(t,e){switch(t){case"keyup":return P2e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vH(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Af=!1;function U2e(t,e){switch(t){case"compositionend":return vH(e);case"keypress":return e.which!==32?null:(TH=!0,gH);case"textInput":return t=e.data,t===gH&&TH?null:t;default:return null}}function j2e(t,e){if(Af)return t==="compositionend"||!yI&&SH(t,e)?(t=dH(),x0=pI=qc=null,Af=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EH&&e.locale!=="ko"?null:e.data;default:return null}}var B2e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yH(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!B2e[t.type]:e==="textarea"}function AH(t,e,r,n){$6(n),e=P0(e,"onChange"),0<e.length&&(r=new EI("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var IE=null,_E=null;function F2e(t){FH(t,0)}function _0(t){var e=xf(t);if(I6(e))return t}function H2e(t,e){if(t==="change")return e}var RH=!1;if(Hl){var AI;if(Hl){var RI="oninput"in document;if(!RI){var NH=document.createElement("div");NH.setAttribute("oninput","return;"),RI=typeof NH.oninput=="function"}AI=RI}else AI=!1;RH=AI&&(!document.documentMode||9<document.documentMode)}function bH(){IE&&(IE.detachEvent("onpropertychange",CH),_E=IE=null)}function CH(t){if(t.propertyName==="value"&&_0(_E)){var e=[];AH(e,_E,t,rI(t)),W6(F2e,e)}}function $2e(t,e,r){t==="focusin"?(bH(),IE=e,_E=r,IE.attachEvent("onpropertychange",CH)):t==="focusout"&&bH()}function G2e(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _0(_E)}function V2e(t,e){if(t==="click")return _0(e)}function z2e(t,e){if(t==="input"||t==="change")return _0(e)}function W2e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var aa=typeof Object.is=="function"?Object.is:W2e;function LE(t,e){if(aa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!MO.call(e,s)||!aa(t[s],e[s]))return!1}return!0}function xH(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wH(t,e){var r=xH(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xH(r)}}function OH(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OH(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IH(){for(var t=window,e=m0();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=m0(t.document)}return e}function NI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Y2e(t){var e=IH(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&OH(r.ownerDocument.documentElement,r)){if(n!==null&&NI(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=wH(r,i);var o=wH(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var q2e=Hl&&"documentMode"in document&&11>=document.documentMode,Rf=null,bI=null,DE=null,CI=!1;function _H(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;CI||Rf==null||Rf!==m0(n)||(n=Rf,"selectionStart"in n&&NI(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),DE&&LE(DE,n)||(DE=n,n=P0(bI,"onSelect"),0<n.length&&(e=new EI("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Rf)))}function L0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Nf={animationend:L0("Animation","AnimationEnd"),animationiteration:L0("Animation","AnimationIteration"),animationstart:L0("Animation","AnimationStart"),transitionend:L0("Transition","TransitionEnd")},xI={},LH={};Hl&&(LH=document.createElement("div").style,"AnimationEvent"in window||(delete Nf.animationend.animation,delete Nf.animationiteration.animation,delete Nf.animationstart.animation),"TransitionEvent"in window||delete Nf.transitionend.transition);function D0(t){if(xI[t])return xI[t];if(!Nf[t])return t;var e=Nf[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in LH)return xI[t]=e[r];return t}var DH=D0("animationend"),MH=D0("animationiteration"),PH=D0("animationstart"),kH=D0("transitionend"),UH=new Map,jH="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kc(t,e){UH.set(t,e),Nd(e,[t])}for(var wI=0;wI<jH.length;wI++){var OI=jH[wI],K2e=OI.toLowerCase(),X2e=OI[0].toUpperCase()+OI.slice(1);Kc(K2e,"on"+X2e)}Kc(DH,"onAnimationEnd"),Kc(MH,"onAnimationIteration"),Kc(PH,"onAnimationStart"),Kc("dblclick","onDoubleClick"),Kc("focusin","onFocus"),Kc("focusout","onBlur"),Kc(kH,"onTransitionEnd"),mf("onMouseEnter",["mouseout","mouseover"]),mf("onMouseLeave",["mouseout","mouseover"]),mf("onPointerEnter",["pointerout","pointerover"]),mf("onPointerLeave",["pointerout","pointerover"]),Nd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nd("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ME="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q2e=new Set("cancel close invalid load scroll toggle".split(" ").concat(ME));function BH(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,KLe(n,e,void 0,t),t.currentTarget=null}function FH(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;BH(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;BH(s,a,c),i=l}}}if(g0)throw t=oI,g0=!1,oI=null,t}function en(t,e){var r=e[UI];r===void 0&&(r=e[UI]=new Set);var n=t+"__bubble";r.has(n)||(HH(e,t,2,!1),r.add(n))}function II(t,e,r){var n=0;e&&(n|=4),HH(r,t,n,e)}var M0="_reactListening"+Math.random().toString(36).slice(2);function PE(t){if(!t[M0]){t[M0]=!0,A6.forEach(function(r){r!=="selectionchange"&&(Q2e.has(r)||II(r,!1,t),II(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[M0]||(e[M0]=!0,II("selectionchange",!1,e))}}function HH(t,e,r,n){switch(uH(e)){case 1:var s=d2e;break;case 4:s=h2e;break;default:s=fI}r=s.bind(null,e,r,t),s=void 0,!iI||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function _I(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Cd(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}W6(function(){var c=i,d=rI(r),h=[];e:{var m=UH.get(t);if(m!==void 0){var f=EI,p=t;switch(t){case"keypress":if(w0(r)===0)break e;case"keydown":case"keyup":f=x2e;break;case"focusin":p="focus",f=SI;break;case"focusout":p="blur",f=SI;break;case"beforeblur":case"afterblur":f=SI;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=fH;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=p2e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=I2e;break;case DH:case MH:case PH:f=T2e;break;case kH:f=L2e;break;case"scroll":f=f2e;break;case"wheel":f=M2e;break;case"copy":case"cut":case"paste":f=v2e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=pH}var E=(e&4)!==0,g=!E&&t==="scroll",T=E?m!==null?m+"Capture":null:m;E=[];for(var S=c,v;S!==null;){v=S;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,T!==null&&(N=gE(S,T),N!=null&&E.push(kE(S,N,v)))),g)break;S=S.return}0<E.length&&(m=new f(m,p,null,r,d),h.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&r!==tI&&(p=r.relatedTarget||r.fromElement)&&(Cd(p)||p[Gl]))break e;if((f||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=c,p=p?Cd(p):null,p!==null&&(g=bd(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(E=fH,N="onMouseLeave",T="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(E=pH,N="onPointerLeave",T="onPointerEnter",S="pointer"),g=f==null?m:xf(f),v=p==null?m:xf(p),m=new E(N,S+"leave",f,r,d),m.target=g,m.relatedTarget=v,N=null,Cd(d)===c&&(E=new E(T,S+"enter",p,r,d),E.target=v,E.relatedTarget=g,N=E),g=N,f&&p)t:{for(E=f,T=p,S=0,v=E;v;v=bf(v))S++;for(v=0,N=T;N;N=bf(N))v++;for(;0<S-v;)E=bf(E),S--;for(;0<v-S;)T=bf(T),v--;for(;S--;){if(E===T||T!==null&&E===T.alternate)break t;E=bf(E),T=bf(T)}E=null}else E=null;f!==null&&$H(h,m,f,E,!1),p!==null&&g!==null&&$H(h,g,p,E,!0)}}e:{if(m=c?xf(c):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var C=H2e;else if(yH(m))if(RH)C=z2e;else{C=G2e;var x=$2e}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=V2e);if(C&&(C=C(t,c))){AH(h,C,r,d);break e}x&&x(t,m,c),t==="focusout"&&(x=m._wrapperState)&&x.controlled&&m.type==="number"&&XO(m,"number",m.value)}switch(x=c?xf(c):window,t){case"focusin":(yH(x)||x.contentEditable==="true")&&(Rf=x,bI=c,DE=null);break;case"focusout":DE=bI=Rf=null;break;case"mousedown":CI=!0;break;case"contextmenu":case"mouseup":case"dragend":CI=!1,_H(h,r,d);break;case"selectionchange":if(q2e)break;case"keydown":case"keyup":_H(h,r,d)}var A;if(yI)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Af?SH(t,r)&&(b="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(EH&&r.locale!=="ko"&&(Af||b!=="onCompositionStart"?b==="onCompositionEnd"&&Af&&(A=dH()):(qc=d,pI="value"in qc?qc.value:qc.textContent,Af=!0)),x=P0(c,b),0<x.length&&(b=new mH(b,t,null,r,d),h.push({event:b,listeners:x}),A?b.data=A:(A=vH(r),A!==null&&(b.data=A)))),(A=k2e?U2e(t,r):j2e(t,r))&&(c=P0(c,"onBeforeInput"),0<c.length&&(d=new mH("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=A))}FH(h,e)})}function kE(t,e,r){return{instance:t,listener:e,currentTarget:r}}function P0(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gE(t,r),i!=null&&n.unshift(kE(t,i,s)),i=gE(t,e),i!=null&&n.push(kE(t,i,s))),t=t.return}return n}function bf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $H(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=gE(r,i),l!=null&&o.unshift(kE(r,l,a))):s||(l=gE(r,i),l!=null&&o.push(kE(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var J2e=/\r\n?/g,Z2e=/\u0000|\uFFFD/g;function GH(t){return(typeof t=="string"?t:""+t).replace(J2e,`
`).replace(Z2e,"")}function k0(t,e,r){if(e=GH(e),GH(t)!==e&&r)throw Error(st(425))}function U0(){}var LI=null,DI=null;function MI(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var PI=typeof setTimeout=="function"?setTimeout:void 0,eDe=typeof clearTimeout=="function"?clearTimeout:void 0,VH=typeof Promise=="function"?Promise:void 0,tDe=typeof queueMicrotask=="function"?queueMicrotask:typeof VH<"u"?function(t){return VH.resolve(null).then(t).catch(rDe)}:PI;function rDe(t){setTimeout(function(){throw t})}function kI(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),CE(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);CE(e)}function Xc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zH(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Cf=Math.random().toString(36).slice(2),Ya="__reactFiber$"+Cf,UE="__reactProps$"+Cf,Gl="__reactContainer$"+Cf,UI="__reactEvents$"+Cf,nDe="__reactListeners$"+Cf,sDe="__reactHandles$"+Cf;function Cd(t){var e=t[Ya];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Gl]||r[Ya]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=zH(t);t!==null;){if(r=t[Ya])return r;t=zH(t)}return e}t=r,r=t.parentNode}return null}function jE(t){return t=t[Ya]||t[Gl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(st(33))}function j0(t){return t[UE]||null}var jI=[],wf=-1;function Qc(t){return{current:t}}function tn(t){0>wf||(t.current=jI[wf],jI[wf]=null,wf--)}function Xr(t,e){wf++,jI[wf]=t.current,t.current=e}var Jc={},Ks=Qc(Jc),_i=Qc(!1),xd=Jc;function Of(t,e){var r=t.type.contextTypes;if(!r)return Jc;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Li(t){return t=t.childContextTypes,t!=null}function B0(){tn(_i),tn(Ks)}function WH(t,e,r){if(Ks.current!==Jc)throw Error(st(168));Xr(Ks,e),Xr(_i,r)}function YH(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(st(108,$Le(t)||"Unknown",s));return cn({},r,n)}function F0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jc,xd=Ks.current,Xr(Ks,t),Xr(_i,_i.current),!0}function qH(t,e,r){var n=t.stateNode;if(!n)throw Error(st(169));r?(t=YH(t,e,xd),n.__reactInternalMemoizedMergedChildContext=t,tn(_i),tn(Ks),Xr(Ks,t)):tn(_i),Xr(_i,r)}var Vl=null,H0=!1,BI=!1;function KH(t){Vl===null?Vl=[t]:Vl.push(t)}function iDe(t){H0=!0,KH(t)}function Zc(){if(!BI&&Vl!==null){BI=!0;var t=0,e=jr;try{var r=Vl;for(jr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Vl=null,H0=!1}catch(s){throw Vl!==null&&(Vl=Vl.slice(t+1)),Q6(aI,Zc),s}finally{jr=e,BI=!1}}return null}var If=[],_f=0,$0=null,G0=0,Co=[],xo=0,wd=null,zl=1,Wl="";function Od(t,e){If[_f++]=G0,If[_f++]=$0,$0=t,G0=e}function XH(t,e,r){Co[xo++]=zl,Co[xo++]=Wl,Co[xo++]=wd,wd=t;var n=zl;t=Wl;var s=32-oa(n)-1;n&=~(1<<s),r+=1;var i=32-oa(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,zl=1<<32-oa(e)+s|r<<s|n,Wl=i+t}else zl=1<<i|r<<s|n,Wl=t}function FI(t){t.return!==null&&(Od(t,1),XH(t,1,0))}function HI(t){for(;t===$0;)$0=If[--_f],If[_f]=null,G0=If[--_f],If[_f]=null;for(;t===wd;)wd=Co[--xo],Co[xo]=null,Wl=Co[--xo],Co[xo]=null,zl=Co[--xo],Co[xo]=null}var ro=null,no=null,an=!1,la=null;function QH(t,e){var r=_o(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function JH(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ro=t,no=Xc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ro=t,no=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=wd!==null?{id:zl,overflow:Wl}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=_o(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ro=t,no=null,!0):!1;default:return!1}}function $I(t){return(t.mode&1)!==0&&(t.flags&128)===0}function GI(t){if(an){var e=no;if(e){var r=e;if(!JH(t,e)){if($I(t))throw Error(st(418));e=Xc(r.nextSibling);var n=ro;e&&JH(t,e)?QH(n,r):(t.flags=t.flags&-4097|2,an=!1,ro=t)}}else{if($I(t))throw Error(st(418));t.flags=t.flags&-4097|2,an=!1,ro=t}}}function ZH(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ro=t}function V0(t){if(t!==ro)return!1;if(!an)return ZH(t),an=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!MI(t.type,t.memoizedProps)),e&&(e=no)){if($I(t))throw e$(),Error(st(418));for(;e;)QH(t,e),e=Xc(e.nextSibling)}if(ZH(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(st(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){no=Xc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}no=null}}else no=ro?Xc(t.stateNode.nextSibling):null;return!0}function e$(){for(var t=no;t;)t=Xc(t.nextSibling)}function Lf(){no=ro=null,an=!1}function VI(t){la===null?la=[t]:la.push(t)}var oDe=$l.ReactCurrentBatchConfig;function BE(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(st(309));var n=r.stateNode}if(!n)throw Error(st(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(st(284));if(!r._owner)throw Error(st(290,t))}return t}function z0(t,e){throw t=Object.prototype.toString.call(e),Error(st(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function t$(t){var e=t._init;return e(t._payload)}function r$(t){function e(T,S){if(t){var v=T.deletions;v===null?(T.deletions=[S],T.flags|=16):v.push(S)}}function r(T,S){if(!t)return null;for(;S!==null;)e(T,S),S=S.sibling;return null}function n(T,S){for(T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function s(T,S){return T=au(T,S),T.index=0,T.sibling=null,T}function i(T,S,v){return T.index=v,t?(v=T.alternate,v!==null?(v=v.index,v<S?(T.flags|=2,S):v):(T.flags|=2,S)):(T.flags|=1048576,S)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,S,v,N){return S===null||S.tag!==6?(S=P_(v,T.mode,N),S.return=T,S):(S=s(S,v),S.return=T,S)}function l(T,S,v,N){var C=v.type;return C===Ef?d(T,S,v.props.children,N,v.key):S!==null&&(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$c&&t$(C)===S.type)?(N=s(S,v.props),N.ref=BE(T,S,v),N.return=T,N):(N=py(v.type,v.key,v.props,null,T.mode,N),N.ref=BE(T,S,v),N.return=T,N)}function c(T,S,v,N){return S===null||S.tag!==4||S.stateNode.containerInfo!==v.containerInfo||S.stateNode.implementation!==v.implementation?(S=k_(v,T.mode,N),S.return=T,S):(S=s(S,v.children||[]),S.return=T,S)}function d(T,S,v,N,C){return S===null||S.tag!==7?(S=Ud(v,T.mode,N,C),S.return=T,S):(S=s(S,v),S.return=T,S)}function h(T,S,v){if(typeof S=="string"&&S!==""||typeof S=="number")return S=P_(""+S,T.mode,v),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case h0:return v=py(S.type,S.key,S.props,null,T.mode,v),v.ref=BE(T,null,S),v.return=T,v;case pf:return S=k_(S,T.mode,v),S.return=T,S;case $c:var N=S._init;return h(T,N(S._payload),v)}if(mE(S)||hE(S))return S=Ud(S,T.mode,v,null),S.return=T,S;z0(T,S)}return null}function m(T,S,v,N){var C=S!==null?S.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:a(T,S,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case h0:return v.key===C?l(T,S,v,N):null;case pf:return v.key===C?c(T,S,v,N):null;case $c:return C=v._init,m(T,S,C(v._payload),N)}if(mE(v)||hE(v))return C!==null?null:d(T,S,v,N,null);z0(T,v)}return null}function f(T,S,v,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return T=T.get(v)||null,a(S,T,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case h0:return T=T.get(N.key===null?v:N.key)||null,l(S,T,N,C);case pf:return T=T.get(N.key===null?v:N.key)||null,c(S,T,N,C);case $c:var x=N._init;return f(T,S,v,x(N._payload),C)}if(mE(N)||hE(N))return T=T.get(v)||null,d(S,T,N,C,null);z0(S,N)}return null}function p(T,S,v,N){for(var C=null,x=null,A=S,b=S=0,_=null;A!==null&&b<v.length;b++){A.index>b?(_=A,A=null):_=A.sibling;var U=m(T,A,v[b],N);if(U===null){A===null&&(A=_);break}t&&A&&U.alternate===null&&e(T,A),S=i(U,S,b),x===null?C=U:x.sibling=U,x=U,A=_}if(b===v.length)return r(T,A),an&&Od(T,b),C;if(A===null){for(;b<v.length;b++)A=h(T,v[b],N),A!==null&&(S=i(A,S,b),x===null?C=A:x.sibling=A,x=A);return an&&Od(T,b),C}for(A=n(T,A);b<v.length;b++)_=f(A,T,b,v[b],N),_!==null&&(t&&_.alternate!==null&&A.delete(_.key===null?b:_.key),S=i(_,S,b),x===null?C=_:x.sibling=_,x=_);return t&&A.forEach(function(j){return e(T,j)}),an&&Od(T,b),C}function E(T,S,v,N){var C=hE(v);if(typeof C!="function")throw Error(st(150));if(v=C.call(v),v==null)throw Error(st(151));for(var x=C=null,A=S,b=S=0,_=null,U=v.next();A!==null&&!U.done;b++,U=v.next()){A.index>b?(_=A,A=null):_=A.sibling;var j=m(T,A,U.value,N);if(j===null){A===null&&(A=_);break}t&&A&&j.alternate===null&&e(T,A),S=i(j,S,b),x===null?C=j:x.sibling=j,x=j,A=_}if(U.done)return r(T,A),an&&Od(T,b),C;if(A===null){for(;!U.done;b++,U=v.next())U=h(T,U.value,N),U!==null&&(S=i(U,S,b),x===null?C=U:x.sibling=U,x=U);return an&&Od(T,b),C}for(A=n(T,A);!U.done;b++,U=v.next())U=f(A,T,b,U.value,N),U!==null&&(t&&U.alternate!==null&&A.delete(U.key===null?b:U.key),S=i(U,S,b),x===null?C=U:x.sibling=U,x=U);return t&&A.forEach(function(L){return e(T,L)}),an&&Od(T,b),C}function g(T,S,v,N){if(typeof v=="object"&&v!==null&&v.type===Ef&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case h0:e:{for(var C=v.key,x=S;x!==null;){if(x.key===C){if(C=v.type,C===Ef){if(x.tag===7){r(T,x.sibling),S=s(x,v.props.children),S.return=T,T=S;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$c&&t$(C)===x.type){r(T,x.sibling),S=s(x,v.props),S.ref=BE(T,x,v),S.return=T,T=S;break e}r(T,x);break}else e(T,x);x=x.sibling}v.type===Ef?(S=Ud(v.props.children,T.mode,N,v.key),S.return=T,T=S):(N=py(v.type,v.key,v.props,null,T.mode,N),N.ref=BE(T,S,v),N.return=T,T=N)}return o(T);case pf:e:{for(x=v.key;S!==null;){if(S.key===x)if(S.tag===4&&S.stateNode.containerInfo===v.containerInfo&&S.stateNode.implementation===v.implementation){r(T,S.sibling),S=s(S,v.children||[]),S.return=T,T=S;break e}else{r(T,S);break}else e(T,S);S=S.sibling}S=k_(v,T.mode,N),S.return=T,T=S}return o(T);case $c:return x=v._init,g(T,S,x(v._payload),N)}if(mE(v))return p(T,S,v,N);if(hE(v))return E(T,S,v,N);z0(T,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,S!==null&&S.tag===6?(r(T,S.sibling),S=s(S,v),S.return=T,T=S):(r(T,S),S=P_(v,T.mode,N),S.return=T,T=S),o(T)):r(T,S)}return g}var Df=r$(!0),n$=r$(!1),W0=Qc(null),Y0=null,Mf=null,zI=null;function WI(){zI=Mf=Y0=null}function YI(t){var e=W0.current;tn(W0),t._currentValue=e}function qI(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Pf(t,e){Y0=t,zI=Mf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Di=!0),t.firstContext=null)}function wo(t){var e=t._currentValue;if(zI!==t)if(t={context:t,memoizedValue:e,next:null},Mf===null){if(Y0===null)throw Error(st(308));Mf=t,Y0.dependencies={lanes:0,firstContext:t}}else Mf=Mf.next=t;return e}var Id=null;function KI(t){Id===null?Id=[t]:Id.push(t)}function s$(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,KI(e)):(r.next=s.next,s.next=r),e.interleaved=r,Yl(t,n)}function Yl(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var eu=!1;function XI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ql(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tu(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Sr&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Yl(t,r)}return s=n.interleaved,s===null?(e.next=e,KI(n)):(e.next=s.next,s.next=e),n.interleaved=e,Yl(t,r)}function q0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,uI(t,r)}}function o$(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function K0(t,e,r,n){var s=t.updateQueue;eu=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var m=a.lane,f=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,E=a;switch(m=e,f=r,E.tag){case 1:if(p=E.payload,typeof p=="function"){h=p.call(f,h,m);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=E.payload,m=typeof p=="function"?p.call(f,h,m):p,m==null)break e;h=cn({},h,m);break e;case 2:eu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else f={eventTime:f,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=f,l=h):d=d.next=f,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Dd|=o,t.lanes=o,t.memoizedState=h}}function a$(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(st(191,s));s.call(n)}}}var FE={},qa=Qc(FE),HE=Qc(FE),$E=Qc(FE);function _d(t){if(t===FE)throw Error(st(174));return t}function QI(t,e){switch(Xr($E,e),Xr(HE,t),Xr(qa,FE),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:JO(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=JO(e,t)}tn(qa),Xr(qa,e)}function kf(){tn(qa),tn(HE),tn($E)}function l$(t){_d($E.current);var e=_d(qa.current),r=JO(e,t.type);e!==r&&(Xr(HE,t),Xr(qa,r))}function JI(t){HE.current===t&&(tn(qa),tn(HE))}var un=Qc(0);function X0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ZI=[];function e_(){for(var t=0;t<ZI.length;t++)ZI[t]._workInProgressVersionPrimary=null;ZI.length=0}var Q0=$l.ReactCurrentDispatcher,t_=$l.ReactCurrentBatchConfig,Ld=0,dn=null,ts=null,Ts=null,J0=!1,GE=!1,VE=0,aDe=0;function Xs(){throw Error(st(321))}function r_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!aa(t[r],e[r]))return!1;return!0}function n_(t,e,r,n,s,i){if(Ld=i,dn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Q0.current=t===null||t.memoizedState===null?dDe:hDe,t=r(n,s),GE){i=0;do{if(GE=!1,VE=0,25<=i)throw Error(st(301));i+=1,Ts=ts=null,e.updateQueue=null,Q0.current=fDe,t=r(n,s)}while(GE)}if(Q0.current=ty,e=ts!==null&&ts.next!==null,Ld=0,Ts=ts=dn=null,J0=!1,e)throw Error(st(300));return t}function s_(){var t=VE!==0;return VE=0,t}function Ka(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ts===null?dn.memoizedState=Ts=t:Ts=Ts.next=t,Ts}function Oo(){if(ts===null){var t=dn.alternate;t=t!==null?t.memoizedState:null}else t=ts.next;var e=Ts===null?dn.memoizedState:Ts.next;if(e!==null)Ts=e,ts=t;else{if(t===null)throw Error(st(310));ts=t,t={memoizedState:ts.memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},Ts===null?dn.memoizedState=Ts=t:Ts=Ts.next=t}return Ts}function zE(t,e){return typeof e=="function"?e(t):e}function i_(t){var e=Oo(),r=e.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=t;var n=ts,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Ld&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,dn.lanes|=d,Dd|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,aa(n,e.memoizedState)||(Di=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,dn.lanes|=i,Dd|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function o_(t){var e=Oo(),r=e.queue;if(r===null)throw Error(st(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);aa(i,e.memoizedState)||(Di=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function c$(){}function u$(t,e){var r=dn,n=Oo(),s=e(),i=!aa(n.memoizedState,s);if(i&&(n.memoizedState=s,Di=!0),n=n.queue,a_(f$.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Ts!==null&&Ts.memoizedState.tag&1){if(r.flags|=2048,WE(9,h$.bind(null,r,n,s,e),void 0,null),Ss===null)throw Error(st(349));Ld&30||d$(r,e,s)}return s}function d$(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=dn.updateQueue,e===null?(e={lastEffect:null,stores:null},dn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function h$(t,e,r,n){e.value=r,e.getSnapshot=n,m$(e)&&p$(t)}function f$(t,e,r){return r(function(){m$(e)&&p$(t)})}function m$(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!aa(t,r)}catch{return!0}}function p$(t){var e=Yl(t,1);e!==null&&ha(e,t,1,-1)}function E$(t){var e=Ka();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zE,lastRenderedState:t},e.queue=t,t=t.dispatch=uDe.bind(null,dn,t),[e.memoizedState,t]}function WE(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=dn.updateQueue,e===null?(e={lastEffect:null,stores:null},dn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function g$(){return Oo().memoizedState}function Z0(t,e,r,n){var s=Ka();dn.flags|=t,s.memoizedState=WE(1|e,r,void 0,n===void 0?null:n)}function ey(t,e,r,n){var s=Oo();n=n===void 0?null:n;var i=void 0;if(ts!==null){var o=ts.memoizedState;if(i=o.destroy,n!==null&&r_(n,o.deps)){s.memoizedState=WE(e,r,i,n);return}}dn.flags|=t,s.memoizedState=WE(1|e,r,i,n)}function T$(t,e){return Z0(8390656,8,t,e)}function a_(t,e){return ey(2048,8,t,e)}function S$(t,e){return ey(4,2,t,e)}function v$(t,e){return ey(4,4,t,e)}function y$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function A$(t,e,r){return r=r!=null?r.concat([t]):null,ey(4,4,y$.bind(null,e,t),r)}function l_(){}function R$(t,e){var r=Oo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&r_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function N$(t,e){var r=Oo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&r_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function b$(t,e,r){return Ld&21?(aa(r,e)||(r=tH(),dn.lanes|=r,Dd|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Di=!0),t.memoizedState=r)}function lDe(t,e){var r=jr;jr=r!==0&&4>r?r:4,t(!0);var n=t_.transition;t_.transition={};try{t(!1),e()}finally{jr=r,t_.transition=n}}function C$(){return Oo().memoizedState}function cDe(t,e,r){var n=iu(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},x$(t))w$(e,r);else if(r=s$(t,e,r,n),r!==null){var s=hi();ha(r,t,n,s),O$(r,e,n)}}function uDe(t,e,r){var n=iu(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(x$(t))w$(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,aa(a,o)){var l=e.interleaved;l===null?(s.next=s,KI(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=s$(t,e,s,n),r!==null&&(s=hi(),ha(r,t,n,s),O$(r,e,n))}}function x$(t){var e=t.alternate;return t===dn||e!==null&&e===dn}function w$(t,e){GE=J0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function O$(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,uI(t,r)}}var ty={readContext:wo,useCallback:Xs,useContext:Xs,useEffect:Xs,useImperativeHandle:Xs,useInsertionEffect:Xs,useLayoutEffect:Xs,useMemo:Xs,useReducer:Xs,useRef:Xs,useState:Xs,useDebugValue:Xs,useDeferredValue:Xs,useTransition:Xs,useMutableSource:Xs,useSyncExternalStore:Xs,useId:Xs,unstable_isNewReconciler:!1},dDe={readContext:wo,useCallback:function(t,e){return Ka().memoizedState=[t,e===void 0?null:e],t},useContext:wo,useEffect:T$,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Z0(4194308,4,y$.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Z0(4194308,4,t,e)},useInsertionEffect:function(t,e){return Z0(4,2,t,e)},useMemo:function(t,e){var r=Ka();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ka();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=cDe.bind(null,dn,t),[n.memoizedState,t]},useRef:function(t){var e=Ka();return t={current:t},e.memoizedState=t},useState:E$,useDebugValue:l_,useDeferredValue:function(t){return Ka().memoizedState=t},useTransition:function(){var t=E$(!1),e=t[0];return t=lDe.bind(null,t[1]),Ka().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=dn,s=Ka();if(an){if(r===void 0)throw Error(st(407));r=r()}else{if(r=e(),Ss===null)throw Error(st(349));Ld&30||d$(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,T$(f$.bind(null,n,i,t),[t]),n.flags|=2048,WE(9,h$.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Ka(),e=Ss.identifierPrefix;if(an){var r=Wl,n=zl;r=(n&~(1<<32-oa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=VE++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=aDe++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hDe={readContext:wo,useCallback:R$,useContext:wo,useEffect:a_,useImperativeHandle:A$,useInsertionEffect:S$,useLayoutEffect:v$,useMemo:N$,useReducer:i_,useRef:g$,useState:function(){return i_(zE)},useDebugValue:l_,useDeferredValue:function(t){var e=Oo();return b$(e,ts.memoizedState,t)},useTransition:function(){var t=i_(zE)[0],e=Oo().memoizedState;return[t,e]},useMutableSource:c$,useSyncExternalStore:u$,useId:C$,unstable_isNewReconciler:!1},fDe={readContext:wo,useCallback:R$,useContext:wo,useEffect:a_,useImperativeHandle:A$,useInsertionEffect:S$,useLayoutEffect:v$,useMemo:N$,useReducer:o_,useRef:g$,useState:function(){return o_(zE)},useDebugValue:l_,useDeferredValue:function(t){var e=Oo();return ts===null?e.memoizedState=t:b$(e,ts.memoizedState,t)},useTransition:function(){var t=o_(zE)[0],e=Oo().memoizedState;return[t,e]},useMutableSource:c$,useSyncExternalStore:u$,useId:C$,unstable_isNewReconciler:!1};function ca(t,e){if(t&&t.defaultProps){e=cn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function c_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:cn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ry={isMounted:function(t){return(t=t._reactInternals)?bd(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=hi(),s=iu(t),i=ql(n,s);i.payload=e,r!=null&&(i.callback=r),e=tu(t,i,s),e!==null&&(ha(e,t,s,n),q0(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=hi(),s=iu(t),i=ql(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=tu(t,i,s),e!==null&&(ha(e,t,s,n),q0(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=hi(),n=iu(t),s=ql(r,n);s.tag=2,e!=null&&(s.callback=e),e=tu(t,s,n),e!==null&&(ha(e,t,n,r),q0(e,t,n))}};function I$(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!LE(r,n)||!LE(s,i):!0}function _$(t,e,r){var n=!1,s=Jc,i=e.contextType;return typeof i=="object"&&i!==null?i=wo(i):(s=Li(e)?xd:Ks.current,n=e.contextTypes,i=(n=n!=null)?Of(t,s):Jc),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ry,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function L$(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ry.enqueueReplaceState(e,e.state,null)}function u_(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},XI(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=wo(i):(i=Li(e)?xd:Ks.current,s.context=Of(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(c_(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ry.enqueueReplaceState(s,s.state,null),K0(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Uf(t,e){try{var r="",n=e;do r+=HLe(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function d_(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function h_(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var mDe=typeof WeakMap=="function"?WeakMap:Map;function D$(t,e,r){r=ql(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){cy||(cy=!0,x_=n),h_(t,e)},r}function M$(t,e,r){r=ql(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){h_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){h_(t,e),typeof n!="function"&&(nu===null?nu=new Set([this]):nu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function P$(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new mDe;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=wDe.bind(null,t,e,r),e.then(t,t))}function k$(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function U$(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ql(-1,1),e.tag=2,tu(r,e,1))),r.lanes|=1),t)}var pDe=$l.ReactCurrentOwner,Di=!1;function di(t,e,r,n){e.child=t===null?n$(e,null,r,n):Df(e,t.child,r,n)}function j$(t,e,r,n,s){r=r.render;var i=e.ref;return Pf(e,s),n=n_(t,e,r,n,i,s),r=s_(),t!==null&&!Di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Kl(t,e,s)):(an&&r&&FI(e),e.flags|=1,di(t,e,n,s),e.child)}function B$(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!M_(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,F$(t,e,i,n,s)):(t=py(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:LE,r(o,n)&&t.ref===e.ref)return Kl(t,e,s)}return e.flags|=1,t=au(i,n),t.ref=e.ref,t.return=e,e.child=t}function F$(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(LE(i,n)&&t.ref===e.ref)if(Di=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Di=!0);else return e.lanes=t.lanes,Kl(t,e,s)}return f_(t,e,r,n,s)}function H$(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xr(Bf,so),so|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xr(Bf,so),so|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Xr(Bf,so),so|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Xr(Bf,so),so|=n;return di(t,e,s,r),e.child}function $$(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function f_(t,e,r,n,s){var i=Li(r)?xd:Ks.current;return i=Of(e,i),Pf(e,s),r=n_(t,e,r,n,i,s),n=s_(),t!==null&&!Di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Kl(t,e,s)):(an&&n&&FI(e),e.flags|=1,di(t,e,r,s),e.child)}function G$(t,e,r,n,s){if(Li(r)){var i=!0;F0(e)}else i=!1;if(Pf(e,s),e.stateNode===null)sy(t,e),_$(e,r,n),u_(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=wo(c):(c=Li(r)?xd:Ks.current,c=Of(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&L$(e,o,n,c),eu=!1;var m=e.memoizedState;o.state=m,K0(e,n,o,s),l=e.memoizedState,a!==n||m!==l||_i.current||eu?(typeof d=="function"&&(c_(e,r,d,n),l=e.memoizedState),(a=eu||I$(e,r,a,n,m,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,i$(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ca(e.type,a),o.props=c,h=e.pendingProps,m=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=wo(l):(l=Li(r)?xd:Ks.current,l=Of(e,l));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&L$(e,o,n,l),eu=!1,m=e.memoizedState,o.state=m,K0(e,n,o,s);var p=e.memoizedState;a!==h||m!==p||_i.current||eu?(typeof f=="function"&&(c_(e,r,f,n),p=e.memoizedState),(c=eu||I$(e,r,c,n,m,p,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return m_(t,e,r,n,i,s)}function m_(t,e,r,n,s,i){$$(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&qH(e,r,!1),Kl(t,e,i);n=e.stateNode,pDe.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Df(e,t.child,null,i),e.child=Df(e,null,a,i)):di(t,e,a,i),e.memoizedState=n.state,s&&qH(e,r,!0),e.child}function V$(t){var e=t.stateNode;e.pendingContext?WH(t,e.pendingContext,e.pendingContext!==e.context):e.context&&WH(t,e.context,!1),QI(t,e.containerInfo)}function z$(t,e,r,n,s){return Lf(),VI(s),e.flags|=256,di(t,e,r,n),e.child}var p_={dehydrated:null,treeContext:null,retryLane:0};function E_(t){return{baseLanes:t,cachePool:null,transitions:null}}function W$(t,e,r){var n=e.pendingProps,s=un.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Xr(un,s&1),t===null)return GI(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ey(o,n,0,null),t=Ud(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=E_(r),e.memoizedState=p_,t):g_(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return EDe(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=au(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=au(a,i):(i=Ud(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?E_(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=p_,n}return i=t.child,t=i.sibling,n=au(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function g_(t,e){return e=Ey({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ny(t,e,r,n){return n!==null&&VI(n),Df(e,t.child,null,r),t=g_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EDe(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=d_(Error(st(422))),ny(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Ey({mode:"visible",children:n.children},s,0,null),i=Ud(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Df(e,t.child,null,o),e.child.memoizedState=E_(o),e.memoizedState=p_,i);if(!(e.mode&1))return ny(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(st(419)),n=d_(i,n,void 0),ny(t,e,o,n)}if(a=(o&t.childLanes)!==0,Di||a){if(n=Ss,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yl(t,s),ha(n,t,s,-1))}return D_(),n=d_(Error(st(421))),ny(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ODe.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,no=Xc(s.nextSibling),ro=e,an=!0,la=null,t!==null&&(Co[xo++]=zl,Co[xo++]=Wl,Co[xo++]=wd,zl=t.id,Wl=t.overflow,wd=e),e=g_(e,n.children),e.flags|=4096,e)}function Y$(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),qI(t.return,e,r)}function T_(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function q$(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(di(t,e,n.children,r),n=un.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y$(t,r,e);else if(t.tag===19)Y$(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Xr(un,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&X0(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),T_(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&X0(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}T_(e,!0,r,null,i);break;case"together":T_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Dd|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(st(153));if(e.child!==null){for(t=e.child,r=au(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=au(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function gDe(t,e,r){switch(e.tag){case 3:V$(e),Lf();break;case 5:l$(e);break;case 1:Li(e.type)&&F0(e);break;case 4:QI(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Xr(W0,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Xr(un,un.current&1),e.flags|=128,null):r&e.child.childLanes?W$(t,e,r):(Xr(un,un.current&1),t=Kl(t,e,r),t!==null?t.sibling:null);Xr(un,un.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return q$(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xr(un,un.current),n)break;return null;case 22:case 23:return e.lanes=0,H$(t,e,r)}return Kl(t,e,r)}var K$,S_,X$,Q$;K$=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},S_=function(){},X$=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,_d(qa.current);var i=null;switch(r){case"input":s=qO(t,s),n=qO(t,n),i=[];break;case"select":s=cn({},s,{value:void 0}),n=cn({},n,{value:void 0}),i=[];break;case"textarea":s=QO(t,s),n=QO(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=U0)}ZO(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dE.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dE.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&en("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}},Q$=function(t,e,r,n){r!==n&&(e.flags|=4)};function YE(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qs(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function TDe(t,e,r){var n=e.pendingProps;switch(HI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qs(e),null;case 1:return Li(e.type)&&B0(),Qs(e),null;case 3:return n=e.stateNode,kf(),tn(_i),tn(Ks),e_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(V0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,la!==null&&(I_(la),la=null))),S_(t,e),Qs(e),null;case 5:JI(e);var s=_d($E.current);if(r=e.type,t!==null&&e.stateNode!=null)X$(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(st(166));return Qs(e),null}if(t=_d(qa.current),V0(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Ya]=e,n[UE]=i,t=(e.mode&1)!==0,r){case"dialog":en("cancel",n),en("close",n);break;case"iframe":case"object":case"embed":en("load",n);break;case"video":case"audio":for(s=0;s<ME.length;s++)en(ME[s],n);break;case"source":en("error",n);break;case"img":case"image":case"link":en("error",n),en("load",n);break;case"details":en("toggle",n);break;case"input":_6(n,i),en("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},en("invalid",n);break;case"textarea":M6(n,i),en("invalid",n)}ZO(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&k0(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&k0(n.textContent,a,t),s=["children",""+a]):dE.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&en("scroll",n)}switch(r){case"input":f0(n),D6(n,i,!0);break;case"textarea":f0(n),k6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=U0)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U6(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ya]=e,t[UE]=n,K$(t,e,!1,!1),e.stateNode=t;e:{switch(o=eI(r,n),r){case"dialog":en("cancel",t),en("close",t),s=n;break;case"iframe":case"object":case"embed":en("load",t),s=n;break;case"video":case"audio":for(s=0;s<ME.length;s++)en(ME[s],t);s=n;break;case"source":en("error",t),s=n;break;case"img":case"image":case"link":en("error",t),en("load",t),s=n;break;case"details":en("toggle",t),s=n;break;case"input":_6(t,n),s=qO(t,n),en("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=cn({},n,{value:void 0}),en("invalid",t);break;case"textarea":M6(t,n),s=QO(t,n),en("invalid",t);break;default:s=n}ZO(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?F6(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j6(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&pE(t,l):typeof l=="number"&&pE(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(dE.hasOwnProperty(i)?l!=null&&i==="onScroll"&&en("scroll",t):l!=null&&UO(t,i,l,o))}switch(r){case"input":f0(t),D6(t,n,!1);break;case"textarea":f0(t),k6(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Gc(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?gf(t,!!n.multiple,i,!1):n.defaultValue!=null&&gf(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=U0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qs(e),null;case 6:if(t&&e.stateNode!=null)Q$(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(st(166));if(r=_d($E.current),_d(qa.current),V0(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ya]=e,(i=n.nodeValue!==r)&&(t=ro,t!==null))switch(t.tag){case 3:k0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&k0(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ya]=e,e.stateNode=n}return Qs(e),null;case 13:if(tn(un),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(an&&no!==null&&e.mode&1&&!(e.flags&128))e$(),Lf(),e.flags|=98560,i=!1;else if(i=V0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(st(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(st(317));i[Ya]=e}else Lf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qs(e),i=!1}else la!==null&&(I_(la),la=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||un.current&1?rs===0&&(rs=3):D_())),e.updateQueue!==null&&(e.flags|=4),Qs(e),null);case 4:return kf(),S_(t,e),t===null&&PE(e.stateNode.containerInfo),Qs(e),null;case 10:return YI(e.type._context),Qs(e),null;case 17:return Li(e.type)&&B0(),Qs(e),null;case 19:if(tn(un),i=e.memoizedState,i===null)return Qs(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)YE(i,!1);else{if(rs!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=X0(t),o!==null){for(e.flags|=128,YE(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Xr(un,un.current&1|2),e.child}t=t.sibling}i.tail!==null&&On()>Ff&&(e.flags|=128,n=!0,YE(i,!1),e.lanes=4194304)}else{if(!n)if(t=X0(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),YE(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!an)return Qs(e),null}else 2*On()-i.renderingStartTime>Ff&&r!==1073741824&&(e.flags|=128,n=!0,YE(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=On(),e.sibling=null,r=un.current,Xr(un,n?r&1|2:r&1),e):(Qs(e),null);case 22:case 23:return L_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?so&1073741824&&(Qs(e),e.subtreeFlags&6&&(e.flags|=8192)):Qs(e),null;case 24:return null;case 25:return null}throw Error(st(156,e.tag))}function SDe(t,e){switch(HI(e),e.tag){case 1:return Li(e.type)&&B0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kf(),tn(_i),tn(Ks),e_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return JI(e),null;case 13:if(tn(un),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(st(340));Lf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tn(un),null;case 4:return kf(),null;case 10:return YI(e.type._context),null;case 22:case 23:return L_(),null;case 24:return null;default:return null}}var iy=!1,Js=!1,vDe=typeof WeakSet=="function"?WeakSet:Set,St=null;function jf(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Tn(t,e,n)}else r.current=null}function v_(t,e,r){try{r()}catch(n){Tn(t,e,n)}}var J$=!1;function yDe(t,e){if(LI=b0,t=IH(),NI(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,m=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===t)break t;if(m===r&&++c===s&&(a=o),m===i&&++d===n&&(l=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(DI={focusedElem:t,selectionRange:r},b0=!1,St=e;St!==null;)if(e=St,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,St=t;else for(;St!==null;){e=St;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var E=p.memoizedProps,g=p.memoizedState,T=e.stateNode,S=T.getSnapshotBeforeUpdate(e.elementType===e.type?E:ca(e.type,E),g);T.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(st(163))}}catch(N){Tn(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,St=t;break}St=e.return}return p=J$,J$=!1,p}function qE(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&v_(e,r,i)}s=s.next}while(s!==n)}}function oy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function y_(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Z$(t){var e=t.alternate;e!==null&&(t.alternate=null,Z$(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ya],delete e[UE],delete e[UI],delete e[nDe],delete e[sDe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eG(t){return t.tag===5||t.tag===3||t.tag===4}function tG(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eG(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function A_(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=U0));else if(n!==4&&(t=t.child,t!==null))for(A_(t,e,r),t=t.sibling;t!==null;)A_(t,e,r),t=t.sibling}function R_(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(R_(t,e,r),t=t.sibling;t!==null;)R_(t,e,r),t=t.sibling}var Us=null,ua=!1;function ru(t,e,r){for(r=r.child;r!==null;)rG(t,e,r),r=r.sibling}function rG(t,e,r){if(Wa&&typeof Wa.onCommitFiberUnmount=="function")try{Wa.onCommitFiberUnmount(S0,r)}catch{}switch(r.tag){case 5:Js||jf(r,e);case 6:var n=Us,s=ua;Us=null,ru(t,e,r),Us=n,ua=s,Us!==null&&(ua?(t=Us,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Us.removeChild(r.stateNode));break;case 18:Us!==null&&(ua?(t=Us,r=r.stateNode,t.nodeType===8?kI(t.parentNode,r):t.nodeType===1&&kI(t,r),CE(t)):kI(Us,r.stateNode));break;case 4:n=Us,s=ua,Us=r.stateNode.containerInfo,ua=!0,ru(t,e,r),Us=n,ua=s;break;case 0:case 11:case 14:case 15:if(!Js&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&v_(r,e,o),s=s.next}while(s!==n)}ru(t,e,r);break;case 1:if(!Js&&(jf(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Tn(r,e,a)}ru(t,e,r);break;case 21:ru(t,e,r);break;case 22:r.mode&1?(Js=(n=Js)||r.memoizedState!==null,ru(t,e,r),Js=n):ru(t,e,r);break;default:ru(t,e,r)}}function nG(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new vDe),e.forEach(function(n){var s=IDe.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function da(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Us=a.stateNode,ua=!1;break e;case 3:Us=a.stateNode.containerInfo,ua=!0;break e;case 4:Us=a.stateNode.containerInfo,ua=!0;break e}a=a.return}if(Us===null)throw Error(st(160));rG(i,o,s),Us=null,ua=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Tn(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sG(e,t),e=e.sibling}function sG(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(da(e,t),Xa(t),n&4){try{qE(3,t,t.return),oy(3,t)}catch(E){Tn(t,t.return,E)}try{qE(5,t,t.return)}catch(E){Tn(t,t.return,E)}}break;case 1:da(e,t),Xa(t),n&512&&r!==null&&jf(r,r.return);break;case 5:if(da(e,t),Xa(t),n&512&&r!==null&&jf(r,r.return),t.flags&32){var s=t.stateNode;try{pE(s,"")}catch(E){Tn(t,t.return,E)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&L6(s,i),eI(a,o);var c=eI(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?F6(s,h):d==="dangerouslySetInnerHTML"?j6(s,h):d==="children"?pE(s,h):UO(s,d,h,c)}switch(a){case"input":KO(s,i);break;case"textarea":P6(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?gf(s,!!i.multiple,f,!1):m!==!!i.multiple&&(i.defaultValue!=null?gf(s,!!i.multiple,i.defaultValue,!0):gf(s,!!i.multiple,i.multiple?[]:"",!1))}s[UE]=i}catch(E){Tn(t,t.return,E)}}break;case 6:if(da(e,t),Xa(t),n&4){if(t.stateNode===null)throw Error(st(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){Tn(t,t.return,E)}}break;case 3:if(da(e,t),Xa(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{CE(e.containerInfo)}catch(E){Tn(t,t.return,E)}break;case 4:da(e,t),Xa(t);break;case 13:da(e,t),Xa(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(C_=On())),n&4&&nG(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Js=(c=Js)||d,da(e,t),Js=c):da(e,t),Xa(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(St=t,d=t.child;d!==null;){for(h=St=d;St!==null;){switch(m=St,f=m.child,m.tag){case 0:case 11:case 14:case 15:qE(4,m,m.return);break;case 1:jf(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(E){Tn(n,r,E)}}break;case 5:jf(m,m.return);break;case 22:if(m.memoizedState!==null){aG(h);continue}}f!==null?(f.return=m,St=f):aG(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=B6("display",o))}catch(E){Tn(t,t.return,E)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(E){Tn(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:da(e,t),Xa(t),n&4&&nG(t);break;case 21:break;default:da(e,t),Xa(t)}}function Xa(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(eG(r)){var n=r;break e}r=r.return}throw Error(st(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(pE(s,""),n.flags&=-33);var i=tG(t);R_(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=tG(t);A_(t,a,o);break;default:throw Error(st(161))}}catch(l){Tn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ADe(t,e,r){St=t,iG(t)}function iG(t,e,r){for(var n=(t.mode&1)!==0;St!==null;){var s=St,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||iy;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Js;a=iy;var c=Js;if(iy=o,(Js=l)&&!c)for(St=s;St!==null;)o=St,l=o.child,o.tag===22&&o.memoizedState!==null?lG(s):l!==null?(l.return=o,St=l):lG(s);for(;i!==null;)St=i,iG(i),i=i.sibling;St=s,iy=a,Js=c}oG(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,St=i):oG(t)}}function oG(t){for(;St!==null;){var e=St;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Js||oy(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Js)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ca(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&a$(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}a$(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&CE(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(st(163))}Js||e.flags&512&&y_(e)}catch(m){Tn(e,e.return,m)}}if(e===t){St=null;break}if(r=e.sibling,r!==null){r.return=e.return,St=r;break}St=e.return}}function aG(t){for(;St!==null;){var e=St;if(e===t){St=null;break}var r=e.sibling;if(r!==null){r.return=e.return,St=r;break}St=e.return}}function lG(t){for(;St!==null;){var e=St;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{oy(4,e)}catch(l){Tn(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Tn(e,s,l)}}var i=e.return;try{y_(e)}catch(l){Tn(e,i,l)}break;case 5:var o=e.return;try{y_(e)}catch(l){Tn(e,o,l)}}}catch(l){Tn(e,e.return,l)}if(e===t){St=null;break}var a=e.sibling;if(a!==null){a.return=e.return,St=a;break}St=e.return}}var RDe=Math.ceil,ay=$l.ReactCurrentDispatcher,N_=$l.ReactCurrentOwner,Io=$l.ReactCurrentBatchConfig,Sr=0,Ss=null,Gn=null,js=0,so=0,Bf=Qc(0),rs=0,KE=null,Dd=0,ly=0,b_=0,XE=null,Mi=null,C_=0,Ff=1/0,Xl=null,cy=!1,x_=null,nu=null,uy=!1,su=null,dy=0,QE=0,w_=null,hy=-1,fy=0;function hi(){return Sr&6?On():hy!==-1?hy:hy=On()}function iu(t){return t.mode&1?Sr&2&&js!==0?js&-js:oDe.transition!==null?(fy===0&&(fy=tH()),fy):(t=jr,t!==0||(t=window.event,t=t===void 0?16:uH(t.type)),t):1}function ha(t,e,r,n){if(50<QE)throw QE=0,w_=null,Error(st(185));yE(t,r,n),(!(Sr&2)||t!==Ss)&&(t===Ss&&(!(Sr&2)&&(ly|=r),rs===4&&ou(t,js)),Pi(t,n),r===1&&Sr===0&&!(e.mode&1)&&(Ff=On()+500,H0&&Zc()))}function Pi(t,e){var r=t.callbackNode;o2e(t,e);var n=A0(t,t===Ss?js:0);if(n===0)r!==null&&J6(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&J6(r),e===1)t.tag===0?iDe(uG.bind(null,t)):KH(uG.bind(null,t)),tDe(function(){!(Sr&6)&&Zc()}),r=null;else{switch(rH(n)){case 1:r=aI;break;case 4:r=Z6;break;case 16:r=T0;break;case 536870912:r=eH;break;default:r=T0}r=TG(r,cG.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function cG(t,e){if(hy=-1,fy=0,Sr&6)throw Error(st(327));var r=t.callbackNode;if(Hf()&&t.callbackNode!==r)return null;var n=A0(t,t===Ss?js:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=my(t,n);else{e=n;var s=Sr;Sr|=2;var i=hG();(Ss!==t||js!==e)&&(Xl=null,Ff=On()+500,Pd(t,e));do try{CDe();break}catch(a){dG(t,a)}while(!0);WI(),ay.current=i,Sr=s,Gn!==null?e=0:(Ss=null,js=0,e=rs)}if(e!==0){if(e===2&&(s=lI(t),s!==0&&(n=s,e=O_(t,s))),e===1)throw r=KE,Pd(t,0),ou(t,n),Pi(t,On()),r;if(e===6)ou(t,n);else{if(s=t.current.alternate,!(n&30)&&!NDe(s)&&(e=my(t,n),e===2&&(i=lI(t),i!==0&&(n=i,e=O_(t,i))),e===1))throw r=KE,Pd(t,0),ou(t,n),Pi(t,On()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(st(345));case 2:kd(t,Mi,Xl);break;case 3:if(ou(t,n),(n&130023424)===n&&(e=C_+500-On(),10<e)){if(A0(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){hi(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=PI(kd.bind(null,t,Mi,Xl),e);break}kd(t,Mi,Xl);break;case 4:if(ou(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-oa(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=On()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RDe(n/1960))-n,10<n){t.timeoutHandle=PI(kd.bind(null,t,Mi,Xl),n);break}kd(t,Mi,Xl);break;case 5:kd(t,Mi,Xl);break;default:throw Error(st(329))}}}return Pi(t,On()),t.callbackNode===r?cG.bind(null,t):null}function O_(t,e){var r=XE;return t.current.memoizedState.isDehydrated&&(Pd(t,e).flags|=256),t=my(t,e),t!==2&&(e=Mi,Mi=r,e!==null&&I_(e)),t}function I_(t){Mi===null?Mi=t:Mi.push.apply(Mi,t)}function NDe(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!aa(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ou(t,e){for(e&=~b_,e&=~ly,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-oa(e),n=1<<r;t[r]=-1,e&=~n}}function uG(t){if(Sr&6)throw Error(st(327));Hf();var e=A0(t,0);if(!(e&1))return Pi(t,On()),null;var r=my(t,e);if(t.tag!==0&&r===2){var n=lI(t);n!==0&&(e=n,r=O_(t,n))}if(r===1)throw r=KE,Pd(t,0),ou(t,e),Pi(t,On()),r;if(r===6)throw Error(st(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kd(t,Mi,Xl),Pi(t,On()),null}function __(t,e){var r=Sr;Sr|=1;try{return t(e)}finally{Sr=r,Sr===0&&(Ff=On()+500,H0&&Zc())}}function Md(t){su!==null&&su.tag===0&&!(Sr&6)&&Hf();var e=Sr;Sr|=1;var r=Io.transition,n=jr;try{if(Io.transition=null,jr=1,t)return t()}finally{jr=n,Io.transition=r,Sr=e,!(Sr&6)&&Zc()}}function L_(){so=Bf.current,tn(Bf)}function Pd(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,eDe(r)),Gn!==null)for(r=Gn.return;r!==null;){var n=r;switch(HI(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&B0();break;case 3:kf(),tn(_i),tn(Ks),e_();break;case 5:JI(n);break;case 4:kf();break;case 13:tn(un);break;case 19:tn(un);break;case 10:YI(n.type._context);break;case 22:case 23:L_()}r=r.return}if(Ss=t,Gn=t=au(t.current,null),js=so=e,rs=0,KE=null,b_=ly=Dd=0,Mi=XE=null,Id!==null){for(e=0;e<Id.length;e++)if(r=Id[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Id=null}return t}function dG(t,e){do{var r=Gn;try{if(WI(),Q0.current=ty,J0){for(var n=dn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}J0=!1}if(Ld=0,Ts=ts=dn=null,GE=!1,VE=0,N_.current=null,r===null||r.return===null){rs=1,KE=e,Gn=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=js,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=k$(o);if(f!==null){f.flags&=-257,U$(f,o,a,i,e),f.mode&1&&P$(i,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var E=new Set;E.add(l),e.updateQueue=E}else p.add(l);break e}else{if(!(e&1)){P$(i,c,e),D_();break e}l=Error(st(426))}}else if(an&&a.mode&1){var g=k$(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),U$(g,o,a,i,e),VI(Uf(l,a));break e}}i=l=Uf(l,a),rs!==4&&(rs=2),XE===null?XE=[i]:XE.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=D$(i,l,e);o$(i,T);break e;case 1:a=l;var S=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(nu===null||!nu.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=M$(i,a,e);o$(i,N);break e}}i=i.return}while(i!==null)}mG(r)}catch(C){e=C,Gn===r&&r!==null&&(Gn=r=r.return);continue}break}while(!0)}function hG(){var t=ay.current;return ay.current=ty,t===null?ty:t}function D_(){(rs===0||rs===3||rs===2)&&(rs=4),Ss===null||!(Dd&268435455)&&!(ly&268435455)||ou(Ss,js)}function my(t,e){var r=Sr;Sr|=2;var n=hG();(Ss!==t||js!==e)&&(Xl=null,Pd(t,e));do try{bDe();break}catch(s){dG(t,s)}while(!0);if(WI(),Sr=r,ay.current=n,Gn!==null)throw Error(st(261));return Ss=null,js=0,rs}function bDe(){for(;Gn!==null;)fG(Gn)}function CDe(){for(;Gn!==null&&!QLe();)fG(Gn)}function fG(t){var e=gG(t.alternate,t,so);t.memoizedProps=t.pendingProps,e===null?mG(t):Gn=e,N_.current=null}function mG(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=SDe(r,e),r!==null){r.flags&=32767,Gn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rs=6,Gn=null;return}}else if(r=TDe(r,e,so),r!==null){Gn=r;return}if(e=e.sibling,e!==null){Gn=e;return}Gn=e=t}while(e!==null);rs===0&&(rs=5)}function kd(t,e,r){var n=jr,s=Io.transition;try{Io.transition=null,jr=1,xDe(t,e,r,n)}finally{Io.transition=s,jr=n}return null}function xDe(t,e,r,n){do Hf();while(su!==null);if(Sr&6)throw Error(st(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(st(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(a2e(t,i),t===Ss&&(Gn=Ss=null,js=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||uy||(uy=!0,TG(T0,function(){return Hf(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Io.transition,Io.transition=null;var o=jr;jr=1;var a=Sr;Sr|=4,N_.current=null,yDe(t,r),sG(r,t),Y2e(DI),b0=!!LI,DI=LI=null,t.current=r,ADe(r),JLe(),Sr=a,jr=o,Io.transition=i}else t.current=r;if(uy&&(uy=!1,su=t,dy=s),i=t.pendingLanes,i===0&&(nu=null),t2e(r.stateNode),Pi(t,On()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(cy)throw cy=!1,t=x_,x_=null,t;return dy&1&&t.tag!==0&&Hf(),i=t.pendingLanes,i&1?t===w_?QE++:(QE=0,w_=t):QE=0,Zc(),null}function Hf(){if(su!==null){var t=rH(dy),e=Io.transition,r=jr;try{if(Io.transition=null,jr=16>t?16:t,su===null)var n=!1;else{if(t=su,su=null,dy=0,Sr&6)throw Error(st(331));var s=Sr;for(Sr|=4,St=t.current;St!==null;){var i=St,o=i.child;if(St.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(St=c;St!==null;){var d=St;switch(d.tag){case 0:case 11:case 15:qE(8,d,i)}var h=d.child;if(h!==null)h.return=d,St=h;else for(;St!==null;){d=St;var m=d.sibling,f=d.return;if(Z$(d),d===c){St=null;break}if(m!==null){m.return=f,St=m;break}St=f}}}var p=i.alternate;if(p!==null){var E=p.child;if(E!==null){p.child=null;do{var g=E.sibling;E.sibling=null,E=g}while(E!==null)}}St=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,St=o;else e:for(;St!==null;){if(i=St,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qE(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,St=T;break e}St=i.return}}var S=t.current;for(St=S;St!==null;){o=St;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,St=v;else e:for(o=S;St!==null;){if(a=St,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:oy(9,a)}}catch(C){Tn(a,a.return,C)}if(a===o){St=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,St=N;break e}St=a.return}}if(Sr=s,Zc(),Wa&&typeof Wa.onPostCommitFiberRoot=="function")try{Wa.onPostCommitFiberRoot(S0,t)}catch{}n=!0}return n}finally{jr=r,Io.transition=e}}return!1}function pG(t,e,r){e=Uf(r,e),e=D$(t,e,1),t=tu(t,e,1),e=hi(),t!==null&&(yE(t,1,e),Pi(t,e))}function Tn(t,e,r){if(t.tag===3)pG(t,t,r);else for(;e!==null;){if(e.tag===3){pG(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nu===null||!nu.has(n))){t=Uf(r,t),t=M$(e,t,1),e=tu(e,t,1),t=hi(),e!==null&&(yE(e,1,t),Pi(e,t));break}}e=e.return}}function wDe(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=hi(),t.pingedLanes|=t.suspendedLanes&r,Ss===t&&(js&r)===r&&(rs===4||rs===3&&(js&130023424)===js&&500>On()-C_?Pd(t,0):b_|=r),Pi(t,e)}function EG(t,e){e===0&&(t.mode&1?(e=y0,y0<<=1,!(y0&130023424)&&(y0=4194304)):e=1);var r=hi();t=Yl(t,e),t!==null&&(yE(t,e,r),Pi(t,r))}function ODe(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),EG(t,r)}function IDe(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(st(314))}n!==null&&n.delete(e),EG(t,r)}var gG;gG=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||_i.current)Di=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Di=!1,gDe(t,e,r);Di=!!(t.flags&131072)}else Di=!1,an&&e.flags&1048576&&XH(e,G0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;sy(t,e),t=e.pendingProps;var s=Of(e,Ks.current);Pf(e,r),s=n_(null,e,n,t,s,r);var i=s_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Li(n)?(i=!0,F0(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,XI(e),s.updater=ry,e.stateNode=s,s._reactInternals=e,u_(e,n,t,r),e=m_(null,e,n,!0,i,r)):(e.tag=0,an&&i&&FI(e),di(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(sy(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=LDe(n),t=ca(n,t),s){case 0:e=f_(null,e,n,t,r);break e;case 1:e=G$(null,e,n,t,r);break e;case 11:e=j$(null,e,n,t,r);break e;case 14:e=B$(null,e,n,ca(n.type,t),r);break e}throw Error(st(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ca(n,s),f_(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ca(n,s),G$(t,e,n,s,r);case 3:e:{if(V$(e),t===null)throw Error(st(387));n=e.pendingProps,i=e.memoizedState,s=i.element,i$(t,e),K0(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Uf(Error(st(423)),e),e=z$(t,e,n,r,s);break e}else if(n!==s){s=Uf(Error(st(424)),e),e=z$(t,e,n,r,s);break e}else for(no=Xc(e.stateNode.containerInfo.firstChild),ro=e,an=!0,la=null,r=n$(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lf(),n===s){e=Kl(t,e,r);break e}di(t,e,n,r)}e=e.child}return e;case 5:return l$(e),t===null&&GI(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,MI(n,s)?o=null:i!==null&&MI(n,i)&&(e.flags|=32),$$(t,e),di(t,e,o,r),e.child;case 6:return t===null&&GI(e),null;case 13:return W$(t,e,r);case 4:return QI(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Df(e,null,n,r):di(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ca(n,s),j$(t,e,n,s,r);case 7:return di(t,e,e.pendingProps,r),e.child;case 8:return di(t,e,e.pendingProps.children,r),e.child;case 12:return di(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Xr(W0,n._currentValue),n._currentValue=o,i!==null)if(aa(i.value,o)){if(i.children===s.children&&!_i.current){e=Kl(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ql(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),qI(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(st(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),qI(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}di(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Pf(e,r),s=wo(s),n=n(s),e.flags|=1,di(t,e,n,r),e.child;case 14:return n=e.type,s=ca(n,e.pendingProps),s=ca(n.type,s),B$(t,e,n,s,r);case 15:return F$(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ca(n,s),sy(t,e),e.tag=1,Li(n)?(t=!0,F0(e)):t=!1,Pf(e,r),_$(e,n,s),u_(e,n,s,r),m_(null,e,n,!0,t,r);case 19:return q$(t,e,r);case 22:return H$(t,e,r)}throw Error(st(156,e.tag))};function TG(t,e){return Q6(t,e)}function _De(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _o(t,e,r,n){return new _De(t,e,r,n)}function M_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LDe(t){if(typeof t=="function")return M_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===FO)return 11;if(t===GO)return 14}return 2}function au(t,e){var r=t.alternate;return r===null?(r=_o(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function py(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")M_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ef:return Ud(r.children,s,i,e);case jO:o=8,s|=8;break;case BO:return t=_o(12,r,e,s|2),t.elementType=BO,t.lanes=i,t;case HO:return t=_o(13,r,e,s),t.elementType=HO,t.lanes=i,t;case $O:return t=_o(19,r,e,s),t.elementType=$O,t.lanes=i,t;case x6:return Ey(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b6:o=10;break e;case C6:o=9;break e;case FO:o=11;break e;case GO:o=14;break e;case $c:o=16,n=null;break e}throw Error(st(130,t==null?t:typeof t,""))}return e=_o(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Ud(t,e,r,n){return t=_o(7,t,n,e),t.lanes=r,t}function Ey(t,e,r,n){return t=_o(22,t,n,e),t.elementType=x6,t.lanes=r,t.stateNode={isHidden:!1},t}function P_(t,e,r){return t=_o(6,t,null,e),t.lanes=r,t}function k_(t,e,r){return e=_o(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DDe(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cI(0),this.expirationTimes=cI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cI(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function U_(t,e,r,n,s,i,o,a,l){return t=new DDe(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=_o(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},XI(i),t}function MDe(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pf,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function SG(t){if(!t)return Jc;t=t._reactInternals;e:{if(bd(t)!==t||t.tag!==1)throw Error(st(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Li(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(st(171))}if(t.tag===1){var r=t.type;if(Li(r))return YH(t,r,e)}return e}function vG(t,e,r,n,s,i,o,a,l){return t=U_(r,n,!0,t,s,i,o,a,l),t.context=SG(null),r=t.current,n=hi(),s=iu(r),i=ql(n,s),i.callback=e??null,tu(r,i,s),t.current.lanes=s,yE(t,s,n),Pi(t,n),t}function gy(t,e,r,n){var s=e.current,i=hi(),o=iu(s);return r=SG(r),e.context===null?e.context=r:e.pendingContext=r,e=ql(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=tu(s,e,o),t!==null&&(ha(t,s,o,i),q0(t,s,o)),o}function Ty(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yG(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function j_(t,e){yG(t,e),(t=t.alternate)&&yG(t,e)}function PDe(){return null}var AG=typeof reportError=="function"?reportError:function(t){console.error(t)};function B_(t){this._internalRoot=t}Sy.prototype.render=B_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(st(409));gy(t,e,null,null)},Sy.prototype.unmount=B_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Md(function(){gy(null,t,null,null)}),e[Gl]=null}};function Sy(t){this._internalRoot=t}Sy.prototype.unstable_scheduleHydration=function(t){if(t){var e=iH();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Yc.length&&e!==0&&e<Yc[r].priority;r++);Yc.splice(r,0,t),r===0&&lH(t)}};function F_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function RG(){}function kDe(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Ty(o);i.call(c)}}var o=vG(e,n,t,0,null,!1,!1,"",RG);return t._reactRootContainer=o,t[Gl]=o.current,PE(t.nodeType===8?t.parentNode:t),Md(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Ty(l);a.call(c)}}var l=U_(t,0,!1,null,null,!1,!1,"",RG);return t._reactRootContainer=l,t[Gl]=l.current,PE(t.nodeType===8?t.parentNode:t),Md(function(){gy(e,l,r,n)}),l}function yy(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ty(o);a.call(l)}}gy(e,o,t,s)}else o=kDe(r,e,t,s,n);return Ty(o)}nH=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=vE(e.pendingLanes);r!==0&&(uI(e,r|1),Pi(e,On()),!(Sr&6)&&(Ff=On()+500,Zc()))}break;case 13:Md(function(){var n=Yl(t,1);if(n!==null){var s=hi();ha(n,t,1,s)}}),j_(t,1)}},dI=function(t){if(t.tag===13){var e=Yl(t,134217728);if(e!==null){var r=hi();ha(e,t,134217728,r)}j_(t,134217728)}},sH=function(t){if(t.tag===13){var e=iu(t),r=Yl(t,e);if(r!==null){var n=hi();ha(r,t,e,n)}j_(t,e)}},iH=function(){return jr},oH=function(t,e){var r=jr;try{return jr=t,e()}finally{jr=r}},nI=function(t,e,r){switch(e){case"input":if(KO(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=j0(n);if(!s)throw Error(st(90));I6(n),KO(n,s)}}}break;case"textarea":P6(t,r);break;case"select":e=r.value,e!=null&&gf(t,!!r.multiple,e,!1)}},V6=__,z6=Md;var UDe={usingClientEntryPoint:!1,Events:[jE,xf,j0,$6,G6,__]},JE={findFiberByHostInstance:Cd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jDe={bundleType:JE.bundleType,version:JE.version,rendererPackageName:JE.rendererPackageName,rendererConfig:JE.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$l.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K6(t),t===null?null:t.stateNode},findFiberByHostInstance:JE.findFiberByHostInstance||PDe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ay=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ay.isDisabled&&Ay.supportsFiber)try{S0=Ay.inject(jDe),Wa=Ay}catch{}}Zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UDe,Zi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F_(e))throw Error(st(200));return MDe(t,e,null,r)},Zi.createRoot=function(t,e){if(!F_(t))throw Error(st(299));var r=!1,n="",s=AG;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=U_(t,1,!1,null,null,r,!1,n,s),t[Gl]=e.current,PE(t.nodeType===8?t.parentNode:t),new B_(e)},Zi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(st(188)):(t=Object.keys(t).join(","),Error(st(268,t)));return t=K6(e),t=t===null?null:t.stateNode,t},Zi.flushSync=function(t){return Md(t)},Zi.hydrate=function(t,e,r){if(!vy(e))throw Error(st(200));return yy(null,t,e,!0,r)},Zi.hydrateRoot=function(t,e,r){if(!F_(t))throw Error(st(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=AG;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=vG(e,null,t,1,r??null,s,!1,i,o),t[Gl]=e.current,PE(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Sy(e)},Zi.render=function(t,e,r){if(!vy(e))throw Error(st(200));return yy(null,t,e,!1,r)},Zi.unmountComponentAtNode=function(t){if(!vy(t))throw Error(st(40));return t._reactRootContainer?(Md(function(){yy(null,null,t,!1,function(){t._reactRootContainer=null,t[Gl]=null})}),!0):!1},Zi.unstable_batchedUpdates=__,Zi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!vy(r))throw Error(st(200));if(t==null||t._reactInternals===void 0)throw Error(st(38));return yy(t,e,r,!1,n)},Zi.version="18.3.1-next-f1338f8080-20240426";function NG(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NG)}catch(t){console.error(t)}}NG(),S6.exports=Zi;var Zs=S6.exports;const BDe=Yr(Zs);function Lo(t,e,r){const n=typeof t.colSpan=="function"?t.colSpan(r):1;if(Number.isInteger(n)&&n>1&&(!t.frozen||t.idx+n-1<=e))return n}function FDe(t){t.stopPropagation()}function Ry(t){t==null||t.scrollIntoView({inline:"nearest",block:"nearest"})}function $f(t){let e=!1;const r={...t,preventGridDefault(){e=!0},isGridDefaultPrevented(){return e}};return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),r}const HDe=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Insert","ContextMenu","Escape","Pause","Play","PrintScreen","F1","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"]);function H_(t){return(t.ctrlKey||t.metaKey)&&t.key!=="Control"}const $De=86;function GDe(t,e){return H_(t)&&(t.keyCode!==$De||e)?!1:!HDe.has(t.key)}function VDe({key:t,target:e}){var r;return t==="Tab"&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement)?((r=e.closest(".rdg-editor-container"))==null?void 0:r.querySelectorAll("input, textarea, select").length)===1:!1}const zDe="mlln6zg7-0-0-beta-47";function WDe(t){return t.map(({key:e,idx:r,minWidth:n,maxWidth:s})=>u.jsx("div",{className:zDe,style:{gridColumnStart:r+1,minWidth:n,maxWidth:s},"data-measuring-cell-key":e},e))}function YDe({selectedPosition:t,columns:e,rows:r}){const n=e[t.idx],s=r[t.rowIdx];return bG(n,s)}function bG(t,e){return t.renderEditCell!=null&&(typeof t.editable=="function"?t.editable(e):t.editable)!==!1}function qDe({rows:t,topSummaryRows:e,bottomSummaryRows:r,rowIdx:n,mainHeaderRowIdx:s,lastFrozenColumnIndex:i,column:o}){const a=(e==null?void 0:e.length)??0;if(n===s)return Lo(o,i,{type:"HEADER"});if(e&&n>s&&n<=a+s)return Lo(o,i,{type:"SUMMARY",row:e[n+a]});if(n>=0&&n<t.length){const l=t[n];return Lo(o,i,{type:"ROW",row:l})}if(r)return Lo(o,i,{type:"SUMMARY",row:r[n-t.length]})}function KDe({moveUp:t,moveNext:e,cellNavigationMode:r,columns:n,colSpanColumns:s,rows:i,topSummaryRows:o,bottomSummaryRows:a,minRowIdx:l,mainHeaderRowIdx:c,maxRowIdx:d,currentPosition:{idx:h,rowIdx:m},nextPosition:f,lastFrozenColumnIndex:p,isCellWithinBounds:E}){let{idx:g,rowIdx:T}=f;const S=n.length,v=x=>{for(const A of s){const b=A.idx;if(b>g)break;const _=qDe({rows:i,topSummaryRows:o,bottomSummaryRows:a,rowIdx:T,mainHeaderRowIdx:c,lastFrozenColumnIndex:p,column:A});if(_&&g>b&&g<_+b){g=b+(x?_:0);break}}},N=x=>x.level+c,C=()=>{if(e){let A=n[g].parent;for(;A!==void 0;){const b=N(A);if(T===b){g=A.idx+A.colSpan;break}A=A.parent}}else if(t){let A=n[g].parent,b=!1;for(;A!==void 0;){const _=N(A);if(T>=_){g=A.idx,T=_,b=!0;break}A=A.parent}b||(g=h,T=m)}};if(E(f)&&(v(e),T<c&&C()),r==="CHANGE_ROW"&&(g===S?T===d||(g=0,T+=1):g===-1&&(T===l||(T-=1,g=S-1),v(!1))),T<c){let A=n[g].parent;const b=T;for(T=c;A!==void 0;){const _=N(A);_>=b&&(T=_,g=A.idx),A=A.parent}}return{idx:g,rowIdx:T}}function XDe({maxColIdx:t,minRowIdx:e,maxRowIdx:r,selectedPosition:{rowIdx:n,idx:s},shiftKey:i}){return i?s===0&&n===e:s===t&&n===r}const CG="rdg-cell cj343x07-0-0-beta-47",QDe="rdg-cell-frozen csofj7r7-0-0-beta-47";function $_(t){return{"--rdg-grid-row-start":t}}function xG(t,e,r){const n=e+1,s=`calc(${r-1} * var(--rdg-header-row-height))`;return t.parent===void 0?{insetBlockStart:0,gridRowStart:1,gridRowEnd:n,paddingBlockStart:s}:{insetBlockStart:`calc(${e-r} * var(--rdg-header-row-height))`,gridRowStart:n-r,gridRowEnd:n,paddingBlockStart:s}}function Gf(t,e=1){const r=t.idx+1;return{gridColumnStart:r,gridColumnEnd:r+e,insetInlineStart:t.frozen?`var(--rdg-frozen-left-${t.idx})`:void 0}}function ZE(t,...e){return ea(CG,{[QDe]:t.frozen},...e)}const{min:eg,max:Ny,floor:wG,sign:JDe,abs:ZDe}=Math;function tg(t){if(typeof t!="function")throw new Error("Please specify the rowKeyGetter prop to use selection")}function OG(t,{minWidth:e,maxWidth:r}){return t=Ny(t,e),typeof r=="number"&&r>=e?eg(t,r):t}function IG(t,e){return t.parent===void 0?e:t.level-t.parent.level}function by(t,e,r){const n=Math.min(e,r),s=Math.max(e,r);return t>=n&&t<=s}function eMe(t,e,r){const{startRowIdx:n,startColumnIdx:s,endRowIdx:i,endColumnIdx:o}=r,a=Math.min(n,i),l=Math.max(n,i),c=Math.min(s,o),d=Math.max(s,o),h=by(t,n,i),m=by(e,s,o);return{top:t===a&&m,bottom:t===l&&m,left:e===c&&h,right:e===d&&h}}const tMe="rdg-checkbox-input c1bn88vv7-0-0-beta-47";function rMe({onChange:t,indeterminate:e,...r}){function n(s){t(s.target.checked,s.nativeEvent.shiftKey)}return u.jsx("input",{ref:s=>{s&&(s.indeterminate=e===!0)},type:"checkbox",className:tMe,onChange:n,...r})}const nMe="rdg-group-cell-content g1s9ylgp7-0-0-beta-47",sMe="rdg-caret cz54e4y7-0-0-beta-47";function iMe(t){return u.jsx(oMe,{...t})}function oMe({groupKey:t,isExpanded:e,tabIndex:r,toggleGroup:n}){function s({key:o}){o==="Enter"&&n()}const i=e?"M1 1 L 7 7 L 13 1":"M1 7 L 7 1 L 13 7";return u.jsxs("span",{className:nMe,tabIndex:r,onKeyDown:s,children:[t,u.jsx("svg",{viewBox:"0 0 14 8",width:"14",height:"8",className:sMe,"aria-hidden":!0,children:u.jsx("path",{d:i})})]})}function aMe(t){try{return t.row[t.column.key]}catch{return null}}const _G=y.createContext(void 0),lMe=_G.Provider;function rg(){return y.useContext(_G)}function G_({value:t,tabIndex:e,indeterminate:r,disabled:n,onChange:s,"aria-label":i,"aria-labelledby":o}){const a=rg().renderCheckbox;return a({"aria-label":i,"aria-labelledby":o,tabIndex:e,indeterminate:r,disabled:n,checked:t,onChange:s})}const LG=y.createContext(void 0),DG=LG.Provider,MG=y.createContext(void 0),cMe=MG.Provider;function PG(){const t=y.useContext(LG),e=y.useContext(MG);if(t===void 0||e===void 0)throw new Error("useRowSelection must be used within renderCell");return{isRowSelectionDisabled:t.isRowSelectionDisabled,isRowSelected:t.isRowSelected,onRowSelectionChange:e}}const kG=y.createContext(void 0),uMe=kG.Provider,UG=y.createContext(void 0),dMe=UG.Provider;function hMe(){const t=y.useContext(kG),e=y.useContext(UG);if(t===void 0||e===void 0)throw new Error("useHeaderRowSelection must be used within renderHeaderCell");return{isIndeterminate:t.isIndeterminate,isRowSelected:t.isRowSelected,onRowSelectionChange:e}}const Vf="rdg-select-column";function fMe(t){const{isIndeterminate:e,isRowSelected:r,onRowSelectionChange:n}=hMe();return u.jsx(G_,{"aria-label":"Select All",tabIndex:t.tabIndex,indeterminate:e,value:r,onChange:s=>{n({checked:e?!1:s})}})}function mMe(t){const{isRowSelectionDisabled:e,isRowSelected:r,onRowSelectionChange:n}=PG();return u.jsx(G_,{"aria-label":"Select",tabIndex:t.tabIndex,disabled:e,value:r,onChange:(s,i)=>{n({row:t.row,checked:s,isShiftClick:i})}})}function pMe(t){const{isRowSelected:e,onRowSelectionChange:r}=PG();return u.jsx(G_,{"aria-label":"Select Group",tabIndex:t.tabIndex,value:e,onChange:n=>{r({row:t.row,checked:n,isShiftClick:!1})}})}const zf={key:Vf,name:"",width:35,minWidth:35,maxWidth:35,resizable:!1,sortable:!1,frozen:!0,renderHeaderCell(t){return u.jsx(fMe,{...t})},renderCell(t){return u.jsx(mMe,{...t})},renderGroupCell(t){return u.jsx(pMe,{...t})}},EMe="auto",gMe=50;function TMe({rawColumns:t,defaultColumnOptions:e,getColumnWidth:r,viewportWidth:n,scrollLeft:s,enableVirtualization:i}){const o=(e==null?void 0:e.width)??EMe,a=(e==null?void 0:e.minWidth)??gMe,l=(e==null?void 0:e.maxWidth)??void 0,c=(e==null?void 0:e.renderCell)??aMe,d=(e==null?void 0:e.sortable)??!1,h=(e==null?void 0:e.resizable)??!1,m=(e==null?void 0:e.draggable)??!1,{columns:f,colSpanColumns:p,lastFrozenColumnIndex:E,headerRowsCount:g}=y.useMemo(()=>{let A=-1,b=1;const _=[];U(t,1);function U(L,P,I){for(const F of L){if("children"in F){const k={name:F.name,parent:I,idx:-1,colSpan:0,level:0,headerCellClass:F.headerCellClass};U(F.children,P+1,k);continue}const W=F.frozen??!1,Y={...F,parent:I,idx:0,level:0,frozen:W,width:F.width??o,minWidth:F.minWidth??a,maxWidth:F.maxWidth??l,sortable:F.sortable??d,resizable:F.resizable??h,draggable:F.draggable??m,renderCell:F.renderCell??c};_.push(Y),W&&A++,P>b&&(b=P)}}_.sort(({key:L,frozen:P},{key:I,frozen:F})=>L===Vf?-1:I===Vf?1:P?F?0:-1:F?1:0);const j=[];return _.forEach((L,P)=>{L.idx=P,jG(L,P,0),L.colSpan!=null&&j.push(L)}),{columns:_,colSpanColumns:j,lastFrozenColumnIndex:A,headerRowsCount:b}},[t,o,a,l,c,h,d,m]),{templateColumns:T,layoutCssVars:S,totalFrozenColumnWidth:v,columnMetrics:N}=y.useMemo(()=>{const A=new Map;let b=0,_=0;const U=[];for(const L of f){let P=r(L);typeof P=="number"?P=OG(P,L):P=L.minWidth,U.push(`${P}px`),A.set(L,{width:P,left:b}),b+=P}if(E!==-1){const L=A.get(f[E]);_=L.left+L.width}const j={};for(let L=0;L<=E;L++){const P=f[L];j[`--rdg-frozen-left-${P.idx}`]=`${A.get(P).left}px`}return{templateColumns:U,layoutCssVars:j,totalFrozenColumnWidth:_,columnMetrics:A}},[r,f,E]),[C,x]=y.useMemo(()=>{if(!i)return[0,f.length-1];const A=s+v,b=s+n,_=f.length-1,U=eg(E+1,_);if(A>=b)return[U,U];let j=U;for(;j<_;){const{left:F,width:W}=N.get(f[j]);if(F+W>A)break;j++}let L=j;for(;L<_;){const{left:F,width:W}=N.get(f[L]);if(F+W>=b)break;L++}const P=Ny(U,j-1),I=eg(_,L+1);return[P,I]},[N,f,E,s,v,n,i]);return{columns:f,colSpanColumns:p,colOverscanStartIdx:C,colOverscanEndIdx:x,templateColumns:T,layoutCssVars:S,headerRowsCount:g,lastFrozenColumnIndex:E,totalFrozenColumnWidth:v}}function jG(t,e,r){if(r<t.level&&(t.level=r),t.parent!==void 0){const{parent:n}=t;n.idx===-1&&(n.idx=e),n.colSpan+=1,jG(n,e,r-1)}}const Wf=typeof window>"u"?y.useEffect:y.useLayoutEffect;function SMe(t,e,r,n,s,i,o,a,l,c){const d=y.useRef(s),h=t.length===e.length,m=h&&s!==d.current,f=[...r],p=[];for(const{key:S,idx:v,width:N}of e)typeof N=="string"&&(m||!o.has(S))&&!i.has(S)&&(f[v]=N,p.push(S));const E=f.join(" ");Wf(()=>{d.current=s,g(p)});function g(S){S.length!==0&&l(v=>{const N=new Map(v);let C=!1;for(const x of S){const A=BG(n,x);C||(C=A!==v.get(x)),A===void 0?N.delete(x):N.set(x,A)}return C?N:v})}function T(S,v){const{key:N}=S,C=[...r],x=[];for(const{key:b,idx:_,width:U}of e)if(N===b){const j=typeof v=="number"?`${v}px`:v;C[_]=j}else h&&typeof U=="string"&&!i.has(b)&&(C[_]=U,x.push(b));n.current.style.gridTemplateColumns=C.join(" ");const A=typeof v=="number"?v:BG(n,N);Zs.flushSync(()=>{a(b=>{const _=new Map(b);return _.set(N,A),_}),g(x)}),c==null||c(S,A)}return{gridTemplateColumns:E,handleColumnResize:T}}function BG(t,e){var s;const r=`[data-measuring-cell-key="${CSS.escape(e)}"]`,n=(s=t.current)==null?void 0:s.querySelector(r);return n==null?void 0:n.getBoundingClientRect().width}function vMe(){const t=y.useRef(null),[e,r]=y.useState(1),[n,s]=y.useState(1),[i,o]=y.useState(0);return Wf(()=>{const{ResizeObserver:a}=window;if(a==null)return;const{clientWidth:l,clientHeight:c,offsetWidth:d,offsetHeight:h}=t.current,{width:m,height:f}=t.current.getBoundingClientRect(),p=h-c,E=m-d+l,g=f-p;r(E),s(g),o(p);const T=new a(S=>{const v=S[0].contentBoxSize[0],{clientHeight:N,offsetHeight:C}=t.current;Zs.flushSync(()=>{r(v.inlineSize),s(v.blockSize),o(C-N)})});return T.observe(t.current),()=>{T.disconnect()}},[]),[t,e,n,i]}function ki(t){const e=y.useRef(t);y.useEffect(()=>{e.current=t});const r=y.useCallback((...n)=>{e.current(...n)},[]);return t&&r}function ng(t){const[e,r]=y.useState(!1);e&&!t&&r(!1);function n(i){i.target!==i.currentTarget&&r(!0)}return{tabIndex:t&&!e?0:-1,childTabIndex:t?0:-1,onFocus:t?n:void 0}}function yMe({columns:t,colSpanColumns:e,rows:r,topSummaryRows:n,bottomSummaryRows:s,colOverscanStartIdx:i,colOverscanEndIdx:o,lastFrozenColumnIndex:a,rowOverscanStartIdx:l,rowOverscanEndIdx:c}){const d=y.useMemo(()=>{if(i===0)return 0;let h=i;const m=(f,p)=>p!==void 0&&f+p>i?(h=f,!0):!1;for(const f of e){const p=f.idx;if(p>=h||m(p,Lo(f,a,{type:"HEADER"})))break;for(let E=l;E<=c;E++){const g=r[E];if(m(p,Lo(f,a,{type:"ROW",row:g})))break}if(n!=null){for(const E of n)if(m(p,Lo(f,a,{type:"SUMMARY",row:E})))break}if(s!=null){for(const E of s)if(m(p,Lo(f,a,{type:"SUMMARY",row:E})))break}}return h},[l,c,r,n,s,i,a,e]);return y.useMemo(()=>{const h=[];for(let m=0;m<=o;m++){const f=t[m];m<d&&!f.frozen||h.push(f)}return h},[d,o,t])}function AMe({rows:t,rowHeight:e,clientHeight:r,scrollTop:n,enableVirtualization:s}){const{totalRowHeight:i,gridTemplateRows:o,getRowTop:a,getRowHeight:l,findRowIdx:c}=y.useMemo(()=>{if(typeof e=="number")return{totalRowHeight:e*t.length,gridTemplateRows:` repeat(${t.length}, ${e}px)`,getRowTop:g=>g*e,getRowHeight:()=>e,findRowIdx:g=>wG(g/e)};let m=0,f=" ";const p=t.map(g=>{const T=e(g),S={top:m,height:T};return f+=`${T}px `,m+=T,S}),E=g=>Ny(0,eg(t.length-1,g));return{totalRowHeight:m,gridTemplateRows:f,getRowTop:g=>p[E(g)].top,getRowHeight:g=>p[E(g)].height,findRowIdx(g){let T=0,S=p.length-1;for(;T<=S;){const v=T+wG((S-T)/2),N=p[v].top;if(N===g)return v;if(N<g?T=v+1:N>g&&(S=v-1),T>S)return S}return 0}}},[e,t]);let d=0,h=t.length-1;if(s){const f=c(n),p=c(n+r);d=Ny(0,f-4),h=eg(t.length-1,p+4)}return{rowOverscanStartIdx:d,rowOverscanEndIdx:h,totalRowHeight:i,gridTemplateRows:o,getRowTop:a,getRowHeight:l,findRowIdx:c}}const RMe="rdg-cell-dragged-over cq910m07-0-0-beta-47";function NMe({column:t,colSpan:e,isCellSelected:r,selectedBorder:n,isDraggedOver:s,row:i,rowIdx:o,className:a,onClick:l,onDoubleClick:c,onContextMenu:d,onRowChange:h,selectCell:m,style:f,onMouseDownCapture:p,onMouseUpCapture:E,onMouseEnter:g,...T},S){const{tabIndex:v,childTabIndex:N,onFocus:C}=ng(r),{cellClass:x}=t;a=ZE(t,{[RMe]:s},typeof x=="function"?x(i):x,a);const A=bG(t,i);function b(I,F){m({rowIdx:o,idx:t.idx},{enableEditor:I,shiftKey:F})}function _(I){if(l){const F=$f(I);if(l({rowIdx:o,row:i,column:t,selectCell:b},F),F.isGridDefaultPrevented())return}b(!1,I.shiftKey)}function U(I){if(d){const F=$f(I);if(d({rowIdx:o,row:i,column:t,selectCell:b},F),F.isGridDefaultPrevented())return}b()}function j(I){if(c){const F=$f(I);if(c({rowIdx:o,row:i,column:t,selectCell:b},F),F.isGridDefaultPrevented())return}b(!0)}function L(I){h(t,I)}function P(I){function F(W){if(I){const Y=$f(W);I({rowIdx:o,row:i,column:t,selectCell:b},Y)}}return F}return u.jsx("div",{role:"gridcell","aria-colindex":t.idx+1,"aria-colspan":e,"aria-selected":r,"selected-top-border":n!=null&&n.top?"true":void 0,"selected-left-border":n!=null&&n.left?"true":void 0,"selected-bottom-border":n!=null&&n.bottom?"true":void 0,"selected-right-border":n!=null&&n.right?"true":void 0,"aria-readonly":!A||void 0,ref:S,tabIndex:v,className:a,style:{...Gf(t,e),...f},onClick:_,onDoubleClick:j,onContextMenu:U,onFocus:C,onMouseDownCapture:P(p),onMouseUpCapture:P(E),onMouseEnter:P(g),...T,children:t.renderCell({column:t,row:i,rowIdx:o,isCellEditable:A,tabIndex:N,onRowChange:L,selectCell:m})})}const bMe=y.memo(y.forwardRef(NMe));function CMe(t,e){return u.jsx(bMe,{...e},t)}const xMe="c1w9bbhr7-0-0-beta-47",wMe="c1creorc7-0-0-beta-47",OMe=`rdg-cell-drag-handle ${xMe}`;function IMe({gridRowStart:t,rows:e,column:r,columnWidth:n,maxColIdx:s,isLastRow:i,selectedPosition:o,latestDraggedOverRowIdx:a,isCellEditable:l,onRowsChange:c,onFill:d,onClick:h,setDragging:m,setDraggedOverRowIdx:f}){const{idx:p,rowIdx:E}=o;function g(C){if(C.preventDefault(),C.buttons!==1)return;m(!0),window.addEventListener("mouseover",x),window.addEventListener("mouseup",A);function x(b){b.buttons!==1&&A()}function A(){window.removeEventListener("mouseover",x),window.removeEventListener("mouseup",A),m(!1),T()}}function T(){const C=a.current;if(C===void 0)return;const x=E<C?E+1:C,A=E<C?C+1:E;v(x,A),f(void 0)}function S(C){C.stopPropagation(),v(E+1,e.length)}function v(C,x){const A=e[E],b=[...e],_=[];for(let U=C;U<x;U++)if(l({rowIdx:U,idx:p})){const j=d({columnKey:r.key,sourceRow:A,targetRow:e[U]});j!==e[U]&&(b[U]=j,_.push(U))}_.length>0&&(c==null||c(b,{indexes:_,column:r}))}function N(){var U;const C=((U=r.colSpan)==null?void 0:U.call(r,{type:"ROW",row:e[E]}))??1,{insetInlineStart:x,...A}=Gf(r,C),b="calc(var(--rdg-drag-handle-size) * -0.5 + 1px)",_=r.idx+C-1===s;return{...A,gridRowStart:t,marginInlineEnd:_?void 0:b,marginBlockEnd:i?void 0:b,insetInlineStart:x?`calc(${x} + ${n}px + var(--rdg-drag-handle-size) * -0.5 - 1px)`:void 0}}return u.jsx("div",{style:N(),className:ea(OMe,r.frozen&&wMe),onClick:h,onMouseDown:g,onDoubleClick:S})}const _Me="cis5rrm7-0-0-beta-47";function LMe({column:t,colSpan:e,row:r,rowIdx:n,onRowChange:s,closeEditor:i,onKeyDown:o,navigate:a,selectCell:l,metadata:c}){var v,N,C;const d=y.useRef(void 0),h=((v=t.editorOptions)==null?void 0:v.commitOnOutsideClick)!==!1,m=ki(()=>{E(!0,!1)});y.useEffect(()=>{if(!h)return;function x(){d.current=requestAnimationFrame(m)}return addEventListener("mousedown",x,{capture:!0}),()=>{removeEventListener("mousedown",x,{capture:!0}),f()}},[h,m]);function f(){cancelAnimationFrame(d.current)}function p(x){if(o){const A=$f(x);if(o({mode:"EDIT",row:r,column:t,rowIdx:n,navigate(){a(x)},onClose:E},A),A.isGridDefaultPrevented())return}x.key==="Escape"?E():x.key==="Enter"?E(!0):VDe(x)&&a(x)}function E(x=!1,A=!0){x?s(r,!0,A):i(A)}function g(x,A=!1){s(x,A,A)}const{cellClass:T}=t,S=ZE(t,"rdg-editor-container",!((N=t.editorOptions)!=null&&N.displayCellContent)&&_Me,typeof T=="function"?T(r):T);return u.jsx("div",{role:"gridcell","aria-colindex":t.idx+1,"aria-colspan":e,"aria-selected":!0,className:S,style:Gf(t,e),onKeyDown:p,onMouseDownCapture:f,children:t.renderEditCell!=null&&u.jsxs(u.Fragment,{children:[t.renderEditCell({column:t,row:r,rowIdx:n,onRowChange:g,onClose:E,metadata:c}),((C=t.editorOptions)==null?void 0:C.displayCellContent)&&t.renderCell({column:t,row:r,rowIdx:n,isCellEditable:!0,tabIndex:-1,onRowChange:g,selectCell:l})]})},t.key)}function DMe({column:t,rowIdx:e,isCellSelected:r,selectCell:n}){const{tabIndex:s,onFocus:i}=ng(r),{colSpan:o}=t,a=IG(t,e),l=t.idx+1;function c(){n({idx:t.idx,rowIdx:e})}return u.jsx("div",{role:"columnheader","aria-colindex":l,"aria-colspan":o,"aria-rowspan":a,"aria-selected":r,tabIndex:s,className:ea(CG,t.headerCellClass),style:{...xG(t,e,a),gridColumnStart:l,gridColumnEnd:l+o},onFocus:i,onClick:c,children:t.name})}const MMe="h44jtk67-0-0-beta-47",PMe="rdg-header-sort-name hcgkhxz7-0-0-beta-47";function kMe({column:t,sortDirection:e,priority:r}){return t.sortable?u.jsx(UMe,{sortDirection:e,priority:r,children:t.name}):t.name}function UMe({sortDirection:t,priority:e,children:r}){const n=rg().renderSortStatus;return u.jsxs("span",{className:MMe,children:[u.jsx("span",{className:PMe,children:r}),u.jsx("span",{children:n({sortDirection:t,priority:e})})]})}const jMe="c6l2wv17-0-0-beta-47",BMe="rdg-cell-resizable c1kqdw7y7-0-0-beta-47",FMe="r1y6ywlx7-0-0-beta-47",HMe="rdg-cell-draggable",$Me="rdg-cell-dragging c1bezg5o7-0-0-beta-47",GMe="rdg-cell-drag-over c1vc96037-0-0-beta-47";function VMe({column:t,colSpan:e,rowIdx:r,isCellSelected:n,onColumnResize:s,onColumnsReorder:i,sortColumns:o,onSortColumnsChange:a,selectCell:l,shouldFocusGrid:c,direction:d,dragDropKey:h}){const[m,f]=y.useState(!1),[p,E]=y.useState(!1),g=d==="rtl",T=IG(t,r),{tabIndex:S,childTabIndex:v,onFocus:N}=ng(n),C=o==null?void 0:o.findIndex(ie=>ie.columnKey===t.key),x=C!==void 0&&C>-1?o[C]:void 0,A=x==null?void 0:x.direction,b=x!==void 0&&o.length>1?C+1:void 0,_=A&&!b?A==="ASC"?"ascending":"descending":void 0,{sortable:U,resizable:j,draggable:L}=t,P=ZE(t,t.headerCellClass,{[jMe]:U,[BMe]:j,[HMe]:L,[$Me]:m,[GMe]:p}),I=t.renderHeaderCell??kMe;function F(ie){if(ie.pointerType==="mouse"&&ie.buttons!==1)return;ie.preventDefault();const{currentTarget:Te,pointerId:ve}=ie,_e=Te.parentElement,{right:fe,left:je}=_e.getBoundingClientRect(),H=g?ie.clientX-je:fe-ie.clientX;function Ce(ce){const{width:Q,right:Ae,left:te}=_e.getBoundingClientRect();let ae=g?Ae+H-ce.clientX:ce.clientX+H-te;ae=OG(ae,t),Q>0&&ae!==Q&&s(t,ae)}function be(){Te.removeEventListener("pointermove",Ce),Te.removeEventListener("lostpointercapture",be)}Te.setPointerCapture(ve),Te.addEventListener("pointermove",Ce),Te.addEventListener("lostpointercapture",be)}function W(){s(t,"max-content")}function Y(ie){if(a==null)return;const{sortDescendingFirst:Te}=t;if(x===void 0){const ve={columnKey:t.key,direction:Te?"DESC":"ASC"};a(o&&ie?[...o,ve]:[ve])}else{let ve;if((Te===!0&&A==="DESC"||Te!==!0&&A==="ASC")&&(ve={columnKey:t.key,direction:A==="ASC"?"DESC":"ASC"}),ie){const _e=[...o];ve?_e[C]=ve:_e.splice(C,1),a(_e)}else a(ve?[ve]:[])}}function k(ie){l({idx:t.idx,rowIdx:r}),U&&Y(ie.ctrlKey||ie.metaKey)}function V(ie){N==null||N(ie),c&&l({idx:0,rowIdx:r})}function re(ie){(ie.key===" "||ie.key==="Enter")&&(ie.preventDefault(),Y(ie.ctrlKey||ie.metaKey))}function K(ie){ie.dataTransfer.setData(h,t.key),ie.dataTransfer.dropEffect="move",f(!0)}function B(){f(!1)}function X(ie){ie.preventDefault(),ie.dataTransfer.dropEffect="move"}function J(ie){if(E(!1),ie.dataTransfer.types.includes(h.toLowerCase())){const Te=ie.dataTransfer.getData(h.toLowerCase());Te!==t.key&&(ie.preventDefault(),i==null||i(Te,t.key))}}function Z(ie){FG(ie)&&E(!0)}function Ee(ie){FG(ie)&&E(!1)}let se;return L&&(se={draggable:!0,onDragStart:K,onDragEnd:B,onDragOver:X,onDragEnter:Z,onDragLeave:Ee,onDrop:J}),u.jsxs("div",{role:"columnheader","aria-colindex":t.idx+1,"aria-colspan":e,"aria-rowspan":T,"aria-selected":n,"aria-sort":_,tabIndex:c?0:S,className:P,style:{...xG(t,r,T),...Gf(t,e)},onFocus:V,onClick:k,onKeyDown:U?re:void 0,...se,children:[I({column:t,sortDirection:A,priority:b,tabIndex:v}),j&&u.jsx("div",{className:FMe,onClick:FDe,onPointerDown:F,onDoubleClick:W})]})}function FG(t){const e=t.relatedTarget;return!t.currentTarget.contains(e)}const V_="rdg-row r1upfr807-0-0-beta-47",zMe="r190mhd37-0-0-beta-47",Cy="rdg-row-selected",WMe="r139qu9m7-0-0-beta-47",YMe="rdg-top-summary-row",qMe="rdg-bottom-summary-row",HG="rdg-header-row h10tskcx7-0-0-beta-47";function KMe({rowIdx:t,columns:e,onColumnResize:r,onColumnsReorder:n,sortColumns:s,onSortColumnsChange:i,lastFrozenColumnIndex:o,selectedCellIdx:a,selectCell:l,shouldFocusGrid:c,direction:d}){const h=y.useId(),m=[];for(let f=0;f<e.length;f++){const p=e[f],E=Lo(p,o,{type:"HEADER"});E!==void 0&&(f+=E-1),m.push(u.jsx(VMe,{column:p,colSpan:E,rowIdx:t,isCellSelected:a===p.idx,onColumnResize:r,onColumnsReorder:n,onSortColumnsChange:i,sortColumns:s,selectCell:l,shouldFocusGrid:c&&f===0,direction:d,dragDropKey:h},p.key))}return u.jsx("div",{role:"row","aria-rowindex":t,className:ea(HG,{[Cy]:a===-1}),children:m})}var XMe=y.memo(KMe);function QMe({rowIdx:t,level:e,columns:r,selectedCellIdx:n,selectCell:s}){const i=[],o=new Set;for(const a of r){let{parent:l}=a;if(l!==void 0){for(;l.level>e&&l.parent!==void 0;)l=l.parent;if(l.level===e&&!o.has(l)){o.add(l);const{idx:c}=l;i.push(u.jsx(DMe,{column:l,rowIdx:t,isCellSelected:n===c,selectCell:s},c))}}}return u.jsx("div",{role:"row","aria-rowindex":t,className:HG,children:i})}var JMe=y.memo(QMe);function ZMe({className:t,rowIdx:e,gridRowStart:r,selectedCellIdx:n,selectedRange:s,isRowSelectionDisabled:i,isRowSelected:o,draggedOverCellIdx:a,lastFrozenColumnIndex:l,row:c,viewportColumns:d,selectedCellEditor:h,onCellClick:m,onCellDoubleClick:f,onCellContextMenu:p,rowClass:E,setDraggedOverRowIdx:g,onMouseEnter:T,onRowChange:S,onCellMouseDown:v,onCellMouseUp:N,onCellMouseEnter:C,selectCell:x,rangeSelectionMode:A,...b},_){const U=rg().renderCell,j=ki((F,W)=>{S(F,e,W)});function L(F){g==null||g(e),T==null||T(F)}t=ea(V_,`rdg-row-${e%2===0?"even":"odd"}`,{[Cy]:n===-1},E==null?void 0:E(c,e),t);const P=[];for(let F=0;F<d.length;F++){const W=d[F],{idx:Y}=W,k=Lo(W,l,{type:"ROW",row:c});k!==void 0&&(F+=k-1);const V=n===Y,re=A&&by(e,s.startRowIdx,s.endRowIdx)&&by(Y,s.startColumnIdx,s.endColumnIdx),K=A&&re?eMe(e,Y,s):!A&&V?{top:!0,bottom:!0,left:!0,right:!0}:void 0;V&&h?P.push(h):P.push(U(W.key,{column:W,colSpan:k,row:c,rowIdx:e,isDraggedOver:a===Y,isCellSelected:A?re:V,selectedBorder:K,onClick:m,onDoubleClick:f,onContextMenu:p,onRowChange:j,selectCell:x,onMouseDownCapture:v,onMouseUpCapture:N,onMouseEnter:C}))}const I=y.useMemo(()=>({isRowSelected:o,isRowSelectionDisabled:i}),[i,o]);return u.jsx(DG,{value:I,children:u.jsx("div",{role:"row",ref:_,className:t,onMouseEnter:L,style:$_(r),...b,children:P})})}const $G=y.memo(y.forwardRef(ZMe));var GG=$G;function VG(t,e){return u.jsx($G,{...e},t)}function ePe({scrollToPosition:{idx:t,rowIdx:e},gridRef:r,setScrollToCellPosition:n}){const s=y.useRef(null);return Wf(()=>{Ry(s.current)}),Wf(()=>{function i(){n(null)}const o=new IntersectionObserver(i,{root:r.current,threshold:1});return o.observe(s.current),()=>{o.disconnect()}},[r,n]),u.jsx("div",{ref:s,style:{gridColumn:t===void 0?"1/-1":t+1,gridRow:e===void 0?"1/-1":e+2}})}const tPe="rdg-sort-arrow a3ejtar7-0-0-beta-47";function rPe({sortDirection:t,priority:e}){return u.jsxs(u.Fragment,{children:[nPe({sortDirection:t}),sPe({priority:e})]})}function nPe({sortDirection:t}){return t===void 0?null:u.jsx("svg",{viewBox:"0 0 12 8",width:"12",height:"8",className:tPe,"aria-hidden":!0,children:u.jsx("path",{d:t==="ASC"?"M0 8 6 0 12 8":"M0 0 6 8 12 0"})})}function sPe({priority:t}){return t}const iPe="rdg rnvodz57-0-0-beta-47",oPe="rdg-viewport-dragging vlqv91k7-0-0-beta-47",aPe="f1lsfrzw7-0-0-beta-47",lPe="f1cte0lg7-0-0-beta-47",cPe="s8wc6fl7-0-0-beta-47";function uPe({column:t,colSpan:e,row:r,rowIdx:n,isCellSelected:s,selectCell:i}){var m;const{tabIndex:o,childTabIndex:a,onFocus:l}=ng(s),{summaryCellClass:c}=t,d=ZE(t,cPe,typeof c=="function"?c(r):c);function h(){i({rowIdx:n,idx:t.idx})}return u.jsx("div",{role:"gridcell","aria-colindex":t.idx+1,"aria-colspan":e,"aria-selected":s,tabIndex:o,className:d,style:Gf(t,e),onClick:h,onFocus:l,children:(m=t.renderSummaryCell)==null?void 0:m.call(t,{column:t,row:r,tabIndex:a})})}var dPe=y.memo(uPe);const hPe="skuhp557-0-0-beta-47",fPe="tf8l5ub7-0-0-beta-47",mPe=`rdg-summary-row ${hPe}`;function pPe({rowIdx:t,gridRowStart:e,row:r,viewportColumns:n,top:s,bottom:i,lastFrozenColumnIndex:o,selectedCellIdx:a,isTop:l,selectCell:c,"aria-rowindex":d}){const h=[];for(let m=0;m<n.length;m++){const f=n[m],p=Lo(f,o,{type:"SUMMARY",row:r});p!==void 0&&(m+=p-1);const E=a===f.idx;h.push(u.jsx(dPe,{column:f,colSpan:p,row:r,rowIdx:t,isCellSelected:E,selectCell:c},f.key))}return u.jsx("div",{role:"row","aria-rowindex":d,className:ea(V_,`rdg-row-${t%2===0?"even":"odd"}`,mPe,{[Cy]:a===-1,[`${YMe} ${fPe}`]:l,[qMe]:!l}),style:{...$_(e),"--rdg-summary-row-top":s!==void 0?`${s}px`:void 0,"--rdg-summary-row-bottom":i!==void 0?`${i}px`:void 0},children:h})}var zG=y.memo(pPe);const z_={startRowIdx:-1,startColumnIdx:-1,endRowIdx:-1,endColumnIdx:-1};function EPe(t,e){const{columns:r,rows:n,topSummaryRows:s,bottomSummaryRows:i,rowKeyGetter:o,onRowsChange:a,rowHeight:l,headerRowHeight:c,summaryRowHeight:d,selectedRows:h,isRowSelectionDisabled:m,onSelectedRowsChange:f,sortColumns:p,onSortColumnsChange:E,defaultColumnOptions:g,onCellClick:T,onCellDoubleClick:S,onCellContextMenu:v,onCellKeyDown:N,onSelectedCellChange:C,onScroll:x,onColumnResize:A,onColumnsReorder:b,onFill:_,onCellCopy:U,onCellPaste:j,onMultiCellPaste:L,onMultiCellCopy:P,selectionLeftBoundaryColIdx:I,selectionRightBoundaryColIdx:F,selectionTopBoundaryRowIdx:W,selectionBottomBoundaryRowIdx:Y,onSelectedRangeChange:k,enableVirtualization:V,enableRangeSelection:re,renderers:K,className:B,style:X,rowClass:J,direction:Z,role:Ee,"aria-label":se,"aria-labelledby":ie,"aria-description":Te,"aria-describedby":ve,"aria-rowcount":_e,"data-testid":fe,"data-cy":je}=t,H=rg(),Ce=Ee??"grid",be=l??35,ce=c??(typeof be=="number"?be:35),Q=d??(typeof be=="number"?be:35),Ae=(K==null?void 0:K.renderRow)??(H==null?void 0:H.renderRow)??VG,te=(K==null?void 0:K.renderCell)??(H==null?void 0:H.renderCell)??CMe,ae=(K==null?void 0:K.renderSortStatus)??(H==null?void 0:H.renderSortStatus)??rPe,le=(K==null?void 0:K.renderCheckbox)??(H==null?void 0:H.renderCheckbox)??rMe,we=(K==null?void 0:K.noRowsFallback)??(H==null?void 0:H.noRowsFallback),Ie=V??!0,ue=re??!1,pe=Z??"ltr",[he,Ne]=y.useState(0),[Se,Ye]=y.useState(0),[Ge,Ze]=y.useState(()=>new Map),[ut,He]=y.useState(()=>new Map),[lt,Qe]=y.useState(!1),[Lt,Nt]=y.useState(void 0),[Pt,vt]=y.useState(null),[mn,wt]=y.useState(!1),[Rr,ln]=y.useState(-1),Zn=y.useCallback(xe=>Ge.get(xe.key)??ut.get(xe.key)??xe.width,[ut,Ge]),[Jr,Rn,ws,Eo]=vMe(),{columns:Qt,colSpanColumns:ur,lastFrozenColumnIndex:Yt,headerRowsCount:Ur,colOverscanStartIdx:cs,colOverscanEndIdx:us,templateColumns:Zo,layoutCssVars:Nc,totalFrozenColumnWidth:si}=TMe({rawColumns:r,defaultColumnOptions:g,getColumnWidth:Zn,scrollLeft:Se,viewportWidth:Rn,enableVirtualization:Ie}),bc=(s==null?void 0:s.length)??0,Xu=(i==null?void 0:i.length)??0,aS=bc+Xu,Cc=Ur+bc,lS=Ur-1,Vs=-Cc,mp=Vs+lS,Oa=n.length+Xu-1,[It,xc]=y.useState(()=>({idx:-1,rowIdx:Vs-1,mode:"SELECT"})),[dr,cS]=y.useState(z_),[Ia,Mb]=y.useState(!1),uS=y.useRef(Lt),Qu=y.useRef(null),dS=Ce==="treegrid",pp=Ur*ce,Pb=aS*Q,Ep=ws-pp-Pb,Ai=h!=null&&f!=null,kb=pe==="rtl",w5=kb?"ArrowRight":"ArrowLeft",hS=kb?"ArrowLeft":"ArrowRight",fS=_e??Ur+n.length+aS,O5=y.useMemo(()=>({renderCheckbox:le,renderSortStatus:ae,renderCell:te}),[le,ae,te]),Ub=y.useMemo(()=>{let xe=!1,De=!1;if(o!=null&&h!=null&&h.size>0){for(const Be of n)if(h.has(o(Be))?xe=!0:De=!0,xe&&De)break}return{isRowSelected:xe&&!De,isIndeterminate:xe&&De}},[n,h,o]),{rowOverscanStartIdx:Oh,rowOverscanEndIdx:Ju,totalRowHeight:mS,gridTemplateRows:jb,getRowTop:Vi,getRowHeight:Er,findRowIdx:Bb}=AMe({rows:n,rowHeight:be,clientHeight:Ep,scrollTop:he,enableVirtualization:Ie}),go=yMe({columns:Qt,colSpanColumns:ur,colOverscanStartIdx:cs,colOverscanEndIdx:us,lastFrozenColumnIndex:Yt,rowOverscanStartIdx:Oh,rowOverscanEndIdx:Ju,rows:n,topSummaryRows:s,bottomSummaryRows:i}),{gridTemplateColumns:I5,handleColumnResize:Ih}=SMe(Qt,go,Zo,Jr,Rn,Ge,ut,Ze,He,A),Fb=dS?-1:0,To=Qt.length-1,pS=ce+mS+Pb+Eo,gp=typeof I>"u"||I==null?Fb-1:I,ES=typeof F>"u"||F==null?To+1:F,Ol=typeof W>"u"||W==null?Vs-1:W,gS=typeof Y>"u"||Y==null?Oa+1:Y,Zu=D(It),wc=$(It),Oc=xe=>{const De={...xe},Be=(ft,_t,Dt,Mt)=>(_t<=Dt&&(_t=Dt+1),ft>=Mt&&(ft=Mt-1),ft<=Dt&&(ft=Dt+1),_t>=Mt&&(_t=Mt-1),{start:ft,end:_t}),et=Be(De.startRowIdx,De.endRowIdx,Ol,gS),ct=Be(De.startColumnIdx,De.endColumnIdx,gp,ES);De.startRowIdx=et.start,De.endRowIdx=et.end,De.startColumnIdx=ct.start,De.endColumnIdx=ct.end,De.endColumnIdx>gp&&De.startColumnIdx<ES&&De.endRowIdx>Ol&&De.startRowIdx<gS&&cS(De)},_5=ki(Ih),Hb=ki(b),ii=ki(E),L5=ki(T),Il=ki(S),TS=ki(v),D5=ki(Gb),M5=ki(yS),P5=ki(_h),Tp=ki(ee),$b=ki(({idx:xe,rowIdx:De})=>{ee({rowIdx:Vs+De-1,idx:xe})}),SS=y.useCallback(xe=>{Nt(xe),uS.current=xe},[]),vS=y.useCallback(()=>{const xe=WG(Jr.current);if(xe===null)return;Ry(xe),(xe.querySelector('[tabindex="0"]')??xe).focus({preventScroll:!0})},[Jr]);Wf(()=>{Qu.current!==null&&Zu&&It.idx===-1&&(Qu.current.focus({preventScroll:!0}),Ry(Qu.current))},[Zu,It]),Wf(()=>{mn&&(wt(!1),vS())},[mn,vS]),y.useImperativeHandle(e,()=>({element:Jr.current,scrollToCell({idx:xe,rowIdx:De}){const Be=xe!==void 0&&xe>Yt&&xe<Qt.length?xe:void 0,et=De!==void 0&&w(De)?De:void 0;(Be!==void 0||et!==void 0)&&vt({idx:Be,rowIdx:et})},selectCell:ee})),y.useEffect(()=>{k==null||k(dr)},[dr,k]);function Gb(xe){if(!f)return;tg(o);const De=new Set(h);for(const Be of n){if((m==null?void 0:m(Be))===!0)continue;const et=o(Be);xe.checked?De.add(et):De.delete(et)}f(De)}function yS(xe){if(!f)return;tg(o);const{row:De,checked:Be,isShiftClick:et}=xe;if((m==null?void 0:m(De))===!0)return;const ct=new Set(h),ft=o(De),_t=n.indexOf(De);if(ln(_t),Be?ct.add(ft):ct.delete(ft),et&&Rr!==-1&&Rr!==_t&&Rr<n.length){const Dt=JDe(_t-Rr);for(let Mt=Rr+Dt;Mt!==_t;Mt+=Dt){const bt=n[Mt];(m==null?void 0:m(bt))!==!0&&(Be?ct.add(o(bt)):ct.delete(o(bt)))}}f(ct)}function Vb(xe){const{idx:De,rowIdx:Be,mode:et}=It;if(et==="EDIT")return;if(N&&w(Be)){const _t=n[Be],Dt=$f(xe);if(N({mode:"SELECT",row:_t,column:Qt[De],rowIdx:Be,selectCell:ee},Dt),Dt.isGridDefaultPrevented())return}if(!(xe.target instanceof Element))return;const ct=xe.target.closest(".rdg-cell")!==null,ft=dS&&xe.target===Qu.current;if(!(!ct&&!ft))if(xe.shiftKey)switch(xe.key){case"ArrowUp":dr.endRowIdx>0&&Oc({...dr,endRowIdx:dr.endRowIdx-1});break;case"ArrowDown":dr.endRowIdx<n.length-1&&Oc({...dr,endRowIdx:dr.endRowIdx+1});break;case"ArrowRight":dr.endColumnIdx<Qt.length-1&&Oc({...dr,endColumnIdx:dr.endColumnIdx+1});break;case"ArrowLeft":dr.endColumnIdx>0&&Oc({...dr,endColumnIdx:dr.endColumnIdx-1});break}else switch(xe.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Tab":case"Home":case"End":case"PageUp":case"PageDown":de(xe);break;default:k5(xe);break}}function zb(xe){const{scrollTop:De,scrollLeft:Be}=xe.currentTarget;Zs.flushSync(()=>{Ne(De),Ye(ZDe(Be))}),x==null||x(xe)}function _h(xe,De,Be){if(typeof a!="function"||Be===n[De])return;const et=[...n];et[De]=Be,a(et,{indexes:[De],column:xe})}function AS(){It.mode==="EDIT"&&_h(Qt[It.idx],It.rowIdx,It.row)}function Wb(xe){if(wc)if(ue){const De=Math.min(dr.startRowIdx,dr.endRowIdx),Be=Math.max(dr.startRowIdx,dr.endRowIdx),et=Math.min(dr.startColumnIdx,dr.endColumnIdx),ct=Math.max(dr.startColumnIdx,dr.endColumnIdx),ft=n.slice(De,Be+1),_t=Qt.slice(et,ct+1);P==null||P({rows:ft,columns:_t},xe)}else{const{idx:De,rowIdx:Be}=It;U==null||U({row:n[Be],column:Qt[De]},xe)}}function RS(xe){if(!(!a||!G(It)||It.mode==="EDIT")){if(ue&&L){const De=Math.min(dr.startRowIdx,dr.endRowIdx),Be=Math.max(dr.startRowIdx,dr.endRowIdx),et=Math.min(dr.startColumnIdx,dr.endColumnIdx),ct=Math.max(dr.startColumnIdx,dr.endColumnIdx),ft=n.slice(De,Be+1),_t=Qt.slice(et,ct+1),Dt=L({rows:ft,columns:_t},xe);if(Dt&&Dt.length>0){const Mt=[...n];for(let bt=De;bt<=Be;bt++){const ar=Dt[bt-De];ar!==void 0&&(Mt[bt]=ar)}for(const bt of _t)a(Mt,{indexes:Array.from({length:Be-De+1},(ar,Os)=>Os+De),column:bt})}}else if(j){const{idx:De,rowIdx:Be}=It,et=Qt[De],ct=j({row:n[Be],column:et},xe);_h(et,Be,ct)}}}function k5(xe){if(!wc)return;const De=n[It.rowIdx],{key:Be,shiftKey:et}=xe;if(Ai&&et&&Be===" "){tg(o);const ct=o(De);yS({row:De,checked:!h.has(ct),isShiftClick:!1}),xe.preventDefault();return}G(It)&&GDe(xe,ue?L!=null:j!=null)&&xc(({idx:ct,rowIdx:ft})=>({idx:ct,rowIdx:ft,mode:"EDIT",row:De,originalRow:De,metadata:void 0}))}function R(xe){return xe>=Fb&&xe<=To&&xe>gp&&xe<ES}function w(xe){return xe>=0&&xe<n.length}function D({idx:xe,rowIdx:De}){return De>=Vs&&De<=Oa&&De>Ol&&De<gS&&R(xe)}function M({idx:xe,rowIdx:De}){return w(De)&&xe>=0&&xe<=To}function $({idx:xe,rowIdx:De}){return w(De)&&R(xe)}function G(xe){return M(xe)&&YDe({columns:Qt,rows:n,selectedPosition:xe})}function ee(xe,{enableEditor:De,shiftKey:Be,metadata:et}={}){if(!D(xe))return;AS();const ct=YG(It,xe);if(De&&G(xe)){const ft=n[xe.rowIdx];xc({...xe,mode:"EDIT",row:ft,originalRow:ft,metadata:et})}else ct?Ry(WG(Jr.current)):(wt(!0),xc({...xe,mode:"SELECT"}),Oc(Be?{...dr,endRowIdx:xe.rowIdx,endColumnIdx:xe.idx}:{startRowIdx:xe.rowIdx,startColumnIdx:xe.idx,endRowIdx:xe.rowIdx,endColumnIdx:xe.idx}));C&&!ct&&C({rowIdx:xe.rowIdx,row:w(xe.rowIdx)?n[xe.rowIdx]:void 0,column:Qt[xe.idx]})}function oe(xe,De,Be){const{idx:et,rowIdx:ct}=It,ft=Zu&&et===-1;switch(xe){case"ArrowUp":return{idx:et,rowIdx:ct-1};case"ArrowDown":return{idx:et,rowIdx:ct+1};case w5:return{idx:et-1,rowIdx:ct};case hS:return{idx:et+1,rowIdx:ct};case"Tab":return{idx:et+(Be?-1:1),rowIdx:ct};case"Home":return ft?{idx:et,rowIdx:Vs}:{idx:0,rowIdx:De?Vs:ct};case"End":return ft?{idx:et,rowIdx:Oa}:{idx:To,rowIdx:De?Oa:ct};case"PageUp":{if(It.rowIdx===Vs)return It;const _t=Vi(ct)+Er(ct)-Ep;return{idx:et,rowIdx:_t>0?Bb(_t):0}}case"PageDown":{if(It.rowIdx>=n.length)return It;const _t=Vi(ct)+Ep;return{idx:et,rowIdx:_t<mS?Bb(_t):n.length-1}}default:return It}}function de(xe){const{key:De,shiftKey:Be}=xe;let et="NONE";if(De==="Tab"){if(XDe({shiftKey:Be,maxColIdx:To,minRowIdx:Vs,maxRowIdx:Oa,selectedPosition:It})){AS();return}et="CHANGE_ROW"}xe.preventDefault();const ct=H_(xe),ft=oe(De,ct,Be);if(YG(It,ft))return;const _t=KDe({moveUp:De==="ArrowUp",moveNext:De===hS||De==="Tab"&&!Be,columns:Qt,colSpanColumns:ur,rows:n,topSummaryRows:s,bottomSummaryRows:i,minRowIdx:Vs,mainHeaderRowIdx:mp,maxRowIdx:Oa,lastFrozenColumnIndex:Yt,cellNavigationMode:et,currentPosition:It,nextPosition:ft,isCellWithinBounds:D});ee(_t)}function Re(xe){if(Lt===void 0)return;const{rowIdx:De}=It;return(De<Lt?De<xe&&xe<=Lt:De>xe&&xe>=Lt)?It.idx:void 0}function ye(){if(_==null||It.mode==="EDIT"||!$(It))return;const{idx:xe,rowIdx:De}=It,Be=Qt[xe];if(Be.renderEditCell==null||Be.editable===!1)return;const et=Zn(Be);return u.jsx(IMe,{gridRowStart:Cc+De+1,rows:n,column:Be,columnWidth:et,maxColIdx:To,isLastRow:De===Oa,selectedPosition:It,isCellEditable:G,latestDraggedOverRowIdx:uS,onRowsChange:a,onClick:vS,onFill:_,setDragging:Qe,setDraggedOverRowIdx:SS})}function Pe(xe){if(It.rowIdx!==xe||It.mode==="SELECT")return;const{idx:De,row:Be,metadata:et}=It,ct=Qt[De],ft=Lo(ct,Yt,{type:"ROW",row:Be}),_t=Mt=>{wt(Mt),xc(({idx:bt,rowIdx:ar})=>({idx:bt,rowIdx:ar,mode:"SELECT"}))},Dt=(Mt,bt,ar)=>{bt?Zs.flushSync(()=>{_h(ct,It.rowIdx,Mt),_t(ar)}):xc(Os=>({...Os,row:Mt}))};return n[It.rowIdx]!==It.originalRow&&_t(!1),u.jsx(LMe,{column:ct,colSpan:ft,row:Be,rowIdx:xe,onRowChange:Dt,closeEditor:_t,onKeyDown:N,navigate:de,metadata:et,selectCell:ee},ct.key)}function ke(xe){const De=It.idx===-1?void 0:Qt[It.idx];return De!==void 0&&It.rowIdx===xe&&!go.includes(De)?It.idx>us?[...go,De]:[...go.slice(0,Yt+1),De,...go.slice(Yt+1)]:go}function Ue(){const xe=[],{idx:De,rowIdx:Be}=It,et=wc&&Be<Oh?Oh-1:Oh,ct=wc&&Be>Ju?Ju+1:Ju;for(let ft=et;ft<=ct;ft++){const _t=ft===Oh-1||ft===Ju+1,Dt=_t?Be:ft;let Mt=go;const bt=De===-1?void 0:Qt[De];bt!==void 0&&(_t?Mt=[bt]:Mt=ke(Dt));const ar=n[Dt],Os=Cc+Dt+1;let Un=Dt,oi=!1;typeof o=="function"&&(Un=o(ar),oi=(h==null?void 0:h.has(Un))??!1),xe.push(Ae(Un,{"aria-rowindex":Cc+Dt+1,"aria-selected":Ai?oi:void 0,rowIdx:Dt,row:ar,viewportColumns:Mt,isRowSelectionDisabled:(m==null?void 0:m(ar))??!1,isRowSelected:oi,onCellClick:L5,onCellDoubleClick:Il,onCellContextMenu:TS,rowClass:J,gridRowStart:Os,selectedCellIdx:Be===Dt?De:void 0,selectedRange:ue?dr:z_,draggedOverCellIdx:Re(Dt),setDraggedOverRowIdx:lt?SS:void 0,lastFrozenColumnIndex:Yt,onRowChange:P5,selectCell:Tp,selectedCellEditor:Pe(Dt),rangeSelectionMode:ue,onCellMouseDown({column:Ri},{shiftKey:U5,button:NS}){if(ue&&!U5&&NS===0){if(Mb(!0),!D({idx:Ri.idx,rowIdx:Dt}))return;cS({startRowIdx:Dt,startColumnIdx:Ri.idx,endRowIdx:Dt,endColumnIdx:Ri.idx})}},onCellMouseUp({column:Ri}){ue&&(Mb(!1),Tp({rowIdx:Dt,idx:Ri.idx},{shiftKey:!0}))},onCellMouseEnter({column:Ri}){ue&&Ia&&Oc({...dr,endRowIdx:Dt,endColumnIdx:Ri.idx})}}))}return xe}(It.idx>To||It.rowIdx>Oa)&&(xc({idx:-1,rowIdx:Vs-1,mode:"SELECT"}),SS(void 0),cS(z_));let Oe=`repeat(${Ur}, ${ce}px)`;bc>0&&(Oe+=` repeat(${bc}, ${Q}px)`),n.length>0&&(Oe+=jb),Xu>0&&(Oe+=` repeat(${Xu}, ${Q}px)`);const Xe=It.idx===-1&&It.rowIdx!==Vs-1;return u.jsxs("div",{role:Ce,"aria-label":se,"aria-labelledby":ie,"aria-description":Te,"aria-describedby":ve,"aria-multiselectable":Ai?!0:void 0,"aria-colcount":Qt.length,"aria-rowcount":fS,className:ea(iPe,{[oPe]:lt},B),style:{...X,scrollPaddingInlineStart:It.idx>Yt||(Pt==null?void 0:Pt.idx)!==void 0?`${si}px`:void 0,scrollPaddingBlock:w(It.rowIdx)||(Pt==null?void 0:Pt.rowIdx)!==void 0?`${pp+bc*Q}px ${Xu*Q}px`:void 0,gridTemplateColumns:I5,gridTemplateRows:Oe,"--rdg-header-row-height":`${ce}px`,"--rdg-scroll-height":`${pS}px`,...Nc},dir:pe,ref:Jr,onScroll:zb,onKeyDown:Vb,onCopy:Wb,onPaste:RS,"data-testid":fe,"data-cy":je,children:[u.jsxs(lMe,{value:O5,children:[u.jsx(dMe,{value:D5,children:u.jsxs(uMe,{value:Ub,children:[Array.from({length:lS},(xe,De)=>u.jsx(JMe,{rowIdx:De+1,level:-lS+De,columns:ke(Vs+De),selectedCellIdx:It.rowIdx===Vs+De?It.idx:void 0,selectCell:$b},De)),u.jsx(XMe,{rowIdx:Ur,columns:ke(mp),onColumnResize:_5,onColumnsReorder:Hb,sortColumns:p,onSortColumnsChange:ii,lastFrozenColumnIndex:Yt,selectedCellIdx:It.rowIdx===mp?It.idx:void 0,selectCell:$b,shouldFocusGrid:!Zu,direction:pe})]})}),n.length===0&&we?we:u.jsxs(u.Fragment,{children:[s==null?void 0:s.map((xe,De)=>{const Be=Ur+1+De,et=mp+1+De,ct=It.rowIdx===et,ft=pp+Q*De;return u.jsx(zG,{"aria-rowindex":Be,rowIdx:et,gridRowStart:Be,row:xe,top:ft,bottom:void 0,viewportColumns:ke(et),lastFrozenColumnIndex:Yt,selectedCellIdx:ct?It.idx:void 0,isTop:!0,selectCell:Tp},De)}),u.jsx(cMe,{value:M5,children:Ue()}),i==null?void 0:i.map((xe,De)=>{const Be=Cc+n.length+De+1,et=n.length+De,ct=It.rowIdx===et,ft=Ep>mS?ws-Q*(i.length-De):void 0,_t=ft===void 0?Q*(i.length-1-De):void 0;return u.jsx(zG,{"aria-rowindex":fS-Xu+De+1,rowIdx:et,gridRowStart:Be,row:xe,top:ft,bottom:_t,viewportColumns:ke(et),lastFrozenColumnIndex:Yt,selectedCellIdx:ct?It.idx:void 0,isTop:!1,selectCell:Tp},De)})]})]}),ye(),WDe(go),dS&&u.jsx("div",{ref:Qu,tabIndex:Xe?0:-1,className:ea(aPe,{[lPe]:!w(It.rowIdx),[zMe]:Xe,[WMe]:Xe&&Yt!==-1}),style:{gridRowStart:It.rowIdx+Cc+1}}),Pt!==null&&u.jsx(ePe,{scrollToPosition:Pt,setScrollToCellPosition:vt,gridRef:Jr})]})}function WG(t){return t.querySelector(':scope > [role="row"] > [tabindex="0"]')}function YG(t,e){return t.idx===e.idx&&t.rowIdx===e.rowIdx}var sg=y.forwardRef(EPe);function gPe({id:t,groupKey:e,childRows:r,isExpanded:n,isCellSelected:s,column:i,row:o,groupColumnIndex:a,isGroupByColumn:l,toggleGroup:c}){var E;const{tabIndex:d,childTabIndex:h,onFocus:m}=ng(s);function f(){c(t)}const p=l&&a===i.idx;return u.jsx("div",{role:"gridcell","aria-colindex":i.idx+1,"aria-selected":s,tabIndex:d,className:ZE(i),style:{...Gf(i),cursor:p?"pointer":"default"},onClick:p?f:void 0,onFocus:m,children:(!l||p)&&((E=i.renderGroupCell)==null?void 0:E.call(i,{groupKey:e,childRows:r,column:i,row:o,isExpanded:n,tabIndex:h,toggleGroup:f}))},i.key)}var TPe=y.memo(gPe);const SPe="rdg-group-row g1yxluv37-0-0-beta-47";function vPe({className:t,row:e,rowIdx:r,viewportColumns:n,selectedCellIdx:s,isRowSelected:i,selectCell:o,gridRowStart:a,groupBy:l,toggleGroup:c,isRowSelectionDisabled:d,...h}){const m=n[0].key===Vf?e.level+1:e.level;function f(){o({rowIdx:r,idx:-1})}const p=y.useMemo(()=>({isRowSelectionDisabled:!1,isRowSelected:i}),[i]);return u.jsx(DG,{value:p,children:u.jsx("div",{role:"row","aria-level":e.level+1,"aria-setsize":e.setSize,"aria-posinset":e.posInSet+1,"aria-expanded":e.isExpanded,className:ea(V_,SPe,`rdg-row-${r%2===0?"even":"odd"}`,s===-1&&Cy,t),onClick:f,style:$_(a),...h,children:n.map(E=>u.jsx(TPe,{id:e.id,groupKey:e.groupKey,childRows:e.childRows,isExpanded:e.isExpanded,isCellSelected:s===E.idx,column:E,row:e,groupColumnIndex:m,toggleGroup:c,isGroupByColumn:l.includes(E.key)},E.key))})})}var yPe=y.memo(vPe);function APe({columns:t,rows:e,rowHeight:r,rowKeyGetter:n,onCellKeyDown:s,onRowsChange:i,selectedRows:o,onSelectedRowsChange:a,renderers:l,groupBy:c,rowGrouper:d,expandedGroupIds:h,onExpandedGroupIdsChange:m,...f},p){var K,B,X;const E=rg(),g=(l==null?void 0:l.renderRow)??(E==null?void 0:E.renderRow)??VG,T=1+(((K=f.topSummaryRows)==null?void 0:K.length)??0),S=f.direction==="rtl",v=S?"ArrowRight":"ArrowLeft",N=S?"ArrowLeft":"ArrowRight",C=ki(V),{columns:x,groupBy:A}=y.useMemo(()=>{const J=[...t].sort(({key:Ee},{key:se})=>Ee===Vf?-1:se===Vf?1:c.includes(Ee)?c.includes(se)?c.indexOf(Ee)-c.indexOf(se):-1:c.includes(se)?1:0),Z=[];for(const[Ee,se]of J.entries())c.includes(se.key)&&(Z.push(se.key),J[Ee]={...se,frozen:!0,renderCell:()=>null,renderGroupCell:se.renderGroupCell??iMe,editable:!1});return{columns:J,groupBy:Z}},[t,c]),[b,_]=y.useMemo(()=>{if(A.length===0)return[void 0,e.length];const J=(Z,[Ee,...se],ie)=>{let Te=0;const ve={};for(const[_e,fe]of Object.entries(d(Z,Ee))){const[je,H]=se.length===0?[fe,fe.length]:J(fe,se,ie+Te+1);ve[_e]={childRows:fe,childGroups:je,startRowIndex:ie+Te},Te+=H+1}return[ve,Te]};return J(e,A,0)},[A,d,e]),[U,j]=y.useMemo(()=>{const J=new Set;if(!b)return[e,se];const Z=[],Ee=(ie,Te,ve)=>{if(RPe(ie)){Z.push(...ie);return}Object.keys(ie).forEach((_e,fe,je)=>{const H=Te!==void 0?`${Te}__${_e}`:_e,Ce=h.has(H),{childRows:be,childGroups:ce,startRowIndex:Q}=ie[_e],Ae={id:H,parentId:Te,groupKey:_e,isExpanded:Ce,childRows:be,level:ve,posInSet:fe,startRowIndex:Q,setSize:je.length};Z.push(Ae),J.add(Ae),Ce&&Ee(ce,H,ve+1)})};return Ee(b,void 0,0),[Z,se];function se(ie){return J.has(ie)}},[h,b,e]),L=y.useMemo(()=>typeof r=="function"?J=>j(J)?r({type:"GROUP",row:J}):r({type:"ROW",row:J}):r,[j,r]),P=y.useCallback(J=>{const Z=U.indexOf(J);for(let Ee=Z-1;Ee>=0;Ee--){const se=U[Ee];if(j(se)&&(!j(J)||J.parentId===se.id))return[se,Ee]}},[j,U]),I=y.useCallback(J=>{if(j(J))return J.id;if(typeof n=="function")return n(J);const Z=P(J);if(Z!==void 0){const{startRowIndex:Ee,childRows:se}=Z[0],ie=se.indexOf(J);return Ee+ie+1}return U.indexOf(J)},[P,j,n,U]),F=y.useMemo(()=>{if(o==null)return null;tg(n);const J=new Set(o);for(const Z of U)j(Z)&&Z.childRows.every(se=>o.has(n(se)))&&J.add(Z.id);return J},[j,n,o,U]);function W(J){if(!a)return;tg(n);const Z=new Set(o);for(const Ee of U){const se=I(Ee);if(F!=null&&F.has(se)&&!J.has(se))if(j(Ee))for(const ie of Ee.childRows)Z.delete(n(ie));else Z.delete(se);else if(!(F!=null&&F.has(se))&&J.has(se))if(j(Ee))for(const ie of Ee.childRows)Z.add(n(ie));else Z.add(se)}a(Z)}function Y(J,Z){if(s==null||s(J,Z),Z.isGridDefaultPrevented()||J.mode==="EDIT")return;const{column:Ee,rowIdx:se,selectCell:ie}=J,Te=(Ee==null?void 0:Ee.idx)??-1,ve=U[se];if(j(ve)){if(Te===-1&&(Z.key===v&&ve.isExpanded||Z.key===N&&!ve.isExpanded)&&(Z.preventDefault(),Z.preventGridDefault(),V(ve.id)),Te===-1&&Z.key===v&&!ve.isExpanded&&ve.level!==0){const _e=P(ve);_e!==void 0&&(Z.preventGridDefault(),ie({idx:Te,rowIdx:_e[1]}))}H_(Z)&&(Z.keyCode===67||Z.keyCode===86)&&Z.preventGridDefault()}}function k(J,{indexes:Z,column:Ee}){if(!i)return;const se=[...e],ie=[];for(const Te of Z){const ve=e.indexOf(U[Te]);se[ve]=J[Te],ie.push(ve)}i(se,{indexes:ie,column:Ee})}function V(J){const Z=new Set(h);Z.has(J)?Z.delete(J):Z.add(J),m(Z)}function re(J,{row:Z,rowClass:Ee,onCellClick:se,onCellDoubleClick:ie,onCellContextMenu:Te,onRowChange:ve,lastFrozenColumnIndex:_e,copiedCellIdx:fe,draggedOverCellIdx:je,setDraggedOverRowIdx:H,selectedCellEditor:Ce,...be}){if(j(Z)){const{startRowIndex:Ae}=Z;return u.jsx(yPe,{...be,"aria-rowindex":T+Ae+1,row:Z,groupBy:A,toggleGroup:C},J)}let ce=be["aria-rowindex"];const Q=P(Z);if(Q!==void 0){const{startRowIndex:Ae,childRows:te}=Q[0],ae=te.indexOf(Z);ce=Ae+T+ae+2}return g(J,{...be,"aria-rowindex":ce,row:Z,rowClass:Ee,onCellClick:se,onCellDoubleClick:ie,onCellContextMenu:Te,onRowChange:ve,lastFrozenColumnIndex:_e,copiedCellIdx:fe,draggedOverCellIdx:je,setDraggedOverRowIdx:H,selectedCellEditor:Ce})}return u.jsx(sg,{...f,role:"treegrid","aria-rowcount":_+1+(((B=f.topSummaryRows)==null?void 0:B.length)??0)+(((X=f.bottomSummaryRows)==null?void 0:X.length)??0),ref:p,columns:x,rows:U,rowHeight:L,rowKeyGetter:I,onRowsChange:k,selectedRows:F,onSelectedRowsChange:W,onCellKeyDown:Y,renderers:{...l,renderRow:re}})}function RPe(t){return Array.isArray(t)}y.forwardRef(APe);const W_=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,NPe=({row:t,column:e})=>{const r=y.useMemo(()=>e.key,[e.key]),n=y.useMemo(()=>t[r],[r,t]),s=y.useMemo(()=>{if(n===null)return u.jsx("span",{className:z("text-table-cell-text-muted"),children:"NULL"});if(typeof n=="object"&&"_type"in n&&n._type==="DEFAULT")return u.jsx("span",{className:z("text-muted-foreground"),children:"DEFAULT"});if(typeof n=="object"&&"_type"in n){if(n._type==="BINARY"){let i=String(n.value);return n.value===""?i="EMPTY STRING":n.value===null?i="NULL":typeof n.value=="object"?i=JSON.stringify(n.value):W_.test(n.value)&&(i=u.jsx("span",{className:z("text-muted-foreground"),children:"BINARY"})),u.jsx("span",{children:i})}}else if(typeof n=="object")return u.jsx("span",{children:JSON.stringify(n)});switch(n){case"":return u.jsx("span",{className:z("text-muted-foreground")});case!0:case!1:return u.jsx("span",{children:String(n).toUpperCase()});default:return u.jsx("span",{children:String(n)})}},[n]);return u.jsx("div",{className:z("cell-content h-full content-center truncate px-2"),children:s})},qG=({sql:t,rows:e,error:r})=>{const n=y.useMemo(()=>{const s=e==null?void 0:e[0];return s?Object.keys(s).map(i=>({key:i,name:i,resizable:!0,sortable:!0,minWidth:200,width:200})):[]},[e]);return u.jsxs("div",{className:"overflow-hidden rounded-md border",children:[u.jsx("div",{className:"max-h-[30rem] overflow-auto",children:u.jsx("pre",{children:u.jsx("code",{className:"!bg-muted hljs",dangerouslySetInnerHTML:{__html:Fl(t)}})})}),e&&u.jsx(sg,{columns:n,rows:e,headerRowHeight:kr(2),rowHeight:kr(2),defaultColumnOptions:{renderCell:NPe},renderers:{noRowsFallback:u.jsx("div",{className:"text-muted-foreground absolute flex h-full w-full flex-col items-center justify-center font-mono tracking-tight",children:u.jsx("div",{children:"No rows"})})},className:z("fill-grid max-h-[40rem] min-h-[6.25rem] overscroll-x-none rounded-b-md border-t"),rowClass:()=>"main-rdg-row"}),r&&u.jsxs("div",{className:z("w-full border-t py-3"),children:[u.jsx("div",{className:"mb-2 px-3 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-3",children:r.message})]})]})},bPe=({error:t})=>u.jsxs("div",{children:[u.jsx("div",{className:"mb-4 mt-14",children:t.message}),t.stack&&u.jsx("div",{className:z("max-h-[30rem] overflow-auto rounded-md border"),children:u.jsx("pre",{children:u.jsx("code",{className:"!bg-muted hljs",children:t.stack})})})]}),CPe=({error:t})=>{var r;const e=it(({dialect:n})=>{if(!n)throw new Error("Dialect not found");return n});return u.jsxs("div",{children:[u.jsxs("div",{className:"mb-4 mt-14 space-x-2",children:[u.jsx("span",{children:t.message}),((r=t.query)==null?void 0:r.database)&&u.jsx("span",{className:"bg-muted rounded-md p-1 text-sm",children:u.jsxs("code",{children:["database: ",t.query.database]})})]}),t.query&&u.jsxs("div",{children:[u.jsx("div",{className:"max-h-[30rem] overflow-auto rounded-t-md border",children:u.jsx("pre",{children:u.jsx("code",{className:"!bg-muted hljs",dangerouslySetInnerHTML:{__html:Fl(Ps(t.query.sql,e))}})})}),u.jsx("div",{className:"max-h-[30rem] overflow-auto border border-y-0",children:u.jsx("pre",{children:u.jsx("code",{className:"!bg-muted hljs",dangerouslySetInnerHTML:{__html:Fl(JSON.stringify({sql:t.query.sql,params:t.query.params,options:t.query.options},null,2))}})})}),u.jsx("div",{className:"max-h-[30rem] overflow-auto rounded-b-md border",children:u.jsx("pre",{children:u.jsx("code",{className:"!bg-muted hljs",dangerouslySetInnerHTML:{__html:Fl(JSON.stringify(t.query.result,null,2))}})})})]})]})},xPe=({type:t,onClose:e})=>({error:r,context:n,eventId:s,resetError:i})=>{const[o,a]=y.useState(!1),l=y.useMemo(()=>{if(!n.schemaFiles)return"";let d=`..
`;const h=n.schemaFiles.length-1;return n.schemaFiles.forEach(({name:m},f)=>{f===h?d+=` ${m}
`:d+=` ${m}
`}),d},[n.schemaFiles]),c=y.useCallback(()=>{J8(r,n)},[]);return u.jsx("div",{className:"flex h-full flex-col items-center justify-center overflow-auto px-20",children:u.jsxs("div",{className:"h-full w-full",children:[u.jsx("div",{className:"h-[3.75rem]"}),u.jsxs("div",{className:"bg-background sticky top-0 flex border-b py-5",children:[e&&u.jsx("div",{className:"flex items-center",children:u.jsxs(Le,{variant:"outline",size:"sm",className:"p-0 pl-1 pr-4 text-xs uppercase",onClick:()=>{e(),i()},children:[u.jsx("div",{className:"flex w-9 justify-center",children:u.jsx(xO,{className:"h-5 w-5"})}),u.jsx("span",{children:"Cancel"})]})}),u.jsxs("div",{className:"w-full",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"font-semibold",children:"Unexpected error happened "}),t==="external"]}),t==="external",u.jsx("p",{className:"text-sm",children:"Please download error context and report to our support team"})]}),u.jsx("div",{className:"ml-auto flex items-center space-x-3",children:u.jsx(Le,{variant:"outline",onClick:c,children:"Download Error Context"})})]}),u.jsx("div",{className:"px-auto grow overflow-auto",children:u.jsxs("div",{className:"mx-auto first:mt-14",children:[r instanceof cd?u.jsx(CPe,{error:r}):u.jsx(bPe,{error:r}),u.jsxs(u.Fragment,{children:[n.schemaFiles&&n.schemaFiles.length>0&&u.jsx("pre",{className:"bg-muted mt-14 rounded-md p-4 font-mono",children:u.jsx("code",{children:l})}),n.localStorage&&Object.keys(n.localStorage).length>0&&u.jsx("div",{className:"mt-14 max-h-[30rem] overflow-auto rounded-md border",children:u.jsx("pre",{children:u.jsx("code",{className:"!bg-muted hljs",dangerouslySetInnerHTML:{__html:Fl(JSON.stringify(n.localStorage,null,2))}})})}),n.databaseMetadata&&n.databaseMetadata.length>0&&u.jsx("div",{className:"mt-14 space-y-6",children:n.databaseMetadata.map((d,h)=>u.jsx(qG,{...d},h))})]}),u.jsx("div",{className:"from-background sticky bottom-0 !mt-10 h-4 bg-gradient-to-t"})]})})]})})},wPe=`@layer rdg{@layer Defaults,FocusSink,CheckboxInput,CheckboxIcon,CheckboxLabel,Cell,HeaderCell,SummaryCell,EditCell,Row,HeaderRow,SummaryRow,GroupedRow,Root;}@layer rdg.MeasuringCell{.mlln6zg7-0-0-beta-47{contain:strict;grid-row:1;visibility:hidden}}@layer rdg.Cell{.cj343x07-0-0-beta-47{position:relative;padding-block:0;padding-inline:8px;border-inline-end:1px solid var(--rdg-border-color);border-block-end:1px solid var(--rdg-border-color);grid-row-start:var(--rdg-grid-row-start);align-content:center;background-color:inherit;white-space:nowrap;overflow:clip;text-overflow:ellipsis;outline:none;overflow:visible}.cj343x07-0-0-beta-47[aria-selected=true]{background-color:var(--rdg-selection-background-color)}.cj343x07-0-0-beta-47[selected-top-border=true]:before,.cj343x07-0-0-beta-47[selected-left-border=true]:before,.cj343x07-0-0-beta-47[selected-bottom-border=true]:before,.cj343x07-0-0-beta-47[selected-right-border=true]:before{content:"";position:absolute;top:-1px;right:-1px;bottom:-1px;left:-1px;pointer-events:none}.cj343x07-0-0-beta-47[selected-top-border=true]:before{border-top-color:var(--rdg-selection-border-color);border-top-width:2px;border-top-style:solid}.cj343x07-0-0-beta-47[selected-left-border=true]:before{border-left-color:var(--rdg-selection-border-color);border-left-width:2px;border-left-style:solid}.cj343x07-0-0-beta-47[selected-bottom-border=true]:before{border-bottom-color:var(--rdg-selection-border-color);border-bottom-width:2px;border-bottom-style:solid}.cj343x07-0-0-beta-47[selected-right-border=true]:before{border-right-color:var(--rdg-selection-border-color);border-right-width:2px;border-right-style:solid}}@layer rdg.Cell{.csofj7r7-0-0-beta-47{position:sticky;z-index:1}.csofj7r7-0-0-beta-47:nth-last-child(1 of.csofj7r7-0-0-beta-47){box-shadow:var(--rdg-cell-frozen-box-shadow)}}@layer rdg.CheckboxInput{.c1bn88vv7-0-0-beta-47{display:block;margin:auto;inline-size:20px;block-size:20px}.c1bn88vv7-0-0-beta-47:focus-visible{outline:2px solid var(--rdg-checkbox-focus-color);outline-offset:-3px}.c1bn88vv7-0-0-beta-47:enabled{cursor:pointer}}@layer rdg.GroupCellContent{.g1s9ylgp7-0-0-beta-47{outline:none}}@layer rdg.GroupCellCaret{.cz54e4y7-0-0-beta-47{margin-inline-start:4px;stroke:currentColor;stroke-width:1.5px;fill:transparent;vertical-align:middle}.cz54e4y7-0-0-beta-47>path{transition:d .1s}}@layer rdg.Cell{.c6ra8a37-0-0-beta-47{background-color:#ccf}}@layer rdg.Cell{.cq910m07-0-0-beta-47{background-color:#ccf}.cq910m07-0-0-beta-47.c6ra8a37-0-0-beta-47{background-color:#99f}}@layer rdg.DragHandle{.c1w9bbhr7-0-0-beta-47{--rdg-drag-handle-size: 8px;z-index:0;cursor:move;inline-size:var(--rdg-drag-handle-size);block-size:var(--rdg-drag-handle-size);background-color:var(--rdg-selection-border-color);place-self:end}.c1w9bbhr7-0-0-beta-47:hover{--rdg-drag-handle-size: 16px;border:2px solid var(--rdg-selection-border-color);background-color:var(--rdg-background-color)}}@layer rdg.DragHandle{.c1creorc7-0-0-beta-47{z-index:1;position:sticky}}@layer rdg.EditCell{.cis5rrm7-0-0-beta-47{padding:0}}@layer rdg.SortableHeaderCell{.h44jtk67-0-0-beta-47{display:flex}}@layer rdg.SortableHeaderCellName{.hcgkhxz7-0-0-beta-47{flex-grow:1;overflow:clip;text-overflow:ellipsis}}@layer rdg.HeaderCell{.c6l2wv17-0-0-beta-47{cursor:pointer}}@layer rdg.HeaderCell{.c1kqdw7y7-0-0-beta-47{touch-action:none}}@layer rdg.HeaderCell{.r1y6ywlx7-0-0-beta-47{cursor:col-resize;position:absolute;inset-block-start:0;inset-inline-end:0;inset-block-end:0;inline-size:10px}}.c1bezg5o7-0-0-beta-47{opacity:.5}.c1vc96037-0-0-beta-47{background-color:var(--rdg-header-draggable-background-color)}@layer rdg.Row{.r1upfr807-0-0-beta-47{display:contents;background-color:var(--rdg-background-color)}.r1upfr807-0-0-beta-47:hover{background-color:var(--rdg-row-hover-background-color)}.r1upfr807-0-0-beta-47[aria-selected=true]{background-color:var(--rdg-row-selected-background-color)}.r1upfr807-0-0-beta-47[aria-selected=true]:hover{background-color:var(--rdg-row-selected-hover-background-color)}}@layer rdg.FocusSink{.r190mhd37-0-0-beta-47{outline:2px solid var(--rdg-selection-border-color);outline-offset:-2px}}@layer rdg.FocusSink{.r139qu9m7-0-0-beta-47:before{content:"";display:inline-block;block-size:100%;position:sticky;inset-inline-start:0;border-inline-start:2px solid var(--rdg-selection-border-color)}}@layer rdg.HeaderRow{.h10tskcx7-0-0-beta-47{display:contents;background-color:var(--rdg-header-background-color);font-weight:700}.h10tskcx7-0-0-beta-47>.cj343x07-0-0-beta-47{z-index:2;position:sticky}.h10tskcx7-0-0-beta-47>.csofj7r7-0-0-beta-47{z-index:3}}@layer rdg.SortIcon{.a3ejtar7-0-0-beta-47{fill:currentColor}.a3ejtar7-0-0-beta-47>path{transition:d .1s}}@layer rdg.Defaults{.rnvodz57-0-0-beta-47 *,.rnvodz57-0-0-beta-47 *:before,.rnvodz57-0-0-beta-47 *:after{box-sizing:inherit}}@layer rdg.Root{.rnvodz57-0-0-beta-47{--rdg-color: #000;--rdg-border-color: #ddd;--rdg-summary-border-color: #aaa;--rdg-background-color: hsl(0deg 0% 100%);--rdg-header-background-color: hsl(0deg 0% 97.5%);--rdg-header-draggable-background-color: hsl(0deg 0% 90.5%);--rdg-row-hover-background-color: hsl(0deg 0% 96%);--rdg-row-selected-background-color: hsl(207deg 76% 92%);--rdg-row-selected-hover-background-color: hsl(207deg 76% 88%);--rdg-checkbox-focus-color: hsl(207deg 100% 69%);--rdg-selection-border-color: #66afe9;--rdg-selection-background-color: #66afe914;--rdg-font-size: 14px;--rdg-cell-frozen-box-shadow: 2px 0 5px -2px rgba(136, 136, 136, .3);display:grid;color-scheme:var(--rdg-color-scheme, light dark);accent-color:light-dark(hsl(207deg 100% 29%),hsl(207deg 100% 79%));contain:content;content-visibility:auto;block-size:350px;border:1px solid var(--rdg-border-color);box-sizing:border-box;overflow:auto;background-color:var(--rdg-background-color);color:var(--rdg-color);font-size:var(--rdg-font-size)}.rnvodz57-0-0-beta-47:dir(rtl){--rdg-cell-frozen-box-shadow: -2px 0 5px -2px rgba(136, 136, 136, .3)}.rnvodz57-0-0-beta-47:before{content:"";grid-column:1/-1;grid-row:1/-1}.rnvodz57-0-0-beta-47.rdg-dark{--rdg-color-scheme: dark;--rdg-color: #ddd;--rdg-border-color: #444;--rdg-summary-border-color: #555;--rdg-background-color: hsl(0deg 0% 13%);--rdg-header-background-color: hsl(0deg 0% 10.5%);--rdg-header-draggable-background-color: hsl(0deg 0% 17.5%);--rdg-row-hover-background-color: hsl(0deg 0% 9%);--rdg-row-selected-background-color: hsl(207deg 76% 42%);--rdg-row-selected-hover-background-color: hsl(207deg 76% 38%);--rdg-checkbox-focus-color: hsl(207deg 100% 89%)}.rnvodz57-0-0-beta-47.rdg-light{--rdg-color-scheme: light}@media (prefers-color-scheme: dark){.rnvodz57-0-0-beta-47:not(.rdg-light){--rdg-color: #ddd;--rdg-border-color: #444;--rdg-summary-border-color: #555;--rdg-background-color: hsl(0deg 0% 13%);--rdg-header-background-color: hsl(0deg 0% 10.5%);--rdg-header-draggable-background-color: hsl(0deg 0% 17.5%);--rdg-row-hover-background-color: hsl(0deg 0% 9%);--rdg-row-selected-background-color: hsl(207deg 76% 42%);--rdg-row-selected-hover-background-color: hsl(207deg 76% 38%);--rdg-checkbox-focus-color: hsl(207deg 100% 89%)}}.rnvodz57-0-0-beta-47>:nth-last-child(1 of.rdg-top-summary-row)>.cj343x07-0-0-beta-47{border-block-end:2px solid var(--rdg-summary-border-color)}.rnvodz57-0-0-beta-47>:nth-child(1 of.rdg-bottom-summary-row)>.cj343x07-0-0-beta-47{border-block-start:2px solid var(--rdg-summary-border-color)}}@layer rdg.Root{.vlqv91k7-0-0-beta-47{-webkit-user-select:none;-moz-user-select:none;user-select:none}.vlqv91k7-0-0-beta-47 .r1upfr807-0-0-beta-47{cursor:move}}@layer rdg.FocusSink{.f1lsfrzw7-0-0-beta-47{grid-column:1/-1;pointer-events:none;z-index:1}}@layer rdg.FocusSink{.f1cte0lg7-0-0-beta-47{z-index:3}}@layer rdg.SummaryCell{.s8wc6fl7-0-0-beta-47{inset-block-start:var(--rdg-summary-row-top);inset-block-end:var(--rdg-summary-row-bottom)}}@layer rdg.SummaryRow{.skuhp557-0-0-beta-47>.cj343x07-0-0-beta-47{position:sticky}}@layer rdg.SummaryRow{.tf8l5ub7-0-0-beta-47>.cj343x07-0-0-beta-47{z-index:2}.tf8l5ub7-0-0-beta-47>.csofj7r7-0-0-beta-47{z-index:3}}@layer rdg.GroupedRow{.g1yxluv37-0-0-beta-47:not([aria-selected=true]){background-color:var(--rdg-header-background-color)}.g1yxluv37-0-0-beta-47>.cj343x07-0-0-beta-47:not(:last-child,.csofj7r7-0-0-beta-47),.g1yxluv37-0-0-beta-47>:nth-last-child(n+2 of.csofj7r7-0-0-beta-47){border-inline-end:none}}@layer rdg.TextEditor{.t7vyx3i7-0-0-beta-47{-webkit-appearance:none;-moz-appearance:none;appearance:none;box-sizing:border-box;inline-size:100%;block-size:100%;padding-block:0;padding-inline:6px;border:2px solid #ccc;vertical-align:top;color:var(--rdg-color);background-color:var(--rdg-background-color);font-family:inherit;font-size:var(--rdg-font-size)}.t7vyx3i7-0-0-beta-47:focus{border-color:var(--rdg-selection-border-color);outline:none}.t7vyx3i7-0-0-beta-47::-moz-placeholder{color:#999;opacity:1}.t7vyx3i7-0-0-beta-47::placeholder{color:#999;opacity:1}}pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: GitHub
  Description: Light theme as seen on github.com
  Author: github.com
  Maintainer: @Hirse
  Updated: 2021-05-15

  Outdated base version: https://github.com/primer/github-syntax-light
  Current colors taken from GitHub's CSS
*/.hljs{color:#24292e;background:#fff}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#d73a49}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#6f42c1}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#005cc5}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#032f62}.hljs-built_in,.hljs-symbol{color:#e36209}.hljs-code,.hljs-comment,.hljs-formula{color:#6a737d}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#22863a}.hljs-subst{color:#24292e}.hljs-section{color:#005cc5;font-weight:700}.hljs-bullet{color:#735c0f}.hljs-emphasis{color:#24292e;font-style:italic}.hljs-strong{color:#24292e;font-weight:700}.hljs-addition{color:#22863a;background-color:#f0fff4}.hljs-deletion{color:#b31d28;background-color:#ffeef0}.container{width:100%;margin-right:auto;margin-left:auto;padding-right:2rem;padding-left:2rem}@media (min-width: 1400px){.container{max-width:1400px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.\\!visible{visibility:visible!important}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.inset-x-0{left:0;right:0}.inset-y-0{top:0;bottom:0}.\\!top-0{top:0!important}.-right-1\\.5{right:-.375rem}.-right-2\\.5{right:-.625rem}.-top-1\\.5{top:-.375rem}.-top-10{top:-2.5rem}.-top-2\\.5{top:-.625rem}.-top-9{top:-2.25rem}.bottom-0{bottom:0}.bottom-2{bottom:.5rem}.left-0{left:0}.left-2{left:.5rem}.left-3{left:.75rem}.left-\\[-0\\.25rem\\]{left:-.25rem}.left-full{left:100%}.right-0{right:0}.right-1{right:.25rem}.right-2{right:.5rem}.right-3{right:.75rem}.right-4{right:1rem}.right-\\[-0\\.25rem\\]{right:-.25rem}.right-full{right:100%}.top-0{top:0}.top-1{top:.25rem}.top-1\\/2{top:50%}.top-2{top:.5rem}.top-3{top:.75rem}.top-4{top:1rem}.top-\\[-5\\.75rem\\]{top:-5.75rem}.top-\\[60\\%\\]{top:60%}.top-full{top:100%}.top-px{top:1px}.isolate{isolation:isolate}.z-10{z-index:10}.z-50{z-index:50}.z-\\[1\\]{z-index:1}.z-\\[2\\]{z-index:2}.z-popover{z-index:var(--z-index-popover, 100)}.col-span-2{grid-column:span 2 / span 2}.col-span-4{grid-column:span 4 / span 4}.\\!m-0{margin:0!important}.m-0{margin:0}.m-1{margin:.25rem}.m-12{margin:3rem}.m-3{margin:.75rem}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-10{margin-left:2.5rem;margin-right:2.5rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-6{margin-left:1.5rem;margin-right:1.5rem}.mx-auto{margin-left:auto;margin-right:auto}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-10{margin-top:2.5rem;margin-bottom:2.5rem}.my-2{margin-top:.5rem;margin-bottom:.5rem}.my-3{margin-top:.75rem;margin-bottom:.75rem}.my-6{margin-top:1.5rem;margin-bottom:1.5rem}.\\!ml-auto{margin-left:auto!important}.\\!mt-0{margin-top:0!important}.\\!mt-10{margin-top:2.5rem!important}.\\!mt-5{margin-top:1.25rem!important}.-ml-px{margin-left:-1px}.-mr-px{margin-right:-1px}.-mt-2{margin-top:-.5rem}.-mt-px{margin-top:-1px}.mb-1{margin-bottom:.25rem}.mb-1\\.5{margin-bottom:.375rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.mb-\\[0\\.3125rem\\]{margin-bottom:.3125rem}.ml-1{margin-left:.25rem}.ml-1\\.5{margin-left:.375rem}.ml-2{margin-left:.5rem}.ml-3{margin-left:.75rem}.ml-4{margin-left:1rem}.ml-6{margin-left:1.5rem}.ml-\\[-1px\\]{margin-left:-1px}.ml-\\[-53\\%\\]{margin-left:-53%}.ml-\\[4\\.0625rem\\]{margin-left:4.0625rem}.ml-auto{margin-left:auto}.ml-px{margin-left:1px}.mr-1{margin-right:.25rem}.mr-1\\.5{margin-right:.375rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mr-4{margin-right:1rem}.mr-\\[-0\\.3rem\\]{margin-right:-.3rem}.mr-px{margin-right:1px}.mt-0{margin-top:0}.mt-0\\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-1\\.5{margin-top:.375rem}.mt-10{margin-top:2.5rem}.mt-12{margin-top:3rem}.mt-14{margin-top:3.5rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-6{margin-top:1.5rem}.mt-\\[-1px\\]{margin-top:-1px}.mt-\\[-35\\%\\]{margin-top:-35%}.mt-\\[2\\.9375rem\\]{margin-top:2.9375rem}.mt-\\[3\\.125rem\\]{margin-top:3.125rem}.mt-\\[9\\.25rem\\]{margin-top:9.25rem}.mt-auto{margin-top:auto}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.table-row{display:table-row}.grid{display:grid}.contents{display:contents}.\\!hidden{display:none!important}.hidden{display:none}.aspect-video{aspect-ratio:16 / 9}.\\!size-3\\.5{width:.875rem!important;height:.875rem!important}.\\!size-4{width:1rem!important;height:1rem!important}.size-12{width:3rem;height:3rem}.size-2{width:.5rem;height:.5rem}.size-2\\.5{width:.625rem;height:.625rem}.size-3{width:.75rem;height:.75rem}.size-3\\.5{width:.875rem;height:.875rem}.size-4{width:1rem;height:1rem}.size-5{width:1.25rem;height:1.25rem}.size-6{width:1.5rem;height:1.5rem}.size-7{width:1.75rem;height:1.75rem}.size-8{width:2rem;height:2rem}.size-9{width:2.25rem;height:2.25rem}.size-\\[0\\.8125rem\\]{width:.8125rem;height:.8125rem}.size-\\[0\\.9375rem\\]{width:.9375rem;height:.9375rem}.size-\\[1\\.0625rem\\]{width:1.0625rem;height:1.0625rem}.size-\\[1\\.1875rem\\]{width:1.1875rem;height:1.1875rem}.size-\\[12px\\]{width:12px;height:12px}.size-\\[48px\\]{width:48px;height:48px}.size-full{width:100%;height:100%}.\\!h-\\[calc\\(100\\%-6rem\\)\\]{height:calc(100% - 6rem)!important}.\\!h-fit{height:-moz-fit-content!important;height:fit-content!important}.h-0\\.5{height:.125rem}.h-1{height:.25rem}.h-1\\.5{height:.375rem}.h-1\\/2{height:50%}.h-10{height:2.5rem}.h-11{height:2.75rem}.h-2{height:.5rem}.h-2\\.5{height:.625rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-9{height:2.25rem}.h-\\[1\\.125rem\\]{height:1.125rem}.h-\\[1\\.875rem\\]{height:1.875rem}.h-\\[12\\.25rem\\]{height:12.25rem}.h-\\[16\\.75rem\\]{height:16.75rem}.h-\\[18\\.75rem\\]{height:18.75rem}.h-\\[2\\.125rem\\]{height:2.125rem}.h-\\[2\\.375rem\\]{height:2.375rem}.h-\\[21\\.875rem\\]{height:21.875rem}.h-\\[22\\.5rem\\]{height:22.5rem}.h-\\[250\\%\\]{height:250%}.h-\\[3\\.75rem\\]{height:3.75rem}.h-\\[32px\\]{height:32px}.h-\\[7\\.625rem\\]{height:7.625rem}.h-\\[70cqh\\]{height:70cqh}.h-\\[var\\(--radix-navigation-menu-viewport-height\\)\\]{height:var(--radix-navigation-menu-viewport-height)}.h-\\[var\\(--radix-select-trigger-height\\)\\]{height:var(--radix-select-trigger-height)}.h-fit{height:-moz-fit-content;height:fit-content}.h-full{height:100%}.h-px{height:1px}.h-screen{height:100vh}.max-h-3\\.5{max-height:.875rem}.max-h-\\[18\\.75rem\\]{max-height:18.75rem}.max-h-\\[28\\.125rem\\]{max-height:28.125rem}.max-h-\\[30rem\\]{max-height:30rem}.max-h-\\[37\\.5rem\\]{max-height:37.5rem}.max-h-\\[40rem\\]{max-height:40rem}.max-h-\\[90\\%\\]{max-height:90%}.max-h-full{max-height:100%}.max-h-max{max-height:-moz-max-content;max-height:max-content}.max-h-screen{max-height:100vh}.min-h-0{min-height:0px}.min-h-\\[0\\]{min-height:0}.min-h-\\[10\\.5rem\\]{min-height:10.5rem}.min-h-\\[12\\.3125rem\\]{min-height:12.3125rem}.min-h-\\[18\\.75rem\\]{min-height:18.75rem}.min-h-\\[2\\.25rem\\]{min-height:2.25rem}.min-h-\\[2\\.75rem\\]{min-height:2.75rem}.min-h-\\[30rem\\]{min-height:30rem}.min-h-\\[34\\.5rem\\]{min-height:34.5rem}.min-h-\\[6\\.25rem\\]{min-height:6.25rem}.\\!w-8{width:2rem!important}.\\!w-full{width:100%!important}.w-0{width:0px}.w-1{width:.25rem}.w-1\\/2{width:50%}.w-16{width:4rem}.w-2{width:.5rem}.w-2\\.5{width:.625rem}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-3\\/4{width:75%}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-7{width:1.75rem}.w-72{width:18rem}.w-8{width:2rem}.w-9{width:2.25rem}.w-\\[1\\.125rem\\]{width:1.125rem}.w-\\[1\\.3125rem\\]{width:1.3125rem}.w-\\[1\\.5625rem\\]{width:1.5625rem}.w-\\[10\\.5rem\\]{width:10.5rem}.w-\\[11\\.25rem\\]{width:11.25rem}.w-\\[12\\.25rem\\]{width:12.25rem}.w-\\[12\\.5rem\\]{width:12.5rem}.w-\\[12\\.8125rem\\]{width:12.8125rem}.w-\\[13\\.5625rem\\]{width:13.5625rem}.w-\\[15\\.625rem\\]{width:15.625rem}.w-\\[18\\.75rem\\]{width:18.75rem}.w-\\[2\\.125rem\\]{width:2.125rem}.w-\\[210\\%\\]{width:210%}.w-\\[22\\.5rem\\]{width:22.5rem}.w-\\[25rem\\]{width:25rem}.w-\\[3\\.125rem\\]{width:3.125rem}.w-\\[3\\.75rem\\]{width:3.75rem}.w-\\[30\\%\\]{width:30%}.w-\\[30\\.75rem\\]{width:30.75rem}.w-\\[30rem\\]{width:30rem}.w-\\[31\\.25rem\\]{width:31.25rem}.w-\\[37\\.5rem\\]{width:37.5rem}.w-\\[40\\.625rem\\]{width:40.625rem}.w-\\[6\\.375rem\\]{width:6.375rem}.w-\\[7\\.5rem\\]{width:7.5rem}.w-\\[70\\%\\]{width:70%}.w-\\[calc\\(3ch\\+18px\\)\\]{width:calc(3ch + 18px)}.w-fit{width:-moz-fit-content;width:fit-content}.w-full{width:100%}.w-max{width:-moz-max-content;width:max-content}.w-px{width:1px}.w-screen{width:100vw}.\\!min-w-\\[2rem\\]{min-width:2rem!important}.min-w-\\[0\\.0625rem\\]{min-width:.0625rem}.min-w-\\[0\\.875rem\\]{min-width:.875rem}.min-w-\\[0\\]{min-width:0}.min-w-\\[1\\.25rem\\]{min-width:1.25rem}.min-w-\\[1\\.5625rem\\]{min-width:1.5625rem}.min-w-\\[10rem\\]{min-width:10rem}.min-w-\\[11\\.25rem\\]{min-width:11.25rem}.min-w-\\[12\\.25rem\\]{min-width:12.25rem}.min-w-\\[12\\.5rem\\]{min-width:12.5rem}.min-w-\\[12rem\\]{min-width:12rem}.min-w-\\[13\\.75rem\\]{min-width:13.75rem}.min-w-\\[1rem\\]{min-width:1rem}.min-w-\\[2\\.25rem\\]{min-width:2.25rem}.min-w-\\[25rem\\]{min-width:25rem}.min-w-\\[2rem\\]{min-width:2rem}.min-w-\\[3\\.75rem\\]{min-width:3.75rem}.min-w-\\[30\\.125rem\\]{min-width:30.125rem}.min-w-\\[41\\.25rem\\]{min-width:41.25rem}.min-w-\\[6\\.875rem\\]{min-width:6.875rem}.min-w-\\[7\\.5rem\\]{min-width:7.5rem}.min-w-\\[8\\.96875rem\\]{min-width:8.96875rem}.min-w-\\[8rem\\]{min-width:8rem}.min-w-\\[var\\(--radix-popover-trigger-width\\)\\]{min-width:var(--radix-popover-trigger-width)}.min-w-\\[var\\(--radix-select-trigger-width\\)\\]{min-width:var(--radix-select-trigger-width)}.max-w-\\[0\\.875rem\\]{max-width:.875rem}.max-w-\\[18\\.75rem\\]{max-width:18.75rem}.max-w-\\[25rem\\]{max-width:25rem}.max-w-\\[37\\.5rem\\]{max-width:37.5rem}.max-w-\\[56\\.25rem\\]{max-width:56.25rem}.max-w-\\[5ch\\]{max-width:5ch}.max-w-\\[calc\\(100\\%-33px\\)\\]{max-width:calc(100% - 33px)}.flex-1{flex:1 1 0%}.shrink-0{flex-shrink:0}.grow{flex-grow:1}.table-auto{table-layout:auto}.origin-center{transform-origin:center}.origin-top-left{transform-origin:top left}.-translate-x-1\\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-1\\/2{--tw-translate-y: 50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-1\\/4{--tw-translate-y: 25%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate: 45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-75{--tw-scale-x: .75;--tw-scale-y: .75;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-\\[50\\%\\]{--tw-scale-x: 50%;--tw-scale-y: 50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-x-0{--tw-scale-x: 0;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\!animate-none{animation:none!important}.animate-\\[spin_2s_linear_infinite\\]{animation:spin 2s linear infinite}@keyframes delayedPointerEvents{0%{pointer-events:none}to{pointer-events:auto}}.animate-delayPointerEvents{animation:delayedPointerEvents 0ms .2s ease forwards}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.animate-fadeIn{animation:fadeIn .3s ease-in}@keyframes fadeInBlur{0%{-webkit-backdrop-filter:blur(0px);backdrop-filter:blur(0px)}to{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}}.animate-fadeInBlur{animation:fadeInBlur .3s ease-in}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.animate-fadeOut{animation:fadeOut .3s ease-out}@keyframes fadeOutBlur{0%{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}to{-webkit-backdrop-filter:blur(0px);backdrop-filter:blur(0px)}}.animate-fadeOutBlur{animation:fadeOutBlur .3s ease-out}.animate-none{animation:none}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.\\!cursor-move{cursor:move!important}.cursor-col-resize{cursor:col-resize}.cursor-default{cursor:default}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize{resize:both}.list-disc{list-style-type:disc}.list-none{list-style-type:none}.auto-cols-max{grid-auto-columns:max-content}.grid-flow-col{grid-auto-flow:column}.auto-rows-min{grid-auto-rows:min-content}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.grid-cols-\\[1fr_auto\\]{grid-template-columns:1fr auto}.grid-cols-\\[auto_1fr\\]{grid-template-columns:auto 1fr}.grid-cols-subgrid{grid-template-columns:subgrid}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.place-items-center{place-items:center}.content-center{align-content:center}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.\\!justify-start{justify-content:flex-start!important}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-0{gap:0px}.gap-0\\.5{gap:.125rem}.gap-1{gap:.25rem}.gap-12{gap:3rem}.gap-2{gap:.5rem}.gap-2\\.5{gap:.625rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-5{gap:1.25rem}.gap-6{gap:1.5rem}.gap-y-1{row-gap:.25rem}.gap-y-2{row-gap:.5rem}.gap-y-4{row-gap:1rem}.space-x-0>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(0px * var(--tw-space-x-reverse));margin-left:calc(0px * calc(1 - var(--tw-space-x-reverse)))}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-3>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-0\\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.125rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.125rem * var(--tw-space-y-reverse))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-1\\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.375rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.375rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-2\\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.625rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.625rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.justify-self-end{justify-self:end}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-visible{overflow:visible}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overscroll-contain{overscroll-behavior:contain}.overscroll-x-none{overscroll-behavior-x:none}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.\\!rounded{border-radius:.25rem!important}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-\\[inherit\\]{border-radius:inherit}.rounded-\\[var\\(--radius\\)\\]{border-radius:var(--radius)}.rounded-checkbox{border-radius:var(--checkbox-radius, 2px)}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:var(--radius, .5rem)}.rounded-md{border-radius:calc(var(--radius, .5rem) - 2px)}.rounded-none{border-radius:0}.rounded-sm{border-radius:calc(var(--radius, .5rem) - 4px)}.rounded-b-\\[0\\.375rem\\]{border-bottom-right-radius:.375rem;border-bottom-left-radius:.375rem}.rounded-b-lg{border-bottom-right-radius:var(--radius, .5rem);border-bottom-left-radius:var(--radius, .5rem)}.rounded-b-md{border-bottom-right-radius:calc(var(--radius, .5rem) - 2px);border-bottom-left-radius:calc(var(--radius, .5rem) - 2px)}.rounded-e-md{border-start-end-radius:calc(var(--radius, .5rem) - 2px);border-end-end-radius:calc(var(--radius, .5rem) - 2px)}.rounded-l-none{border-top-left-radius:0;border-bottom-left-radius:0}.rounded-r-none{border-top-right-radius:0;border-bottom-right-radius:0}.rounded-s-md{border-start-start-radius:calc(var(--radius, .5rem) - 2px);border-end-start-radius:calc(var(--radius, .5rem) - 2px)}.rounded-t-\\[0\\.375rem\\]{border-top-left-radius:.375rem;border-top-right-radius:.375rem}.rounded-t-md{border-top-left-radius:calc(var(--radius, .5rem) - 2px);border-top-right-radius:calc(var(--radius, .5rem) - 2px)}.rounded-tl-2xl{border-top-left-radius:1rem}.rounded-tl-sm{border-top-left-radius:calc(var(--radius, .5rem) - 4px)}.border{border-width:1px}.border-0{border-width:0px}.border-2{border-width:2px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-y-0{border-top-width:0px;border-bottom-width:0px}.border-b{border-bottom-width:1px}.border-b-0{border-bottom-width:0px}.border-l{border-left-width:1px}.border-l-0{border-left-width:0px}.border-l-4{border-left-width:4px}.border-r{border-right-width:1px}.border-r-0{border-right-width:0px}.border-t{border-top-width:1px}.border-t-0{border-top-width:0px}.border-dashed{border-style:dashed}.border-none{border-style:none}.\\!border-button-outline-active-border{border-color:var(--button-outline-active-border, #1d283a)!important}.\\!border-edit-foreground{border-color:var(--edit-foreground, #92400e)!important}.\\!border-input-border{border-color:var(--input-border, #1d283a)!important}.border-\\[\\#2196f3\\]{--tw-border-opacity: 1;border-color:rgb(33 150 243 / var(--tw-border-opacity))}.border-\\[\\#e1e1e1\\]{--tw-border-opacity: 1;border-color:rgb(225 225 225 / var(--tw-border-opacity))}.border-black{--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity))}.border-border{border-color:var(--border, #1d283a)}.border-button-outline-border{border-color:var(--button-outline-border, #1d283a)}.border-current{border-color:currentColor}.border-destructive{border-color:var(--destructive, #811d1d)}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity))}.border-input-border{border-color:var(--input-border, #1d283a)}.border-muted-foreground{border-color:var(--muted-foreground, #7f8ea3)}.border-structure-card-border{border-color:var(--structure-card-border, #1d283a)}.border-structure-codeblock-border{border-color:var(--structure-codeblock-border, #1d283a)}.border-structure-codeblock-edit-border{border-color:var(--structure-codeblock-edit-border, #1d283a)}.border-transparent{border-color:transparent}.border-b-transparent{border-bottom-color:transparent}.border-l-transparent{border-left-color:transparent}.border-t-transparent{border-top-color:transparent}.\\!bg-background{background-color:var(--background, #030711)!important}.\\!bg-button-outline{background-color:var(--button-outline, #030711)!important}.\\!bg-button-outline-active{background-color:var(--button-outline-active, #1d283a)!important}.\\!bg-button-outline-active-hover{background-color:var(--button-outline-active-hover, #1d283a)!important}.\\!bg-edit{background-color:var(--edit, #fde68a)!important}.\\!bg-filters-button{background-color:var(--filters-button, var(--secondary))!important}.\\!bg-muted{background-color:var(--muted, #0f1629)!important}.\\!bg-secondary{background-color:var(--secondary, #0f172a)!important}.bg-\\[\\#561A1D\\]{--tw-bg-opacity: 1;background-color:rgb(86 26 29 / var(--tw-bg-opacity))}.bg-\\[\\#F5463C\\]{--tw-bg-opacity: 1;background-color:rgb(245 70 60 / var(--tw-bg-opacity))}.bg-\\[\\#FCE3EB\\]{--tw-bg-opacity: 1;background-color:rgb(252 227 235 / var(--tw-bg-opacity))}.bg-\\[var\\(--page-background\\)\\]{background-color:var(--page-background)}.bg-accent{background-color:var(--accent, #1d283a)}.bg-background{background-color:var(--background, #030711)}.bg-background-page{background-color:var(--page-background, #030711)}.bg-black\\/20{background-color:#0003}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-border{background-color:var(--border, #1d283a)}.bg-button-outline{background-color:var(--button-outline, #030711)}.bg-button-outline-hover{background-color:var(--button-outline-hover, #F5F5F5)}.bg-card{background-color:var(--card, #030711)}.bg-destructive{background-color:var(--destructive, #811d1d)}.bg-dialog{background-color:var(--dialog, var(--background, #030711))}.bg-edit{background-color:var(--edit, #fde68a)}.bg-filters-button{background-color:var(--filters-button, var(--secondary))}.bg-filters-toolbar{background-color:var(--filters-toolbar, var(--secondary))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.bg-inherit{background-color:inherit}.bg-input{background-color:var(--input, #1d283a)}.bg-muted{background-color:var(--muted, #0f1629)}.bg-popover{background-color:var(--popover, #030711)}.bg-primary{background-color:var(--primary, #f8fafc)}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-secondary{background-color:var(--secondary, #0f172a)}.bg-sidebar-list-item{background-color:var(--sidebar-list-item, #ffffff)}.bg-sidebar-list-item-active{background-color:var(--sidebar-list-item-active, #f5f5f5)}.bg-structure{background-color:var(--structure, #1d283a)}.bg-structure-codeblock{background-color:var(--structure-codeblock, #1d283a)}.bg-structure-codeblock-edit{background-color:var(--structure-codeblock-edit, #1d283a)}.bg-structure-edit{background-color:var(--structure-edit, #1d283a)}.bg-submit{background-color:var(--submit, #16813d)}.bg-table-cell-relation-button{background-color:var(--table-cell-relation-button, #1d283a)}.bg-table-row{background-color:var(--table-row, var(--background, #030711))}.bg-table-toolbar{background-color:var(--background, #030711)}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-white\\/20{background-color:#fff3}.bg-yellow-600{--tw-bg-opacity: 1;background-color:rgb(202 138 4 / var(--tw-bg-opacity))}.bg-gradient-to-b{background-image:linear-gradient(to bottom,var(--tw-gradient-stops))}.bg-gradient-to-l{background-image:linear-gradient(to left,var(--tw-gradient-stops))}.bg-gradient-to-t{background-image:linear-gradient(to top,var(--tw-gradient-stops))}.from-background{--tw-gradient-from: var(--background, #030711) var(--tw-gradient-from-position);--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-background-page{--tw-gradient-from: var(--page-background, #030711) var(--tw-gradient-from-position);--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-dialog{--tw-gradient-from: var(--dialog, var(--background, #030711)) var(--tw-gradient-from-position);--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-popover{--tw-gradient-from: var(--popover, #030711) var(--tw-gradient-from-position);--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-50\\%{--tw-gradient-from-position: 50%}.fill-current{fill:currentColor}.\\!p-0{padding:0!important}.\\!p-2{padding:.5rem!important}.\\!p-px{padding:1px!important}.p-0{padding:0}.p-0\\.5{padding:.125rem}.p-1{padding:.25rem}.p-1\\.5{padding:.375rem}.p-10{padding:2.5rem}.p-12{padding:3rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.p-\\[0\\.1875rem\\]{padding:.1875rem}.p-px{padding:1px}.px-0{padding-left:0;padding-right:0}.px-0\\.5{padding-left:.125rem;padding-right:.125rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-10{padding-left:2.5rem;padding-right:2.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\\.5{padding-left:.625rem;padding-right:.625rem}.px-20{padding-left:5rem;padding-right:5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.px-\\[0\\.3125rem\\]{padding-left:.3125rem;padding-right:.3125rem}.px-\\[0\\.4375rem\\]{padding-left:.4375rem;padding-right:.4375rem}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-2\\.5{padding-top:.625rem;padding-bottom:.625rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-5{padding-top:1.25rem;padding-bottom:1.25rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-\\[0\\.3125rem\\]{padding-top:.3125rem;padding-bottom:.3125rem}.py-\\[3px\\]{padding-top:3px;padding-bottom:3px}.pb-0{padding-bottom:0}.pb-2{padding-bottom:.5rem}.pb-4{padding-bottom:1rem}.pb-6{padding-bottom:1.5rem}.pb-8{padding-bottom:2rem}.pl-0{padding-left:0}.pl-0\\.5{padding-left:.125rem}.pl-1{padding-left:.25rem}.pl-2{padding-left:.5rem}.pl-3{padding-left:.75rem}.pl-4{padding-left:1rem}.pl-5{padding-left:1.25rem}.pl-8{padding-left:2rem}.pl-9{padding-left:2.25rem}.pl-\\[0\\]{padding-left:0}.pl-\\[2\\.8125rem\\]{padding-left:2.8125rem}.pr-1{padding-right:.25rem}.pr-1\\.5{padding-right:.375rem}.pr-2{padding-right:.5rem}.pr-3{padding-right:.75rem}.pr-4{padding-right:1rem}.pr-6{padding-right:1.5rem}.pr-7{padding-right:1.75rem}.pr-8{padding-right:2rem}.pt-0{padding-top:0}.pt-1{padding-top:.25rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.pt-6{padding-top:1.5rem}.pt-9{padding-top:2.25rem}.pt-\\[4\\.75rem\\]{padding-top:4.75rem}.text-center{text-align:center}.text-start{text-align:start}.font-\\[none\\]{font-family:none}.font-menlo{font-family:Menlo,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.font-sans{font-family:var(--interface-font, system-ui),ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}.font-table{font-family:var(--table-font, "Menlo", monospace)}.text-2xl{font-size:1.5rem;line-height:2rem}.text-\\[0\\.5rem\\]{font-size:.5rem}.text-\\[0\\.625rem\\]{font-size:.625rem}.text-\\[0\\.6875rem\\]{font-size:.6875rem}.text-\\[0\\.8125rem\\]{font-size:.8125rem}.text-\\[0\\.8rem\\]{font-size:.8rem}.text-\\[0\\.9375rem\\]{font-size:.9375rem}.text-\\[1\\.75rem\\]{font-size:1.75rem}.text-\\[14px\\]{font-size:14px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.\\!font-\\[550\\]{font-weight:550!important}.\\!font-semibold{font-weight:600!important}.\\!font-toolbar{font-weight:var(--font-weight-toolbar, 500)!important}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.italic{font-style:italic}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-3{line-height:.75rem}.leading-5{line-height:1.25rem}.leading-7{line-height:1.75rem}.leading-8{line-height:2rem}.leading-9{line-height:2.25rem}.leading-\\[0\\.625rem\\]{line-height:.625rem}.leading-\\[0\\.875rem\\]{line-height:.875rem}.leading-\\[1\\.625rem\\]{line-height:1.625rem}.leading-\\[1\\.9375rem\\]{line-height:1.9375rem}.leading-none{line-height:1}.leading-normal{line-height:1.5}.tracking-tight{letter-spacing:-.025em}.tracking-wider{letter-spacing:.05em}.tracking-widest{letter-spacing:.1em}.\\!text-\\[\\#52525B\\]{--tw-text-opacity: 1 !important;color:rgb(82 82 91 / var(--tw-text-opacity))!important}.\\!text-button-outline-active-text{color:var(--button-outline-active-text, #e1e7ef)!important}.\\!text-button-outline-active-text-hover{color:var(--button-outline-active-hover-text, #e1e7ef)!important}.\\!text-button-outline-text{color:var(--button-outline-text, #e1e7ef)!important}.\\!text-edit-foreground{color:var(--edit-foreground, #92400e)!important}.\\!text-foreground{color:var(--foreground, #e1e7ef)!important}.text-\\[\\#D93035\\]{--tw-text-opacity: 1;color:rgb(217 48 53 / var(--tw-text-opacity))}.text-\\[\\#DA2F35\\]{--tw-text-opacity: 1;color:rgb(218 47 53 / var(--tw-text-opacity))}.text-\\[\\#f35815\\]{--tw-text-opacity: 1;color:rgb(243 88 21 / var(--tw-text-opacity))}.text-\\[rgb\\(17\\,82\\,163\\)\\]{--tw-text-opacity: 1;color:rgb(17 82 163 / var(--tw-text-opacity))}.text-\\[rgb\\(82\\,137\\,205\\)\\]{--tw-text-opacity: 1;color:rgb(82 137 205 / var(--tw-text-opacity))}.text-accent-foreground{color:var(--accent-foreground, #f8fafc)}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity))}.text-border{color:var(--border, #1d283a)}.text-button-outline-border-hover{color:var(--button-outline-border-hover, #cacbcf)}.text-button-outline-text{color:var(--button-outline-text, #e1e7ef)}.text-card-foreground{color:var(--card-foreground, #e1e7ef)}.text-current{color:currentColor}.text-destructive{color:var(--destructive, #811d1d)}.text-destructive-foreground{color:var(--destructive-foreground, #f8fafc)}.text-edit-foreground{color:var(--edit-foreground, #92400e)}.text-edit-placeholder{color:var(--edit-placeholder, #92400e)}.text-foreground{color:var(--foreground, #e1e7ef)}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity))}.text-input-placeholder{color:var(--input-placeholder, #1d283a)}.text-muted-foreground{color:var(--muted-foreground, #7f8ea3)}.text-popover-foreground{color:var(--popover-foreground, #94a3b8)}.text-primary{color:var(--primary, #f8fafc)}.text-primary-foreground{color:var(--primary-foreground, #020205)}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity))}.text-secondary-foreground{color:var(--secondary-foreground, #f8fafc)}.text-sidebar-list-item-active-text{color:var(--sidebar-list-item-active-text, #37352f)}.text-sidebar-list-item-text{color:var(--sidebar-list-item-text, #3b3f4b)}.text-sidebar-list-subview-arrow{color:var(--sidebar-list-subview-arrow, #3b3f4b)}.text-sidebar-list-subview-arrow-active{color:var(--sidebar-list-subview-arrow-active, #37352f)}.text-sql-console-gutter-run-button{color:var(--sql-console-gutter-run-button, #17A34A)}.text-sql-keyword{color:var(--sql-keyword, #f8fafc)}.text-sql-number{color:var(--sql-number, #f8fafc)}.text-sql-string{color:var(--sql-string, #f8fafc)}.text-sql-variable{color:var(--sql-variable, #f8fafc)}.text-structure-button-link-text{color:var(--structure-button-link-text, #f8fafc)}.text-structure-codeblock-edit-text{color:var(--structure-codeblock-edit-text, #f8fafc)}.text-structure-edit-text{color:var(--structure-edit-text, #f8fafc)}.text-submit-foreground{color:var(--submit-foreground, #fafafa)}.text-table-cell-relation-button-foreground{color:var(--table-cell-relation-button-foreground, var(--foreground, #e1e7ef))}.text-table-cell-text-muted{color:var(--table-cell-text-muted, #7f8ea3)}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-yellow-600{--tw-text-opacity: 1;color:rgb(202 138 4 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.line-through{text-decoration-line:line-through}.underline-offset-4{text-underline-offset:4px}.\\!opacity-0{opacity:0!important}.\\!opacity-100{opacity:1!important}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-80{opacity:.8}.opacity-90{opacity:.9}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-\\[0_0_0_1px_rgba\\(0\\,0\\,0\\,\\.08\\)\\,0_1px_2px_rgba\\(0\\,0\\,0\\,\\.1\\)\\,0_2px_4px_rgba\\(0\\,0\\,0\\,\\.075\\)\\]{--tw-shadow: 0 0 0 1px rgba(0,0,0,.08),0 1px 2px rgba(0,0,0,.1),0 2px 4px rgba(0,0,0,.075);--tw-shadow-colored: 0 0 0 1px var(--tw-shadow-color), 0 1px 2px var(--tw-shadow-color), 0 2px 4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-\\[0_1px_0_rgba\\(0\\,0\\,0\\,0\\.3\\)\\]{--tw-shadow: 0 1px 0 rgba(0,0,0,.3);--tw-shadow-colored: 0 1px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-none{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.\\!outline-none{outline:2px solid transparent!important;outline-offset:2px!important}.outline{outline-style:solid}.outline-offset-\\[3px\\]{outline-offset:3px}.outline-primary{outline-color:var(--primary, #f8fafc)}.\\!ring-0{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color) !important;--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color) !important;box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)!important}.ring-0{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-offset-background{--tw-ring-offset-color: var(--background, #030711)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur-\\[5px\\]{--tw-blur: blur(5px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-\\[5px\\]{--tw-backdrop-blur: blur(5px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-none{transition-property:none}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\!duration-0{transition-duration:0s!important}.duration-100{transition-duration:.1s}.duration-150{transition-duration:.15s}.duration-200{transition-duration:.2s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}@keyframes enter{0%{opacity:var(--tw-enter-opacity, 1);transform:translate3d(var(--tw-enter-translate-x, 0),var(--tw-enter-translate-y, 0),0) scale3d(var(--tw-enter-scale, 1),var(--tw-enter-scale, 1),var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity, 1);transform:translate3d(var(--tw-exit-translate-x, 0),var(--tw-exit-translate-y, 0),0) scale3d(var(--tw-exit-scale, 1),var(--tw-exit-scale, 1),var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))}}.animate-in{animation-name:enter;animation-duration:.15s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}.fade-in-50{--tw-enter-opacity: .5}.fade-in-80{--tw-enter-opacity: .8}.slide-in-from-bottom-1{--tw-enter-translate-y: .25rem}.\\!duration-0{animation-duration:0s!important}.duration-100{animation-duration:.1s}.duration-150{animation-duration:.15s}.duration-200{animation-duration:.2s}.ease-in-out{animation-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{animation-timing-function:cubic-bezier(0,0,.2,1)}.running{animation-play-state:running}.paused{animation-play-state:paused}.\\@container{container-type:inline-size}.\\[appearance\\:textfield\\]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}@font-face{font-family:Menlo;src:url(`+new URL("fonts/Menlo-Regular.ttf",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href+")}@font-face{font-family:Operator;src:url("+new URL("fonts/OperatorMono-Book.otf",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href+")}@font-face{font-family:Geist Mono;src:url("+new URL("fonts/GeistMono-Regular.otf",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href+")}@font-face{font-family:Geist Sans;src:url("+new URL("fonts/Geist-Regular.otf",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href+");font-weight:400}@font-face{font-family:Geist Sans;src:url("+new URL("fonts/Geist-Medium.otf",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href+");font-weight:500}@font-face{font-family:Geist Sans;src:url("+new URL("fonts/Geist-SemiBold.otf",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href+`);font-weight:600}:root,:host{container-type:inline-size;contain:layout;--loader: #d9d9e1}.grid-area-1-1{grid-area:1 / 1}.fill-grid{block-size:100%}code.hljs{display:block;padding:1em}.hljs{color:var(--foreground)!important}.hljs-number{color:var(--number-color)!important}.hljs-attr{color:var(--property-name)!important}.hljs-string{color:var(--string-value)!important}.hljs-keyword{color:var(--boolean-value)!important}.shadow-border{position:relative}.shadow-border:before{position:absolute;top:0;right:0;bottom:0;left:0;z-index:32;--tw-content: "";content:var(--tw-content);box-shadow:.0625rem 0 #00000021 inset,-.0625rem 0 #00000021 inset,0 -.0625rem #0000002b inset,0 .0625rem #cccccc80 inset;pointer-events:none}.rdg{background-color:var(--table-row, var(--background, #030711));font-family:var(--table-font, "Menlo", monospace);font-size:.75rem;line-height:1rem;color:var(--foreground, #e1e7ef);color-scheme:unset}.rdg-text-editor{block-size:100%}.rdg-header-row{background-color:var(--table-row, var(--background, #030711))}.rdg-header-row .rdg-cell{position:sticky!important;display:flex;align-items:center;padding-left:.5rem;padding-right:.5rem}.rdg-row{background-color:var(--table-row, var(--background, #030711))}.rdg-row:hover{background-color:var(--table-row-hover, var(--muted, #0f1629))}.rdg-row:hover .rdg-cell,.rdg-row[aria-selected=true] .rdg-cell{overflow:visible;background-color:var(--table-row-hover, var(--muted, #0f1629))}.rdg-row:hover .rdg-cell:after,.rdg-row[aria-selected=true] .rdg-cell:after{pointer-events:none;position:absolute;top:-1px;right:-1px;bottom:-1px;left:-1px;border-width:1px;border-color:var(--table-row-border-hover, #1d283a);--tw-content: "";content:var(--tw-content)}.rdg-row:hover .rdg-cell:not(:first-child),.rdg-row[aria-selected=true] .rdg-cell:not(:first-child){position:relative}.rdg-row:hover *[data-small-relation-button=true]{display:flex}#relation-rdg-table .rdg-cell{background-color:var(--table-row, var(--background, #030711))}#relation-rdg-table .rdg-cell:before{--tw-content: none;content:var(--tw-content)}.rdg-row[aria-selected=true][aria-rowindex="2"] .rdg-cell:before,.rdg-row[aria-rowindex="2"]:hover .rdg-cell:before{border-top-width:2px!important}.rdg-row[aria-selected=true] .rdg-cell[aria-colindex="1"]:before,.rdg-row:hover .rdg-cell[aria-colindex="1"]:before{border-left-width:2px!important}.rdg-row:hover:not([aria-selected=true]) .rdg-cell[aria-colindex="1"]>button{border-color:var(--table-row-border-hover, #1d283a)!important}.rdg-cell{-webkit-user-select:none;-moz-user-select:none;user-select:none;align-content:normal;overflow:visible;border-bottom-width:1px;border-color:var(--border, #1d283a);padding:0;letter-spacing:.05em}.rdg-cell:first-child{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.rdg-cell:not(:first-child){position:relative}.rdg-cell{border-right-width:var(--table-vertical-lines, 1px)}.rdg-header-row .rdg-cell[aria-colindex="1"]{z-index:4}.rdg-header-row .rdg-cell,.rdg-cell[aria-colindex="1"]{z-index:3}.rdg-cell:has(.cell-edited){position:relative;overflow:visible}.rdg-cell:has(.cell-edited):before{pointer-events:none;position:absolute;top:-1px;right:-1px;bottom:-1px;left:-1px;z-index:1;border-width:1px;border-color:var(--edit-foreground, #92400e)!important;--tw-content: "";content:var(--tw-content)}.rdg-row[aria-rowindex="2"] .rdg-cell:has(.cell-edited):not(:first-child):before{border-top-width:2px!important}.rdg-cell[aria-colindex="2"]:has(.cell-edited):before{border-left-width:2px!important}.rdg-header-row .rdg-cell[aria-selected=true],.rdg-cell[aria-colindex="1"][aria-selected=true]{outline:2px solid transparent!important;outline-offset:2px!important}.rdg-row .rdg-cell[aria-selected=true]:not(:first-child){background-color:var(--table-cell-selected-background, #1d283a)!important}.rdg-row .rdg-cell[selected-top-border=true]:not(:first-child):before{z-index:2;border-top-width:2px;content:var(--tw-content)!important;border-top-color:var(--table-cell-selected-border, #1d283a)!important}.rdg-row .rdg-cell[selected-left-border=true]:not(:first-child):before{z-index:2;border-left-width:2px;content:var(--tw-content)!important;border-left-color:var(--table-cell-selected-border, #1d283a)!important}.rdg-row .rdg-cell[selected-right-border=true]:not(:first-child):before{z-index:2;border-right-width:2px;content:var(--tw-content)!important;border-right-color:var(--table-cell-selected-border, #1d283a)!important}.rdg-row .rdg-cell[selected-bottom-border=true]:not(:first-child):before{z-index:2;border-bottom-width:2px;content:var(--tw-content)!important;border-bottom-color:var(--table-cell-selected-border, #1d283a)!important}.rdg-row[aria-rowindex="2"] .rdg-cell[aria-selected=true]:not(:first-child):before{border-top-width:3px!important}.rdg-cell[aria-colindex="2"][aria-selected=true]:before{border-left-width:3px!important}.rdg-cell:last-of-type{border-right:1px var(--border) solid}.rdg-cell-copied{background-color:inherit}.htmx .rdg{padding:1px 1px 0}.htmx *:not(.drizzle-studio-mini):not(.drizzle-studio-mini *){font-family:none}.htmx .bg-border,.htmx .\\!bg-border{background:#efefef!important;color:#000!important}.htmx div[role=columnheader]{margin:1px;border-width:1px;padding:1px;font-size:1rem;line-height:1.5rem}.htmx div[role=gridcell]{margin:1px;border-width:1px;font-size:1rem;line-height:1.5rem}.htmx .cell-content{display:flex;align-items:center;padding:1px}.htmx .rdg-text-editor{display:flex;align-items:center;padding-left:1px;padding-right:1px}.htmx .rdg-text-editor::-moz-selection{background-color:#a5c3e5}.htmx .rdg-text-editor::selection{background-color:#a5c3e5}.htmx .cm-line span{color:#000}html:not(.htmx) div.sticky div[role=columnheader]:first-child{border-left-width:0px}html:not(.htmx) div.sticky div[role=gridcell]:first-child{border-left-width:0px}.loader{position:relative;width:20px;height:20px}.loader .loader-blade{position:absolute;top:6.5px;left:8.5px;width:2.5px;height:6.5px;background-color:var(--loader);border-radius:1.25px;animation:loaderBlade 1s linear infinite;will-change:opacity}.loader .loader-blade:nth-child(1){transform:rotate(45deg) translateY(-6.5px);animation-delay:-1.625s}.loader .loader-blade:nth-child(2){transform:rotate(90deg) translateY(-6.5px);animation-delay:-1.5s}.loader .loader-blade:nth-child(3){transform:rotate(135deg) translateY(-6.5px);animation-delay:-1.375s}.loader .loader-blade:nth-child(4){transform:rotate(180deg) translateY(-6.5px);animation-delay:-1.25s}.loader .loader-blade:nth-child(5){transform:rotate(225deg) translateY(-6.5px);animation-delay:-1.125s}.loader .loader-blade:nth-child(6){transform:rotate(270deg) translateY(-6.5px);animation-delay:-1s}.loader .loader-blade:nth-child(7){transform:rotate(315deg) translateY(-6.5px);animation-delay:-.875s}.loader .loader-blade:nth-child(8){transform:rotate(360deg) translateY(-6.5px);animation-delay:-.75s}@keyframes loaderBlade{0%{opacity:.85}50%{opacity:.25}to{opacity:.25}}.dots-loading:after{display:inline-block;animation:dotty steps(1,end) 1s infinite;content:""}@keyframes dotty{0%{content:""}25%{content:"."}50%{content:".."}75%{content:"..."}to{content:""}}.confetti-button{position:relative;z-index:50}.confetti-button:focus{outline:0}.confetti-button .top-animation,.confetti-button .bottom-animation{position:absolute;content:"";display:block;width:140%;left:-20%;z-index:-1000;transition:all ease-in-out .5s;background-repeat:no-repeat}.confetti-button .left-animation,.confetti-button .right-animation{position:absolute;content:"";display:block;width:140%;z-index:-1000;transition:all ease-in-out .5s;background-repeat:no-repeat}.confetti-button .left-animation,.confetti-button .right-animation{transform:rotate(-90deg)}.confetti-button .top-animation{display:block;animation:topBubbles ease-in-out .75s forwards;top:-75%;background-image:radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,transparent 20%,var(--foreground) 20%,transparent 30%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,transparent 10%,var(--foreground) 15%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%);background-size:10% 10%,20% 20%,15% 15%,20% 20%,18% 18%,10% 10%,15% 15%,10% 10%,18% 18%}.confetti-button .left-animation{display:block;animation:topBubbles ease-in-out .75s forwards;left:-90%;background-image:radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,transparent 20%,var(--foreground) 20%,transparent 30%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,transparent 10%,var(--foreground) 15%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%);background-size:10% 10%,20% 20%,15% 15%,20% 20%,18% 18%,10% 10%,15% 15%,10% 10%,18% 18%}.confetti-button .bottom-animation{display:block;animation:bottomBubbles ease-in-out .75s forwards;bottom:-75%;background-image:radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,transparent 10%,var(--foreground) 15%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%);background-size:15% 15%,20% 20%,18% 18%,20% 20%,15% 15%,10% 10%,20% 20%}.confetti-button .right-animation{display:block;animation:bottomBubbles ease-in-out .75s forwards;right:-90%;background-image:radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,transparent 10%,var(--foreground) 15%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%),radial-gradient(circle,var(--foreground) 20%,transparent 20%);background-size:15% 15%,20% 20%,18% 18%,20% 20%,15% 15%,10% 10%,20% 20%}@keyframes topBubbles{0%{background-position:5% 90%,10% 90%,10% 90%,15% 90%,25% 90%,25% 90%,40% 90%,55% 90%,70% 90%}50%{background-position:0 80%,0 20%,10% 40%,20% 0,30% 30%,22% 50%,50% 50%,65% 20%,90% 30%}to{background-position:0 70%,0 10%,10% 30%,20% -10%,30% 20%,22% 40%,50% 40%,65% 10%,90% 20%;background-size:0 0,0 0,0 0,0 0,0 0,0 0}}@keyframes bottomBubbles{0%{background-position:10% -10%,30% 10%,55% -10%,70% -10%,85% -10%,70% -10%,70% 0}50%{background-position:0 80%,20% 80%,45% 60%,60% 100%,75% 70%,95% 60%,105% 0}to{background-position:0 90%,20% 90%,45% 70%,60% 110%,75% 80%,95% 70%,110% 10%;background-size:0 0,0 0,0 0,0 0,0 0,0 0}}.dark *{color-scheme:dark}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:var(--interface-font, system-ui),ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*{border-color:var(--border, #1d283a)}:host{font-family:var(--interface-font, system-ui),ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";color:var(--foreground, #e1e7ef)}#drizzle-studio-root{background-color:var(--background, #030711);overscroll-behavior:none;font-feature-settings:"rlig" 1,"calt" 1;width:100%;height:100%;position:relative}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.\\*\\:blur-\\[2px\\]>*{--tw-blur: blur(2px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\*\\:no-scrollbar>*::-webkit-scrollbar{display:none}.\\*\\:no-scrollbar>*{-ms-overflow-style:none;scrollbar-width:none}.file\\:border-0::file-selector-button{border-width:0px}.file\\:bg-transparent::file-selector-button{background-color:transparent}.file\\:text-sm::file-selector-button{font-size:.875rem;line-height:1.25rem}.file\\:font-medium::file-selector-button{font-weight:500}.placeholder\\:text-input-placeholder::-moz-placeholder{color:var(--input-placeholder, #1d283a)}.placeholder\\:text-input-placeholder::placeholder{color:var(--input-placeholder, #1d283a)}.placeholder\\:text-muted-foreground::-moz-placeholder{color:var(--muted-foreground, #7f8ea3)}.placeholder\\:text-muted-foreground::placeholder{color:var(--muted-foreground, #7f8ea3)}.after\\:absolute:after{content:var(--tw-content);position:absolute}.after\\:inset-y-0:after{content:var(--tw-content);top:0;bottom:0}.after\\:left-1\\/2:after{content:var(--tw-content);left:50%}.after\\:flex:after{content:var(--tw-content);display:flex}.after\\:h-full:after{content:var(--tw-content);height:100%}.after\\:w-1:after{content:var(--tw-content);width:.25rem}.after\\:flex-1:after{content:var(--tw-content);flex:1 1 0%}.after\\:-translate-x-1\\/2:after{content:var(--tw-content);--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.after\\:border-b:after{content:var(--tw-content);border-bottom-width:1px}.after\\:border-border:after{content:var(--tw-content);border-color:var(--border, #1d283a)}.after\\:content-\\[\\'\\'\\]:after{--tw-content: "";content:var(--tw-content)}.first\\:mt-14:first-child{margin-top:3.5rem}.hover\\:relative:hover{position:relative}.hover\\:z-10:hover{z-index:10}.hover\\:z-\\[1\\]:hover{z-index:1}.hover\\:\\!border-button-outline-active-border-hover:hover{border-color:var(--button-outline-active-border-hover, #1d283a)!important}.hover\\:\\!border-button-outline-border-hover:hover{border-color:var(--button-outline-border-hover, #cacbcf)!important}.hover\\:\\!border-input-border-focus:hover{border-color:var(--input-border-focus, #1d283a)!important}.hover\\:border-orange-500:hover{--tw-border-opacity: 1;border-color:rgb(249 115 22 / var(--tw-border-opacity))}.hover\\:border-structure-codeblock-border-hover:hover{border-color:var(--structure-codeblock-border-hover, #1d283a)}.hover\\:border-structure-codeblock-edit-border-hover:hover{border-color:var(--structure-codeblock-edit-border-hover, #1d283a)}.hover\\:\\!bg-button-outline-active-hover:hover{background-color:var(--button-outline-active-hover, #1d283a)!important}.hover\\:\\!bg-button-outline-hover:hover{background-color:var(--button-outline-hover, #F5F5F5)!important}.hover\\:\\!bg-filters-button:hover{background-color:var(--filters-button, var(--secondary))!important}.hover\\:\\!bg-primary:hover{background-color:var(--primary, #f8fafc)!important}.hover\\:bg-accent:hover{background-color:var(--accent, #1d283a)}.hover\\:bg-border:hover{background-color:var(--border, #1d283a)}.hover\\:bg-button-outline-hover:hover{background-color:var(--button-outline-hover, #F5F5F5)}.hover\\:bg-inherit:hover{background-color:inherit}.hover\\:bg-muted:hover{background-color:var(--muted, #0f1629)}.hover\\:bg-secondary:hover{background-color:var(--secondary, #0f172a)}.hover\\:bg-sidebar-list-item-active-hover:hover{background-color:var(--sidebar-list-item-active-hover, #f5f5f5)}.hover\\:bg-sidebar-list-item-hover:hover{background-color:var(--sidebar-list-item-hover, #fafafa)}.hover\\:bg-structure-codeblock:hover{background-color:var(--structure-codeblock, #1d283a)}.hover\\:bg-structure-codeblock-edit-hover:hover{background-color:var(--structure-codeblock-edit-hover, #1d283a)}.hover\\:bg-structure-codeblock-hover:hover{background-color:var(--structure-codeblock-hover, #1d283a)}.hover\\:bg-table-row:hover{background-color:var(--table-row, var(--background, #030711))}.hover\\:bg-transparent:hover{background-color:transparent}.hover\\:font-medium:hover{font-weight:500}.hover\\:\\!text-button-outline-active-text-hover:hover{color:var(--button-outline-active-hover-text, #e1e7ef)!important}.hover\\:\\!text-button-outline-text-hover:hover{color:var(--button-outline-text-hover, #e1e7ef)!important}.hover\\:text-accent-foreground:hover{color:var(--accent-foreground, #f8fafc)}.hover\\:text-foreground:hover{color:var(--foreground, #e1e7ef)}.hover\\:text-inherit:hover{color:inherit}.hover\\:text-muted-foreground:hover{color:var(--muted-foreground, #7f8ea3)}.hover\\:text-primary-foreground:hover{color:var(--primary-foreground, #020205)}.hover\\:text-sidebar-list-item-active-text-hover:hover{color:var(--sidebar-list-item-active-hover-text, #37352f)}.hover\\:text-sidebar-list-item-text-hover:hover{color:var(--sidebar-list-item-hover-text, #37352f)}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-100:hover{opacity:1}.hover\\:outline:hover{outline-style:solid}.hover\\:outline-2:hover{outline-width:2px}.hover\\:outline-border:hover{outline-color:var(--border, #1d283a)}.hover\\:outline-primary:hover{outline-color:var(--primary, #f8fafc)}.focus\\:bg-accent:focus{background-color:var(--accent, #1d283a)}.focus\\:bg-button-outline-hover:focus{background-color:var(--button-outline-hover, #F5F5F5)}.focus\\:bg-primary:focus{background-color:var(--primary, #f8fafc)}.focus\\:text-accent-foreground:focus{color:var(--accent-foreground, #f8fafc)}.focus\\:text-button-outline-text-hover:focus{color:var(--button-outline-text-hover, #e1e7ef)}.focus\\:text-primary-foreground:focus{color:var(--primary-foreground, #020205)}.focus\\:opacity-100:focus{opacity:1}.focus\\:\\!outline-none:focus{outline:2px solid transparent!important;outline-offset:2px!important}.focus\\:ring-0:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-1:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-ring:focus{--tw-ring-color: var(--ring, #1d283a)}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus-visible\\:z-\\[1\\]:focus-visible{z-index:1}.focus-visible\\:border-input-border-focus:focus-visible{border-color:var(--input-border-focus, #1d283a)}.focus-visible\\:\\!outline-none:focus-visible{outline:2px solid transparent!important;outline-offset:2px!important}.focus-visible\\:ring-1:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-2:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-ring:focus-visible{--tw-ring-color: var(--ring, #1d283a)}.focus-visible\\:ring-offset-1:focus-visible{--tw-ring-offset-width: 1px}.focus-visible\\:ring-offset-2:focus-visible{--tw-ring-offset-width: 2px}.focus-visible\\:ring-offset-background:focus-visible{--tw-ring-offset-color: var(--background, #030711)}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.group\\/input:focus-within .group-focus-within\\/input\\:translate-y-1\\/4{--tw-translate-y: 25%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:focus-within .group-focus-within\\:translate-y-1\\/4{--tw-translate-y: 25%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group\\/input:focus-within .group-focus-within\\/input\\:scale-75{--tw-scale-x: .75;--tw-scale-y: .75;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:focus-within .group-focus-within\\:scale-75{--tw-scale-x: .75;--tw-scale-y: .75;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group\\/item:hover .group-hover\\/item\\:visible,.group:hover .group-hover\\:visible{visibility:visible}.group\\/item:hover .group-hover\\/item\\:collapse{visibility:collapse}.group:hover .group-hover\\:block{display:block}.group:hover .group-hover\\:flex{display:flex}.group:hover .group-hover\\:translate-x-0\\.5{--tw-translate-x: .125rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\\:scale-x-100{--tw-scale-x: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\\:border-structure-codeblock-border-hover{border-color:var(--structure-codeblock-border-hover, #1d283a)}.group:hover .group-hover\\:border-structure-codeblock-edit-border-hover{border-color:var(--structure-codeblock-edit-border-hover, #1d283a)}.group:hover .group-hover\\:fill-current{fill:currentColor}.group\\/item:hover .group-hover\\/item\\:\\!opacity-0{opacity:0!important}.group\\/item:hover .group-hover\\/item\\:\\!opacity-100{opacity:1!important}.group:hover .group-hover\\:opacity-100{opacity:1}.group.toaster .group-\\[\\.toaster\\]\\:border-border{border-color:var(--border, #1d283a)}.group.toast .group-\\[\\.toast\\]\\:bg-muted{background-color:var(--muted, #0f1629)}.group.toast .group-\\[\\.toast\\]\\:bg-primary{background-color:var(--primary, #f8fafc)}.group.toaster .group-\\[\\.toaster\\]\\:bg-background{background-color:var(--background, #030711)}.group.destructive .group-\\[\\.destructive\\]\\:text-red-300{--tw-text-opacity: 1;color:rgb(252 165 165 / var(--tw-text-opacity))}.group.toast .group-\\[\\.toast\\]\\:text-muted-foreground{color:var(--muted-foreground, #7f8ea3)}.group.toast .group-\\[\\.toast\\]\\:text-primary-foreground{color:var(--primary-foreground, #020205)}.group.toaster .group-\\[\\.toaster\\]\\:text-foreground{color:var(--foreground, #e1e7ef)}.group.toaster .group-\\[\\.toaster\\]\\:shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.group.destructive .group-\\[\\.destructive\\]\\:hover\\:bg-destructive:hover{background-color:var(--destructive, #811d1d)}.group.destructive .group-\\[\\.destructive\\]\\:hover\\:text-destructive-foreground:hover{color:var(--destructive-foreground, #f8fafc)}.group.destructive .group-\\[\\.destructive\\]\\:hover\\:text-red-50:hover{--tw-text-opacity: 1;color:rgb(254 242 242 / var(--tw-text-opacity))}.group.destructive .group-\\[\\.destructive\\]\\:focus\\:ring-destructive:focus{--tw-ring-color: var(--destructive, #811d1d)}.group.destructive .group-\\[\\.destructive\\]\\:focus\\:ring-red-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(248 113 113 / var(--tw-ring-opacity))}.group.destructive .group-\\[\\.destructive\\]\\:focus\\:ring-offset-red-600:focus{--tw-ring-offset-color: #dc2626}.peer:disabled~.peer-disabled\\:cursor-not-allowed{cursor:not-allowed}.peer:disabled~.peer-disabled\\:opacity-70{opacity:.7}.aria-selected\\:bg-accent[aria-selected=true]{background-color:var(--accent, #1d283a)}.aria-selected\\:text-accent-foreground[aria-selected=true]{color:var(--accent-foreground, #f8fafc)}.aria-selected\\:text-muted-foreground[aria-selected=true]{color:var(--muted-foreground, #7f8ea3)}.aria-selected\\:opacity-100[aria-selected=true]{opacity:1}.aria-selected\\:opacity-30[aria-selected=true]{opacity:.3}.hover\\:aria-selected\\:\\!bg-accent[aria-selected=true]:hover{background-color:var(--accent, #1d283a)!important}.hover\\:aria-selected\\:text-accent-foreground[aria-selected=true]:hover{color:var(--accent-foreground, #f8fafc)}.data-\\[disabled\\=true\\]\\:pointer-events-none[data-disabled=true],.data-\\[disabled\\]\\:pointer-events-none[data-disabled]{pointer-events:none}.data-\\[panel-group-direction\\=vertical\\]\\:h-px[data-panel-group-direction=vertical]{height:1px}.data-\\[panel-group-direction\\=vertical\\]\\:w-full[data-panel-group-direction=vertical]{width:100%}.data-\\[side\\=bottom\\]\\:translate-y-1[data-side=bottom]{--tw-translate-y: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=left\\]\\:-translate-x-1[data-side=left]{--tw-translate-x: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=right\\]\\:translate-x-1[data-side=right]{--tw-translate-x: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=top\\]\\:-translate-y-1[data-side=top]{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=checked\\]\\:translate-x-2\\.5[data-state=checked]{--tw-translate-x: .625rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=unchecked\\]\\:translate-x-0[data-state=unchecked],.data-\\[swipe\\=cancel\\]\\:translate-x-0[data-swipe=cancel]{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[swipe\\=end\\]\\:translate-x-\\[var\\(--radix-toast-swipe-end-x\\)\\][data-swipe=end]{--tw-translate-x: var(--radix-toast-swipe-end-x);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[swipe\\=move\\]\\:translate-x-\\[var\\(--radix-toast-swipe-move-x\\)\\][data-swipe=move]{--tw-translate-x: var(--radix-toast-swipe-move-x);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[panel-group-direction\\=vertical\\]\\:flex-col[data-panel-group-direction=vertical]{flex-direction:column}.data-\\[state\\=checked\\]\\:border-primary[data-state=checked]{border-color:var(--primary, #f8fafc)}.data-\\[selected\\=true\\]\\:bg-button-outline-hover[data-selected=true]{background-color:var(--button-outline-hover, #F5F5F5)}.data-\\[state\\=active\\]\\:\\!bg-primary[data-state=active]{background-color:var(--primary, #f8fafc)!important}.data-\\[state\\=active\\]\\:bg-background[data-state=active]{background-color:var(--background, #030711)}.data-\\[state\\=checked\\]\\:\\!bg-primary[data-state=checked]{background-color:var(--primary, #f8fafc)!important}.data-\\[state\\=checked\\]\\:bg-primary[data-state=checked]{background-color:var(--primary, #f8fafc)}.data-\\[state\\=open\\]\\:bg-accent[data-state=open]{background-color:var(--accent, #1d283a)}.data-\\[state\\=open\\]\\:bg-secondary[data-state=open]{background-color:var(--secondary, #0f172a)}.data-\\[state\\=unchecked\\]\\:bg-input-border[data-state=unchecked]{background-color:var(--input-border, #1d283a)}.data-\\[selected\\=true\\]\\:text-button-outline-text-hover[data-selected=true]{color:var(--button-outline-text-hover, #e1e7ef)}.data-\\[state\\=active\\]\\:text-foreground[data-state=active]{color:var(--foreground, #e1e7ef)}.data-\\[state\\=active\\]\\:text-primary-foreground[data-state=active],.data-\\[state\\=checked\\]\\:text-primary-foreground[data-state=checked]{color:var(--primary-foreground, #020205)}.data-\\[state\\=open\\]\\:text-accent-foreground[data-state=open]{color:var(--accent-foreground, #f8fafc)}.data-\\[state\\=open\\]\\:text-muted-foreground[data-state=open]{color:var(--muted-foreground, #7f8ea3)}.data-\\[disabled\\=true\\]\\:opacity-50[data-disabled=true],.data-\\[disabled\\]\\:opacity-50[data-disabled]{opacity:.5}.data-\\[state\\=active\\]\\:shadow-sm[data-state=active]{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.data-\\[swipe\\=move\\]\\:transition-none[data-swipe=move]{transition-property:none}.data-\\[state\\=closed\\]\\:duration-100[data-state=closed]{transition-duration:.1s}.data-\\[state\\=closed\\]\\:duration-300[data-state=closed],.data-\\[state\\=open\\]\\:duration-300[data-state=open]{transition-duration:.3s}.data-\\[state\\=open\\]\\:duration-500[data-state=open]{transition-duration:.5s}.data-\\[motion\\^\\=from-\\]\\:animate-in[data-motion^=from-],.data-\\[state\\=open\\]\\:animate-in[data-state=open],.data-\\[state\\=visible\\]\\:animate-in[data-state=visible]{animation-name:enter;animation-duration:.15s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}.data-\\[motion\\^\\=to-\\]\\:animate-out[data-motion^=to-],.data-\\[state\\=closed\\]\\:animate-out[data-state=closed],.data-\\[state\\=hidden\\]\\:animate-out[data-state=hidden],.data-\\[swipe\\=end\\]\\:animate-out[data-swipe=end]{animation-name:exit;animation-duration:.15s;--tw-exit-opacity: initial;--tw-exit-scale: initial;--tw-exit-rotate: initial;--tw-exit-translate-x: initial;--tw-exit-translate-y: initial}.data-\\[motion\\^\\=from-\\]\\:fade-in[data-motion^=from-]{--tw-enter-opacity: 0}.data-\\[motion\\^\\=to-\\]\\:fade-out[data-motion^=to-],.data-\\[state\\=closed\\]\\:fade-out[data-state=closed],.data-\\[state\\=closed\\]\\:fade-out-0[data-state=closed]{--tw-exit-opacity: 0}.data-\\[state\\=closed\\]\\:fade-out-80[data-state=closed]{--tw-exit-opacity: .8}.data-\\[state\\=hidden\\]\\:fade-out[data-state=hidden]{--tw-exit-opacity: 0}.data-\\[state\\=open\\]\\:fade-in[data-state=open],.data-\\[state\\=open\\]\\:fade-in-0[data-state=open]{--tw-enter-opacity: 0}.data-\\[state\\=open\\]\\:fade-in-90[data-state=open]{--tw-enter-opacity: .9}.data-\\[state\\=visible\\]\\:fade-in[data-state=visible]{--tw-enter-opacity: 0}.data-\\[state\\=closed\\]\\:zoom-out-95[data-state=closed]{--tw-exit-scale: .95}.data-\\[state\\=open\\]\\:zoom-in-90[data-state=open]{--tw-enter-scale: .9}.data-\\[state\\=open\\]\\:zoom-in-95[data-state=open]{--tw-enter-scale: .95}.data-\\[motion\\=from-end\\]\\:slide-in-from-right-52[data-motion=from-end]{--tw-enter-translate-x: 13rem}.data-\\[motion\\=from-start\\]\\:slide-in-from-left-52[data-motion=from-start]{--tw-enter-translate-x: -13rem}.data-\\[motion\\=to-end\\]\\:slide-out-to-right-52[data-motion=to-end]{--tw-exit-translate-x: 13rem}.data-\\[motion\\=to-start\\]\\:slide-out-to-left-52[data-motion=to-start]{--tw-exit-translate-x: -13rem}.data-\\[side\\=bottom\\]\\:slide-in-from-top-1[data-side=bottom]{--tw-enter-translate-y: -.25rem}.data-\\[side\\=bottom\\]\\:slide-in-from-top-2[data-side=bottom]{--tw-enter-translate-y: -.5rem}.data-\\[side\\=left\\]\\:slide-in-from-right-1[data-side=left]{--tw-enter-translate-x: .25rem}.data-\\[side\\=left\\]\\:slide-in-from-right-2[data-side=left]{--tw-enter-translate-x: .5rem}.data-\\[side\\=right\\]\\:slide-in-from-left-1[data-side=right]{--tw-enter-translate-x: -.25rem}.data-\\[side\\=right\\]\\:slide-in-from-left-2[data-side=right]{--tw-enter-translate-x: -.5rem}.data-\\[side\\=top\\]\\:slide-in-from-bottom-1[data-side=top]{--tw-enter-translate-y: .25rem}.data-\\[side\\=top\\]\\:slide-in-from-bottom-2[data-side=top]{--tw-enter-translate-y: .5rem}.data-\\[state\\=closed\\]\\:slide-out-to-bottom[data-state=closed]{--tw-exit-translate-y: 100%}.data-\\[state\\=closed\\]\\:slide-out-to-left[data-state=closed]{--tw-exit-translate-x: -100%}.data-\\[state\\=closed\\]\\:slide-out-to-right[data-state=closed],.data-\\[state\\=closed\\]\\:slide-out-to-right-full[data-state=closed]{--tw-exit-translate-x: 100%}.data-\\[state\\=closed\\]\\:slide-out-to-top[data-state=closed]{--tw-exit-translate-y: -100%}.data-\\[state\\=open\\]\\:slide-in-from-bottom[data-state=open]{--tw-enter-translate-y: 100%}.data-\\[state\\=open\\]\\:slide-in-from-bottom-10[data-state=open]{--tw-enter-translate-y: 2.5rem}.data-\\[state\\=open\\]\\:slide-in-from-left[data-state=open]{--tw-enter-translate-x: -100%}.data-\\[state\\=open\\]\\:slide-in-from-right[data-state=open]{--tw-enter-translate-x: 100%}.data-\\[state\\=open\\]\\:slide-in-from-top[data-state=open],.data-\\[state\\=open\\]\\:slide-in-from-top-full[data-state=open]{--tw-enter-translate-y: -100%}.data-\\[state\\=closed\\]\\:duration-100[data-state=closed]{animation-duration:.1s}.data-\\[state\\=closed\\]\\:duration-300[data-state=closed],.data-\\[state\\=open\\]\\:duration-300[data-state=open]{animation-duration:.3s}.data-\\[state\\=open\\]\\:duration-500[data-state=open]{animation-duration:.5s}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:left-0[data-panel-group-direction=vertical]:after{content:var(--tw-content);left:0}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:h-1[data-panel-group-direction=vertical]:after{content:var(--tw-content);height:.25rem}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:w-full[data-panel-group-direction=vertical]:after{content:var(--tw-content);width:100%}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:-translate-y-1\\/2[data-panel-group-direction=vertical]:after{content:var(--tw-content);--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:translate-x-0[data-panel-group-direction=vertical]:after{content:var(--tw-content);--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group[data-state=open] .group-data-\\[state\\=open\\]\\:rotate-180{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@container (min-width: 24rem){.\\@sm\\:bottom-0{bottom:0}.\\@sm\\:right-0{right:0}.\\@sm\\:top-auto{top:auto}.\\@sm\\:max-w-\\[26\\.5625rem\\]{max-width:26.5625rem}.\\@sm\\:max-w-\\[37\\.5rem\\]{max-width:37.5rem}.\\@sm\\:flex-row{flex-direction:row}.\\@sm\\:flex-col{flex-direction:column}.\\@sm\\:items-center{align-items:center}.\\@sm\\:justify-end{justify-content:flex-end}.\\@sm\\:gap-y-0{row-gap:0px}.\\@sm\\:space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.\\@sm\\:rounded-lg{border-radius:var(--radius, .5rem)}.\\@sm\\:text-left{text-align:left}.\\@sm\\:zoom-in-90{--tw-enter-scale: .9}.data-\\[state\\=open\\]\\:\\@sm\\:slide-in-from-bottom-0[data-state=open]{--tw-enter-translate-y: 0px}.data-\\[state\\=open\\]\\:\\@sm\\:slide-in-from-bottom-full[data-state=open]{--tw-enter-translate-y: 100%}}@container (min-width: 28rem){.\\@md\\:absolute{position:absolute}.\\@md\\:w-\\[var\\(--radix-navigation-menu-viewport-width\\)\\]{width:var(--radix-navigation-menu-viewport-width)}.\\@md\\:w-auto{width:auto}.\\@md\\:max-w-\\[26\\.25rem\\]{max-width:26.25rem}}@container (min-width: 32rem){.\\@lg\\:block{display:block}.\\@lg\\:hidden{display:none}.\\@lg\\:px-3{padding-left:.75rem;padding-right:.75rem}}@container (min-width: 36rem){.\\@xl\\:flex-row{flex-direction:row}.\\@xl\\:space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}}@container (min-width: 780px){.\\@\\[780px\\]\\:block{display:block}.\\@\\[780px\\]\\:flex{display:flex}.\\@\\[780px\\]\\:hidden{display:none}}@container (min-width: 860px){.\\@\\[860px\\]\\:block{display:block}.\\@\\[860px\\]\\:pl-2{padding-left:.5rem}.\\@\\[860px\\]\\:pr-3{padding-right:.75rem}}@container (min-width: 940px){.\\@\\[940px\\]\\:flex{display:flex}}@container (min-width: 970px){.\\@\\[970px\\]\\:block{display:block}}@container (min-width: 1000px){.\\@\\[1000px\\]\\:w-\\[70cqw\\]{width:70cqw}}@container (min-width: 1060px){.\\@\\[1060px\\]\\:flex{display:flex}}@container (min-width: 1100px){.\\@\\[1100px\\]\\:block{display:block}.\\@\\[1100px\\]\\:px-3{padding-left:.75rem;padding-right:.75rem}}@container (min-width: 1200px){.\\@\\[1200px\\]\\:block{display:block}.\\@\\[1200px\\]\\:px-3{padding-left:.75rem;padding-right:.75rem}}.dark\\:bg-gray-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.dark\\:text-blue-400:is(.dark *){--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.\\[\\&\\+div\\]\\:text-xs+div{font-size:.75rem;line-height:1rem}.\\[\\&\\:\\:-webkit-inner-spin-button\\]\\:appearance-none::-webkit-inner-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none}.\\[\\&\\:\\:-webkit-outer-spin-button\\]\\:appearance-none::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none}.\\[\\&\\:has\\(button\\)\\]\\:hover\\:\\!bg-accent:hover:has(button){background-color:var(--accent, #1d283a)!important}.\\[\\&\\:has\\(button\\)\\]\\:hover\\:text-accent-foreground:hover:has(button){color:var(--accent-foreground, #f8fafc)}.\\[\\&\\:has\\(button\\)\\]\\:hover\\:aria-selected\\:\\!bg-primary[aria-selected=true]:hover:has(button){background-color:var(--primary, #f8fafc)!important}.\\[\\&\\:has\\(button\\)\\]\\:hover\\:aria-selected\\:text-primary-foreground[aria-selected=true]:hover:has(button){color:var(--primary-foreground, #020205)}.\\[\\&\\>\\*\\:last-child\\]\\:\\!mb-4>*:last-child{margin-bottom:1rem!important}.\\[\\&\\>\\*\\:last-child\\]\\:\\!mb-6>*:last-child{margin-bottom:1.5rem!important}.\\[\\&\\>\\*\\:last-child\\]\\:pb-2>*:last-child{padding-bottom:.5rem}.\\[\\&\\>\\*\\]\\:px-2>*{padding-left:.5rem;padding-right:.5rem}.\\[\\&\\>div\\]\\:h-full>div{height:100%}.\\[\\&\\>div\\]\\:max-h-\\[28\\.125rem\\]>div{max-height:28.125rem}.\\[\\&\\>div\\]\\:min-h-36>div{min-height:9rem}.\\[\\&\\>div\\]\\:w-full>div{width:100%}.\\[\\&\\>div\\]\\:min-w-\\[30\\.125rem\\]>div{min-width:30.125rem}.\\[\\&\\>div\\]\\:min-w-\\[30rem\\]>div{min-width:30rem}.\\[\\&\\>div\\]\\:max-w-\\[56\\.25rem\\]>div{max-width:56.25rem}.\\[\\&\\>pre\\>code\\]\\:h-full>pre>code{height:100%}.\\[\\&\\>pre\\>code\\]\\:\\!rounded-md>pre>code{border-radius:calc(var(--radius, .5rem) - 2px)!important}.\\[\\&\\>pre\\>code\\]\\:\\!p-2>pre>code{padding:.5rem!important}.\\[\\&\\>pre\\]\\:h-full>pre{height:100%}.\\[\\&\\>pre\\]\\:\\!p-0>pre{padding:0!important}.\\[\\&\\>pre\\]\\:\\!pb-0>pre{padding-bottom:0!important}.\\[\\&\\[data-panel-group-direction\\=vertical\\]\\>div\\]\\:rotate-90[data-panel-group-direction=vertical]>div{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&_\\.hljs-boolean\\]\\:\\!text-sql-boolean .hljs-boolean{color:var(--sql-boolean, #f8fafc)!important}.\\[\\&_\\.hljs-keyword\\]\\:\\!text-sql-keyword .hljs-keyword{color:var(--sql-keyword, #f8fafc)!important}.\\[\\&_\\.hljs-number\\]\\:\\!text-sql-number .hljs-number{color:var(--sql-number, #f8fafc)!important}.\\[\\&_\\.hljs-string\\]\\:\\!text-sql-string .hljs-string{color:var(--sql-string, #f8fafc)!important}.\\[\\&_\\.hljs-type\\]\\:\\!text-sql-keyword .hljs-type{color:var(--sql-keyword, #f8fafc)!important}.\\[\\&_\\.hljs-variable\\]\\:\\!text-sql-variable .hljs-variable{color:var(--sql-variable, #f8fafc)!important}.\\[\\&_\\.rdg-cell\\:first-child\\]\\:border-l .rdg-cell:first-child{border-left-width:1px}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:px-2 [cmdk-group-heading]{padding-left:.5rem;padding-right:.5rem}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:py-1\\.5 [cmdk-group-heading]{padding-top:.375rem;padding-bottom:.375rem}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:text-xs [cmdk-group-heading]{font-size:.75rem;line-height:1rem}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:font-medium [cmdk-group-heading]{font-weight:500}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:text-muted-foreground [cmdk-group-heading]{color:var(--muted-foreground, #7f8ea3)}.\\[\\&_\\[cmdk-group\\]\\:not\\(\\[hidden\\]\\)_\\~\\[cmdk-group\\]\\]\\:pt-0 [cmdk-group]:not([hidden])~[cmdk-group]{padding-top:0}.\\[\\&_\\[cmdk-group\\]\\]\\:px-2 [cmdk-group]{padding-left:.5rem;padding-right:.5rem}.\\[\\&_\\[cmdk-input-wrapper\\]_svg\\]\\:h-5 [cmdk-input-wrapper] svg{height:1.25rem}.\\[\\&_\\[cmdk-input-wrapper\\]_svg\\]\\:w-5 [cmdk-input-wrapper] svg{width:1.25rem}.\\[\\&_\\[cmdk-input\\]\\]\\:h-12 [cmdk-input]{height:3rem}.\\[\\&_\\[cmdk-item\\]\\]\\:px-2 [cmdk-item]{padding-left:.5rem;padding-right:.5rem}.\\[\\&_\\[cmdk-item\\]\\]\\:py-2 [cmdk-item]{padding-top:.5rem;padding-bottom:.5rem}.\\[\\&_\\[cmdk-item\\]_svg\\]\\:h-5 [cmdk-item] svg{height:1.25rem}.\\[\\&_\\[cmdk-item\\]_svg\\]\\:w-5 [cmdk-item] svg{width:1.25rem}.\\[\\&_\\[cmdk-list-sizer\\]\\]\\:flex [cmdk-list-sizer]{display:flex}.\\[\\&_\\[cmdk-list-sizer\\]\\]\\:min-h-0 [cmdk-list-sizer]{min-height:0px}.\\[\\&_\\[cmdk-list-sizer\\]\\]\\:grow [cmdk-list-sizer]{flex-grow:1}.\\[\\&_\\[cmdk-list-sizer\\]\\]\\:flex-col [cmdk-list-sizer]{flex-direction:column}.\\[\\&_\\[cmdk-root\\]\\]\\:outline-none [cmdk-root]{outline:2px solid transparent;outline-offset:2px}.\\[\\&_svg\\]\\:pointer-events-none svg{pointer-events:none}.\\[\\&_svg\\]\\:size-4 svg{width:1rem;height:1rem}.\\[\\&_svg\\]\\:shrink-0 svg{flex-shrink:0}`;var KG,XG=Zs;KG=XG.createRoot,XG.hydrateRoot;function OPe(t){var e;(e=this.shadowRoot)!=null&&e.host&&(this.shadowRoot.host.style.cssText=t)}function jd(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var IPe=["color"],Ql=y.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=jd(t,IPe);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),y.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),_Pe=["color"],LPe=y.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=jd(t,_Pe);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),y.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),DPe=["color"],MPe=y.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=jd(t,DPe);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),y.createElement("path",{d:"M7.49991 0.877045C3.84222 0.877045 0.877075 3.84219 0.877075 7.49988C0.877075 11.1575 3.84222 14.1227 7.49991 14.1227C11.1576 14.1227 14.1227 11.1575 14.1227 7.49988C14.1227 3.84219 11.1576 0.877045 7.49991 0.877045ZM1.82708 7.49988C1.82708 4.36686 4.36689 1.82704 7.49991 1.82704C10.6329 1.82704 13.1727 4.36686 13.1727 7.49988C13.1727 10.6329 10.6329 13.1727 7.49991 13.1727C4.36689 13.1727 1.82708 10.6329 1.82708 7.49988ZM10.1589 5.53774C10.3178 5.31191 10.2636 5.00001 10.0378 4.84109C9.81194 4.68217 9.50004 4.73642 9.34112 4.96225L6.51977 8.97154L5.35681 7.78706C5.16334 7.59002 4.84677 7.58711 4.64973 7.78058C4.45268 7.97404 4.44978 8.29061 4.64325 8.48765L6.22658 10.1003C6.33054 10.2062 6.47617 10.2604 6.62407 10.2483C6.77197 10.2363 6.90686 10.1591 6.99226 10.0377L10.1589 5.53774Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),PPe=["color"],kPe=y.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=jd(t,PPe);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),y.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),UPe=["color"],jPe=y.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=jd(t,UPe);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),y.createElement("path",{d:"M0.877075 7.49988C0.877075 3.84219 3.84222 0.877045 7.49991 0.877045C11.1576 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49988ZM7.49991 1.82704C4.36689 1.82704 1.82708 4.36686 1.82708 7.49988C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49988C13.1727 4.36686 10.6329 1.82704 7.49991 1.82704ZM9.85358 5.14644C10.0488 5.3417 10.0488 5.65829 9.85358 5.85355L8.20713 7.49999L9.85358 9.14644C10.0488 9.3417 10.0488 9.65829 9.85358 9.85355C9.65832 10.0488 9.34173 10.0488 9.14647 9.85355L7.50002 8.2071L5.85358 9.85355C5.65832 10.0488 5.34173 10.0488 5.14647 9.85355C4.95121 9.65829 4.95121 9.3417 5.14647 9.14644L6.79292 7.49999L5.14647 5.85355C4.95121 5.65829 4.95121 5.3417 5.14647 5.14644C5.34173 4.95118 5.65832 4.95118 5.85358 5.14644L7.50002 6.79289L9.14647 5.14644C9.34173 4.95118 9.65832 4.95118 9.85358 5.14644Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),BPe=["color"],Yf=y.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=jd(t,BPe);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),y.createElement("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),FPe=["color"],HPe=y.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=jd(t,FPe);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),y.createElement("path",{d:"M8 2H12.5C12.7761 2 13 2.22386 13 2.5V5H8V2ZM7 5V2H2.5C2.22386 2 2 2.22386 2 2.5V5H7ZM2 6V9H7V6H2ZM8 6H13V9H8V6ZM8 10H13V12.5C13 12.7761 12.7761 13 12.5 13H8V10ZM2 12.5V10H7V13H2.5C2.22386 13 2 12.7761 2 12.5ZM1 2.5C1 1.67157 1.67157 1 2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))});function tt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function $Pe(t,e){const r=y.createContext(e),n=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return u.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function s(i){const o=y.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function fi(t,e=[]){let r=[];function n(i,o){const a=y.createContext(o),l=r.length;r=[...r,o];const c=h=>{var T;const{scope:m,children:f,...p}=h,E=((T=m==null?void 0:m[t])==null?void 0:T[l])||a,g=y.useMemo(()=>p,Object.values(p));return u.jsx(E.Provider,{value:g,children:f})};c.displayName=i+"Provider";function d(h,m){var E;const f=((E=m==null?void 0:m[t])==null?void 0:E[l])||a,p=y.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=r.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,GPe(s,...e)]}function GPe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function ig(t){const e=t+"CollectionProvider",[r,n]=fi(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:g,children:T}=E,S=Fe.useRef(null),v=Fe.useRef(new Map).current;return u.jsx(s,{scope:g,itemMap:v,collectionRef:S,children:T})};o.displayName=e;const a=t+"CollectionSlot",l=Fc(a),c=Fe.forwardRef((E,g)=>{const{scope:T,children:S}=E,v=i(a,T),N=Ht(g,v.collectionRef);return u.jsx(l,{ref:N,children:S})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=Fc(d),f=Fe.forwardRef((E,g)=>{const{scope:T,children:S,...v}=E,N=Fe.useRef(null),C=Ht(g,N),x=i(d,T);return Fe.useEffect(()=>(x.itemMap.set(N,{ref:N,...v}),()=>void x.itemMap.delete(N))),u.jsx(m,{[h]:"",ref:C,children:S})});f.displayName=d;function p(E){const g=i(t+"CollectionConsumer",E);return Fe.useCallback(()=>{const S=g.collectionRef.current;if(!S)return[];const v=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((x,A)=>v.indexOf(x.ref.current)-v.indexOf(A.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},p,n]}var VPe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Et=VPe.reduce((t,e)=>{const r=Fc(`Primitive.${e}`),n=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Y_(t,e){t&&Zs.flushSync(()=>t.dispatchEvent(e))}function In(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function zPe(t,e=globalThis==null?void 0:globalThis.document){const r=In(t);y.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var WPe="DismissableLayer",q_="dismissableLayer.update",YPe="dismissableLayer.pointerDownOutside",qPe="dismissableLayer.focusOutside",QG,JG=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bd=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(JG),[d,h]=y.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=y.useState({}),p=Ht(e,A=>h(A)),E=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),T=E.indexOf(g),S=d?E.indexOf(d):-1,v=c.layersWithOutsidePointerEventsDisabled.size>0,N=S>=T,C=XPe(A=>{const b=A.target,_=[...c.branches].some(U=>U.contains(b));!N||_||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},m),x=QPe(A=>{const b=A.target;[...c.branches].some(U=>U.contains(b))||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},m);return zPe(A=>{S===c.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},m),y.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(QG=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),eV(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=QG)}},[d,m,r,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),eV())},[d,c]),y.useEffect(()=>{const A=()=>f({});return document.addEventListener(q_,A),()=>document.removeEventListener(q_,A)},[]),u.jsx(Et.div,{...l,ref:p,style:{pointerEvents:v?N?"auto":"none":void 0,...t.style},onFocusCapture:tt(t.onFocusCapture,x.onFocusCapture),onBlurCapture:tt(t.onBlurCapture,x.onBlurCapture),onPointerDownCapture:tt(t.onPointerDownCapture,C.onPointerDownCapture)})});Bd.displayName=WPe;var KPe="DismissableLayerBranch",ZG=y.forwardRef((t,e)=>{const r=y.useContext(JG),n=y.useRef(null),s=Ht(e,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),u.jsx(Et.div,{...t,ref:s})});ZG.displayName=KPe;function XPe(t,e=globalThis==null?void 0:globalThis.document){const r=In(t),n=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){tV(YPe,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function QPe(t,e=globalThis==null?void 0:globalThis.document){const r=In(t),n=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!n.current&&tV(qPe,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function eV(){const t=new CustomEvent(q_);document.dispatchEvent(t)}function tV(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Y_(s,i):s.dispatchEvent(i)}var JPe=Bd,ZPe=ZG,vs=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},eke="Portal",Fd=y.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,i]=y.useState(!1);vs(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?BDe.createPortal(u.jsx(Et.div,{...n,ref:e}),o):null});Fd.displayName=eke;function tke(t,e){return y.useReducer((r,n)=>e[r][n]??r,t)}var ns=t=>{const{present:e,children:r}=t,n=rke(e),s=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=Ht(n.ref,nke(s));return typeof r=="function"||n.isPresent?y.cloneElement(s,{ref:i}):null};ns.displayName="Presence";function rke(t){const[e,r]=y.useState(),n=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=tke(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=xy(n.current);i.current=a==="mounted"?c:"none"},[a]),vs(()=>{const c=n.current,d=s.current;if(d!==t){const m=i.current,f=xy(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&m!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),vs(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=f=>{const E=xy(n.current).includes(f.animationName);if(f.target===e&&E&&(l("ANIMATION_END"),!s.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},m=f=>{f.target===e&&(i.current=xy(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function xy(t){return(t==null?void 0:t.animationName)||"none"}function nke(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var ske=Zb[" useInsertionEffect ".trim().toString()]||vs;function Do({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,i,o]=ike({defaultProp:e,onChange:r}),a=t!==void 0,l=a?t:s;{const d=y.useRef(t!==void 0);y.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const c=y.useCallback(d=>{var h;if(a){const m=oke(d)?d(t):d;m!==t&&((h=o.current)==null||h.call(o,m))}else i(d)},[a,t,i,o]);return[l,c]}function ike({defaultProp:t,onChange:e}){const[r,n]=y.useState(t),s=y.useRef(r),i=y.useRef(e);return ske(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function oke(t){return typeof t=="function"}var rV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ake="VisuallyHidden",wy=y.forwardRef((t,e)=>u.jsx(Et.span,{...t,ref:e,style:{...rV,...t.style}}));wy.displayName=ake;var lke=wy,K_="ToastProvider",[X_,cke,uke]=ig("Toast"),[nV,cst]=fi("Toast",[uke]),[dke,Oy]=nV(K_),sV=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[c,d]=y.useState(0),h=y.useRef(!1),m=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${K_}\`. Expected non-empty \`string\`.`),u.jsx(X_.Provider,{scope:e,children:u.jsx(dke,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(f=>f+1),[]),onToastRemove:y.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};sV.displayName=K_;var iV="ToastViewport",hke=["F8"],Q_="toast.viewportPause",J_="toast.viewportResume",oV=y.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=hke,label:s="Notifications ({hotkey})",...i}=t,o=Oy(iV,r),a=cke(r),l=y.useRef(null),c=y.useRef(null),d=y.useRef(null),h=y.useRef(null),m=Ht(e,h,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;y.useEffect(()=>{const g=T=>{var v;n.length!==0&&n.every(N=>T[N]||T.code===N)&&((v=h.current)==null||v.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),y.useEffect(()=>{const g=l.current,T=h.current;if(p&&g&&T){const S=()=>{if(!o.isClosePausedRef.current){const x=new CustomEvent(Q_);T.dispatchEvent(x),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const x=new CustomEvent(J_);T.dispatchEvent(x),o.isClosePausedRef.current=!1}},N=x=>{!g.contains(x.relatedTarget)&&v()},C=()=>{g.contains(document.activeElement)||v()};return g.addEventListener("focusin",S),g.addEventListener("focusout",N),g.addEventListener("pointermove",S),g.addEventListener("pointerleave",C),window.addEventListener("blur",S),window.addEventListener("focus",v),()=>{g.removeEventListener("focusin",S),g.removeEventListener("focusout",N),g.removeEventListener("pointermove",S),g.removeEventListener("pointerleave",C),window.removeEventListener("blur",S),window.removeEventListener("focus",v)}}},[p,o.isClosePausedRef]);const E=y.useCallback(({tabbingDirection:g})=>{const S=a().map(v=>{const N=v.ref.current,C=[N,...bke(N)];return g==="forwards"?C:C.reverse()});return(g==="forwards"?S.reverse():S).flat()},[a]);return y.useEffect(()=>{const g=h.current;if(g){const T=S=>{var C,x,A;const v=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!v){const b=document.activeElement,_=S.shiftKey;if(S.target===g&&_){(C=c.current)==null||C.focus();return}const L=E({tabbingDirection:_?"backwards":"forwards"}),P=L.findIndex(I=>I===b);tL(L.slice(P+1))?S.preventDefault():_?(x=c.current)==null||x.focus():(A=d.current)==null||A.focus()}};return g.addEventListener("keydown",T),()=>g.removeEventListener("keydown",T)}},[a,E]),u.jsxs(ZPe,{ref:l,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&u.jsx(Z_,{ref:c,onFocusFromOutsideViewport:()=>{const g=E({tabbingDirection:"forwards"});tL(g)}}),u.jsx(X_.Slot,{scope:r,children:u.jsx(Et.ol,{tabIndex:-1,...i,ref:m})}),p&&u.jsx(Z_,{ref:d,onFocusFromOutsideViewport:()=>{const g=E({tabbingDirection:"backwards"});tL(g)}})]})});oV.displayName=iV;var aV="ToastFocusProxy",Z_=y.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=Oy(aV,r);return u.jsx(wy,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&n()}})});Z_.displayName=aV;var og="Toast",fke="toast.swipeStart",mke="toast.swipeMove",pke="toast.swipeCancel",Eke="toast.swipeEnd",lV=y.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Do({prop:n,defaultProp:s??!0,onChange:i,caller:og});return u.jsx(ns,{present:r||a,children:u.jsx(Ske,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:In(t.onPause),onResume:In(t.onResume),onSwipeStart:tt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:tt(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:tt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:tt(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});lV.displayName=og;var[gke,Tke]=nV(og,{onClose(){}}),Ske=y.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:f,...p}=t,E=Oy(og,r),[g,T]=y.useState(null),S=Ht(e,I=>T(I)),v=y.useRef(null),N=y.useRef(null),C=s||E.duration,x=y.useRef(0),A=y.useRef(C),b=y.useRef(0),{onToastAdd:_,onToastRemove:U}=E,j=In(()=>{var F;(g==null?void 0:g.contains(document.activeElement))&&((F=E.viewport)==null||F.focus()),o()}),L=y.useCallback(I=>{!I||I===1/0||(window.clearTimeout(b.current),x.current=new Date().getTime(),b.current=window.setTimeout(j,I))},[j]);y.useEffect(()=>{const I=E.viewport;if(I){const F=()=>{L(A.current),c==null||c()},W=()=>{const Y=new Date().getTime()-x.current;A.current=A.current-Y,window.clearTimeout(b.current),l==null||l()};return I.addEventListener(Q_,W),I.addEventListener(J_,F),()=>{I.removeEventListener(Q_,W),I.removeEventListener(J_,F)}}},[E.viewport,C,l,c,L]),y.useEffect(()=>{i&&!E.isClosePausedRef.current&&L(C)},[i,C,E.isClosePausedRef,L]),y.useEffect(()=>(_(),()=>U()),[_,U]);const P=y.useMemo(()=>g?pV(g):null,[g]);return E.viewport?u.jsxs(u.Fragment,{children:[P&&u.jsx(vke,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),u.jsx(gke,{scope:r,onClose:j,children:Zs.createPortal(u.jsx(X_.ItemSlot,{scope:r,children:u.jsx(JPe,{asChild:!0,onEscapeKeyDown:tt(a,()=>{E.isFocusedToastEscapeKeyDownRef.current||j(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Et.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":E.swipeDirection,...p,ref:S,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:tt(t.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:tt(t.onPointerDown,I=>{I.button===0&&(v.current={x:I.clientX,y:I.clientY})}),onPointerMove:tt(t.onPointerMove,I=>{if(!v.current)return;const F=I.clientX-v.current.x,W=I.clientY-v.current.y,Y=!!N.current,k=["left","right"].includes(E.swipeDirection),V=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,re=k?V(0,F):0,K=k?0:V(0,W),B=I.pointerType==="touch"?10:2,X={x:re,y:K},J={originalEvent:I,delta:X};Y?(N.current=X,Iy(mke,h,J,{discrete:!1})):EV(X,E.swipeDirection,B)?(N.current=X,Iy(fke,d,J,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(F)>B||Math.abs(W)>B)&&(v.current=null)}),onPointerUp:tt(t.onPointerUp,I=>{const F=N.current,W=I.target;if(W.hasPointerCapture(I.pointerId)&&W.releasePointerCapture(I.pointerId),N.current=null,v.current=null,F){const Y=I.currentTarget,k={originalEvent:I,delta:F};EV(F,E.swipeDirection,E.swipeThreshold)?Iy(Eke,f,k,{discrete:!0}):Iy(pke,m,k,{discrete:!0}),Y.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),vke=t=>{const{__scopeToast:e,children:r,...n}=t,s=Oy(og,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return Rke(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Fd,{asChild:!0,children:u.jsx(wy,{...n,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",r]})})})},yke="ToastTitle",cV=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(Et.div,{...n,ref:e})});cV.displayName=yke;var Ake="ToastDescription",uV=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(Et.div,{...n,ref:e})});uV.displayName=Ake;var dV="ToastAction",hV=y.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?u.jsx(mV,{altText:r,asChild:!0,children:u.jsx(eL,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${dV}\`. Expected non-empty \`string\`.`),null)});hV.displayName=dV;var fV="ToastClose",eL=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=Tke(fV,r);return u.jsx(mV,{asChild:!0,children:u.jsx(Et.button,{type:"button",...n,ref:e,onClick:tt(t.onClick,s.onClose)})})});eL.displayName=fV;var mV=y.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return u.jsx(Et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function pV(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Nke(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...pV(n))}}),e}function Iy(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Y_(s,i):s.dispatchEvent(i)}var EV=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function Rke(t=()=>{}){const e=In(t);vs(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Nke(t){return t.nodeType===t.ELEMENT_NODE}function bke(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function tL(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Cke=sV,gV=oV,TV=lV,SV=cV,vV=uV,yV=hV,AV=eL;const _y=Cke,ag=y.forwardRef(({className:t,...e},r)=>u.jsx(gV,{ref:r,className:z("z-popover fixed top-0 flex max-h-screen w-full flex-col-reverse p-4 @sm:bottom-0 @sm:right-0 @sm:top-auto @sm:flex-col @md:max-w-[26.25rem]",t),...e}));ag.displayName=gV.displayName;const xke=i0("data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:@sm:slide-in-from-bottom-full group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none",{variants:{variant:{default:"bg-background text-foreground border",destructive:"destructive border-destructive bg-destructive text-destructive-foreground group"}},defaultVariants:{variant:"default"}}),lg=y.forwardRef(({className:t,variant:e,...r},n)=>u.jsx(TV,{ref:n,className:z(xke({variant:e}),t),...r}));lg.displayName=TV.displayName;const Ly=y.forwardRef(({className:t,...e},r)=>u.jsx(yV,{ref:r,className:z("group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 hover:bg-secondary focus:ring-ring group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors focus:!outline-none focus:ring-1 disabled:pointer-events-none disabled:opacity-50",t),...e}));Ly.displayName=yV.displayName;const RV=y.forwardRef(({className:t,...e},r)=>u.jsx(AV,{ref:r,className:z("text-foreground/50 hover:text-foreground absolute right-1 top-1 rounded-md p-1 opacity-0 transition-opacity focus:opacity-100 focus:!outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(kPe,{className:"h-4 w-4"})}));RV.displayName=AV.displayName;const cg=y.forwardRef(({className:t,...e},r)=>u.jsx(SV,{ref:r,className:z("text-sm font-semibold [&+div]:text-xs",t),...e}));cg.displayName=SV.displayName;const NV=y.forwardRef(({className:t,...e},r)=>u.jsx(vV,{ref:r,className:z("text-sm opacity-90",t),...e}));NV.displayName=vV.displayName;const bV={loading:{icon:u.jsx(jn,{}),text:"Installing theme..."},error:{icon:u.jsx(jPe,{className:"h-5 w-5"}),text:"Failed to install theme."},success:{icon:u.jsx(MPe,{className:"h-5 w-5"}),text:"Theme installed successfully!"}},wke=()=>{const{themeToast:t}=Is();return y.useEffect(()=>{if(t.isShown){const e=setTimeout(()=>{Is.setState({themeToast:{isShown:!1,status:t.status}})},1e3);return()=>clearTimeout(e)}},[t]),u.jsxs(_y,{children:[u.jsx(lg,{open:t.isShown,className:"flex justify-between px-4 py-3",children:u.jsxs(cg,{className:"mr-4 flex grow gap-2",children:[bV[t.status].icon,u.jsx("div",{className:"flex grow",children:u.jsx("div",{className:"flex flex-1 justify-between",children:bV[t.status].text})})]})}),u.jsx(ag,{style:{width:"fit-content"}})]})},Oke=1,Ike=1e6;let rL=0;function _ke(){return rL=(rL+1)%Number.MAX_VALUE,rL.toString()}const nL=new Map,CV=t=>{if(nL.has(t))return;const e=setTimeout(()=>{nL.delete(t),ug({type:"REMOVE_TOAST",toastId:t})},Ike);nL.set(t,e)},Lke=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Oke)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?CV(r):t.toasts.forEach(n=>{CV(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Dy=[];let My={toasts:[]};function ug(t){My=Lke(My,t),Dy.forEach(e=>{e(My)})}function sL({...t}){const e=_ke(),r=s=>ug({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>ug({type:"DISMISS_TOAST",toastId:e});return ug({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function xV(){const[t,e]=y.useState(My);return y.useEffect(()=>(Dy.push(e),()=>{const r=Dy.indexOf(e);r>-1&&Dy.splice(r,1)}),[t]),{...t,toast:sL,dismiss:r=>ug({type:"DISMISS_TOAST",toastId:r})}}function Dke(){const{toasts:t}=xV();return u.jsxs(_y,{children:[t.map(function({id:e,title:r,isError:n,description:s,withCloseButton:i,action:o,...a}){return u.jsxs(lg,{...a,className:"top-0",children:[n&&u.jsx(TLe,{className:"mr-2 h-9 w-9 text-red-500"}),u.jsxs("div",{className:"grid gap-1",children:[r&&u.jsx(cg,{children:r}),s&&u.jsx(NV,{children:s})]}),i?u.jsx(Ly,{altText:"Close",asChild:!0,children:u.jsx(Le,{variant:"ghost",className:"h-7 w-7 p-1",children:u.jsx(Ji,{className:"h-3 w-3"})})}):o,!i&&u.jsx(RV,{})]},e)}),u.jsx(ag,{className:"!top-0"})]})}var Mke=Zb[" useId ".trim().toString()]||(()=>{}),Pke=0;function ys(t){const[e,r]=y.useState(Mke());return vs(()=>{r(n=>n??String(Pke++))},[t]),e?`radix-${e}`:""}const kke=["top","right","bottom","left"],lu=Math.min,io=Math.max,Py=Math.round,ky=Math.floor,Qa=t=>({x:t,y:t}),Uke={left:"right",right:"left",bottom:"top",top:"bottom"},jke={start:"end",end:"start"};function iL(t,e,r){return io(t,lu(e,r))}function Jl(t,e){return typeof t=="function"?t(e):t}function Zl(t){return t.split("-")[0]}function qf(t){return t.split("-")[1]}function oL(t){return t==="x"?"y":"x"}function aL(t){return t==="y"?"height":"width"}function ec(t){return["top","bottom"].includes(Zl(t))?"y":"x"}function lL(t){return oL(ec(t))}function Bke(t,e,r){r===void 0&&(r=!1);const n=qf(t),s=lL(t),i=aL(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Uy(o)),[o,Uy(o)]}function Fke(t){const e=Uy(t);return[cL(t),e,cL(e)]}function cL(t){return t.replace(/start|end/g,e=>jke[e])}function Hke(t,e,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?i:o;default:return[]}}function $ke(t,e,r,n){const s=qf(t);let i=Hke(Zl(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(cL)))),i}function Uy(t){return t.replace(/left|right|bottom|top/g,e=>Uke[e])}function Gke(t){return{top:0,right:0,bottom:0,left:0,...t}}function wV(t){return typeof t!="number"?Gke(t):{top:t,right:t,bottom:t,left:t}}function jy(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function OV(t,e,r){let{reference:n,floating:s}=t;const i=ec(e),o=lL(e),a=aL(o),l=Zl(e),c=i==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,m=n[a]/2-s[a]/2;let f;switch(l){case"top":f={x:d,y:n.y-s.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-s.width,y:h};break;default:f={x:n.x,y:n.y}}switch(qf(e)){case"start":f[o]-=m*(r&&c?-1:1);break;case"end":f[o]+=m*(r&&c?-1:1);break}return f}const Vke=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=OV(c,n,l),m=n,f={},p=0;for(let E=0;E<a.length;E++){const{name:g,fn:T}=a[E],{x:S,y:v,data:N,reset:C}=await T({x:d,y:h,initialPlacement:n,placement:m,strategy:s,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});d=S??d,h=v??h,f={...f,[g]:{...f[g],...N}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:d,y:h}=OV(c,m,l)),E=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:f}};async function dg(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=Jl(e,t),p=wV(f),g=a[m?h==="floating"?"reference":"floating":h],T=jy(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),S=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},C=jy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:v,strategy:l}):S);return{top:(T.top-C.top+p.top)/N.y,bottom:(C.bottom-T.bottom+p.bottom)/N.y,left:(T.left-C.left+p.left)/N.x,right:(C.right-T.right+p.right)/N.x}}const zke=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Jl(t,e)||{};if(c==null)return{};const h=wV(d),m={x:r,y:n},f=lL(s),p=aL(f),E=await o.getDimensions(c),g=f==="y",T=g?"top":"left",S=g?"bottom":"right",v=g?"clientHeight":"clientWidth",N=i.reference[p]+i.reference[f]-m[f]-i.floating[p],C=m[f]-i.reference[f],x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=x?x[v]:0;(!A||!await(o.isElement==null?void 0:o.isElement(x)))&&(A=a.floating[v]||i.floating[p]);const b=N/2-C/2,_=A/2-E[p]/2-1,U=lu(h[T],_),j=lu(h[S],_),L=U,P=A-E[p]-j,I=A/2-E[p]/2+b,F=iL(L,I,P),W=!l.arrow&&qf(s)!=null&&I!==F&&i.reference[p]/2-(I<L?U:j)-E[p]/2<0,Y=W?I<L?I-L:I-P:0;return{[f]:m[f]+Y,data:{[f]:F,centerOffset:I-F-Y,...W&&{alignmentOffset:Y}},reset:W}}}),Wke=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:E=!0,...g}=Jl(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const T=Zl(s),S=ec(a),v=Zl(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=m||(v||!E?[Uy(a)]:Fke(a)),x=p!=="none";!m&&x&&C.push(...$ke(a,E,p,N));const A=[a,...C],b=await dg(e,g),_=[];let U=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&_.push(b[T]),h){const F=Bke(s,o,N);_.push(b[F[0]],b[F[1]])}if(U=[...U,{placement:s,overflows:_}],!_.every(F=>F<=0)){var j,L;const F=(((j=i.flip)==null?void 0:j.index)||0)+1,W=A[F];if(W){var P;const k=h==="alignment"?S!==ec(W):!1,V=((P=U[0])==null?void 0:P.overflows[0])>0;if(!k||V)return{data:{index:F,overflows:U},reset:{placement:W}}}let Y=(L=U.filter(k=>k.overflows[0]<=0).sort((k,V)=>k.overflows[1]-V.overflows[1])[0])==null?void 0:L.placement;if(!Y)switch(f){case"bestFit":{var I;const k=(I=U.filter(V=>{if(x){const re=ec(V.placement);return re===S||re==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(re=>re>0).reduce((re,K)=>re+K,0)]).sort((V,re)=>V[1]-re[1])[0])==null?void 0:I[0];k&&(Y=k);break}case"initialPlacement":Y=a;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function IV(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _V(t){return kke.some(e=>t[e]>=0)}const Yke=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Jl(t,e);switch(n){case"referenceHidden":{const i=await dg(e,{...s,elementContext:"reference"}),o=IV(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_V(o)}}}case"escaped":{const i=await dg(e,{...s,altBoundary:!0}),o=IV(i,r.floating);return{data:{escapedOffsets:o,escaped:_V(o)}}}default:return{}}}}};async function qke(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Zl(r),a=qf(r),l=ec(r)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=Jl(e,t);let{mainAxis:m,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*d,y:m*c}:{x:m*c,y:f*d}}const Kke=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await qke(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},Xke=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:T,y:S}=g;return{x:T,y:S}}},...l}=Jl(t,e),c={x:r,y:n},d=await dg(e,l),h=ec(Zl(s)),m=oL(h);let f=c[m],p=c[h];if(i){const g=m==="y"?"top":"left",T=m==="y"?"bottom":"right",S=f+d[g],v=f-d[T];f=iL(S,f,v)}if(o){const g=h==="y"?"top":"left",T=h==="y"?"bottom":"right",S=p+d[g],v=p-d[T];p=iL(S,p,v)}const E=a.fn({...e,[m]:f,[h]:p});return{...E,data:{x:E.x-r,y:E.y-n,enabled:{[m]:i,[h]:o}}}}}},Qke=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Jl(t,e),d={x:r,y:n},h=ec(s),m=oL(h);let f=d[m],p=d[h];const E=Jl(a,e),g=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(l){const v=m==="y"?"height":"width",N=i.reference[m]-i.floating[v]+g.mainAxis,C=i.reference[m]+i.reference[v]-g.mainAxis;f<N?f=N:f>C&&(f=C)}if(c){var T,S;const v=m==="y"?"width":"height",N=["top","left"].includes(Zl(s)),C=i.reference[h]-i.floating[v]+(N&&((T=o.offset)==null?void 0:T[h])||0)+(N?0:g.crossAxis),x=i.reference[h]+i.reference[v]+(N?0:((S=o.offset)==null?void 0:S[h])||0)-(N?g.crossAxis:0);p<C?p=C:p>x&&(p=x)}return{[m]:f,[h]:p}}}},Jke=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Jl(t,e),d=await dg(e,c),h=Zl(s),m=qf(s),f=ec(s)==="y",{width:p,height:E}=i.floating;let g,T;h==="top"||h==="bottom"?(g=h,T=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(T=h,g=m==="end"?"top":"bottom");const S=E-d.top-d.bottom,v=p-d.left-d.right,N=lu(E-d[g],S),C=lu(p-d[T],v),x=!e.middlewareData.shift;let A=N,b=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(b=v),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(A=S),x&&!m){const U=io(d.left,0),j=io(d.right,0),L=io(d.top,0),P=io(d.bottom,0);f?b=p-2*(U!==0||j!==0?U+j:io(d.left,d.right)):A=E-2*(L!==0||P!==0?L+P:io(d.top,d.bottom))}await l({...e,availableWidth:b,availableHeight:A});const _=await o.getDimensions(a.floating);return p!==_.width||E!==_.height?{reset:{rects:!0}}:{}}}};function By(){return typeof window<"u"}function Kf(t){return LV(t)?(t.nodeName||"").toLowerCase():"#document"}function oo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ja(t){var e;return(e=(LV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function LV(t){return By()?t instanceof Node||t instanceof oo(t).Node:!1}function fa(t){return By()?t instanceof Element||t instanceof oo(t).Element:!1}function Za(t){return By()?t instanceof HTMLElement||t instanceof oo(t).HTMLElement:!1}function DV(t){return!By()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof oo(t).ShadowRoot}function hg(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=ma(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function Zke(t){return["table","td","th"].includes(Kf(t))}function Fy(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function uL(t){const e=dL(),r=fa(t)?ma(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function e5e(t){let e=cu(t);for(;Za(e)&&!Xf(e);){if(uL(e))return e;if(Fy(e))return null;e=cu(e)}return null}function dL(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xf(t){return["html","body","#document"].includes(Kf(t))}function ma(t){return oo(t).getComputedStyle(t)}function Hy(t){return fa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function cu(t){if(Kf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||DV(t)&&t.host||Ja(t);return DV(e)?e.host:e}function MV(t){const e=cu(t);return Xf(e)?t.ownerDocument?t.ownerDocument.body:t.body:Za(e)&&hg(e)?e:MV(e)}function fg(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=MV(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=oo(s);if(i){const a=hL(o);return e.concat(o,o.visualViewport||[],hg(s)?s:[],a&&r?fg(a):[])}return e.concat(s,fg(s,[],r))}function hL(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function PV(t){const e=ma(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Za(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,a=Py(r)!==i||Py(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function fL(t){return fa(t)?t:t.contextElement}function Qf(t){const e=fL(t);if(!Za(e))return Qa(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=PV(e);let o=(i?Py(r.width):r.width)/n,a=(i?Py(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const t5e=Qa(0);function kV(t){const e=oo(t);return!dL()||!e.visualViewport?t5e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function r5e(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==oo(t)?!1:e}function Hd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=fL(t);let o=Qa(1);e&&(n?fa(n)&&(o=Qf(n)):o=Qf(t));const a=r5e(i,r,n)?kV(i):Qa(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const m=oo(i),f=n&&fa(n)?oo(n):n;let p=m,E=hL(p);for(;E&&n&&f!==p;){const g=Qf(E),T=E.getBoundingClientRect(),S=ma(E),v=T.left+(E.clientLeft+parseFloat(S.paddingLeft))*g.x,N=T.top+(E.clientTop+parseFloat(S.paddingTop))*g.y;l*=g.x,c*=g.y,d*=g.x,h*=g.y,l+=v,c+=N,p=oo(E),E=hL(p)}}return jy({width:d,height:h,x:l,y:c})}function mL(t,e){const r=Hy(t).scrollLeft;return e?e.left+r:Hd(Ja(t)).left+r}function UV(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:mL(t,n)),i=n.top+e.scrollTop;return{x:s,y:i}}function n5e(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=Ja(n),a=e?Fy(e.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},c=Qa(1);const d=Qa(0),h=Za(n);if((h||!h&&!i)&&((Kf(n)!=="body"||hg(o))&&(l=Hy(n)),Za(n))){const f=Hd(n);c=Qf(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const m=o&&!h&&!i?UV(o,l,!0):Qa(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:r.y*c.y-l.scrollTop*c.y+d.y+m.y}}function s5e(t){return Array.from(t.getClientRects())}function i5e(t){const e=Ja(t),r=Hy(t),n=t.ownerDocument.body,s=io(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=io(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+mL(t);const a=-r.scrollTop;return ma(n).direction==="rtl"&&(o+=io(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function o5e(t,e){const r=oo(t),n=Ja(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=dL();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function a5e(t,e){const r=Hd(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=Za(t)?Qf(t):Qa(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=n*i.y;return{width:o,height:a,x:l,y:c}}function jV(t,e,r){let n;if(e==="viewport")n=o5e(t,r);else if(e==="document")n=i5e(Ja(t));else if(fa(e))n=a5e(e,r);else{const s=kV(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return jy(n)}function BV(t,e){const r=cu(t);return r===e||!fa(r)||Xf(r)?!1:ma(r).position==="fixed"||BV(r,e)}function l5e(t,e){const r=e.get(t);if(r)return r;let n=fg(t,[],!1).filter(a=>fa(a)&&Kf(a)!=="body"),s=null;const i=ma(t).position==="fixed";let o=i?cu(t):t;for(;fa(o)&&!Xf(o);){const a=ma(o),l=uL(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||hg(o)&&!l&&BV(t,o))?n=n.filter(d=>d!==o):s=a,o=cu(o)}return e.set(t,n),n}function c5e(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?Fy(e)?[]:l5e(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,d)=>{const h=jV(e,d,s);return c.top=io(h.top,c.top),c.right=lu(h.right,c.right),c.bottom=lu(h.bottom,c.bottom),c.left=io(h.left,c.left),c},jV(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function u5e(t){const{width:e,height:r}=PV(t);return{width:e,height:r}}function d5e(t,e,r){const n=Za(e),s=Ja(e),i=r==="fixed",o=Hd(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Qa(0);function c(){l.x=mL(s)}if(n||!n&&!i)if((Kf(e)!=="body"||hg(s))&&(a=Hy(e)),n){const f=Hd(e,!0,i,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else s&&c();i&&!n&&s&&c();const d=s&&!n&&!i?UV(s,a):Qa(0),h=o.left+a.scrollLeft-l.x-d.x,m=o.top+a.scrollTop-l.y-d.y;return{x:h,y:m,width:o.width,height:o.height}}function pL(t){return ma(t).position==="static"}function FV(t,e){if(!Za(t)||ma(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ja(t)===r&&(r=r.ownerDocument.body),r}function HV(t,e){const r=oo(t);if(Fy(t))return r;if(!Za(t)){let s=cu(t);for(;s&&!Xf(s);){if(fa(s)&&!pL(s))return s;s=cu(s)}return r}let n=FV(t,e);for(;n&&Zke(n)&&pL(n);)n=FV(n,e);return n&&Xf(n)&&pL(n)&&!uL(n)?r:n||e5e(t)||r}const h5e=async function(t){const e=this.getOffsetParent||HV,r=this.getDimensions,n=await r(t.floating);return{reference:d5e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function f5e(t){return ma(t).direction==="rtl"}const m5e={convertOffsetParentRelativeRectToViewportRelativeRect:n5e,getDocumentElement:Ja,getClippingRect:c5e,getOffsetParent:HV,getElementRects:h5e,getClientRects:s5e,getDimensions:u5e,getScale:Qf,isElement:fa,isRTL:f5e};function $V(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function p5e(t,e){let r=null,n;const s=Ja(t);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:m,height:f}=c;if(a||e(),!m||!f)return;const p=ky(h),E=ky(s.clientWidth-(d+m)),g=ky(s.clientHeight-(h+f)),T=ky(d),v={rootMargin:-p+"px "+-E+"px "+-g+"px "+-T+"px",threshold:io(0,lu(1,l))||1};let N=!0;function C(x){const A=x[0].intersectionRatio;if(A!==l){if(!N)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!$V(c,t.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(C,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,v)}r.observe(t)}return o(!0),i}function GV(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=fL(t),d=s||i?[...c?fg(c):[],...fg(e)]:[];d.forEach(T=>{s&&T.addEventListener("scroll",r,{passive:!0}),i&&T.addEventListener("resize",r)});const h=c&&a?p5e(c,r):null;let m=-1,f=null;o&&(f=new ResizeObserver(T=>{let[S]=T;S&&S.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=f)==null||v.observe(e)})),r()}),c&&!l&&f.observe(c),f.observe(e));let p,E=l?Hd(t):null;l&&g();function g(){const T=Hd(t);E&&!$V(E,T)&&r(),E=T,p=requestAnimationFrame(g)}return r(),()=>{var T;d.forEach(S=>{s&&S.removeEventListener("scroll",r),i&&S.removeEventListener("resize",r)}),h==null||h(),(T=f)==null||T.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const E5e=Kke,g5e=Xke,T5e=Wke,S5e=Jke,v5e=Yke,VV=zke,y5e=Qke,A5e=(t,e,r)=>{const n=new Map,s={platform:m5e,...r},i={...s.platform,_c:n};return Vke(t,e,{...s,platform:i})};var $y=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Gy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Gy(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Gy(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function zV(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function WV(t,e){const r=zV(t);return Math.round(e*r)/r}function EL(t){const e=y.useRef(t);return $y(()=>{e.current=t}),e}function Vy(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=y.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,f]=y.useState(n);Gy(m,n)||f(n);const[p,E]=y.useState(null),[g,T]=y.useState(null),S=y.useCallback(k=>{k!==x.current&&(x.current=k,E(k))},[]),v=y.useCallback(k=>{k!==A.current&&(A.current=k,T(k))},[]),N=i||p,C=o||g,x=y.useRef(null),A=y.useRef(null),b=y.useRef(d),_=l!=null,U=EL(l),j=EL(s),L=EL(c),P=y.useCallback(()=>{if(!x.current||!A.current)return;const k={placement:e,strategy:r,middleware:m};j.current&&(k.platform=j.current),A5e(x.current,A.current,k).then(V=>{const re={...V,isPositioned:L.current!==!1};I.current&&!Gy(b.current,re)&&(b.current=re,Zs.flushSync(()=>{h(re)}))})},[m,e,r,j,L]);$y(()=>{c===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,h(k=>({...k,isPositioned:!1})))},[c]);const I=y.useRef(!1);$y(()=>(I.current=!0,()=>{I.current=!1}),[]),$y(()=>{if(N&&(x.current=N),C&&(A.current=C),N&&C){if(U.current)return U.current(N,C,P);P()}},[N,C,P,U,_]);const F=y.useMemo(()=>({reference:x,floating:A,setReference:S,setFloating:v}),[S,v]),W=y.useMemo(()=>({reference:N,floating:C}),[N,C]),Y=y.useMemo(()=>{const k={position:r,left:0,top:0};if(!W.floating)return k;const V=WV(W.floating,d.x),re=WV(W.floating,d.y);return a?{...k,transform:"translate("+V+"px, "+re+"px)",...zV(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:V,top:re}},[r,a,W.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:P,refs:F,elements:W,floatingStyles:Y}),[d,P,F,W,Y])}const R5e=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?VV({element:n.current,padding:s}).fn(r):{}:n?VV({element:n,padding:s}).fn(r):{}}}},YV=(t,e)=>({...E5e(t),options:[t,e]}),qV=(t,e)=>({...g5e(t),options:[t,e]}),N5e=(t,e)=>({...y5e(t),options:[t,e]}),KV=(t,e)=>({...T5e(t),options:[t,e]}),b5e=(t,e)=>({...S5e(t),options:[t,e]}),C5e=(t,e)=>({...v5e(t),options:[t,e]}),x5e=(t,e)=>({...R5e(t),options:[t,e]});var w5e="Arrow",XV=y.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return u.jsx(Et.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});XV.displayName=w5e;var O5e=XV;function zy(t){const[e,r]=y.useState(void 0);return vs(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var gL="Popper",[QV,uu]=fi(gL),[I5e,JV]=QV(gL),ZV=t=>{const{__scopePopper:e,children:r}=t,[n,s]=y.useState(null);return u.jsx(I5e,{scope:e,anchor:n,onAnchorChange:s,children:r})};ZV.displayName=gL;var e7="PopperAnchor",t7=y.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=JV(e7,r),o=y.useRef(null),a=Ht(e,o);return y.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:u.jsx(Et.div,{...s,ref:a})});t7.displayName=e7;var TL="PopperContent",[_5e,L5e]=QV(TL),r7=y.forwardRef((t,e)=>{var se,ie,Te,ve,_e,fe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:f="optimized",onPlaced:p,...E}=t,g=JV(TL,r),[T,S]=y.useState(null),v=Ht(e,je=>S(je)),[N,C]=y.useState(null),x=zy(N),A=(x==null?void 0:x.width)??0,b=(x==null?void 0:x.height)??0,_=n+(i!=="center"?"-"+i:""),U=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(c)?c:[c],L=j.length>0,P={padding:U,boundary:j.filter(M5e),altBoundary:L},{refs:I,floatingStyles:F,placement:W,isPositioned:Y,middlewareData:k}=Vy({strategy:"fixed",placement:_,whileElementsMounted:(...je)=>GV(...je,{animationFrame:f==="always"}),elements:{reference:g.anchor},middleware:[YV({mainAxis:s+b,alignmentAxis:o}),l&&qV({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?N5e():void 0,...P}),l&&KV({...P}),b5e({...P,apply:({elements:je,rects:H,availableWidth:Ce,availableHeight:be})=>{const{width:ce,height:Q}=H.reference,Ae=je.floating.style;Ae.setProperty("--radix-popper-available-width",`${Ce}px`),Ae.setProperty("--radix-popper-available-height",`${be}px`),Ae.setProperty("--radix-popper-anchor-width",`${ce}px`),Ae.setProperty("--radix-popper-anchor-height",`${Q}px`)}}),N&&x5e({element:N,padding:a}),P5e({arrowWidth:A,arrowHeight:b}),m&&C5e({strategy:"referenceHidden",...P})]}),[V,re]=i7(W),K=In(p);vs(()=>{Y&&(K==null||K())},[Y,K]);const B=(se=k.arrow)==null?void 0:se.x,X=(ie=k.arrow)==null?void 0:ie.y,J=((Te=k.arrow)==null?void 0:Te.centerOffset)!==0,[Z,Ee]=y.useState();return vs(()=>{T&&Ee(window.getComputedStyle(T).zIndex)},[T]),u.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:Y?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(ve=k.transformOrigin)==null?void 0:ve.x,(_e=k.transformOrigin)==null?void 0:_e.y].join(" "),...((fe=k.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(_5e,{scope:r,placedSide:V,onArrowChange:C,arrowX:B,arrowY:X,shouldHideArrow:J,children:u.jsx(Et.div,{"data-side":V,"data-align":re,...E,ref:v,style:{...E.style,animation:Y?void 0:"none"}})})})});r7.displayName=TL;var n7="PopperArrow",D5e={top:"bottom",right:"left",bottom:"top",left:"right"},s7=y.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=L5e(n7,n),o=D5e[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(O5e,{...s,ref:r,style:{...s.style,display:"block"}})})});s7.displayName=n7;function M5e(t){return t!==null}var P5e=t=>({name:"transformOrigin",options:t,fn(e){var g,T,S;const{placement:r,rects:n,middlewareData:s}=e,o=((g=s.arrow)==null?void 0:g.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=i7(r),h={start:"0%",center:"50%",end:"100%"}[d],m=(((T=s.arrow)==null?void 0:T.x)??0)+a/2,f=(((S=s.arrow)==null?void 0:S.y)??0)+l/2;let p="",E="";return c==="bottom"?(p=o?h:`${m}px`,E=`${-l}px`):c==="top"?(p=o?h:`${m}px`,E=`${n.floating.height+l}px`):c==="right"?(p=`${-l}px`,E=o?h:`${f}px`):c==="left"&&(p=`${n.floating.width+l}px`,E=o?h:`${f}px`),{data:{x:p,y:E}}}});function i7(t){const[e,r="center"]=t.split("-");return[e,r]}var Wy=ZV,mg=t7,Yy=r7,qy=s7,[Ky,ust]=fi("Tooltip",[uu]),Xy=uu(),o7="TooltipProvider",k5e=700,SL="tooltip.open",[U5e,vL]=Ky(o7),a7=t=>{const{__scopeTooltip:e,delayDuration:r=k5e,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(U5e,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};a7.displayName=o7;var pg="Tooltip",[j5e,Eg]=Ky(pg),l7=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=vL(pg,t.__scopeTooltip),c=Xy(e),[d,h]=y.useState(null),m=ys(),f=y.useRef(0),p=o??l.disableHoverableContent,E=a??l.delayDuration,g=y.useRef(!1),[T,S]=Do({prop:n,defaultProp:s??!1,onChange:A=>{A?(l.onOpen(),document.dispatchEvent(new CustomEvent(SL))):l.onClose(),i==null||i(A)},caller:pg}),v=y.useMemo(()=>T?g.current?"delayed-open":"instant-open":"closed",[T]),N=y.useCallback(()=>{window.clearTimeout(f.current),f.current=0,g.current=!1,S(!0)},[S]),C=y.useCallback(()=>{window.clearTimeout(f.current),f.current=0,S(!1)},[S]),x=y.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{g.current=!0,S(!0),f.current=0},E)},[E,S]);return y.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),u.jsx(Wy,{...c,children:u.jsx(j5e,{scope:e,contentId:m,open:T,stateAttribute:v,trigger:d,onTriggerChange:h,onTriggerEnter:y.useCallback(()=>{l.isOpenDelayedRef.current?x():N()},[l.isOpenDelayedRef,x,N]),onTriggerLeave:y.useCallback(()=>{p?C():(window.clearTimeout(f.current),f.current=0)},[C,p]),onOpen:N,onClose:C,disableHoverableContent:p,children:r})})};l7.displayName=pg;var yL="TooltipTrigger",c7=y.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Eg(yL,r),i=vL(yL,r),o=Xy(r),a=y.useRef(null),l=Ht(e,a,s.onTriggerChange),c=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(mg,{asChild:!0,...o,children:u.jsx(Et.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:tt(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:tt(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:tt(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:tt(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:tt(t.onBlur,s.onClose),onClick:tt(t.onClick,s.onClose)})})});c7.displayName=yL;var AL="TooltipPortal",[B5e,F5e]=Ky(AL,{forceMount:void 0}),u7=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:s}=t,i=Eg(AL,e);return u.jsx(B5e,{scope:e,forceMount:r,children:u.jsx(ns,{present:r||i.open,children:u.jsx(Fd,{asChild:!0,container:s,children:n})})})};u7.displayName=AL;var Jf="TooltipContent",d7=y.forwardRef((t,e)=>{const r=F5e(Jf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,o=Eg(Jf,t.__scopeTooltip);return u.jsx(ns,{present:n||o.open,children:o.disableHoverableContent?u.jsx(h7,{side:s,...i,ref:e}):u.jsx(H5e,{side:s,...i,ref:e})})}),H5e=y.forwardRef((t,e)=>{const r=Eg(Jf,t.__scopeTooltip),n=vL(Jf,t.__scopeTooltip),s=y.useRef(null),i=Ht(e,s),[o,a]=y.useState(null),{trigger:l,onClose:c}=r,d=s.current,{onPointerInTransitChange:h}=n,m=y.useCallback(()=>{a(null),h(!1)},[h]),f=y.useCallback((p,E)=>{const g=p.currentTarget,T={x:p.clientX,y:p.clientY},S=W5e(T,g.getBoundingClientRect()),v=Y5e(T,S),N=q5e(E.getBoundingClientRect()),C=X5e([...v,...N]);a(C),h(!0)},[h]);return y.useEffect(()=>()=>m(),[m]),y.useEffect(()=>{if(l&&d){const p=g=>f(g,d),E=g=>f(g,l);return l.addEventListener("pointerleave",p),d.addEventListener("pointerleave",E),()=>{l.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",E)}}},[l,d,f,m]),y.useEffect(()=>{if(o){const p=E=>{const g=E.target,T={x:E.clientX,y:E.clientY},S=(l==null?void 0:l.contains(g))||(d==null?void 0:d.contains(g)),v=!K5e(T,o);S?m():v&&(m(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,d,o,c,m]),u.jsx(h7,{...t,ref:i})}),[$5e,G5e]=Ky(pg,{isInside:!1}),V5e=nLe("TooltipContent"),h7=y.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Eg(Jf,r),c=Xy(r),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(SL,d),()=>document.removeEventListener(SL,d)),[d]),y.useEffect(()=>{if(l.trigger){const h=m=>{const f=m.target;f!=null&&f.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx(Bd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(Yy,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(V5e,{children:n}),u.jsx($5e,{scope:r,isInside:!0,children:u.jsx(lke,{id:l.contentId,role:"tooltip",children:s||n})})]})})});d7.displayName=Jf;var f7="TooltipArrow",z5e=y.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Xy(r);return G5e(f7,r).isInside?null:u.jsx(qy,{...s,...n,ref:e})});z5e.displayName=f7;function W5e(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Y5e(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function q5e(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function K5e(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,h=l.x,m=l.y;d>n!=m>n&&r<(h-c)*(n-d)/(m-d)+c&&(s=!s)}return s}function X5e(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Q5e(e)}function Q5e(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var J5e=a7,Z5e=l7,eUe=c7,tUe=u7,m7=d7;const br=J5e,Cr=Z5e,xr=eUe,vr=y.forwardRef(({className:t,sideOffset:e=4,...r},n)=>{var s;return u.jsx(tUe,{container:wn.getState().shadowRoot??document.body,children:u.jsx(m7,{ref:n,sideOffset:e,collisionBoundary:((s=wn.getState().shadowRoot)==null?void 0:s.host)??document.body,className:z("z-popover bg-popover text-popover-foreground animate-in fade-in-50 data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1 overflow-hidden rounded-md border px-3 py-1.5 text-sm shadow-md",t),...r})})});vr.displayName=m7.displayName;const p7=()=>{const t=ht(r=>r.isBugReportOpen),e=ht(r=>r.setIsBugReportOpen);return u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,onFocus:r=>{r.preventDefault()},children:u.jsx(Le,{className:z("h-9 min-w-[2.25rem] items-center justify-center p-0",!1),variant:"outline",isActive:t,size:"sm",onClick:()=>{e(!t)},"aria-label":"Report a bug",children:u.jsx(pLe,{className:"size-4",absoluteStrokeWidth:!0,strokeWidth:1.25})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",collisionPadding:12,children:"Report a bug"})]})})},E7=()=>{const t=ht(s=>s.setIsBugReportOpen),e=y.useMemo(()=>Q8(),[]),r=y.useMemo(()=>{if(!e.schemaFiles)return"";let s=`..
`;const i=e.schemaFiles.length-1;return e.schemaFiles.forEach(({name:o},a)=>{a===i?s+=` ${o}
`:s+=` ${o}
`}),s},[e.schemaFiles]),n=y.useCallback(()=>{J8(null,e)},[]);return u.jsx("div",{className:"bg-background grid-area-1-1 z-popover relative flex h-full flex-col items-center justify-center overflow-auto px-20",children:u.jsxs("div",{className:"h-full w-full",children:[u.jsx("div",{className:"h-[3.75rem]"}),u.jsxs("div",{className:"bg-background sticky top-0 flex gap-4 border-b py-5",children:[u.jsx("div",{className:"flex items-center",children:u.jsxs(Le,{variant:"outline",size:"sm",className:"p-0 pl-1 pr-4 text-xs uppercase",onClick:()=>{t(!1)},children:[u.jsx("div",{className:"flex w-9 justify-center",children:u.jsx(xO,{className:"h-5 w-5"})}),u.jsx("span",{children:"Cancel"})]})}),u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("p",{className:"font-semibold",children:"Found a bug  ?"})}),u.jsx("p",{className:"text-sm",children:"Please download error context and report to our support team"})]}),u.jsx("div",{className:"ml-auto flex items-center space-x-3",children:u.jsx(Le,{variant:"outline",onClick:n,children:"Download Error Context"})})]}),u.jsx("div",{className:"px-auto grow overflow-auto",children:u.jsxs("div",{className:"mx-auto first:mt-14",children:[e.schemaFiles&&e.schemaFiles.length>0&&u.jsx("pre",{className:"bg-muted mt-14 rounded-md p-4 font-mono",children:u.jsx("code",{children:r})}),e.localStorage&&Object.keys(e.localStorage).length>0&&u.jsx("div",{className:"mt-14 max-h-[30rem] overflow-auto rounded-md border",children:u.jsx("pre",{children:u.jsx("code",{className:"!bg-muted hljs",dangerouslySetInnerHTML:{__html:Fl(JSON.stringify(e.localStorage,null,2))}})})}),e.databaseMetadata&&e.databaseMetadata.length>0&&u.jsx("div",{className:"mt-14 space-y-6",children:e.databaseMetadata.map((s,i)=>u.jsx(qG,{...s},i))}),u.jsx("div",{className:"from-background sticky bottom-0 !mt-10 h-4 bg-gradient-to-t"})]})})]})})};var RL="focusScope.autoFocusOnMount",NL="focusScope.autoFocusOnUnmount",g7={bubbles:!1,cancelable:!0},rUe="FocusScope",gg=y.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),c=In(s),d=In(i),h=y.useRef(null),m=Ht(e,E=>l(E)),f=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let E=function(v){if(f.paused||!a)return;const N=v.target;a.contains(N)?h.current=N:du(h.current,{select:!0})},g=function(v){if(f.paused||!a)return;const N=v.relatedTarget;N!==null&&(a.contains(N)||du(h.current,{select:!0}))},T=function(v){if(document.activeElement===document.body)for(const C of v)C.removedNodes.length>0&&du(a)};document.addEventListener("focusin",E),document.addEventListener("focusout",g);const S=new MutationObserver(T);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",g),S.disconnect()}}},[n,a,f.paused]),y.useEffect(()=>{if(a){v7.add(f);const E=document.activeElement;if(!a.contains(E)){const T=new CustomEvent(RL,g7);a.addEventListener(RL,c),a.dispatchEvent(T),T.defaultPrevented||(nUe(lUe(T7(a)),{select:!0}),document.activeElement===E&&du(a))}return()=>{a.removeEventListener(RL,c),setTimeout(()=>{const T=new CustomEvent(NL,g7);a.addEventListener(NL,d),a.dispatchEvent(T),T.defaultPrevented||du(E??document.body,{select:!0}),a.removeEventListener(NL,d),v7.remove(f)},0)}}},[a,c,d,f]);const p=y.useCallback(E=>{if(!r&&!n||f.paused)return;const g=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,T=document.activeElement;if(g&&T){const S=E.currentTarget,[v,N]=sUe(S);v&&N?!E.shiftKey&&T===N?(E.preventDefault(),r&&du(v,{select:!0})):E.shiftKey&&T===v&&(E.preventDefault(),r&&du(N,{select:!0})):T===S&&E.preventDefault()}},[r,n,f.paused]);return u.jsx(Et.div,{tabIndex:-1,...o,ref:m,onKeyDown:p})});gg.displayName=rUe;function nUe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(du(n,{select:e}),document.activeElement!==r)return}function sUe(t){const e=T7(t),r=S7(e,t),n=S7(e.reverse(),t);return[r,n]}function T7(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function S7(t,e){for(const r of t)if(!iUe(r,{upTo:e}))return r}function iUe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function oUe(t){return t instanceof HTMLInputElement&&"select"in t}function du(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&oUe(t)&&e&&t.select()}}var v7=aUe();function aUe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=y7(t,e),t.unshift(e)},remove(e){var r;t=y7(t,e),(r=t[0])==null||r.resume()}}}function y7(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function lUe(t){return t.filter(e=>e.tagName!=="A")}var bL=0;function Qy(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??A7()),document.body.insertAdjacentElement("beforeend",t[1]??A7()),bL++,()=>{bL===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bL--}},[])}function A7(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Jy="right-scroll-bar-position",Zy="width-before-scroll-bar",cUe="with-scroll-bars-hidden",uUe="--removed-body-scroll-bar-size";function CL(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function dUe(t,e){var r=y.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var hUe=typeof window<"u"?y.useLayoutEffect:y.useEffect,R7=new WeakMap;function fUe(t,e){var r=dUe(null,function(n){return t.forEach(function(s){return CL(s,n)})});return hUe(function(){var n=R7.get(r);if(n){var s=new Set(n),i=new Set(t),o=r.current;s.forEach(function(a){i.has(a)||CL(a,null)}),i.forEach(function(a){s.has(a)||CL(a,o)})}R7.set(r,t)},[t]),r}function mUe(t){return t}function pUe(t,e){e===void 0&&(e=mUe);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),r}}}};return s}function EUe(t){t===void 0&&(t={});var e=pUe(null);return e.options=Fa({async:!0,ssr:!1},t),e}var N7=function(t){var e=t.sideCar,r=MF(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Fa({},r))};N7.isSideCarExport=!0;function gUe(t,e){return t.useMedium(e),N7}var b7=EUe(),xL=function(){},eA=y.forwardRef(function(t,e){var r=y.useRef(null),n=y.useState({onScrollCapture:xL,onWheelCapture:xL,onTouchMoveCapture:xL}),s=n[0],i=n[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,m=t.sideCar,f=t.noRelative,p=t.noIsolation,E=t.inert,g=t.allowPinchZoom,T=t.as,S=T===void 0?"div":T,v=t.gapMode,N=MF(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,x=fUe([r,e]),A=Fa(Fa({},N),s);return y.createElement(y.Fragment,null,d&&y.createElement(C,{sideCar:b7,removeScrollBar:c,shards:h,noRelative:f,noIsolation:p,inert:E,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:v}),o?y.cloneElement(y.Children.only(a),Fa(Fa({},A),{ref:x})):y.createElement(S,Fa({},A,{className:l,ref:x}),a))});eA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},eA.classNames={fullWidth:Zy,zeroRight:Jy};var TUe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SUe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=TUe();return e&&t.setAttribute("nonce",e),t}function vUe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function yUe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var AUe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=SUe())&&(vUe(e,r),yUe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},RUe=function(){var t=AUe();return function(e,r){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},C7=function(){var t=RUe(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},NUe={left:0,top:0,right:0,gap:0},wL=function(t){return parseInt(t||"",10)||0},bUe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[wL(r),wL(n),wL(s)]},CUe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return NUe;var e=bUe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},xUe=C7(),Zf="data-scroll-locked",wUe=function(t,e,r,n){var s=t.left,i=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(cUe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Zf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jy,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Zy,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Jy," .").concat(Jy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Zy," .").concat(Zy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Zf,`] {
    `).concat(uUe,": ").concat(a,`px;
  }
`)},x7=function(){var t=parseInt(document.body.getAttribute(Zf)||"0",10);return isFinite(t)?t:0},OUe=function(){y.useEffect(function(){return document.body.setAttribute(Zf,(x7()+1).toString()),function(){var t=x7()-1;t<=0?document.body.removeAttribute(Zf):document.body.setAttribute(Zf,t.toString())}},[])},IUe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;OUe();var i=y.useMemo(function(){return CUe(s)},[s]);return y.createElement(xUe,{styles:wUe(i,!e,s,r?"":"!important")})},OL=!1;if(typeof window<"u")try{var tA=Object.defineProperty({},"passive",{get:function(){return OL=!0,!0}});window.addEventListener("test",tA,tA),window.removeEventListener("test",tA,tA)}catch{OL=!1}var em=OL?{passive:!1}:!1,_Ue=function(t){return t.tagName==="TEXTAREA"},w7=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!_Ue(t)&&r[e]==="visible")},LUe=function(t){return w7(t,"overflowY")},DUe=function(t){return w7(t,"overflowX")},O7=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=I7(t,n);if(s){var i=_7(t,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},MUe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},PUe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},I7=function(t,e){return t==="v"?LUe(e):DUe(e)},_7=function(t,e){return t==="v"?MUe(e):PUe(e)},kUe=function(t,e){return t==="h"&&e==="rtl"?-1:1},UUe=function(t,e,r,n,s){var i=kUe(t,window.getComputedStyle(e).direction),o=i*n,a=r.target,l=e.contains(a),c=!1,d=o>0,h=0,m=0;do{var f=_7(t,a),p=f[0],E=f[1],g=f[2],T=E-g-i*p;(p||T)&&I7(t,a)&&(h+=T,m+=p),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(c=!0),c},rA=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},L7=function(t){return[t.deltaX,t.deltaY]},D7=function(t){return t&&"current"in t?t.current:t},jUe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},BUe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},FUe=0,tm=[];function HUe(t){var e=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),s=y.useState(FUe++)[0],i=y.useState(C7)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var E=TOe([t.lockRef.current],(t.shards||[]).map(D7),!0).filter(Boolean);return E.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(E,g){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!o.current.allowPinchZoom;var T=rA(E),S=r.current,v="deltaX"in E?E.deltaX:S[0]-T[0],N="deltaY"in E?E.deltaY:S[1]-T[1],C,x=E.target,A=Math.abs(v)>Math.abs(N)?"h":"v";if("touches"in E&&A==="h"&&x.type==="range")return!1;var b=O7(A,x);if(!b)return!0;if(b?C=A:(C=A==="v"?"h":"v",b=O7(A,x)),!b)return!1;if(!n.current&&"changedTouches"in E&&(v||N)&&(n.current=C),!C)return!0;var _=n.current||C;return UUe(_,g,E,_==="h"?v:N)},[]),l=y.useCallback(function(E){var g=E;if(!(!tm.length||tm[tm.length-1]!==i)){var T="deltaY"in g?L7(g):rA(g),S=e.current.filter(function(C){return C.name===g.type&&(C.target===g.target||g.target===C.shadowParent)&&jUe(C.delta,T)})[0];if(S&&S.should){g.cancelable&&g.preventDefault();return}if(!S){var v=(o.current.shards||[]).map(D7).filter(Boolean).filter(function(C){return C.contains(g.target)}),N=v.length>0?a(g,v[0]):!o.current.noIsolation;N&&g.cancelable&&g.preventDefault()}}},[]),c=y.useCallback(function(E,g,T,S){var v={name:E,delta:g,target:T,should:S,shadowParent:$Ue(T)};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(N){return N!==v})},1)},[]),d=y.useCallback(function(E){r.current=rA(E),n.current=void 0},[]),h=y.useCallback(function(E){c(E.type,L7(E),E.target,a(E,t.lockRef.current))},[]),m=y.useCallback(function(E){c(E.type,rA(E),E.target,a(E,t.lockRef.current))},[]);y.useEffect(function(){return tm.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,em),document.addEventListener("touchmove",l,em),document.addEventListener("touchstart",d,em),function(){tm=tm.filter(function(E){return E!==i}),document.removeEventListener("wheel",l,em),document.removeEventListener("touchmove",l,em),document.removeEventListener("touchstart",d,em)}},[]);var f=t.removeScrollBar,p=t.inert;return y.createElement(y.Fragment,null,p?y.createElement(i,{styles:BUe(s)}):null,f?y.createElement(IUe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function $Ue(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const GUe=gUe(b7,HUe);var Tg=y.forwardRef(function(t,e){return y.createElement(eA,Fa({},t,{ref:e,sideCar:GUe}))});Tg.classNames=eA.classNames;var VUe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},rm=new WeakMap,nA=new WeakMap,sA={},IL=0,M7=function(t){return t&&(t.host||M7(t.parentNode))},zUe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=M7(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},WUe=function(t,e,r,n){var s=zUe(e,Array.isArray(t)?t:[t]);sA[r]||(sA[r]=new WeakMap);var i=sA[r],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))d(m);else try{var f=m.getAttribute(n),p=f!==null&&f!=="false",E=(rm.get(m)||0)+1,g=(i.get(m)||0)+1;rm.set(m,E),i.set(m,g),o.push(m),E===1&&p&&nA.set(m,!0),g===1&&m.setAttribute(r,"true"),p||m.setAttribute(n,"true")}catch(T){console.error("aria-hidden: cannot operate on ",m,T)}})};return d(e),a.clear(),IL++,function(){o.forEach(function(h){var m=rm.get(h)-1,f=i.get(h)-1;rm.set(h,m),i.set(h,f),m||(nA.has(h)||h.removeAttribute(n),nA.delete(h)),f||h.removeAttribute(r)}),IL--,IL||(rm=new WeakMap,rm=new WeakMap,nA=new WeakMap,sA={})}},iA=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=VUe(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),WUe(n,s,r,"aria-hidden")):function(){return null}},oA="Dialog",[P7,dst]=fi(oA),[YUe,pa]=P7(oA),k7=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[c,d]=Do({prop:n,defaultProp:s??!1,onChange:i,caller:oA});return u.jsx(YUe,{scope:e,triggerRef:a,contentRef:l,contentId:ys(),titleId:ys(),descriptionId:ys(),open:c,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};k7.displayName=oA;var U7="DialogTrigger",j7=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=pa(U7,r),i=Ht(e,s.triggerRef);return u.jsx(Et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":DL(s.open),...n,ref:i,onClick:tt(t.onClick,s.onOpenToggle)})});j7.displayName=U7;var _L="DialogPortal",[qUe,B7]=P7(_L,{forceMount:void 0}),F7=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=pa(_L,e);return u.jsx(qUe,{scope:e,forceMount:r,children:y.Children.map(n,o=>u.jsx(ns,{present:r||i.open,children:u.jsx(Fd,{asChild:!0,container:s,children:o})}))})};F7.displayName=_L;var aA="DialogOverlay",H7=y.forwardRef((t,e)=>{const r=B7(aA,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=pa(aA,t.__scopeDialog);return i.modal?u.jsx(ns,{present:n||i.open,children:u.jsx(XUe,{...s,ref:e})}):null});H7.displayName=aA;var KUe=Fc("DialogOverlay.RemoveScroll"),XUe=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=pa(aA,r);return u.jsx(Tg,{as:KUe,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Et.div,{"data-state":DL(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),$d="DialogContent",$7=y.forwardRef((t,e)=>{const r=B7($d,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=pa($d,t.__scopeDialog);return u.jsx(ns,{present:n||i.open,children:i.modal?u.jsx(QUe,{...s,ref:e}):u.jsx(JUe,{...s,ref:e})})});$7.displayName=$d;var QUe=y.forwardRef((t,e)=>{const r=pa($d,t.__scopeDialog),n=y.useRef(null),s=Ht(e,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return iA(i)},[]),u.jsx(G7,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:tt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:tt(t.onFocusOutside,i=>i.preventDefault())})}),JUe=y.forwardRef((t,e)=>{const r=pa($d,t.__scopeDialog),n=y.useRef(!1),s=y.useRef(!1);return u.jsx(G7,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),G7=y.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=pa($d,r),l=y.useRef(null),c=Ht(e,l);return Qy(),u.jsxs(u.Fragment,{children:[u.jsx(gg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(Bd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":DL(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(ZUe,{titleId:a.titleId}),u.jsx(t3e,{contentRef:l,descriptionId:a.descriptionId})]})]})}),LL="DialogTitle",V7=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=pa(LL,r);return u.jsx(Et.h2,{id:s.titleId,...n,ref:e})});V7.displayName=LL;var z7="DialogDescription",W7=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=pa(z7,r);return u.jsx(Et.p,{id:s.descriptionId,...n,ref:e})});W7.displayName=z7;var Y7="DialogClose",q7=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=pa(Y7,r);return u.jsx(Et.button,{type:"button",...n,ref:e,onClick:tt(t.onClick,()=>s.onOpenChange(!1))})});q7.displayName=Y7;function DL(t){return t?"open":"closed"}var K7="DialogTitleWarning",[hst,X7]=$Pe(K7,{contentName:$d,titleName:LL,docsSlug:"dialog"}),ZUe=({titleId:t})=>{const e=X7(K7),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},e3e="DialogDescriptionWarning",t3e=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${X7(e3e).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Q7=k7,r3e=j7,ML=F7,PL=H7,kL=$7,J7=V7,Z7=W7,n3e=q7;const Ea=Q7,Sg=r3e,ez=({children:t,...e})=>u.jsx(ML,{container:wn.getState().shadowRoot??document.body,...e,children:u.jsx("div",{className:"z-popover @sm:items-center fixed inset-0 flex items-start justify-center",children:t})});ez.displayName=ML.displayName;const tz=y.forwardRef(({className:t,...e},r)=>u.jsx(PL,{ref:r,className:z("z-popover bg-background data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in fixed inset-0 opacity-80 backdrop-blur-sm transition-all duration-100",t),...e}));tz.displayName=PL.displayName;const Mo=y.forwardRef(({className:t,children:e,closeBtn:r=!0,...n},s)=>u.jsxs(ez,{children:[u.jsx(tz,{}),u.jsxs(kL,{ref:s,className:z("z-popover bg-dialog animate-in data-[state=open]:fade-in-90 data-[state=open]:slide-in-from-bottom-10 @sm:zoom-in-90 data-[state=open]:@sm:slide-in-from-bottom-0 @sm:max-w-lg @sm:rounded-lg fixed grid w-full gap-4 rounded-b-lg border p-6 shadow-lg",t),onOpenAutoFocus:i=>{i.preventDefault(),i.stopPropagation()},onCloseAutoFocus:i=>{i.preventDefault(),i.stopPropagation()},...n,children:[e,r&&u.jsxs(n3e,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:!outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(Ji,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mo.displayName=kL.displayName;const tc=({className:t,...e})=>u.jsx("div",{className:z("@sm:text-left flex flex-col space-y-1.5 text-center",t),...e});tc.displayName="DialogHeader";const el=({className:t,...e})=>u.jsx("div",{className:z("@sm:flex-row @sm:justify-end @sm:space-x-2 flex flex-col-reverse",t),...e});el.displayName="DialogFooter";const rc=y.forwardRef(({className:t,...e},r)=>u.jsx(J7,{ref:r,className:z("text-lg font-semibold leading-none tracking-tight",t),...e}));rc.displayName=J7.displayName;const vg=y.forwardRef(({className:t,...e},r)=>u.jsx(Z7,{ref:r,className:z("text-muted-foreground text-sm",t),...e}));vg.displayName=Z7.displayName;var rz=1,s3e=.9,i3e=.8,o3e=.17,UL=.1,jL=.999,a3e=.9999,l3e=.99,c3e=/[\\\/_+.#"@\[\(\{&]/,u3e=/[\\\/_+.#"@\[\(\{&]/g,d3e=/[\s-]/,nz=/[\s-]/g;function BL(t,e,r,n,s,i,o){if(i===e.length)return s===t.length?rz:l3e;var a=`${s},${i}`;if(o[a]!==void 0)return o[a];for(var l=n.charAt(i),c=r.indexOf(l,s),d=0,h,m,f,p;c>=0;)h=BL(t,e,r,n,c+1,i+1,o),h>d&&(c===s?h*=rz:c3e.test(t.charAt(c-1))?(h*=i3e,f=t.slice(s,c-1).match(u3e),f&&s>0&&(h*=Math.pow(jL,f.length))):d3e.test(t.charAt(c-1))?(h*=s3e,p=t.slice(s,c-1).match(nz),p&&s>0&&(h*=Math.pow(jL,p.length))):(h*=o3e,s>0&&(h*=Math.pow(jL,c-s))),t.charAt(c)!==e.charAt(i)&&(h*=a3e)),(h<UL&&r.charAt(c-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(c-1)!==n.charAt(i))&&(m=BL(t,e,r,n,c+1,i+2,o),m*UL>h&&(h=m*UL)),h>d&&(d=h),c=r.indexOf(l,c+1);return o[a]=d,d}function sz(t){return t.toLowerCase().replace(nz," ")}function h3e(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,BL(t,e,sz(t),sz(e),0,0,{})}var yg='[cmdk-group=""]',FL='[cmdk-group-items=""]',f3e='[cmdk-group-heading=""]',iz='[cmdk-item=""]',oz=`${iz}:not([aria-disabled="true"])`,HL="cmdk-item-select",nm="data-value",m3e=(t,e,r)=>h3e(t,e,r),az=y.createContext(void 0),Ag=()=>y.useContext(az),lz=y.createContext(void 0),$L=()=>y.useContext(lz),cz=y.createContext(void 0),uz=y.forwardRef((t,e)=>{let r=sm(()=>{var B,X;return{search:"",value:(X=(B=t.value)!=null?B:t.defaultValue)!=null?X:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=sm(()=>new Set),s=sm(()=>new Map),i=sm(()=>new Map),o=sm(()=>new Set),a=dz(t),{label:l,children:c,value:d,onValueChange:h,filter:m,shouldFilter:f,loop:p,disablePointerSelection:E=!1,vimBindings:g=!0,...T}=t,S=ys(),v=ys(),N=ys(),C=y.useRef(null),x=b3e();Gd(()=>{if(d!==void 0){let B=d.trim();r.current.value=B,A.emit()}},[d]),Gd(()=>{x(6,P)},[]);let A=y.useMemo(()=>({subscribe:B=>(o.current.add(B),()=>o.current.delete(B)),snapshot:()=>r.current,setState:(B,X,J)=>{var Z,Ee,se,ie;if(!Object.is(r.current[B],X)){if(r.current[B]=X,B==="search")L(),U(),x(1,j);else if(B==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Te=document.getElementById(N);Te?Te.focus():(Z=document.getElementById(S))==null||Z.focus()}if(x(7,()=>{var Te;r.current.selectedItemId=(Te=I())==null?void 0:Te.id,A.emit()}),J||x(5,P),((Ee=a.current)==null?void 0:Ee.value)!==void 0){let Te=X??"";(ie=(se=a.current).onValueChange)==null||ie.call(se,Te);return}}A.emit()}},emit:()=>{o.current.forEach(B=>B())}}),[]),b=y.useMemo(()=>({value:(B,X,J)=>{var Z;X!==((Z=i.current.get(B))==null?void 0:Z.value)&&(i.current.set(B,{value:X,keywords:J}),r.current.filtered.items.set(B,_(X,J)),x(2,()=>{U(),A.emit()}))},item:(B,X)=>(n.current.add(B),X&&(s.current.has(X)?s.current.get(X).add(B):s.current.set(X,new Set([B]))),x(3,()=>{L(),U(),r.current.value||j(),A.emit()}),()=>{i.current.delete(B),n.current.delete(B),r.current.filtered.items.delete(B);let J=I();x(4,()=>{L(),(J==null?void 0:J.getAttribute("id"))===B&&j(),A.emit()})}),group:B=>(s.current.has(B)||s.current.set(B,new Set),()=>{i.current.delete(B),s.current.delete(B)}),filter:()=>a.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:S,inputId:N,labelId:v,listInnerRef:C}),[]);function _(B,X){var J,Z;let Ee=(Z=(J=a.current)==null?void 0:J.filter)!=null?Z:m3e;return B?Ee(B,r.current.search,X):0}function U(){if(!r.current.search||a.current.shouldFilter===!1)return;let B=r.current.filtered.items,X=[];r.current.filtered.groups.forEach(Z=>{let Ee=s.current.get(Z),se=0;Ee.forEach(ie=>{let Te=B.get(ie);se=Math.max(Te,se)}),X.push([Z,se])});let J=C.current;F().sort((Z,Ee)=>{var se,ie;let Te=Z.getAttribute("id"),ve=Ee.getAttribute("id");return((se=B.get(ve))!=null?se:0)-((ie=B.get(Te))!=null?ie:0)}).forEach(Z=>{let Ee=Z.closest(FL);Ee?Ee.appendChild(Z.parentElement===Ee?Z:Z.closest(`${FL} > *`)):J.appendChild(Z.parentElement===J?Z:Z.closest(`${FL} > *`))}),X.sort((Z,Ee)=>Ee[1]-Z[1]).forEach(Z=>{var Ee;let se=(Ee=C.current)==null?void 0:Ee.querySelector(`${yg}[${nm}="${encodeURIComponent(Z[0])}"]`);se==null||se.parentElement.appendChild(se)})}function j(){let B=F().find(J=>J.getAttribute("aria-disabled")!=="true"),X=B==null?void 0:B.getAttribute(nm);A.setState("value",X||void 0)}function L(){var B,X,J,Z;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Ee=0;for(let se of n.current){let ie=(X=(B=i.current.get(se))==null?void 0:B.value)!=null?X:"",Te=(Z=(J=i.current.get(se))==null?void 0:J.keywords)!=null?Z:[],ve=_(ie,Te);r.current.filtered.items.set(se,ve),ve>0&&Ee++}for(let[se,ie]of s.current)for(let Te of ie)if(r.current.filtered.items.get(Te)>0){r.current.filtered.groups.add(se);break}r.current.filtered.count=Ee}function P(){var B,X,J;let Z=I();Z&&(((B=Z.parentElement)==null?void 0:B.firstChild)===Z&&((J=(X=Z.closest(yg))==null?void 0:X.querySelector(f3e))==null||J.scrollIntoView({block:"nearest"})),Z.scrollIntoView({block:"nearest"}))}function I(){var B;return(B=C.current)==null?void 0:B.querySelector(`${iz}[aria-selected="true"]`)}function F(){var B;return Array.from(((B=C.current)==null?void 0:B.querySelectorAll(oz))||[])}function W(B){let X=F()[B];X&&A.setState("value",X.getAttribute(nm))}function Y(B){var X;let J=I(),Z=F(),Ee=Z.findIndex(ie=>ie===J),se=Z[Ee+B];(X=a.current)!=null&&X.loop&&(se=Ee+B<0?Z[Z.length-1]:Ee+B===Z.length?Z[0]:Z[Ee+B]),se&&A.setState("value",se.getAttribute(nm))}function k(B){let X=I(),J=X==null?void 0:X.closest(yg),Z;for(;J&&!Z;)J=B>0?R3e(J,yg):N3e(J,yg),Z=J==null?void 0:J.querySelector(oz);Z?A.setState("value",Z.getAttribute(nm)):Y(B)}let V=()=>W(F().length-1),re=B=>{B.preventDefault(),B.metaKey?V():B.altKey?k(1):Y(1)},K=B=>{B.preventDefault(),B.metaKey?W(0):B.altKey?k(-1):Y(-1)};return y.createElement(Et.div,{ref:e,tabIndex:-1,...T,"cmdk-root":"",onKeyDown:B=>{var X;(X=T.onKeyDown)==null||X.call(T,B);let J=B.nativeEvent.isComposing||B.keyCode===229;if(!(B.defaultPrevented||J))switch(B.key){case"n":case"j":{g&&B.ctrlKey&&re(B);break}case"ArrowDown":{re(B);break}case"p":case"k":{g&&B.ctrlKey&&K(B);break}case"ArrowUp":{K(B);break}case"Home":{B.preventDefault(),W(0);break}case"End":{B.preventDefault(),V();break}case"Enter":{B.preventDefault();let Z=I();if(Z){let Ee=new Event(HL);Z.dispatchEvent(Ee)}}}}},y.createElement("label",{"cmdk-label":"",htmlFor:b.inputId,id:b.labelId,style:x3e},l),lA(t,B=>y.createElement(lz.Provider,{value:A},y.createElement(az.Provider,{value:b},B))))}),p3e=y.forwardRef((t,e)=>{var r,n;let s=ys(),i=y.useRef(null),o=y.useContext(cz),a=Ag(),l=dz(t),c=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;Gd(()=>{if(!c)return a.item(s,o==null?void 0:o.id)},[c]);let d=hz(s,i,[t.value,t.children,i],t.keywords),h=$L(),m=hu(x=>x.value&&x.value===d.current),f=hu(x=>c||a.filter()===!1?!0:x.search?x.filtered.items.get(s)>0:!0);y.useEffect(()=>{let x=i.current;if(!(!x||t.disabled))return x.addEventListener(HL,p),()=>x.removeEventListener(HL,p)},[f,t.onSelect,t.disabled]);function p(){var x,A;E(),(A=(x=l.current).onSelect)==null||A.call(x,d.current)}function E(){h.setState("value",d.current,!0)}if(!f)return null;let{disabled:g,value:T,onSelect:S,forceMount:v,keywords:N,...C}=t;return y.createElement(Et.div,{ref:Bl(i,e),...C,id:s,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!m,"data-disabled":!!g,"data-selected":!!m,onPointerMove:g||a.getDisablePointerSelection()?void 0:E,onClick:g?void 0:p},t.children)}),E3e=y.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:s,...i}=t,o=ys(),a=y.useRef(null),l=y.useRef(null),c=ys(),d=Ag(),h=hu(f=>s||d.filter()===!1?!0:f.search?f.filtered.groups.has(o):!0);Gd(()=>d.group(o),[]),hz(o,a,[t.value,t.heading,l]);let m=y.useMemo(()=>({id:o,forceMount:s}),[s]);return y.createElement(Et.div,{ref:Bl(a,e),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&y.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),lA(t,f=>y.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},y.createElement(cz.Provider,{value:m},f))))}),g3e=y.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,s=y.useRef(null),i=hu(o=>!o.search);return!r&&!i?null:y.createElement(Et.div,{ref:Bl(s,e),...n,"cmdk-separator":"",role:"separator"})}),T3e=y.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,s=t.value!=null,i=$L(),o=hu(c=>c.search),a=hu(c=>c.selectedItemId),l=Ag();return y.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),y.createElement(Et.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:s?t.value:o,onChange:c=>{s||i.setState("search",c.target.value),r==null||r(c.target.value)}})}),S3e=y.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...s}=t,i=y.useRef(null),o=y.useRef(null),a=hu(c=>c.selectedItemId),l=Ag();return y.useEffect(()=>{if(o.current&&i.current){let c=o.current,d=i.current,h,m=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let f=c.offsetHeight;d.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return m.observe(c),()=>{cancelAnimationFrame(h),m.unobserve(c)}}},[]),y.createElement(Et.div,{ref:Bl(i,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":n,id:l.listId},lA(t,c=>y.createElement("div",{ref:Bl(o,l.listInnerRef),"cmdk-list-sizer":""},c)))}),v3e=y.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:o,...a}=t;return y.createElement(Q7,{open:r,onOpenChange:n},y.createElement(ML,{container:o},y.createElement(PL,{"cmdk-overlay":"",className:s}),y.createElement(kL,{"aria-label":t.label,"cmdk-dialog":"",className:i},y.createElement(uz,{ref:e,...a}))))}),y3e=y.forwardRef((t,e)=>hu(r=>r.filtered.count===0)?y.createElement(Et.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),A3e=y.forwardRef((t,e)=>{let{progress:r,children:n,label:s="Loading...",...i}=t;return y.createElement(Et.div,{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},lA(t,o=>y.createElement("div",{"aria-hidden":!0},o)))}),Ui=Object.assign(uz,{List:S3e,Item:p3e,Input:T3e,Group:E3e,Separator:g3e,Dialog:v3e,Empty:y3e,Loading:A3e});function R3e(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function N3e(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function dz(t){let e=y.useRef(t);return Gd(()=>{e.current=t}),e}var Gd=typeof window>"u"?y.useEffect:y.useLayoutEffect;function sm(t){let e=y.useRef();return e.current===void 0&&(e.current=t()),e}function hu(t){let e=$L(),r=()=>t(e.snapshot());return y.useSyncExternalStore(e.subscribe,r,r)}function hz(t,e,r,n=[]){let s=y.useRef(),i=Ag();return Gd(()=>{var o;let a=(()=>{var c;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():s.current}})(),l=n.map(c=>c.trim());i.value(t,a,l),(o=e.current)==null||o.setAttribute(nm,a),s.current=a}),s}var b3e=()=>{let[t,e]=y.useState(),r=sm(()=>new Map);return Gd(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,s)=>{r.current.set(n,s),e({})}};function C3e(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function lA({asChild:t,children:e},r){return t&&y.isValidElement(e)?y.cloneElement(C3e(e),{ref:e.ref},r(e.props.children)):r(e)}var x3e={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const GL=y.forwardRef(({className:t,...e},r)=>u.jsx(Ui,{ref:r,className:z("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...e}));GL.displayName=Ui.displayName;const fz=({children:t,value:e,onValueChange:r,className:n,...s})=>u.jsx(Ea,{...s,children:u.jsx(Mo,{className:z("w-[37.5rem] overflow-hidden p-0",n),children:u.jsx(GL,{className:"[&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-2 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",value:e,onValueChange:r,children:t})})}),cA=y.forwardRef(({className:t,...e},r)=>u.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[u.jsx(_Le,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),u.jsx(Ui.Input,{ref:r,className:z("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm !outline-none disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));cA.displayName=Ui.Input.displayName;const uA=y.forwardRef(({className:t,...e},r)=>u.jsx(Ui.List,{ref:r,className:z("max-h-[18.75rem] overflow-y-auto overflow-x-hidden",t),...e}));uA.displayName=Ui.List.displayName;const dA=y.forwardRef(({className:t,...e},r)=>u.jsx(Ui.Empty,{ref:r,className:z("py-6 text-center text-sm",t),...e}));dA.displayName=Ui.Empty.displayName;const fu=y.forwardRef(({className:t,...e},r)=>u.jsx(Ui.Group,{ref:r,className:z("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...e}));fu.displayName=Ui.Group.displayName;const w3e=y.forwardRef(({className:t,...e},r)=>u.jsx(Ui.Separator,{ref:r,className:z("bg-border -mx-1 h-px",t),...e}));w3e.displayName=Ui.Separator.displayName;const ss=y.forwardRef(({className:t,...e},r)=>u.jsx(Ui.Item,{ref:r,className:z("data-[selected=true]:bg-button-outline-hover data-[selected=true]:text-button-outline-text-hover relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm !outline-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...e}));ss.displayName=Ui.Item.displayName;const im=({className:t,...e})=>u.jsx("span",{className:z("text-muted-foreground ml-auto text-xs tracking-widest",t),...e});im.displayName="CommandShortcut";const rt=(t,e)=>{try{ht.getState().onEvent(t,e)}catch{}},O3e=()=>{var s;const t="drizzle-playground",e=localStorage.getItem(t),r=e?JSON.parse(e):null,n=(s=r==null?void 0:r.state)==null?void 0:s.sqlValue;n&&(Vn.getState().actions.changeSnippetSql("playground",n),localStorage.setItem(t,JSON.stringify({...r,state:{...r.state,sqlValue:null}})))},I3e=()=>{const t=localStorage.getItem("drizzle-sql-editor-global-items");return t?JSON.parse(t):null},mz=(t,e)=>KC()((e?r=>r:pO)(r=>({view:null,items:I3e()||{playground:{id:"playground",type:"snippet",name:"Playground",sql:"SELECT * FROM <table> LIMIT 10;",createdAt:new Date().toISOString(),isGlobal:!0}},currentSnippetId:"playground",keybindings:"vscode",fontSize:14,actions:{setFontSize:n=>r({fontSize:n}),setView:n=>r({view:n}),moveSnippet:(n,s,i)=>r(o=>{if(s===i)return o;const l=(()=>{var h;return s?(h=o.items[s])==null?void 0:h.children.find(m=>m.id===n):o.items[n]})();return l?{...o,items:ZSe(h=>s?$t([s,"children"],o.items[s].children.filter(m=>m.id!==n),h):ev(n,h),h=>i?$t([i,"children"],sj({...l,folderId:i},h[i].children),h):Pp(n,{...l,folderId:void 0},h))(o.items)}:o}),resetResultsQueryPosition:(n,s)=>r(i=>{var l;if(s){const d=i.items[s].children.map(m=>m.id===n&&m.results?{...m,results:m.results.map(f=>({...f,queryPosition:void 0}))}:m);return{items:$t([s,"children"],d,i.items)}}const o=i.items[n];return{items:$t([n],{...o,results:(l=o.results)==null?void 0:l.map(c=>({...c,queryPosition:void 0}))},i.items)}}),selectSnippetResult:(n,s,i)=>r(o=>{if(i){const c=o.items[i].children.map(h=>h.id===n?{...h,selectedResultIndex:s}:h);return{items:$t([i,"children"],c,o.items)}}return{items:$t([n],{...o.items[n],selectedResultIndex:s},o.items)}}),toggleSnippetShowResultAsJson:(n,s)=>r(i=>{if(s){const c=i.items[s].children.map(h=>h.id===n?{...h,showResultAsJson:!h.showResultAsJson}:h);return{items:$t([s,"children"],c,i.items)}}const o=i.items[n];return{items:$t([n],{...o,showResultAsJson:!o.showResultAsJson},i.items)}}),executeSnippet:async(n,s,i)=>{const{dialect:o,query:a,transaction:l}=it.getState();if(s.length===0)return{shouldRefetch:!1};if(!o)throw new Error("Dialect not supported");if(!a)throw new Error("Query function not set");const c=[],d=s.some(({type:E})=>E==="CREATE_DATABASE"||E==="CREATE_SCHEMA"||E==="CREATE_TABLE"||E==="CREATE_VIEW"||E==="CREATE_INDEX"||E==="ALTER_DATABASE"||E==="ALTER_SCHEMA"||E==="ALTER_TABLE"||E==="ALTER_VIEW"||E==="ALTER_INDEX"||E==="DROP_DATABASE"||E==="DROP_SCHEMA"||E==="DROP_TABLE"||E==="DROP_VIEW"||E==="DROP_INDEX"),h=/^BEGIN/i,m=/^COMMIT/i,f=/^END/i,p=/^ROLLBACK/i;if(s.length===1){const{executionType:E,text:g,type:T,start:S,end:v}=s[0];if(h.test(g))c.push({records:null,type:T,executionTime:0,queryPosition:{start:S,end:v},executionType:E,error:new Error("To run statements in a transaction - select multiple statements and run, SQL Console will automatically wrap them in a transaction(batch).")});else{let N=null,C=null;const x=performance.now();try{N=await a(g,[],{method:E==="MODIFICATION"?"execute":"all"})}catch(b){C=b}const A=performance.now();c.push({records:N,type:T,executionTime:A-x,queryPosition:{start:S,end:v},executionType:E,error:C})}}else if(s.length>1){if(!l)throw new Error("Transaction function not set");const E=s.find(({text:g},T,S)=>h.test(g)&&T===0||(m.test(g)||f.test(g))&&T===S.length-1?!1:h.test(g)||m.test(g)||f.test(g)||p.test(g));if(E)c.push({records:null,type:E.type,executionTime:0,queryPosition:{start:E.start,end:E.end},executionType:E.executionType,error:new Error(`By default Drizzle Studio runs multiple queries in a transaction.
Drizzle Studio automatically trims BEGIN, COMMIT and END keywords and runs statements between them in a transaction(batch).
SQL Console does not support statements that contain non-trailing transaction keywords(BEGIN, COMMIT, END, ROLLBACK).`)});else{const g=s.filter(({text:S})=>!h.test(S)&&!m.test(S)&&!f.test(S)&&!p.test(S));if(g.length===0)return{shouldRefetch:d};const T=performance.now();try{const S=await l(g.map(({text:C,executionType:x})=>({sql:C,params:[],options:{method:x==="MODIFICATION"?"execute":"all"}}))),v=performance.now();let N=0;for(const C of g){const x=S[N];if(N++,!x)continue;const{type:A,start:b,end:_,executionType:U}=C;let j=null,L=null;Array.isArray(x)?j=x:L=x,c.push({records:j,type:A,executionTime:v-T,queryPosition:{start:b,end:_},executionType:U,error:L})}}catch(S){const v=performance.now();c.push({records:null,type:"UNKNOWN",executionTime:v-T,queryPosition:{start:s[0].start,end:s[s.length-1].end},executionType:"UNKNOWN",error:S})}}}return r(E=>{if(i){const S=E.items[i].children.map(N=>N.id===n?{...N,results:c,selectedResultIndex:void 0}:N);return{items:$t([i,"children"],S,E.items)}}return{items:$t([n],{...E.items[n],results:c,selectedResultIndex:void 0},E.items)}}),{shouldRefetch:d}},setKeybindings:n=>r({keybindings:n}),toggleFolder:n=>r(s=>{const i=s.items[n];return{items:$t([n],{...i,isExpanded:!i.isExpanded},s.items)}}),selectSnippet:n=>r({currentSnippetId:n}),renameItem:(n,s,i)=>r(o=>{if(i){const c=o.items[i].children.map(h=>h.id===n?{...h,name:s}:h);return{items:$t([i,"children"],c,o.items)}}return{items:$t([n],{...o.items[n],name:s},o.items)}}),changeSnippetSql:(n,s,i)=>r(o=>{if(i){const c=o.items[i].children.map(h=>h.id===n?{...h,sql:s}:h);return{items:$t([i,"children"],c,o.items)}}return{items:$t([n],{...o.items[n],sql:s},o.items)}}),createSnippet:(n,s,i,o)=>{const a=Ii();return r(l=>{const c=it.getState().dialect,d=it.getState().schemas,h=c==="mysql"?"`":'"',m=Object.values(d).find(T=>Object.keys(T.tables).length>0),f=m==null?void 0:m.tables[Object.keys(m.tables)[0]],p=typeof s>"u"?c==="sqlite"||c==="mysql"?`SELECT * FROM ${h}${(f==null?void 0:f.name)||"<table>"}${h} LIMIT 10;`:`SELECT * FROM ${h}${(m==null?void 0:m.name)||"<schema>"}${h}.${h}${(f==null?void 0:f.name)||"<table>"}${h} LIMIT 10;`:s,E={id:a,type:"snippet",name:n,sql:p,folderId:i,createdAt:new Date().toISOString(),isGlobal:o==null?void 0:o.isGlobal,isTemporary:o==null?void 0:o.isTemporary};if(i){const S=[...l.items[i].children,E];return{items:$t([i,"children"],S,l.items)}}return{items:$t([a],E,l.items)}}),r({currentSnippetId:a}),a},createFolder:n=>{const s=Ii();return r(i=>({items:$t([s],{id:s,type:"folder",name:n,children:[]},i.items)})),s},deleteItem:(n,s)=>r(i=>{if(s){const l=i.items[s].children.filter(d=>d.id!==n);return{items:$t([s,"children"],l,i.items)}}return{items:zi([n],i.items)}})}}),{name:`drizzle-sql-editor-${t}`,partialize:({items:r,currentSnippetId:n,keybindings:s,fontSize:i})=>({items:Ua(a=>a.type==="folder"?{...a,children:a.children.map(l=>({...l,results:void 0,selectedResultIndex:void 0}))}:{...a,results:void 0,selectedResultIndex:void 0},r),currentSnippetId:n,keybindings:s,fontSize:i}),storage:P8(()=>localStorage,{reviver:(r,n)=>{if(r==="items"){const s=JSON.parse(localStorage.getItem("drizzle-sql-editor-global-items")||"{}"),i=JSON.parse(n);return{...s,...i}}return n},replacer:(r,n)=>{if(r==="items"){const s=n,i=cj(a=>a.isGlobal,s),o=Gh(Object.keys(i),s);return localStorage.setItem("drizzle-sql-editor-global-items",JSON.stringify(i)),JSON.stringify(cj(a=>!a.isTemporary,o))}return n}})})),VL=mz("temp",!0),Vn=Object.assign((t,e)=>{const r=ht(n=>n.sqlEditorStore);return r?r(t,e??q8):VL(t,e)},{setState:t=>{const e=ht.getState().sqlEditorStore;if(!e)return VL.setState(t);e.setState(t)},getState:()=>{const t=ht.getState().sqlEditorStore;return t?t.getState():VL.getState()}}),Sn=()=>Vn(t=>t.actions);O3e();const _3e=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:z("size-6",t),children:[u.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),u.jsx("polyline",{points:"12 19 5 12 12 5"})]}),L3e=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:z("size-6",t),children:[u.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),u.jsx("polyline",{points:"12 5 19 12 12 19"})]}),D3e=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:z("size-6",t),children:[u.jsx("polyline",{points:"8 17 12 21 16 17"}),u.jsx("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),u.jsx("path",{d:"M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"})]}),M3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:z("size-6",t),children:u.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),P3e=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:z("size-6",t),children:[u.jsx("polyline",{points:"1 4 1 10 7 10"}),u.jsx("polyline",{points:"23 20 23 14 17 14"}),u.jsx("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})]}),k3e=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:z("size-6",t),children:[u.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"})]}),U3e=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:z("size-6",t),children:[u.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"})]}),j3e=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:z("size-6",t),children:[u.jsx("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),u.jsx("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),u.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),u.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),u.jsx("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),u.jsx("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),u.jsx("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),u.jsx("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),u.jsx("line",{x1:"17",y1:"16",x2:"23",y2:"16"})]}),B3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:z("size-6",t),children:u.jsx("path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"})}),F3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",stroke:"currentColor",fill:"currentColor",className:t,children:u.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})}),H3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",stroke:"currentColor",fill:"currentColor",className:t,children:u.jsx("path",{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})}),$3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",stroke:"currentColor",fill:"currentColor",className:t,children:u.jsx("path",{d:"M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"})}),G3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",stroke:"currentColor",fill:"currentColor",className:t,children:u.jsx("path",{d:"M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"})}),V3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",stroke:"currentColor",fill:"currentColor",className:t,children:u.jsx("path",{d:"M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160H352c-17.7 0-32 14.3-32 32s14.3 32 32 32H463.5c0 0 0 0 0 0h.4c17.7 0 32-14.3 32-32V80c0-17.7-14.3-32-32-32s-32 14.3-32 32v35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1V432c0 17.7 14.3 32 32 32s32-14.3 32-32V396.9l17.6 17.5 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352H160c17.7 0 32-14.3 32-32s-14.3-32-32-32H48.4c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"})}),z3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",stroke:"currentColor",fill:"currentColor",className:t,children:u.jsx("path",{d:"M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zm64 64V416H224V160H64zm384 0H288V416H448V160z"})}),W3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",stroke:"currentColor",fill:"currentColor",className:t,children:u.jsx("path",{d:"M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zm64 64V416H224V160H64zm384 0H288V416H448V160z"})}),Y3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",stroke:"currentColor",fill:"currentColor",className:t,children:u.jsx("path",{d:"M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z"})}),q3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",stroke:"currentColor",fill:"currentColor",className:t,children:u.jsx("path",{d:"M192 32c17.7 0 32 14.3 32 32V199.5l111.5-66.9c15.2-9.1 34.8-4.2 43.9 11s4.2 34.8-11 43.9L254.2 256l114.3 68.6c15.2 9.1 20.1 28.7 11 43.9s-28.7 20.1-43.9 11L224 312.5V448c0 17.7-14.3 32-32 32s-32-14.3-32-32V312.5L48.5 379.4c-15.2 9.1-34.8 4.2-43.9-11s-4.2-34.8 11-43.9L129.8 256 15.5 187.4c-15.2-9.1-20.1-28.7-11-43.9s28.7-20.1 43.9-11L160 199.5V64c0-17.7 14.3-32 32-32z"})}),K3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",stroke:"currentColor",fill:"currentColor",className:t,children:u.jsx("path",{d:"M64 256V160H224v96H64zm0 64H224v96H64V320zm224 96V320H448v96H288zM448 256H288V160H448v96zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"})}),X3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",stroke:"currentColor",fill:"currentColor",className:t,children:u.jsx("path",{d:"M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"})}),Q3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:u.jsx("path",{fill:"currentColor",d:"M16 5v2h-2V5zm-4 4V7h2v2zm-2 2V9h2v2zm0 2H8v-2h2zm2 2v-2h-2v2zm0 0h2v2h-2zm4 4v-2h-2v2z"})}),J3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:u.jsx("path",{fill:"currentColor",d:"M8 5v2h2V5zm4 4V7h-2v2zm2 2V9h-2v2zm0 2h2v-2h-2zm-2 2v-2h2v2zm0 0h-2v2h2zm-4 4v-2h2v2z"})}),Z3e=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:u.jsx("path",{fill:"currentColor",d:"M13 17V3h-2v10H9v-2H7v2h2v2h2v2zm8 2v-4h-2v4H5v-4H3v6h18zm-8-6v2h2v-2h2v-2h-2v2z"})}),eje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22",className:z("size-6",t),children:u.jsx("path",{fill:"currentColor",d:"M11 17h1v-7h1V9h1V8h1V7h1V5H6v2h1v1h1v1h1v1h1v6h1m3 4h-3v-1h-1v-1H9v-1H8v-6H7v-1H6V9H5V8H4V4h1V3h12v1h1v4h-1v1h-1v1h-1v1h-1Z"})}),tje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:u.jsx("path",{fill:"currentColor",d:"M16 2h-2v2h2v2H4v2H2v5h2V8h12v2h-2v2h2v-2h2V8h2V6h-2V4h-2zM6 20h2v2h2v-2H8v-2h12v-2h2v-5h-2v5H8v-2h2v-2H8v2H6v2H4v2h2z"})}),rje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:u.jsx("path",{fill:"currentColor",d:"M2 5h20v14H2zm2 2v10h2V7zm4 0v10h12V7z"})}),nje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:u.jsx("path",{fill:"currentColor",d:"M2 5h20v14H2zm2 2v10h2V7zm4 0v10h12V7z"})}),sje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:u.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"square",strokeWidth:2,d:"M3 8h4m0 0V6h4v2M7 8v2h4V8m0 0h10M3 16h10m0 0v-2h4v2m-4 0v2h4v-2m0 0h4"})}),ije=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:u.jsx("path",{fill:"currentColor",d:"M8 5h2v2H8zM6 7h2v2H6zM4 9h2v2H4zm-2 2h2v2H2zm2 2h2v2H4zm2 2h2v2H6zm2 2h2v2H8zm8-12h-2v2h2zm2 2h-2v2h2zm2 2h-2v2h2zm2 2h-2v2h2zm-2 2h-2v2h2zm-2 2h-2v2h2zm-2 2h-2v2h2z"})}),oje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:u.jsx("path",{fill:"currentColor",d:"M2 3h20v18H2zm2 4v5h7V7zm9 0v5h7V7zm7 7h-7v5h7zm-9 5v-5H4v5z"})}),aje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:u.jsx("path",{fill:"currentColor",d:"M16 4h-6v2H8v2H4v2H2v2H0v6h2v2h20v-2h2v-6h-2v-2h-2V8h-2V6h-2zm2 8h4v6H2v-6h2v-2h4v2h2v-2H8V8h2V6h6v2h2zm0 0v2h-2v-2z"})}),lje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:u.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,children:[u.jsx("path",{fill:"currentColor",fillOpacity:.3,d:"M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"}),u.jsx("path",{d:"M10 12L13 9M10 12L13 15"})]})}),cje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:u.jsx("g",{transform:"translate(24 0) scale(-1 1)",children:u.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,children:[u.jsx("path",{fill:"currentColor",fillOpacity:.3,d:"M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"}),u.jsx("path",{d:"M10 12L13 9M10 12L13 15"})]})})}),uje=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:[u.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 22h4c3.771 0 5.657 0 6.828-1.172C22 19.657 22 17.771 22 14v-.437c0-.873 0-1.529-.043-2.063h-4.052c-1.097 0-2.067 0-2.848-.105c-.847-.114-1.694-.375-2.385-1.066c-.692-.692-.953-1.539-1.067-2.386c-.105-.781-.105-1.75-.105-2.848l.01-2.834c0-.083.007-.164.02-.244C11.121 2 10.636 2 10.03 2C6.239 2 4.343 2 3.172 3.172C2 4.343 2 6.229 2 10v4c0 3.771 0 5.657 1.172 6.828C4.343 22 6.229 22 10 22",clipRule:"evenodd",opacity:.5}),u.jsx("path",{fill:"currentColor",d:"M9.013 19.047a.75.75 0 0 1-1.026 0l-2-1.875a.75.75 0 0 1 1.026-1.094l.737.69V13.5a.75.75 0 0 1 1.5 0v3.269l.737-.691a.75.75 0 0 1 1.026 1.094zM11.51 2.26l-.01 2.835c0 1.097 0 2.066.105 2.848c.114.847.375 1.694 1.067 2.385c.69.691 1.538.953 2.385 1.067c.781.105 1.751.105 2.848.105h4.052c.013.155.022.321.028.5H22c0-.268 0-.402-.01-.56a5.322 5.322 0 0 0-.958-2.641c-.094-.128-.158-.204-.285-.357C19.954 7.494 18.91 6.312 18 5.5c-.81-.724-1.921-1.515-2.89-2.161c-.832-.556-1.248-.834-1.819-1.04a5.488 5.488 0 0 0-.506-.154c-.384-.095-.758-.128-1.285-.14z"})]}),dje=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:[u.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 3h14L8.816 13.184a2.705 2.705 0 0 0-.778-1.086c-.228-.198-.547-.377-1.183-.736l-2.913-1.64c-.949-.533-1.423-.8-1.682-1.23C2 8.061 2 7.541 2 6.503v-.69c0-1.326 0-1.99.44-2.402C2.878 3 3.585 3 5 3",clipRule:"evenodd"}),u.jsx("path",{fill:"currentColor",d:"M22 6.504v-.69c0-1.326 0-1.99-.44-2.402C21.122 3 20.415 3 19 3L8.815 13.184c.05.129.09.263.121.403c.064.285.064.619.064 1.286v2.67c0 .909 0 1.364.252 1.718c.252.355.7.53 1.594.88c1.879.734 2.818 1.101 3.486.683c.668-.417.668-1.372.668-3.282v-2.67c0-.666 0-1 .063-1.285a2.68 2.68 0 0 1 .9-1.49c.227-.197.545-.376 1.182-.735l2.913-1.64c.948-.533 1.423-.8 1.682-1.23c.26-.43.26-.95.26-1.988",opacity:.5})]}),hje=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:[u.jsx("circle",{cx:12,cy:12,r:10,fill:"currentColor",opacity:.5}),u.jsx("path",{fill:"currentColor",d:"M7.378 11.63h-.75zm0 .926l-.562.497a.75.75 0 0 0 1.08.044zm2.141-1.015a.75.75 0 0 0-1.038-1.082zm-2.958-1.038a.75.75 0 1 0-1.122.994zm8.37-1.494a.75.75 0 1 0 1.102-1.018zM12.045 6.25c-2.986 0-5.416 2.403-5.416 5.38h1.5c0-2.137 1.747-3.88 3.916-3.88zm-5.416 5.38v.926h1.5v-.926zm1.269 1.467l1.622-1.556l-1.038-1.082l-1.622 1.555zm.042-1.039l-1.378-1.555l-1.122.994l1.377 1.556zm8.094-4.067a5.42 5.42 0 0 0-3.99-1.741v1.5a3.92 3.92 0 0 1 2.889 1.26zm.585 3.453l.56-.498a.75.75 0 0 0-1.08-.043zm-2.139 1.014a.75.75 0 1 0 1.04 1.082zm2.96 1.04a.75.75 0 0 0 1.12-.997zm-8.393 1.507a.75.75 0 0 0-1.094 1.026zm2.888 2.745c2.993 0 5.434-2.4 5.434-5.38h-1.5c0 2.135-1.753 3.88-3.934 3.88zm5.434-5.38v-.926h-1.5v.926zm-1.27-1.467l-1.619 1.555l1.04 1.082l1.618-1.555zm-.04 1.04l1.38 1.554l1.122-.996l-1.381-1.555zM7.952 16.03a5.447 5.447 0 0 0 3.982 1.719v-1.5c-1.143 0-2.17-.48-2.888-1.245z"})]}),fje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",className:z("size-6",t),children:u.jsxs("g",{fill:"currentColor",children:[u.jsx("path",{d:"M88 48v160H40a8 8 0 0 1-8-8V56a8 8 0 0 1 8-8Z",opacity:.2}),u.jsx("path",{d:"M216 40H40a16 16 0 0 0-16 16v144a16 16 0 0 0 16 16h176a16 16 0 0 0 16-16V56a16 16 0 0 0-16-16M40 152h16a8 8 0 0 0 0-16H40v-16h16a8 8 0 0 0 0-16H40V88h16a8 8 0 0 0 0-16H40V56h40v144H40Zm176 48H96V56h120z"})]})}),mje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",className:z("size-6",t),children:u.jsxs("g",{fill:"currentColor",children:[u.jsx("path",{d:"M88 48v160H40a8 8 0 0 1-8-8V56a8 8 0 0 1 8-8Z",opacity:.2}),u.jsx("path",{d:"M216 40H40a16 16 0 0 0-16 16v144a16 16 0 0 0 16 16h176a16 16 0 0 0 16-16V56a16 16 0 0 0-16-16M40 152h16a8 8 0 0 0 0-16H40v-16h16a8 8 0 0 0 0-16H40V88h16a8 8 0 0 0 0-16H40V56h40v144H40Zm176 48H96V56h120z"})]})}),pje=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",className:z("size-6",t),children:[u.jsx("path",{fill:"currentColor",fillOpacity:.15,d:"M180 292h80v440h-80zm369 180h-74a3 3 0 0 0-3 3v74a3 3 0 0 0 3 3h74a3 3 0 0 0 3-3v-74a3 3 0 0 0-3-3m215-108h80v296h-80z"}),u.jsx("path",{fill:"currentColor",d:"M904 296h-66v-96c0-4.4-3.6-8-8-8h-52c-4.4 0-8 3.6-8 8v96h-66c-4.4 0-8 3.6-8 8v416c0 4.4 3.6 8 8 8h66v96c0 4.4 3.6 8 8 8h52c4.4 0 8-3.6 8-8v-96h66c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8m-60 364h-80V364h80zM612 404h-66V232c0-4.4-3.6-8-8-8h-52c-4.4 0-8 3.6-8 8v172h-66c-4.4 0-8 3.6-8 8v200c0 4.4 3.6 8 8 8h66v172c0 4.4 3.6 8 8 8h52c4.4 0 8-3.6 8-8V620h66c4.4 0 8-3.6 8-8V412c0-4.4-3.6-8-8-8m-60 145a3 3 0 0 1-3 3h-74a3 3 0 0 1-3-3v-74a3 3 0 0 1 3-3h74a3 3 0 0 1 3 3zM320 224h-66v-56c0-4.4-3.6-8-8-8h-52c-4.4 0-8 3.6-8 8v56h-66c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8h66v56c0 4.4 3.6 8 8 8h52c4.4 0 8-3.6 8-8v-56h66c4.4 0 8-3.6 8-8V232c0-4.4-3.6-8-8-8m-60 508h-80V292h80z"})]}),Eje=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:[u.jsx("path",{fill:"currentColor",d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12s4.477 10 10 10",opacity:.5}),u.jsx("path",{fill:"currentColor",d:"M13.488 6.446a.75.75 0 0 1 .53.918l-2.588 9.66a.75.75 0 0 1-1.449-.389l2.589-9.659a.75.75 0 0 1 .918-.53M14.97 8.47a.75.75 0 0 1 1.06 0l.209.208c.635.635 1.165 1.165 1.529 1.642c.384.504.654 1.036.654 1.68c0 .644-.27 1.176-.654 1.68c-.364.477-.894 1.007-1.53 1.642l-.208.208a.75.75 0 1 1-1.06-1.06l.171-.172c.682-.682 1.139-1.14 1.434-1.528c.283-.37.347-.586.347-.77c0-.184-.064-.4-.347-.77c-.295-.387-.752-.846-1.434-1.528l-.171-.172a.75.75 0 0 1 0-1.06m-7 0a.75.75 0 0 1 1.06 1.06l-.171.172c-.682.682-1.138 1.14-1.434 1.528c-.283.37-.346.586-.346.77c0 .184.063.4.346.77c.296.387.752.846 1.434 1.528l.172.172a.75.75 0 1 1-1.061 1.06l-.208-.208c-.636-.635-1.166-1.165-1.53-1.642c-.384-.504-.653-1.036-.653-1.68c0-.644.27-1.176.653-1.68c.364-.477.894-1.007 1.53-1.642z"})]}),gje=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:[u.jsx("path",{fill:"currentColor",d:"M5 5h15v3H5zm12 5h3v9h-3zm-7 0h5v9h-5zm-5 0h3v9H5z",opacity:.3}),u.jsx("path",{fill:"currentColor",d:"M20 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M8 19H5v-9h3zm7 0h-5v-9h5zm5 0h-3v-9h3zm0-11H5V5h15z"})]}),Tje=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:z("size-6",t),children:[u.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.03 14.97a.75.75 0 0 1 0 1.06l-2 2a.75.75 0 1 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0m4.5 0a.75.75 0 0 1 0 1.06l-2 2a.75.75 0 1 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0m-8.5 3.5a.75.75 0 0 1 0 1.06l-2 2a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0m9.5 0a.75.75 0 0 1 0 1.06l-2 2a.75.75 0 1 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0m-5 1a.75.75 0 0 1 0 1.06l-2 2a.75.75 0 1 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0",clipRule:"evenodd"}),u.jsx("path",{fill:"currentColor",d:"M12.03 14.97a.75.75 0 0 1 0 1.06l-2 2a.746.746 0 0 1-1.06 0a.746.746 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.06 0m3.44 0l-2 2a.75.75 0 1 0 1.06 1.06l2-2a.75.75 0 1 0-1.06-1.06"}),u.jsx("path",{fill:"currentColor",d:"M16.286 19C19.442 19 22 16.472 22 13.353c0-2.472-1.607-4.573-3.845-5.338C17.837 5.194 15.415 3 12.476 3C9.32 3 6.762 5.528 6.762 8.647c0 .69.125 1.35.354 1.962a4.351 4.351 0 0 0-.83-.08C3.919 10.53 2 12.426 2 14.765C2 17.104 3.919 19 6.286 19z",opacity:.5})]}),Sje=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:[u.jsx("path",{d:"M8 12L14 6V18L8 12Z"})," "]}),vje=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:[u.jsx("path",{d:"M16 12L10 18V6L16 12Z"})," "]}),yje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:u.jsx("path",{d:"M13 12H16L12 16L8 12H11V8H13V12ZM15 4H5V20H19V8H15V4ZM3 2.9918C3 2.44405 3.44749 2 3.9985 2H16L20.9997 7L21 20.9925C21 21.5489 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5447 3 21.0082V2.9918Z"})}),Aje=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:[u.jsx("path",{d:"M21 4V6H20L15 13.5V22H9V13.5L4 6H3V4H21ZM6.4037 6L11 12.8944V20H13V12.8944L17.5963 6H6.4037Z"})," "]}),Rje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:u.jsx("path",{d:"M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z"})}),Nje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:u.jsx("path",{d:"M5 5H13V19H5V5ZM19 19H15V5H19V19ZM4 3C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V4C21 3.44772 20.5523 3 20 3H4ZM7 12L11 8.5V15.5L7 12Z"})}),bje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:u.jsx("path",{d:"M5 5H13V19H5V5ZM19 19H15V5H19V19ZM4 3C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V4C21 3.44772 20.5523 3 20 3H4ZM11 12L7 8.5V15.5L11 12Z"})}),Cje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:u.jsx("path",{d:"M7 3V6H3V8H7V11H9V3H7ZM11 8H21V6H11V8ZM17 13V16H21V18H17V21H15V13H17ZM13 18H3V16H13V18Z"})}),xje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:u.jsx("path",{d:"M12.9998 3L12.9996 10.267L19.294 6.63397L20.294 8.36602L14.0006 11.999L20.294 15.634L19.294 17.366L12.9996 13.732L12.9998 21H10.9998L10.9996 13.732L4.70557 17.366L3.70557 15.634L9.99857 12L3.70557 8.36602L4.70557 6.63397L10.9996 10.267L10.9998 3H12.9998Z"})}),wje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:u.jsx("path",{d:"M3 3C2.44772 3 2 3.44772 2 4V20C2 20.5523 2.44772 21 3 21H21C21.5523 21 22 20.5523 22 20V4C22 3.44772 21.5523 3 21 3H3ZM8 5V8H4V5H8ZM4 14V10H8V14H4ZM4 16H8V19H4V16ZM10 16H20V19H10V16ZM20 14H10V10H20V14ZM20 5V8H10V5H20Z"})}),Oje=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:u.jsx("path",{d:"M4 18V14.3C4 13.4716 3.32843 12.8 2.5 12.8H2V11.2H2.5C3.32843 11.2 4 10.5284 4 9.7V6C4 4.34315 5.34315 3 7 3H8V5H7C6.44772 5 6 5.44772 6 6V10.1C6 10.9858 5.42408 11.7372 4.62623 12C5.42408 12.2628 6 13.0142 6 13.9V18C6 18.5523 6.44772 19 7 19H8V21H7C5.34315 21 4 19.6569 4 18ZM20 14.3V18C20 19.6569 18.6569 21 17 21H16V19H17C17.5523 19 18 18.5523 18 18V13.9C18 13.0142 18.5759 12.2628 19.3738 12C18.5759 11.7372 18 10.9858 18 10.1V6C18 5.44772 17.5523 5 17 5H16V3H17C18.6569 3 20 4.34315 20 6V9.7C20 10.5284 20.6716 11.2 21.5 11.2H22V12.8H21.5C20.6716 12.8 20 13.4716 20 14.3Z"})}),Ije=({className:t})=>u.jsxs("svg",{"data-testid":"geist-icon",fill:"none",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",className:z("size-6",t),children:[u.jsx("path",{d:"M11 17l-5-5 5-5"}),u.jsx("path",{d:"M18 17l-5-5 5-5"})]}),_je=({className:t})=>u.jsxs("svg",{className:z("size-6",t),"data-testid":"geist-icon",fill:"none",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M13 17l5-5-5-5"}),u.jsx("path",{d:"M6 17l5-5-5-5"})]}),Lje=({className:t})=>u.jsxs("svg",{className:z("size-6",t),"data-testid":"geist-icon",fill:"none",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),u.jsx("path",{d:"M7 10l5 5 5-5"}),u.jsx("path",{d:"M12 15V3"})]}),Dje=({className:t})=>u.jsx("svg",{fill:"none",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",className:z("size-6",t),children:u.jsx("path",{d:"M22 3H2l8 9.46V19l4 2v-8.54L22 3z"})}),Mje=({className:t})=>u.jsxs("svg",{className:z("size-6",t),"data-testid":"geist-icon",fill:"none",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M1 4v6h6"}),u.jsx("path",{d:"M23 20v-6h-6"}),u.jsx("path",{d:"M20.49 9A9 9 0 005.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 013.51 15"})]}),Pje=({className:t})=>u.jsxs("svg",{"data-testid":"geist-icon",fill:"none",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",className:z("size-6",t),children:[u.jsx("path",{d:"M4 21v-7"}),u.jsx("path",{d:"M4 10V3"}),u.jsx("path",{d:"M12 21v-9"}),u.jsx("path",{d:"M12 8V3"}),u.jsx("path",{d:"M20 21v-5"}),u.jsx("path",{d:"M20 12V3"}),u.jsx("path",{d:"M1 14h6"}),u.jsx("path",{d:"M9 8h6"}),u.jsx("path",{d:"M17 16h6"})]}),kje=({className:t})=>u.jsxs("svg",{className:z("size-6",t),"data-testid":"geist-icon",fill:"none",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M16 18l6-6-6-6"}),u.jsx("path",{d:"M8 6l-6 6 6 6"})]}),Uje=({className:t})=>u.jsxs("svg",{"data-testid":"geist-icon",fill:"none",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",className:z("size-6",t),children:[u.jsx("path",{d:"M3 3h7v7H3z"}),u.jsx("path",{d:"M14 3h7v7h-7z"}),u.jsx("path",{d:"M14 14h7v7h-7z"}),u.jsx("path",{d:"M3 14h7v7H3z"})]}),jje=({className:t})=>u.jsxs("svg",{className:z("size-6",t),"data-testid":"geist-icon",fill:"none",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M8 19v2"}),u.jsx("path",{d:"M8 13v2"}),u.jsx("path",{d:"M16 19v2"}),u.jsx("path",{d:"M16 13v2"}),u.jsx("path",{d:"M12 21v2"}),u.jsx("path",{d:"M12 15v2"}),u.jsx("path",{d:"M20 16.58A5 5 0 0018 7h-1.26A8 8 0 104 15.25"})]}),Bje=({iconSet:t,className:e})=>{const n={default:()=>u.jsx(d6,{className:z("size-4",e),strokeWidth:1.25,absoluteStrokeWidth:!0}),feather:()=>u.jsx(M3e,{className:z(e,"")}),awesome:()=>u.jsx(G3e,{className:z(e,"h-3.5 w-3.5")}),remix:()=>u.jsx(Aje,{className:z(e,"")}),vercel:()=>u.jsx(Dje,{className:z(e,"")}),iconify1:()=>u.jsx(eje,{className:z(e,"size-[1.0625rem]")}),iconify2:()=>u.jsx(dje,{className:z(e,"")})}[t??ga("--filter-icon-set")];return n()},Fje=({iconSet:t,className:e})=>{const n={default:()=>u.jsx(LLe,{className:z(e,"")}),feather:()=>u.jsx(j3e,{className:z(e,"")}),awesome:()=>u.jsx(Y3e,{className:z(e,"h-3.5 w-3.5")}),remix:()=>u.jsx(Cje,{className:z(e,"")}),vercel:()=>u.jsx(Pje,{className:z(e,"")}),iconify1:()=>u.jsx(sje,{className:z(e,"h-[1.125rem] w-[1.125rem]")}),iconify2:()=>u.jsx(pje,{className:z(e,"h-[1.125rem] w-[1.125rem]")})}[t??ga("--sort-icon-set")];return n()},pz=({iconSet:t,className:e})=>{const n={default:()=>u.jsx(Ad,{className:z("size-4",e),strokeWidth:1.25,absoluteStrokeWidth:!0}),feather:()=>u.jsx(D3e,{className:z(e,"")}),awesome:()=>u.jsx($3e,{className:z(e,"h-3.5 w-3.5")}),remix:()=>u.jsx(yje,{className:z(e,"")}),vercel:()=>u.jsx(Lje,{className:z(e,"")}),iconify1:()=>u.jsx(Z3e,{className:z(e,"")}),iconify2:()=>u.jsx(uje,{className:z(e,"")})}[t??ga("--download-icon-set")];return n()},zL=({iconSet:t,className:e})=>{const n={default:()=>u.jsx(wO,{className:z("size-4",e),absoluteStrokeWidth:!0,strokeWidth:1.25}),feather:()=>u.jsx(_3e,{className:z(e,"")}),awesome:()=>u.jsx(F3e,{className:z(e,"ml-1.5 size-[0.8125rem]")}),remix:()=>u.jsx(Sje,{className:z(e,"")}),vercel:()=>u.jsx(Ije,{className:z(e,"")}),iconify1:()=>u.jsx(Q3e,{className:z(e,"h-[1.125rem] w-[1.125rem]")}),iconify2:()=>u.jsx(lje,{className:z(e,"h-[1.125rem] w-[1.125rem]")})}[t??ga("--chevron-icon-set")];return n()},WL=({iconSet:t,className:e})=>{const n={default:()=>u.jsx(o0,{className:z("size-4",e),absoluteStrokeWidth:!0,strokeWidth:1.25}),feather:()=>u.jsx(L3e,{className:z(e,"")}),awesome:()=>u.jsx(H3e,{className:z(e,"ml-1.5 size-[0.8125rem]")}),remix:()=>u.jsx(vje,{className:z(e,"")}),vercel:()=>u.jsx(_je,{className:z(e,"")}),iconify1:()=>u.jsx(J3e,{className:z(e,"h-[1.125rem] w-[1.125rem]")}),iconify2:()=>u.jsx(cje,{className:z(e,"h-[1.125rem] w-[1.125rem]")})}[t??ga("--chevron-icon-set")];return n()},Ez=({iconSet:t,className:e})=>{const n={default:()=>u.jsx(u0,{className:z("size-4",e),strokeWidth:1.25,absoluteStrokeWidth:!0}),feather:()=>u.jsx(P3e,{className:z(e,"")}),awesome:()=>u.jsx(V3e,{className:z(e,"size-[0.9375rem]")}),remix:()=>u.jsx(Rje,{className:z(e,"")}),vercel:()=>u.jsx(Mje,{className:z(e,"")}),iconify1:()=>u.jsx(tje,{className:z(e,"size-[1.0625rem]")}),iconify2:()=>u.jsx(hje,{className:z(e,"size-[1.1875rem]")})}[t??ga("--refresh-icon-set")];return n()},gz=({iconSet:t,className:e})=>{const n={default:()=>u.jsx(ff,{className:z("size-4",e),strokeWidth:1.25,absoluteStrokeWidth:!0}),feather:()=>u.jsx(B3e,{className:z(e,"")}),awesome:()=>u.jsx(K3e,{className:z(e,"")}),remix:()=>u.jsx(wje,{className:z(e,"")}),vercel:()=>u.jsx(Uje,{className:z(e,"")}),iconify1:()=>u.jsx(oje,{className:z(e,"")}),iconify2:()=>u.jsx(gje,{className:z(e,"")})}[t??ga("--table-icon-set")];return n()},Hje=({iconSet:t,className:e})=>{const n={default:()=>u.jsx(m6,{className:z(e,"")}),feather:()=>u.jsx(U3e,{className:z(e,"")}),awesome:()=>u.jsx(W3e,{className:z(e,"")}),remix:()=>u.jsx(bje,{className:z(e,"")}),vercel:()=>u.jsx(m6,{className:z(e,"")}),iconify1:()=>u.jsx(nje,{className:z(e,"")}),iconify2:()=>u.jsx(mje,{className:z(e,"")})}[t??ga("--sidebar-icon-set")];return n()},$je=({iconSet:t,className:e})=>{const n={default:()=>u.jsx(f6,{className:z(e,"")}),feather:()=>u.jsx(k3e,{className:z(e,"")}),awesome:()=>u.jsx(z3e,{className:z(e,"")}),remix:()=>u.jsx(Nje,{className:z(e,"")}),vercel:()=>u.jsx(f6,{className:z(e,"")}),iconify1:()=>u.jsx(rje,{className:z(e,"")}),iconify2:()=>u.jsx(fje,{className:z(e,"")})}[t??ga("--sidebar-icon-set")];return n()},Gje=({iconSet:t,className:e})=>{const n={default:()=>u.jsx(E6,{className:z("size-4",e)}),feather:()=>u.jsx(E6,{className:z(e,"")}),awesome:()=>u.jsx(X3e,{className:z(e,"h-4 w-4")}),remix:()=>u.jsx(Oje,{className:z(e,"h-4 w-4")}),vercel:()=>u.jsx(jje,{className:z(e,"h-4 w-4")}),iconify1:()=>u.jsx(aje,{className:z(e,"")}),iconify2:()=>u.jsx(Tje,{className:z(e,"")})}[t??ga("--ts-runner-icon-set")];return n()},Tz=({iconSet:t,className:e})=>{const n={default:()=>u.jsxs("svg",{viewBox:"0 0 16 16",className:z("size-4",e),fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M10 10L8 12.5L10 15",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M13 15L15 12.5L13 10",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M2.5 1.75V13.25C2.5 13.388 2.612 13.5 2.75 13.5H5.92C6.11891 13.5 6.30968 13.579 6.45033 13.7197C6.59098 13.8603 6.67 14.0511 6.67 14.25C6.67 14.4489 6.59098 14.6397 6.45033 14.7803C6.30968 14.921 6.11891 15 5.92 15H2.75C2.28587 15 1.84075 14.8156 1.51256 14.4874C1.18437 14.1592 1 13.7141 1 13.25V1.75C1 0.784 1.784 0 2.75 0H11.25C12.216 0 13 0.784 13 1.75V7.486C13 7.68491 12.921 7.87568 12.7803 8.01633C12.6397 8.15698 12.4489 8.236 12.25 8.236C12.0511 8.236 11.8603 8.15698 11.7197 8.01633C11.579 7.87568 11.5 7.68491 11.5 7.486V1.75C11.5 1.6837 11.4737 1.62011 11.4268 1.57322C11.3799 1.52634 11.3163 1.5 11.25 1.5H2.75C2.6837 1.5 2.62011 1.52634 2.57322 1.57322C2.52634 1.62011 2.5 1.6837 2.5 1.75ZM4.75 4H9.25C9.44891 4 9.63968 4.07902 9.78033 4.21967C9.92098 4.36032 10 4.55109 10 4.75C10 4.94891 9.92098 5.13968 9.78033 5.28033C9.63968 5.42098 9.44891 5.5 9.25 5.5H4.75C4.55109 5.5 4.36032 5.42098 4.21967 5.28033C4.07902 5.13968 4 4.94891 4 4.75C4 4.55109 4.07902 4.36032 4.21967 4.21967C4.36032 4.07902 4.55109 4 4.75 4ZM4 7.75C4 7.55109 4.07902 7.36032 4.21967 7.21967C4.36032 7.07902 4.55109 7 4.75 7H6.75C6.94891 7 7.13968 7.07902 7.28033 7.21967C7.42098 7.36032 7.5 7.55109 7.5 7.75C7.5 7.94891 7.42098 8.13968 7.28033 8.28033C7.13968 8.42098 6.94891 8.5 6.75 8.5H4.75C4.55109 8.5 4.36032 8.42098 4.21967 8.28033C4.07902 8.13968 4 7.94891 4 7.75Z",fill:"currentColor"})]}),feather:()=>u.jsx(DLe,{className:z(e,"")}),awesome:()=>u.jsx(q3e,{className:z(e,"h-4 w-4")}),remix:()=>u.jsx(xje,{className:z(e,"h-4 w-4")}),vercel:()=>u.jsx(kje,{className:z(e,"h-4 w-4")}),iconify1:()=>u.jsx(ije,{className:z(e,"")}),iconify2:()=>u.jsx(Eje,{className:z(e,"")})}[t??ga("--sql-runner-icon-set")];return n()},ga=t=>{const e=window.getComputedStyle(document.documentElement).getPropertyValue(t).trim();return e.length>0?e:"default"},Hr=t=>{var n,s;const e=((n=Me.getState().currentTable)==null?void 0:n.createdRecords)??[],r=((s=Me.getState().currentTable)==null?void 0:s.editedFields)??[];if(e.length>0||r.length>0){Me.getState().actions.setActionForUnsavedChanges(t);return}t()};var Rg={},Sz={},hA={};Object.defineProperty(hA,"__esModule",{value:!0}),hA.scanToken=void 0;const Vje=["SELECT","INSERT","DELETE","UPDATE","CREATE","DROP","DATABASE","SCHEMA","TABLE","VIEW","TRIGGER","FUNCTION","INDEX","ALTER","TRUNCATE","WITH","AS","MATERIALIZED","BEGIN","DECLARE","CASE","LOOP","IF","REPEAT","WHILE","FOR","PROCEDURE","SHOW","DATABASES","KEYS","TABLES","COLUMNS","STATUS","BINARY","BINLOG","CHARACTER","COLLATION","ENGINE","ENGINES","ERRORS","EVENTS","GRANTS","MASTER","OPEN","PLUGINS","PRIVILEGES","PROCESSLIST","PROFILE","PROFILES","RELAYLOG","REPLICAS","SLAVE","REPLICA","TRIGGERS","VARIABLES","WARNINGS"],zje={";":"semicolon"},YL={'"':'"',"'":"'","`":"`","[":"]"};function Wje(t,e="generic",r={positional:!0}){const n=is(t);if(fA(n))return Xje(t);if(h9e(n,t))return Qje(t);if(f9e(n,t))return r9e(t);if(l9e(n,e)&&n!==null)return Zje(t,YL[n]);if(u9e(n,t,r))return t9e(t,e,r);if(d9e(t))return Jje(t);if(qL(n,e)&&n!==null)return n9e(t,YL[n]);if(KL(n))return s9e(t);const s=i9e(t);return s||o9e(t)}hA.scanToken=Wje;function is(t,e=0){return t.position+e===t.input.length-1?null:(t.position+=1+e,t.input[t.position])}function tl(t){t.position!==t.start&&t.position--}function Yje(t){return t.position==0?null:t.input[t.position-1]}function Vd(t){return t.position>=t.input.length-1?null:t.input[t.position+1]}function qje(t){return Vje.includes(t.toUpperCase())}function Kje(t){return zje[t]}function Xje(t){let e;do e=is(t);while(fA(e));e!==null&&!fA(e)&&tl(t);const r=t.input.slice(t.start,t.position+1);return{type:"whitespace",value:r,start:t.start,end:t.start+r.length-1}}function Qje(t){let e;do e=is(t);while(e!==`
`&&e!==null);e!==null&&e!==`
`&&tl(t);const r=t.input.slice(t.start,t.position+1);return{type:"comment-inline",value:r,start:t.start,end:t.start+r.length-1}}function Jje(t){const e=/^(\$[a-zA-Z0-9_]*\$)/.exec(t.input.slice(t.start));if(!e)throw new Error("Could not find dollar quoted string opener");const r=e[1];for(let i=0;i<r.length-1;i++)is(t);let n="";for(;t.input.slice(t.position,t.position+r.length)!==r&&n!==null;){do n=is(t);while(n!=="$"&&n!==null);n!=="$"&&n!==null&&tl(t)}for(let i=0;i<r.length-1;i++)is(t);const s=t.input.slice(t.start,t.position+1);return{type:"string",value:s,start:t.start,end:t.start+s.length-1}}function Zje(t,e){let r;do r=is(t),r===e&&Vd(t)===e&&(r=is(t,1));while(r!==e&&r!==null);r!==null&&e!==r&&tl(t);const n=t.input.slice(t.start,t.position+1);return{type:"string",value:n,start:t.start,end:t.start+n.length-1}}function e9e(t,e){var r;const n=(r=e==null?void 0:e.custom)===null||r===void 0?void 0:r.map(s=>new RegExp(`^(?:${s})`,"u").exec(t.input.slice(t.start))).filter(s=>!!s)[0];return n?n[0]:null}function t9e(t,e,r){var n,s,i;const o=t.input[t.start],a=Vd(t);let l=!1;if(!((n=r.numbered)===null||n===void 0)&&n.length&&r.numbered.some(d=>d===o)){const d=t.input.slice(t.start+1).split("").findIndex(m=>/^\W+/.test(m)),h=t.input.slice(t.start+1,d>0?t.start+d+1:t.end+1);if(a!==null&&!isNaN(Number(a))&&/^\d+$/.test(h)){let m=null;do m=is(t);while(m!==null&&!isNaN(Number(m))&&!fA(m));m!==null&&tl(t),l=!0}}if(!l&&(!((s=r.named)===null||s===void 0)&&s.length)&&r.named.some(d=>d===o)&&!qL(a,e)){for(;vz(Vd(t));)is(t);l=!0}if(!l&&(!((i=r.quoted)===null||i===void 0)&&i.length)&&r.quoted.some(d=>d===o)&&qL(a,e)){const d=is(t);for(;(vz(Vd(t))||Vd(t)===" ")&&Vd(t)!=YL[d];)is(t);is(t),l=!0}if(!l&&r.custom&&r.custom.length){const d=e9e(t,r);d&&(is(t,d.length),l=!0)}const c=t.input.slice(t.start,t.position+1);return!l&&!r.positional&&o!=="?"?{type:"unknown",value:c,start:t.start,end:t.start+c.length-1}:{type:"parameter",value:c,start:t.start,end:t.start+c.length-1}}function r9e(t){let e="",r;do r=e,e=is(t);while((r||"")+(e||"")!=="*/"&&e!==null);e!==null&&e!=="/"&&tl(t);const n=t.input.slice(t.start,t.position+1);return{type:"comment-block",value:n,start:t.start,end:t.start+n.length-1}}function n9e(t,e){let r;do r=is(t);while(e!==r&&r!==null);r!==null&&e!==r&&tl(t);const n=t.input.slice(t.start,t.position+1);return{type:"keyword",value:n,start:t.start,end:t.start+n.length-1}}function s9e(t){let e;do e=is(t);while(KL(e));e!==null&&!KL(e)&&tl(t);const r=t.input.slice(t.start,t.position+1);return qje(r)?{type:"keyword",value:r,start:t.start,end:t.start+r.length-1}:a9e(t,r)}function i9e(t){const e=t.input.slice(t.start,t.position+1),r=Kje(e);return r?{type:r,value:e,start:t.start,end:t.start+e.length-1}:null}function o9e(t){return{type:"unknown",value:t.input.slice(t.start,t.position+1),start:t.start,end:t.start}}function a9e(t,e){return{type:"unknown",value:e,start:t.start,end:t.start+e.length-1}}function fA(t){return t===" "||t==="	"||t===`
`||t==="\r"}function vz(t){return t!==null&&/\w/.test(t)}function l9e(t,e){return(e==="mysql"?["'",'"']:["'"]).includes(t)}function c9e(t,e){return e.some(r=>new RegExp(`^(?:${r})`,"uy").test(t.input.slice(t.start)))}function u9e(t,e,r){var n,s,i,o;if(!t)return!1;const a=Vd(e),l=Yje(e);return t===":"&&(l===":"||a===":")?!1:!!(r.positional&&t==="?"||!((n=r.numbered)===null||n===void 0)&&n.length&&r.numbered.some(c=>t===c)&&a!==null&&!isNaN(Number(a))||!((s=r.named)===null||s===void 0)&&s.length&&r.named.some(c=>c===t)||!((i=r.quoted)===null||i===void 0)&&i.length&&r.quoted.some(c=>c===t)||!((o=r.custom)===null||o===void 0)&&o.length&&c9e(e,r.custom))}function d9e(t){return/^\$[\w]*\$/.exec(t.input.slice(t.start))!==null}function qL(t,e){return(e==="mssql"?['"',"["]:['"',"`"]).includes(t)}function h9e(t,e){let r=t==="-";return r?(r=is(e)==="-",r||tl(e),r):!1}function f9e(t,e){let r=t==="/";return r?(r=is(e)==="*",r||tl(e),r):!1}function KL(t){return t!==null&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="_")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultParamTypesFor=t.parse=t.EXECUTION_TYPES=void 0;const e=hA;t.EXECUTION_TYPES={SELECT:"LISTING",INSERT:"MODIFICATION",DELETE:"MODIFICATION",UPDATE:"MODIFICATION",TRUNCATE:"MODIFICATION",CREATE_DATABASE:"MODIFICATION",CREATE_SCHEMA:"MODIFICATION",CREATE_TABLE:"MODIFICATION",CREATE_VIEW:"MODIFICATION",CREATE_TRIGGER:"MODIFICATION",CREATE_FUNCTION:"MODIFICATION",CREATE_INDEX:"MODIFICATION",CREATE_PROCEDURE:"MODIFICATION",SHOW_BINARY:"LISTING",SHOW_BINLOG:"LISTING",SHOW_CHARACTER:"LISTING",SHOW_COLLATION:"LISTING",SHOW_CREATE:"LISTING",SHOW_ENGINE:"LISTING",SHOW_ENGINES:"LISTING",SHOW_ERRORS:"LISTING",SHOW_EVENTS:"LISTING",SHOW_FUNCTION:"LISTING",SHOW_GRANTS:"LISTING",SHOW_MASTER:"LISTING",SHOW_OPEN:"LISTING",SHOW_PLUGINS:"LISTING",SHOW_PRIVILEGES:"LISTING",SHOW_PROCEDURE:"LISTING",SHOW_PROCESSLIST:"LISTING",SHOW_PROFILE:"LISTING",SHOW_PROFILES:"LISTING",SHOW_RELAYLOG:"LISTING",SHOW_REPLICAS:"LISTING",SHOW_SLAVE:"LISTING",SHOW_REPLICA:"LISTING",SHOW_STATUS:"LISTING",SHOW_TRIGGERS:"LISTING",SHOW_VARIABLES:"LISTING",SHOW_WARNINGS:"LISTING",SHOW_DATABASES:"LISTING",SHOW_KEYS:"LISTING",SHOW_INDEX:"LISTING",SHOW_TABLE:"LISTING",SHOW_TABLES:"LISTING",SHOW_COLUMNS:"LISTING",DROP_DATABASE:"MODIFICATION",DROP_SCHEMA:"MODIFICATION",DROP_TABLE:"MODIFICATION",DROP_VIEW:"MODIFICATION",DROP_TRIGGER:"MODIFICATION",DROP_FUNCTION:"MODIFICATION",DROP_INDEX:"MODIFICATION",DROP_PROCEDURE:"MODIFICATION",ALTER_DATABASE:"MODIFICATION",ALTER_SCHEMA:"MODIFICATION",ALTER_TABLE:"MODIFICATION",ALTER_VIEW:"MODIFICATION",ALTER_TRIGGER:"MODIFICATION",ALTER_FUNCTION:"MODIFICATION",ALTER_INDEX:"MODIFICATION",ALTER_PROCEDURE:"MODIFICATION",UNKNOWN:"UNKNOWN",ANON_BLOCK:"ANON_BLOCK"};const r=["CREATE_TRIGGER","CREATE_FUNCTION","CREATE_PROCEDURE","ANON_BLOCK","UNKNOWN"],n=/^from$|^join$|^into$/i,s={generic:["BEGIN","CASE"],psql:["BEGIN","CASE","LOOP","IF"],mysql:["BEGIN","CASE","LOOP","IF"],mssql:["BEGIN","CASE"],sqlite:["BEGIN","CASE"],oracle:["DECLARE","BEGIN","CASE"],bigquery:["BEGIN","CASE","IF","LOOP","REPEAT","WHILE","FOR"]};function i(){return{start:-1,end:0,parameters:[],tables:[]}}function o(A,b){let _;do A=l({prevState:A}),_=(0,e.scanToken)(A,b);while(_.type==="whitespace");return _}function a(A,b=!0,_="generic",U=!1,j){const L=l({input:A}),P={type:"QUERY",start:0,end:A.length-1,body:[],tokens:[]};let I=L,F=null;const W={isCte:!1,asSeen:!1,statementEnd:!1,parens:0,state:L,params:[]},Y=["whitespace","comment-inline","comment-block","semicolon"];for(;I.position<L.end;){const k=l({prevState:I}),V=(0,e.scanToken)(k,_,j),re=o(k,_);if(!F)!W.isCte&&Y.includes(V.type)?(P.tokens.push(V),I=k):!W.isCte&&V.type==="keyword"&&V.value.toUpperCase()==="WITH"?(W.isCte=!0,P.tokens.push(V),W.state=k,I=k):W.isCte&&V.type==="semicolon"?(P.tokens.push(V),I=k,P.body.push({start:W.state.start,end:V.end,type:"UNKNOWN",executionType:"UNKNOWN",parameters:[],tables:[]}),W.isCte=!1,W.asSeen=!1,W.statementEnd=!1,W.parens=0):W.isCte&&!W.statementEnd?(W.asSeen?V.value==="("?W.parens++:V.value===")"&&(W.parens--,W.parens===0&&(W.statementEnd=!0)):V.value.toUpperCase()==="AS"&&(W.asSeen=!0),P.tokens.push(V),I=k):W.isCte&&W.statementEnd&&V.value===","?(W.asSeen=!1,W.statementEnd=!1,P.tokens.push(V),I=k):W.isCte&&W.statementEnd&&Y.includes(V.type)?(P.tokens.push(V),I=k):(F=c(V,re,{isStrict:b,dialect:_,identifyTables:U}),W.isCte&&(F.getStatement().start=W.state.start,F.getStatement().isCte=!0,F.getStatement().parameters.push(...W.params),W.params=[],W.isCte=!1,W.asSeen=!1,W.statementEnd=!1)),W.isCte&&V.type==="parameter"&&W.params.push(V.value);else{F.addToken(V,re),P.tokens.push(V),I=k;const K=F.getStatement();K.endStatement&&(K.end=V.end,P.body.push(K),F=null)}}if(F){const k=F.getStatement();k.endStatement||(k.end=P.end,P.body.push(k))}return P}t.parse=a;function l({input:A,prevState:b}){if(b)return{input:b.input,position:b.position,start:b.position+1,end:b.input.length-1};if(A===void 0)throw new Error("You must define either input or prevState");return{input:A,position:-1,start:0,end:A.length-1}}function c(A,b,_){if(A.type==="keyword")switch(A.value.toUpperCase()){case"SELECT":return d(_);case"CREATE":return E(_);case"SHOW":if(["mysql","generic"].includes(_.dialect))return v(_);break;case"DROP":return g(_);case"ALTER":return T(_);case"INSERT":return m(_);case"UPDATE":return f(_);case"DELETE":return p(_);case"TRUNCATE":return S(_);case"BEGIN":if(["bigquery","oracle"].includes(_.dialect)&&b.value!=="TRANSACTION")return h(_);break;case"DECLARE":if(_.dialect==="oracle")return h(_);break}if(!_.isStrict)return N(_);throw new Error(`Invalid statement parser "${A.value}"`)}function d(A){const b=i();return C(b,[{preCanGoToNext:()=>!1,validation:{acceptTokens:[{type:"keyword",value:"SELECT"}]},add:U=>{b.type="SELECT",b.start<0&&(b.start=U.start)},postCanGoToNext:()=>!0}],A)}function h(A){const b=i();b.type="ANON_BLOCK";const _=[{preCanGoToNext:()=>!1,validation:{acceptTokens:[...A.dialect==="oracle"?[{type:"keyword",value:"DECLARE"}]:[],{type:"keyword",value:"BEGIN"}]},add:U=>{b.start<0&&(b.start=U.start)},postCanGoToNext:()=>!0}];return C(b,_,A)}function m(A){const b=i();return C(b,[{preCanGoToNext:()=>!1,validation:{acceptTokens:[{type:"keyword",value:"INSERT"}]},add:U=>{b.type="INSERT",b.start<0&&(b.start=U.start)},postCanGoToNext:()=>!0}],A)}function f(A){const b=i();return C(b,[{preCanGoToNext:()=>!1,validation:{acceptTokens:[{type:"keyword",value:"UPDATE"}]},add:U=>{b.type="UPDATE",b.start<0&&(b.start=U.start)},postCanGoToNext:()=>!0}],A)}function p(A){const b=i();return C(b,[{preCanGoToNext:()=>!1,validation:{acceptTokens:[{type:"keyword",value:"DELETE"}]},add:U=>{b.type="DELETE",b.start<0&&(b.start=U.start)},postCanGoToNext:()=>!0}],A)}function E(A){const b=i(),_=[{preCanGoToNext:()=>!1,validation:{acceptTokens:[{type:"keyword",value:"CREATE"}]},add:U=>{b.start<0&&(b.start=U.start)},postCanGoToNext:()=>!0},{preCanGoToNext:()=>!1,validation:{requireBefore:["whitespace"],acceptTokens:[...A.dialect!=="sqlite"?[{type:"keyword",value:"DATABASE"},{type:"keyword",value:"SCHEMA"},{type:"keyword",value:"PROCEDURE"}]:[],{type:"keyword",value:"TABLE"},{type:"keyword",value:"VIEW"},{type:"keyword",value:"TRIGGER"},{type:"keyword",value:"FUNCTION"},{type:"keyword",value:"INDEX"}]},add:U=>{b.type=`CREATE_${U.value.toUpperCase()}`},postCanGoToNext:()=>!0}];return C(b,_,A)}function g(A){const b=i(),_=[{preCanGoToNext:()=>!1,validation:{acceptTokens:[{type:"keyword",value:"DROP"}]},add:U=>{b.start<0&&(b.start=U.start)},postCanGoToNext:()=>!0},{preCanGoToNext:()=>!1,validation:{requireBefore:["whitespace"],acceptTokens:[...A.dialect!=="sqlite"?[{type:"keyword",value:"DATABASE"},{type:"keyword",value:"SCHEMA"},{type:"keyword",value:"PROCEDURE"}]:[],{type:"keyword",value:"TABLE"},{type:"keyword",value:"VIEW"},{type:"keyword",value:"TRIGGER"},{type:"keyword",value:"FUNCTION"},{type:"keyword",value:"INDEX"}]},add:U=>{b.type=`DROP_${U.value.toUpperCase()}`},postCanGoToNext:()=>!0}];return C(b,_,A)}function T(A){const b=i(),_=[{preCanGoToNext:()=>!1,validation:{acceptTokens:[{type:"keyword",value:"ALTER"}]},add:U=>{b.start<0&&(b.start=U.start)},postCanGoToNext:()=>!0},{preCanGoToNext:()=>!1,validation:{requireBefore:["whitespace"],acceptTokens:[...A.dialect!=="sqlite"?[{type:"keyword",value:"DATABASE"},{type:"keyword",value:"SCHEMA"},{type:"keyword",value:"TRIGGER"},{type:"keyword",value:"FUNCTION"},{type:"keyword",value:"INDEX"},...A.dialect!=="bigquery"?[{type:"keyword",value:"PROCEDURE"}]:[]]:[],{type:"keyword",value:"TABLE"},{type:"keyword",value:"VIEW"}]},add:U=>{b.type=`ALTER_${U.value.toUpperCase()}`},postCanGoToNext:()=>!0}];return C(b,_,A)}function S(A){const b=i();return C(b,[{preCanGoToNext:()=>!1,validation:{acceptTokens:[{type:"keyword",value:"TRUNCATE"}]},add:U=>{b.type="TRUNCATE",b.start<0&&(b.start=U.start)},postCanGoToNext:()=>!0}],A)}function v(A){const b=i();return C(b,[{preCanGoToNext:()=>!1,validation:{acceptTokens:[{type:"keyword",value:"SHOW"}]},add:U=>{b.start<0&&(b.start=U.start)},postCanGoToNext:()=>!0},{preCanGoToNext:()=>!1,validation:{requireBefore:["whitespace"],acceptTokens:[{type:"keyword",value:"DATABASES"},{type:"keyword",value:"DATABASE"},{type:"keyword",value:"KEYS"},{type:"keyword",value:"INDEX"},{type:"keyword",value:"COLUMNS"},{type:"keyword",value:"TABLES"},{type:"keyword",value:"TABLE"},{type:"keyword",value:"BINARY"},{type:"keyword",value:"BINLOG"},{type:"keyword",value:"CHARACTER"},{type:"keyword",value:"COLLATION"},{type:"keyword",value:"CREATE"},{type:"keyword",value:"ENGINE"},{type:"keyword",value:"ENGINES"},{type:"keyword",value:"ERRORS"},{type:"keyword",value:"EVENTS"},{type:"keyword",value:"FUNCTION"},{type:"keyword",value:"GRANTS"},{type:"keyword",value:"MASTER"},{type:"keyword",value:"OPEN"},{type:"keyword",value:"PLUGINS"},{type:"keyword",value:"PRIVILEGES"},{type:"keyword",value:"PROCEDURE"},{type:"keyword",value:"PROCESSLIST"},{type:"keyword",value:"PROFILE"},{type:"keyword",value:"PROFILES"},{type:"keyword",value:"RELAYLOG"},{type:"keyword",value:"REPLICAS"},{type:"keyword",value:"REPLICA"},{type:"keyword",value:"SLAVE"},{type:"keyword",value:"STATUS"},{type:"keyword",value:"TRIGGERS"},{type:"keyword",value:"VARIABLES"},{type:"keyword",value:"WARNINGS"}]},add:U=>{b.type=`SHOW_${U.value.toUpperCase().replace(" ","_")}`},postCanGoToNext:()=>!0}],A)}function N(A){const b=i();return C(b,[{preCanGoToNext:()=>!1,add:U=>{b.type="UNKNOWN",b.start<0&&(b.start=U.start)},postCanGoToNext:()=>!0}],A)}function C(A,b,{isStrict:_,dialect:U,identifyTables:j}){let L=0,P,I,F,W=!1,Y=0;const k=(re,K)=>re.validation?re.validation.acceptTokens.filter(B=>{const X=K.type===B.type,J=!B.value||K.value.toUpperCase()===B.value;return X&&J}).length>0:!0,V=re=>{P=re,re.type!=="whitespace"&&(I=re)};return{getStatement(){return A},addToken(re,K){var B;if(A.endStatement)throw new Error("This statement has already got to the end.");if(A.type&&re.type==="semicolon"&&(!r.includes(A.type)||Y===0&&(A.type==="UNKNOWN"||A.canEnd))){A.endStatement=";";return}if(Y>0&&re.value.toUpperCase()==="END"){Y--,Y===0&&(A.canEnd=!0),V(re);return}if(re.type==="whitespace"){V(re);return}if(re.type==="keyword"&&s[U].includes(re.value.toUpperCase())&&(I==null?void 0:I.value.toUpperCase())!=="END"&&(re.value.toUpperCase()!=="BEGIN"||re.value.toUpperCase()==="BEGIN"&&K.value.toUpperCase()!=="TRANSACTION"&&(U!=="sqlite"||U==="sqlite"&&!["DEFERRED","IMMEDIATE","EXCLUSIVE"].includes(K.value.toUpperCase())))){if(U==="oracle"&&(F==null?void 0:F.value)==="DECLARE"&&re.value.toUpperCase()==="BEGIN"){V(re),F=re;return}if(Y++,F=re,V(re),A.type==="ANON_BLOCK"&&!W)W=!0;else if(A.type)return}if(j&&n.exec(re.value)&&!A.isCte&&(!((B=A.type)===null||B===void 0)&&B.match(/SELECT|INSERT/))){const J=K.value;A.tables.includes(J)||A.tables.push(J)}if(re.type==="parameter"&&(re.value==="?"||!A.parameters.includes(re.value))&&A.parameters.push(re.value),A.type&&A.start>=0){V(re);return}if(re.value.toUpperCase()==="UNIQUE"||U==="mysql"&&["FULLTEXT","SPATIAL"].includes(re.value.toUpperCase())||U==="mssql"&&["CLUSTERED","NONCLUSTERED"].includes(re.value.toUpperCase())){V(re);return}if(["psql","mssql","bigquery"].includes(U)&&re.value.toUpperCase()==="MATERIALIZED"){V(re);return}if(U!=="sqlite"&&(re.value.toUpperCase()==="OR"||(I==null?void 0:I.value.toUpperCase())==="OR"&&re.value.toUpperCase()===(U==="mssql"?"ALTER":"REPLACE"))){V(re);return}if(U==="psql"&&["TEMP","TEMPORARY"].includes(re.value.toUpperCase())||U==="sqlite"&&["TEMP","TEMPORARY","VIRTUAL"].includes(re.value.toUpperCase())){V(re);return}if(U==="mysql"&&re.value.toUpperCase()==="DEFINER"){A.definer=0,V(re);return}if(A.definer===0&&re.value==="="){A.definer++,V(re);return}if(A.definer!==void 0&&A.definer>0){if(A.definer===1&&(P==null?void 0:P.type)==="whitespace"){A.definer++,V(re);return}if(A.definer>1&&(P==null?void 0:P.type)!=="whitespace"){V(re);return}delete A.definer}if(U==="mysql"&&re.value.toUpperCase()==="ALGORITHM"){A.algorithm=0,V(re);return}if(A.algorithm===0&&re.value==="="){A.algorithm++,V(re);return}if(A.algorithm!==void 0&&A.algorithm>0){if(A.algorithm===1&&(P==null?void 0:P.type)==="whitespace"){A.algorithm++,V(re);return}if(A.algorithm>1&&P&&["UNDEFINED","MERGE","TEMPTABLE"].includes(P.value.toUpperCase())){V(re);return}delete A.algorithm}if(U==="mysql"&&re.value.toUpperCase()==="SQL"){A.sqlSecurity=0,V(re);return}if(A.sqlSecurity!==void 0)if(A.sqlSecurity===0&&re.value.toUpperCase()==="SECURITY"||A.sqlSecurity===1&&["DEFINER","INVOKER"].includes(re.value.toUpperCase())){A.sqlSecurity++,V(re);return}else A.sqlSecurity===2&&delete A.sqlSecurity;let X=b[L];if(X.preCanGoToNext(re)&&(L++,X=b[L]),P&&X.validation&&X.validation.requireBefore&&!X.validation.requireBefore.includes(P.type)){const J=X.validation.requireBefore.join(" or ");throw new Error(`Expected any of these tokens ${J} before "${re.value}" (currentStep=${L}).`)}if(!k(X,re)&&_){const J=X.validation?X.validation.acceptTokens.map(Z=>`(type="${Z.type}" value="${Z.value}")`).join(" or "):"()";throw new Error(`Expected any of these tokens ${J} instead of type="${re.type}" value="${re.value}" (currentStep=${L}).`)}X.add(re),A.executionType=A.type&&t.EXECUTION_TYPES[A.type]?t.EXECUTION_TYPES[A.type]:"UNKNOWN",X.postCanGoToNext(re)&&L++,V(re)}}}function x(A){switch(A){case"psql":return{numbered:["$"]};case"mssql":return{named:[":"]};case"bigquery":return{positional:!0,named:["@"],quoted:["@"]};case"sqlite":return{positional:!0,numbered:["?"],named:[":","@"]};default:return{positional:!0}}}t.defaultParamTypesFor=x})(Sz);var mA={};Object.defineProperty(mA,"__esModule",{value:!0}),mA.DIALECTS=void 0,mA.DIALECTS=["mssql","sqlite","mysql","oracle","psql","bigquery","generic"],Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.getExecutionType=rl=Rg.identify=void 0;const XL=Sz,yz=mA;function m9e(t,e={}){const r=typeof e.strict>"u"?!0:e.strict===!0,n=typeof e.dialect>"u"?"generic":e.dialect;if(!yz.DIALECTS.includes(n))throw new Error(`Unknown dialect. Allowed values: ${yz.DIALECTS.join(", ")}`);const s=e.paramTypes||(0,XL.defaultParamTypesFor)(n),i=(0,XL.parse)(t,r,n,e.identifyTables,s),o=n==="psql"&&!e.paramTypes;return i.body.map(a=>({start:a.start,end:a.end,text:t.substring(a.start,a.end+1),type:a.type,executionType:a.executionType,parameters:o?a.parameters.sort():a.parameters,tables:a.tables||[]}))}var rl=Rg.identify=m9e;function p9e(t){return XL.EXECUTION_TYPES[t]||"UNKNOWN"}Rg.getExecutionType=p9e;const E9e=()=>{const t=it(({dialect:k})=>{if(!k)throw new Error("No dialect");return k}),e=Me(k=>k.currentPage),r=Me(k=>{var V;return(V=k.currentTable)==null?void 0:V.schema}),n=Me(k=>{var V;return(V=k.currentTable)==null?void 0:V.name}),s=ht(k=>k.paginationType),i=ht(k=>k.readonlyMode),o=ht(k=>k.schemaReadonlyMode),a=it(k=>k.schemas),l=Vn(k=>k.currentSnippetId),c=Vn(k=>k.items);ht(k=>k.setIsAppearanceSettingsOpen);const d=ht(k=>k.setIsSchemaPaletteOpen),h=ht(k=>k.setIsSettingsOpen),{addCreatedRecord:m,setCurrentTable:f,setCurrentPage:p,fetchRecords:E}=sr(),{pull:g,pullCounts:T}=gn(),{executeSnippet:S,selectSnippet:v}=Sn(),N=Vn(k=>k.view),C=Me(k=>k.tab),{setTab:x,setStructureScenario:A}=sr(),b=ht(k=>k.spotlightOpen),_=ht(k=>k.setSpotlightOpen),[U,j]=y.useState(!1),[L,P]=y.useState(""),I=navigator.platform.toUpperCase().indexOf("MAC")>=0,F=y.useMemo(()=>Object.values(a).reduce((k,V)=>k.concat(Object.values(V.tables),Object.values(V.views)),[]),[a]),W=y.useMemo(()=>oj(k=>k.type==="folder"?k.children.some(V=>V.id===l):k.id===l,Object.values(c)),[c,l]),Y=y.useMemo(()=>(W==null?void 0:W.type)==="folder"?W.children.find(k=>k.id===l):(W==null?void 0:W.type)==="snippet"?W:null,[W,l]);return y.useEffect(()=>{const k=V=>{V.code==="KeyK"&&(V.metaKey||V.ctrlKey)&&(V.preventDefault(),ht.setState(re=>({spotlightOpen:!re.spotlightOpen})))};return window.addEventListener("keydown",k),()=>{window.removeEventListener("keydown",k)}},[]),u.jsxs(u.Fragment,{children:[u.jsxs(fz,{open:b,onOpenChange:_,children:[u.jsx(cA,{placeholder:"Type a command or search...",value:L,className:"placeholder:text-input-placeholder",onValueChange:P}),u.jsxs(uA,{className:"max-h-[18.75rem] min-h-[18.75rem]",children:[u.jsx(dA,{className:"flex h-[18.75rem] items-center justify-center",children:"No results found."}),L&&u.jsxs(u.Fragment,{children:[u.jsx(fu,{heading:"Entities",children:F.map(k=>u.jsxs(ss,{onSelect:()=>{const V={id:k.id,type:k.type,name:k.name,schema:k.schema,createdRecords:[],editedFields:[],filters:[],pagination:{limit:50,offset:0},records:[],sort:null,columnSettings:{}};Hr(()=>{f(V),p("main"),_(!1)})},children:[k.type==="table"?u.jsx(ff,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}):u.jsx(d0,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("span",{children:k.schema!=="public"?`${k.schema}.${k.name}`:k.name})]},k.id))}),u.jsx(fu,{heading:"Snippets",children:Object.values(c).flatMap(k=>k.type==="folder"?k.children.map(V=>({...V,folderName:k.name})):k).map(k=>u.jsxs(ss,{onSelect:()=>{Hr(()=>{v(k.id),p("sql-runner"),_(!1)})},children:[u.jsx(OO,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("span",{children:k.folderName?`${k.folderName}/${k.name}`:k.name})]},k.id))})]}),e==="main"&&u.jsx(u.Fragment,{children:u.jsxs(fu,{heading:"Table commands",children:[C==="content"&&!i&&u.jsxs(ss,{onSelect:()=>{rt("toolbar_add_row"),m(),_(!1)},children:[u.jsx(hf,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("span",{children:"Add record"})]}),C==="content"&&!i&&!o&&u.jsxs(ss,{onSelect:()=>{A("add-column"),x("structure"),_(!1)},children:[u.jsx(bLe,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("span",{children:"Add column"})]}),u.jsx(ss,{onSelect:()=>{x(C==="content"?"structure":"content"),_(!1)},children:C==="content"?u.jsxs(u.Fragment,{children:[u.jsx(df,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),!i&&!o?u.jsx("span",{children:"Alter entity"}):u.jsx("span",{children:"Browse structure"})]}):u.jsxs(u.Fragment,{children:[u.jsx(_O,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("span",{children:"Browse data"})]})}),C==="content"&&u.jsxs(ss,{onSelect:()=>{rt("toolbar_refresh_rows"),E(),s==="pages"&&T({schema:r,table:n}),_(!1)},children:[u.jsx(u0,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("span",{children:"Refresh rows"})]}),u.jsxs(ss,{onSelect:()=>{rt("database_refresh"),g(),_(!1)},children:[u.jsx(IO,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("span",{children:"Refresh schema"}),u.jsx(im,{className:"font-mono",children:I?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(ci,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx("div",{className:"flex size-3.5 items-center justify-center",children:u.jsx("div",{className:"text-xs leading-3",children:"R"})})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Ctrl+R"})})]})]})}),e==="sql-runner"&&Y&&u.jsx(u.Fragment,{children:u.jsxs(fu,{heading:"Console commands",children:[u.jsxs(ss,{onSelect:async()=>{if(!N)return;const k=rl(N.state.doc.toString(),{strict:!1,dialect:t==="postgresql"||t==="duckdb"?"psql":t==="singlestore"?"mysql":t||void 0}),{from:V,to:re}=N.state.selection.main,K=k.filter(X=>X.end+1>=V&&X.start<=re);if(K.length===0)return!1;const{shouldRefetch:B}=await S(Y.id,K,Y.folderId);B&&g(),_(!1)},children:[u.jsx(c0,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("span",{children:"Run selected"}),u.jsx(im,{className:"font-mono",children:I?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(ci,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(za,{className:"!size-3.5 !p-px"})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Ctrl+Enter"})})]}),u.jsxs(ss,{onSelect:async()=>{const k=rl(Y.sql,{strict:!1,dialect:t==="postgresql"||t==="duckdb"?"psql":t==="singlestore"?"mysql":t||void 0}),{shouldRefetch:V}=await S(Y.id,k,Y.folderId);V&&g(),_(!1)},children:[u.jsx(c0,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("span",{children:"Run all"}),u.jsx(im,{className:"font-mono",children:I?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(Hc,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(ci,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(za,{className:"!size-3.5 !p-px"})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Shift+Ctrl+Enter"})})]}),u.jsxs(ss,{onSelect:()=>{d(!0),_(!1)},children:[u.jsx(xLe,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("span",{children:"Database schema"}),u.jsx(im,{className:"font-mono",children:I?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(Hc,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(Rd,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx("div",{className:"flex size-3.5 items-center justify-center",children:u.jsx("span",{className:"text-xs leading-3",children:"F"})})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Shift + Alt + F"})})]}),u.jsxs(ss,{onSelect:()=>{if(!N)return;const k=N.state.doc.toString(),V=Ps(k,t,{keywordCase:"upper"});V!==k&&N.dispatch({changes:{from:0,to:N.state.doc.length,insert:V}}),_(!1)},children:[u.jsx(T6,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("span",{children:"Prettify"}),u.jsx(im,{className:"font-mono",children:I?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(Hc,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(Rd,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx("div",{className:"flex size-3.5 items-center justify-center",children:u.jsx("div",{className:"text-xs leading-3",children:"F"})})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Shift + Alt + F"})})]})]})}),u.jsxs(fu,{heading:"General",children:[e!=="main"&&u.jsxs(ss,{onSelect:()=>{p("main"),_(!1)},children:[u.jsx(ff,{className:"!size-4"}),"Go to Tables"]}),e!=="sql-runner"&&u.jsxs(ss,{onSelect:()=>{p("sql-runner"),_(!1)},children:[u.jsx(Tz,{className:"!size-4"}),"Go to SQL console"]}),e!=="drizzle-runner"&&u.jsxs(ss,{onSelect:()=>{p("drizzle-runner"),_(!1)},children:[u.jsx(Gje,{className:"!size-4"}),"Go to Drizzle runner"]}),u.jsxs(ss,{onSelect:()=>{h(!0),_(!1)},children:[u.jsx(p6,{className:"!size-4",absoluteStrokeWidth:!0,strokeWidth:1.25}),"Settings"]}),!1,u.jsxs(ss,{onSelect:()=>{j(!0),_(!1)},children:[u.jsx(ci,{className:"!size-4",absoluteStrokeWidth:!0,strokeWidth:1.25}),"Keybindings"]})]})]})]}),u.jsx(Ea,{open:U,onOpenChange:j,children:u.jsxs(Mo,{className:"grid max-w-[25rem] grid-cols-[auto_1fr] items-center gap-y-1",children:[u.jsx("div",{className:"col-span-2 text-xs",children:"Global"}),I?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(Rd,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx("div",{className:"flex size-3.5 items-center justify-center",children:u.jsx("div",{className:"text-xs leading-3",children:"S"})})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Alt + S"}),u.jsx("div",{className:"text-sm",children:"Collapse/Expand sidebar"}),u.jsx("div",{className:"col-span-2 mt-1 text-xs",children:"Table"}),I?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(ci,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx("div",{className:"flex size-3.5 items-center justify-center",children:u.jsx("div",{className:"text-xs leading-3",children:"R"})})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Ctrl+R"}),u.jsx("div",{className:"text-sm",children:"Refresh schema"}),I?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(Rd,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(za,{className:"!size-3.5 !p-px"})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Alt + Enter"}),u.jsx("div",{className:"text-sm",children:"Save changes"}),u.jsx("div",{className:"col-span-2 mt-1 text-xs",children:"SQL console"}),I?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(ci,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(za,{className:"!size-3.5 !p-px"})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Ctrl+Enter"}),u.jsx("div",{className:"text-sm",children:"Run selected queries"}),I?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(Hc,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(ci,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(za,{className:"!size-3.5 !p-px"})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Shift+Ctrl+Enter"}),u.jsx("div",{className:"text-sm",children:"Run all queries"}),I?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(ci,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx("div",{className:"flex size-3.5 items-center justify-center",children:u.jsx("div",{className:"text-xs leading-3",children:"J"})})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Ctrl+J"}),u.jsx("div",{className:"text-sm",children:"Database Schema"}),I?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(Hc,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(Rd,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx("div",{className:"flex size-3.5 items-center justify-center",children:u.jsx("div",{className:"text-xs leading-3",children:"F"})})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Shift + Alt + F"}),u.jsx("div",{className:"text-sm",children:"Prettify"})]})})]})},g9e=()=>{const t=Me(s=>s.actionForUnsavedChanges),{setActionForUnsavedChanges:e,discardChanges:r}=sr(),n=s=>{s.stopPropagation(),r(),t==null||t(),e(null)};return u.jsx(Ea,{open:!!t,onOpenChange:()=>e(null),children:u.jsxs(Mo,{className:"text-foreground @sm:max-w-[26.5625rem]",children:[u.jsx(tc,{children:u.jsx(rc,{children:"Unsaved changes"})}),u.jsx("div",{className:"grid gap-4 py-4",children:"Table contains unsaved changes. Do you want to discard them?"}),u.jsx(el,{children:u.jsx(Le,{size:"sm",variant:"destructive",onClick:n,children:"Discard changes"})})]})})},Az=y.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:z("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Az.displayName="Card";const Rz=y.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:z("flex flex-col space-y-1.5 p-6",t),...e}));Rz.displayName="CardHeader";const Nz=y.forwardRef(({className:t,...e},r)=>u.jsx("h3",{ref:r,className:z("text-2xl font-semibold leading-none tracking-tight",t),...e}));Nz.displayName="CardTitle";const bz=y.forwardRef(({className:t,...e},r)=>u.jsx("p",{ref:r,className:z("text-sm text-muted-foreground",t),...e}));bz.displayName="CardDescription";const Cz=y.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:z("p-6 pt-0",t),...e}));Cz.displayName="CardContent";const T9e=y.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:z("flex items-center p-6 pt-0",t),...e}));T9e.displayName="CardFooter";const S9e="Are you sure you want to exit?",v9e=()=>{y.useEffect(()=>{const t=e=>{const{currentTable:r}=Me.getState();if(r&&(r.createdRecords.length>0||r.editedFields.length>0))return e.preventDefault(),e.returnValue=S9e};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[])},xz=({className:t})=>{const e=y.useRef(null),[r,n]=y.useState(!1);return y.useEffect(()=>{var s;return(s=e.current)==null||s.addEventListener("slotchange",()=>{const i=e.current&&e.current.assignedElements().length>0;n(!!i)}),()=>{var i;(i=e.current)==null||i.removeEventListener("slotchange",()=>{})}},[]),u.jsx("div",{className:z(r&&t),children:u.jsx("slot",{ref:e,name:"callout"})})};var pA="Popover",[wz,fst]=fi(pA,[uu]),Ng=uu(),[y9e,mu]=wz(pA),Oz=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Ng(e),l=y.useRef(null),[c,d]=y.useState(!1),[h,m]=Do({prop:n,defaultProp:s??!1,onChange:i,caller:pA});return u.jsx(Wy,{...a,children:u.jsx(y9e,{scope:e,contentId:ys(),triggerRef:l,open:h,onOpenChange:m,onOpenToggle:y.useCallback(()=>m(f=>!f),[m]),hasCustomAnchor:c,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:o,children:r})})};Oz.displayName=pA;var Iz="PopoverAnchor",_z=y.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=mu(Iz,r),i=Ng(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return y.useEffect(()=>(o(),()=>a()),[o,a]),u.jsx(mg,{...i,...n,ref:e})});_z.displayName=Iz;var Lz="PopoverTrigger",Dz=y.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=mu(Lz,r),i=Ng(r),o=Ht(e,s.triggerRef),a=u.jsx(Et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jz(s.open),...n,ref:o,onClick:tt(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:u.jsx(mg,{asChild:!0,...i,children:a})});Dz.displayName=Lz;var QL="PopoverPortal",[A9e,R9e]=wz(QL,{forceMount:void 0}),Mz=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,i=mu(QL,e);return u.jsx(A9e,{scope:e,forceMount:r,children:u.jsx(ns,{present:r||i.open,children:u.jsx(Fd,{asChild:!0,container:s,children:n})})})};Mz.displayName=QL;var om="PopoverContent",Pz=y.forwardRef((t,e)=>{const r=R9e(om,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,i=mu(om,t.__scopePopover);return u.jsx(ns,{present:n||i.open,children:i.modal?u.jsx(b9e,{...s,ref:e}):u.jsx(C9e,{...s,ref:e})})});Pz.displayName=om;var N9e=Fc("PopoverContent.RemoveScroll"),b9e=y.forwardRef((t,e)=>{const r=mu(om,t.__scopePopover),n=y.useRef(null),s=Ht(e,n),i=y.useRef(!1);return y.useEffect(()=>{const o=n.current;if(o)return iA(o)},[]),u.jsx(Tg,{as:N9e,allowPinchZoom:!0,children:u.jsx(kz,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:tt(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:tt(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),C9e=y.forwardRef((t,e)=>{const r=mu(om,t.__scopePopover),n=y.useRef(!1),s=y.useRef(!1);return u.jsx(kz,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),kz=y.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...h}=t,m=mu(om,r),f=Ng(r);return Qy(),u.jsx(gg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(Bd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:u.jsx(Yy,{"data-state":jz(m.open),role:"dialog",id:m.contentId,...f,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Uz="PopoverClose",x9e=y.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=mu(Uz,r);return u.jsx(Et.button,{type:"button",...n,ref:e,onClick:tt(t.onClick,()=>s.onOpenChange(!1))})});x9e.displayName=Uz;var w9e="PopoverArrow",O9e=y.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Ng(r);return u.jsx(qy,{...s,...n,ref:e})});O9e.displayName=w9e;function jz(t){return t?"open":"closed"}var I9e=Oz,_9e=_z,L9e=Dz,D9e=Mz,Bz=Pz;const am=I9e,JL=_9e,ZL=L9e,zd=y.forwardRef(({className:t,align:e="center",sideOffset:r=4,container:n,...s},i)=>{var o;return u.jsx(D9e,{container:wn.getState().shadowRoot??n??document.body,children:u.jsx(Bz,{ref:i,align:e,sideOffset:r,collisionBoundary:((o=wn.getState().shadowRoot)==null?void 0:o.host)??document.body,className:z("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-popover w-72 rounded-md border p-4 shadow-md !outline-none",t),onOpenAutoFocus:a=>{a.preventDefault(),a.stopPropagation()},onCloseAutoFocus:a=>{a.preventDefault(),a.stopPropagation()},...s})})});zd.displayName=Bz.displayName;function _n({className:t,options:e,value:r,onChange:n,placeholder:s="Select an option...",searchPlaceholder:i="Search...",noResultsText:o="No results found.",optionLabel:a,groupLabel:l,optionValue:c,asList:d=!1,multiSelect:h=!1,label:m,icon:f,popoverContentProps:p,open:E,onOpenChange:g,withoutSearch:T,disabled:S,maxVisibleItems:v=5,topPanel:N,bottomPanel:C}){const[x,A]=y.useState(!1),b=y.useRef(null),_=E??x,U=g??A,j=e.every(B=>Array.isArray(B)),P=(j?e.flat():e).filter(X=>h?r.includes(c(X)):r===c(X)),I=m||(P.length>0&&h?P.map(B=>a(B)).join(", "):P.length===1&&!h?a(P[0]):void 0),F=B=>h?r.includes(B):r===B,W=B=>{if(h){const X=r,J=X.includes(B)?X.filter(Z=>Z!==B):[...X,B];n(J)}else n(B),U(!1)},k=(j?e.flat():e).length>v&&typeof v<"u"?v*kr(2)+kr(1.25):"auto",[V,re]=y.useState(""),K=y.useMemo(()=>u.jsxs(GL,{value:V,onValueChange:re,className:"rounded-none font-sans",onMouseLeave:()=>{re("")},children:[N&&u.jsx("div",{className:"border-border border-b",children:N}),!T&&u.jsx(cA,{className:"h-9",autoFocus:!0,placeholder:i}),u.jsxs(uA,{className:"max-h-max",style:{height:k},children:[u.jsx(dA,{className:"p-3 text-center text-sm",children:o}),u.jsx("div",{ref:b,className:"divide-y divide-dashed",children:(j?e:[e]).map((B,X)=>u.jsx(fu,{heading:j&&l?l(B[0]):void 0,children:B.map(J=>{const Z=a(J);return u.jsxs(ss,{className:z("group/item cursor-pointer truncate",F(c(J))&&!h&&"!bg-button-outline-active"),keywords:typeof Z=="string"?[Z]:void 0,value:c(J),onSelect:()=>W(c(J)),children:[h&&u.jsx(Va,{className:z("size-4 shrink-0",F(c(J))?"opacity-100":"opacity-0")}),Z]},c(J))})},X))})]}),C&&u.jsx("div",{className:"border-border border-t",children:C})]}),[e,a,c,F,W]);return d?K:u.jsxs(am,{open:_,onOpenChange:U,children:[u.jsx(ZL,{asChild:!0,children:u.jsxs(Le,{variant:"outline",size:"sm",role:"combobox",disabled:S,"aria-expanded":_,className:z("flex min-w-[7.5rem] justify-between pl-2 pr-1 font-sans font-normal",t),onPointerDown:B=>{B.preventDefault(),B.stopPropagation()},children:[I||s,f??u.jsx(Ql,{className:"size-4 shrink-0 opacity-50"})]})}),u.jsx(zd,{className:"w-fit min-w-[var(--radix-popover-trigger-width)] overflow-hidden p-0",...p,children:K})]})}const M9e=i0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:!outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"hover:bg-primary/80 border-transparent bg-primary text-primary-foreground",secondary:"hover:bg-secondary/80 border-transparent bg-secondary text-secondary-foreground",destructive:"hover:bg-destructive/80 border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),e2=({className:t,variant:e,...r})=>u.jsx("div",{className:z(M9e({variant:e}),t),...r});function EA(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var gA="Checkbox",[P9e,mst]=fi(gA),[k9e,t2]=P9e(gA);function U9e(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:h}=t,[m,f]=Do({prop:r,defaultProp:s??!1,onChange:l,caller:gA}),[p,E]=y.useState(null),[g,T]=y.useState(null),S=y.useRef(!1),v=p?!!o||!!p.closest("form"):!0,N={checked:m,disabled:i,setChecked:f,control:p,setControl:E,name:a,form:o,value:d,hasConsumerStoppedPropagationRef:S,required:c,defaultChecked:pu(s)?!1:s,isFormControl:v,bubbleInput:g,setBubbleInput:T};return u.jsx(k9e,{scope:e,...N,children:j9e(h)?h(N):n})}var Fz="CheckboxTrigger",Hz=y.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},s)=>{const{control:i,value:o,disabled:a,checked:l,required:c,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:f,bubbleInput:p}=t2(Fz,t),E=Ht(s,d),g=y.useRef(l);return y.useEffect(()=>{const T=i==null?void 0:i.form;if(T){const S=()=>h(g.current);return T.addEventListener("reset",S),()=>T.removeEventListener("reset",S)}},[i,h]),u.jsx(Et.button,{type:"button",role:"checkbox","aria-checked":pu(l)?"mixed":l,"aria-required":c,"data-state":Wz(l),"data-disabled":a?"":void 0,disabled:a,value:o,...n,ref:E,onKeyDown:tt(e,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:tt(r,T=>{h(S=>pu(S)?!0:!S),p&&f&&(m.current=T.isPropagationStopped(),m.current||T.stopPropagation())})})});Hz.displayName=Fz;var r2=y.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:a,value:l,onCheckedChange:c,form:d,...h}=t;return u.jsx(U9e,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:c,name:n,form:d,value:l,internal_do_not_use_render:({isFormControl:m})=>u.jsxs(u.Fragment,{children:[u.jsx(Hz,{...h,ref:e,__scopeCheckbox:r}),m&&u.jsx(zz,{__scopeCheckbox:r})]})})});r2.displayName=gA;var $z="CheckboxIndicator",Gz=y.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,i=t2($z,r);return u.jsx(ns,{present:n||pu(i.checked)||i.checked===!0,children:u.jsx(Et.span,{"data-state":Wz(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});Gz.displayName=$z;var Vz="CheckboxBubbleInput",zz=y.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:l,name:c,value:d,form:h,bubbleInput:m,setBubbleInput:f}=t2(Vz,t),p=Ht(r,f),E=EA(i),g=zy(n);y.useEffect(()=>{const S=m;if(!S)return;const v=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(v,"checked").set,x=!s.current;if(E!==i&&C){const A=new Event("click",{bubbles:x});S.indeterminate=pu(i),C.call(S,pu(i)?!1:i),S.dispatchEvent(A)}},[m,E,i,s]);const T=y.useRef(pu(i)?!1:i);return u.jsx(Et.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??T.current,required:a,disabled:l,name:c,value:d,form:h,...e,tabIndex:-1,ref:p,style:{...e.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});zz.displayName=Vz;function j9e(t){return typeof t=="function"}function pu(t){return t==="indeterminate"}function Wz(t){return pu(t)?"indeterminate":t?"checked":"unchecked"}const Po=y.forwardRef(({className:t,...e},r)=>u.jsx(r2,{ref:r,className:z("rounded-checkbox data-[state=checked]:border-primary data-[state=checked]:!bg-primary data-[state=checked]:text-primary-foreground peer h-4 w-4 shrink-0 border focus-visible:!outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:u.jsx(Gz,{className:z("flex items-center justify-center text-current"),children:u.jsx(Va,{className:"h-full w-full",strokeWidth:3,strokeLinecap:"square",strokeLinejoin:"miter"})})}));Po.displayName=r2.displayName;var B9e=y.createContext(void 0);function lm(t){const e=y.useContext(B9e);return t||e||"ltr"}var n2="rovingFocusGroup.onEntryFocus",F9e={bubbles:!1,cancelable:!0},bg="RovingFocusGroup",[s2,Yz,H9e]=ig(bg),[$9e,TA]=fi(bg,[H9e]),[G9e,V9e]=$9e(bg),qz=y.forwardRef((t,e)=>u.jsx(s2.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(s2.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(z9e,{...t,ref:e})})}));qz.displayName=bg;var z9e=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,m=y.useRef(null),f=Ht(e,m),p=lm(i),[E,g]=Do({prop:o,defaultProp:a??null,onChange:l,caller:bg}),[T,S]=y.useState(!1),v=In(c),N=Yz(r),C=y.useRef(!1),[x,A]=y.useState(0);return y.useEffect(()=>{const b=m.current;if(b)return b.addEventListener(n2,v),()=>b.removeEventListener(n2,v)},[v]),u.jsx(G9e,{scope:r,orientation:n,dir:p,loop:s,currentTabStopId:E,onItemFocus:y.useCallback(b=>g(b),[g]),onItemShiftTab:y.useCallback(()=>S(!0),[]),onFocusableItemAdd:y.useCallback(()=>A(b=>b+1),[]),onFocusableItemRemove:y.useCallback(()=>A(b=>b-1),[]),children:u.jsx(Et.div,{tabIndex:T||x===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...t.style},onMouseDown:tt(t.onMouseDown,()=>{C.current=!0}),onFocus:tt(t.onFocus,b=>{const _=!C.current;if(b.target===b.currentTarget&&_&&!T){const U=new CustomEvent(n2,F9e);if(b.currentTarget.dispatchEvent(U),!U.defaultPrevented){const j=N().filter(W=>W.focusable),L=j.find(W=>W.active),P=j.find(W=>W.id===E),F=[L,P,...j].filter(Boolean).map(W=>W.ref.current);Qz(F,d)}}C.current=!1}),onBlur:tt(t.onBlur,()=>S(!1))})})}),Kz="RovingFocusGroupItem",Xz=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=ys(),c=i||l,d=V9e(Kz,r),h=d.currentTabStopId===c,m=Yz(r),{onFocusableItemAdd:f,onFocusableItemRemove:p,currentTabStopId:E}=d;return y.useEffect(()=>{if(n)return f(),()=>p()},[n,f,p]),u.jsx(s2.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:u.jsx(Et.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:tt(t.onMouseDown,g=>{n?d.onItemFocus(c):g.preventDefault()}),onFocus:tt(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:tt(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const T=q9e(g,d.orientation,d.dir);if(T!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=m().filter(N=>N.focusable).map(N=>N.ref.current);if(T==="last")v.reverse();else if(T==="prev"||T==="next"){T==="prev"&&v.reverse();const N=v.indexOf(g.currentTarget);v=d.loop?K9e(v,N+1):v.slice(N+1)}setTimeout(()=>Qz(v))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:E!=null}):o})})});Xz.displayName=Kz;var W9e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Y9e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function q9e(t,e,r){const n=Y9e(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return W9e[n]}function Qz(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function K9e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Jz=qz,Zz=Xz,i2=["Enter"," "],X9e=["ArrowDown","PageUp","Home"],eW=["ArrowUp","PageDown","End"],Q9e=[...X9e,...eW],J9e={ltr:[...i2,"ArrowRight"],rtl:[...i2,"ArrowLeft"]},Z9e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cg="Menu",[xg,e4e,t4e]=ig(Cg),[Wd,tW]=fi(Cg,[t4e,uu,TA]),SA=uu(),rW=TA(),[r4e,Yd]=Wd(Cg),[n4e,wg]=Wd(Cg),nW=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=t,a=SA(e),[l,c]=y.useState(null),d=y.useRef(!1),h=In(i),m=lm(s);return y.useEffect(()=>{const f=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),u.jsx(Wy,{...a,children:u.jsx(r4e,{scope:e,open:r,onOpenChange:h,content:l,onContentChange:c,children:u.jsx(n4e,{scope:e,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:o,children:n})})})};nW.displayName=Cg;var s4e="MenuAnchor",o2=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=SA(r);return u.jsx(mg,{...s,...n,ref:e})});o2.displayName=s4e;var a2="MenuPortal",[i4e,sW]=Wd(a2,{forceMount:void 0}),iW=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,i=Yd(a2,e);return u.jsx(i4e,{scope:e,forceMount:r,children:u.jsx(ns,{present:r||i.open,children:u.jsx(Fd,{asChild:!0,container:s,children:n})})})};iW.displayName=a2;var ko="MenuContent",[o4e,l2]=Wd(ko),oW=y.forwardRef((t,e)=>{const r=sW(ko,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=Yd(ko,t.__scopeMenu),o=wg(ko,t.__scopeMenu);return u.jsx(xg.Provider,{scope:t.__scopeMenu,children:u.jsx(ns,{present:n||i.open,children:u.jsx(xg.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(a4e,{...s,ref:e}):u.jsx(l4e,{...s,ref:e})})})})}),a4e=y.forwardRef((t,e)=>{const r=Yd(ko,t.__scopeMenu),n=y.useRef(null),s=Ht(e,n);return y.useEffect(()=>{const i=n.current;if(i)return iA(i)},[]),u.jsx(c2,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:tt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),l4e=y.forwardRef((t,e)=>{const r=Yd(ko,t.__scopeMenu);return u.jsx(c2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),c4e=Fc("MenuContent.ScrollLock"),c2=y.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:f,disableOutsideScroll:p,...E}=t,g=Yd(ko,r),T=wg(ko,r),S=SA(r),v=rW(r),N=e4e(r),[C,x]=y.useState(null),A=y.useRef(null),b=Ht(e,A,g.onContentChange),_=y.useRef(0),U=y.useRef(""),j=y.useRef(0),L=y.useRef(null),P=y.useRef("right"),I=y.useRef(0),F=p?Tg:y.Fragment,W=p?{as:c4e,allowPinchZoom:!0}:void 0,Y=V=>{var se,ie;const re=U.current+V,K=N().filter(Te=>!Te.disabled),B=document.activeElement,X=(se=K.find(Te=>Te.ref.current===B))==null?void 0:se.textValue,J=K.map(Te=>Te.textValue),Z=y4e(J,re,X),Ee=(ie=K.find(Te=>Te.textValue===Z))==null?void 0:ie.ref.current;(function Te(ve){U.current=ve,window.clearTimeout(_.current),ve!==""&&(_.current=window.setTimeout(()=>Te(""),1e3))})(re),Ee&&setTimeout(()=>Ee.focus())};y.useEffect(()=>()=>window.clearTimeout(_.current),[]),Qy();const k=y.useCallback(V=>{var K,B;return P.current===((K=L.current)==null?void 0:K.side)&&R4e(V,(B=L.current)==null?void 0:B.area)},[]);return u.jsx(o4e,{scope:r,searchRef:U,onItemEnter:y.useCallback(V=>{k(V)&&V.preventDefault()},[k]),onItemLeave:y.useCallback(V=>{var re;k(V)||((re=A.current)==null||re.focus(),x(null))},[k]),onTriggerLeave:y.useCallback(V=>{k(V)&&V.preventDefault()},[k]),pointerGraceTimerRef:j,onPointerGraceIntentChange:y.useCallback(V=>{L.current=V},[]),children:u.jsx(F,{...W,children:u.jsx(gg,{asChild:!0,trapped:s,onMountAutoFocus:tt(i,V=>{var re;V.preventDefault(),(re=A.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(Bd,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:f,children:u.jsx(Jz,{asChild:!0,...v,dir:T.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:x,onEntryFocus:tt(l,V=>{T.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(Yy,{role:"menu","aria-orientation":"vertical","data-state":RW(g.open),"data-radix-menu-content":"",dir:T.dir,...S,...E,ref:b,style:{outline:"none",...E.style},onKeyDown:tt(E.onKeyDown,V=>{const K=V.target.closest("[data-radix-menu-content]")===V.currentTarget,B=V.ctrlKey||V.altKey||V.metaKey,X=V.key.length===1;K&&(V.key==="Tab"&&V.preventDefault(),!B&&X&&Y(V.key));const J=A.current;if(V.target!==J||!Q9e.includes(V.key))return;V.preventDefault();const Ee=N().filter(se=>!se.disabled).map(se=>se.ref.current);eW.includes(V.key)&&Ee.reverse(),S4e(Ee)}),onBlur:tt(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(_.current),U.current="")}),onPointerMove:tt(t.onPointerMove,Ig(V=>{const re=V.target,K=I.current!==V.clientX;if(V.currentTarget.contains(re)&&K){const B=V.clientX>I.current?"right":"left";P.current=B,I.current=V.clientX}}))})})})})})})});oW.displayName=ko;var u4e="MenuGroup",u2=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(Et.div,{role:"group",...n,ref:e})});u2.displayName=u4e;var d4e="MenuLabel",aW=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(Et.div,{...n,ref:e})});aW.displayName=d4e;var vA="MenuItem",lW="menu.itemSelect",yA=y.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,i=y.useRef(null),o=wg(vA,t.__scopeMenu),a=l2(vA,t.__scopeMenu),l=Ht(e,i),c=y.useRef(!1),d=()=>{const h=i.current;if(!r&&h){const m=new CustomEvent(lW,{bubbles:!0,cancelable:!0});h.addEventListener(lW,f=>n==null?void 0:n(f),{once:!0}),Y_(h,m),m.defaultPrevented?c.current=!1:o.onClose()}};return u.jsx(cW,{...s,ref:l,disabled:r,onClick:tt(t.onClick,d),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),c.current=!0},onPointerUp:tt(t.onPointerUp,h=>{var m;c.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:tt(t.onKeyDown,h=>{const m=a.searchRef.current!=="";r||m&&h.key===" "||i2.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});yA.displayName=vA;var cW=y.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=t,o=l2(vA,r),a=rW(r),l=y.useRef(null),c=Ht(e,l),[d,h]=y.useState(!1),[m,f]=y.useState("");return y.useEffect(()=>{const p=l.current;p&&f((p.textContent??"").trim())},[i.children]),u.jsx(xg.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:u.jsx(Zz,{asChild:!0,...a,focusable:!n,children:u.jsx(Et.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:c,onPointerMove:tt(t.onPointerMove,Ig(p=>{n?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:tt(t.onPointerLeave,Ig(p=>o.onItemLeave(p))),onFocus:tt(t.onFocus,()=>h(!0)),onBlur:tt(t.onBlur,()=>h(!1))})})})}),h4e="MenuCheckboxItem",uW=y.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return u.jsx(pW,{scope:t.__scopeMenu,checked:r,children:u.jsx(yA,{role:"menuitemcheckbox","aria-checked":AA(r)?"mixed":r,...s,ref:e,"data-state":h2(r),onSelect:tt(s.onSelect,()=>n==null?void 0:n(AA(r)?!0:!r),{checkForDefaultPrevented:!1})})})});uW.displayName=h4e;var dW="MenuRadioGroup",[f4e,m4e]=Wd(dW,{value:void 0,onValueChange:()=>{}}),hW=y.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,i=In(n);return u.jsx(f4e,{scope:t.__scopeMenu,value:r,onValueChange:i,children:u.jsx(u2,{...s,ref:e})})});hW.displayName=dW;var fW="MenuRadioItem",mW=y.forwardRef((t,e)=>{const{value:r,...n}=t,s=m4e(fW,t.__scopeMenu),i=r===s.value;return u.jsx(pW,{scope:t.__scopeMenu,checked:i,children:u.jsx(yA,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":h2(i),onSelect:tt(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});mW.displayName=fW;var d2="MenuItemIndicator",[pW,p4e]=Wd(d2,{checked:!1}),EW=y.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,i=p4e(d2,r);return u.jsx(ns,{present:n||AA(i.checked)||i.checked===!0,children:u.jsx(Et.span,{...s,ref:e,"data-state":h2(i.checked)})})});EW.displayName=d2;var E4e="MenuSeparator",gW=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(Et.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});gW.displayName=E4e;var g4e="MenuArrow",TW=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=SA(r);return u.jsx(qy,{...s,...n,ref:e})});TW.displayName=g4e;var T4e="MenuSub",[pst,SW]=Wd(T4e),Og="MenuSubTrigger",vW=y.forwardRef((t,e)=>{const r=Yd(Og,t.__scopeMenu),n=wg(Og,t.__scopeMenu),s=SW(Og,t.__scopeMenu),i=l2(Og,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),u.jsx(o2,{asChild:!0,...c,children:u.jsx(cW,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":RW(r.open),...t,ref:Bl(e,s.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:tt(t.onPointerMove,Ig(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:tt(t.onPointerLeave,Ig(h=>{var f,p;d();const m=(f=r.content)==null?void 0:f.getBoundingClientRect();if(m){const E=(p=r.content)==null?void 0:p.dataset.side,g=E==="right",T=g?-5:5,S=m[g?"left":"right"],v=m[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+T,y:h.clientY},{x:S,y:m.top},{x:v,y:m.top},{x:v,y:m.bottom},{x:S,y:m.bottom}],side:E}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:tt(t.onKeyDown,h=>{var f;const m=i.searchRef.current!=="";t.disabled||m&&h.key===" "||J9e[n.dir].includes(h.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),h.preventDefault())})})})});vW.displayName=Og;var yW="MenuSubContent",AW=y.forwardRef((t,e)=>{const r=sW(ko,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=Yd(ko,t.__scopeMenu),o=wg(ko,t.__scopeMenu),a=SW(yW,t.__scopeMenu),l=y.useRef(null),c=Ht(e,l);return u.jsx(xg.Provider,{scope:t.__scopeMenu,children:u.jsx(ns,{present:n||i.open,children:u.jsx(xg.Slot,{scope:t.__scopeMenu,children:u.jsx(c2,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:tt(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:tt(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:tt(t.onKeyDown,d=>{var f;const h=d.currentTarget.contains(d.target),m=Z9e[o.dir].includes(d.key);h&&m&&(i.onOpenChange(!1),(f=a.trigger)==null||f.focus(),d.preventDefault())})})})})})});AW.displayName=yW;function RW(t){return t?"open":"closed"}function AA(t){return t==="indeterminate"}function h2(t){return AA(t)?"indeterminate":t?"checked":"unchecked"}function S4e(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function v4e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function y4e(t,e,r){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=v4e(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function A4e(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,h=l.x,m=l.y;d>n!=m>n&&r<(h-c)*(n-d)/(m-d)+c&&(s=!s)}return s}function R4e(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return A4e(r,e)}function Ig(t){return e=>e.pointerType==="mouse"?t(e):void 0}var N4e=nW,b4e=o2,C4e=iW,x4e=oW,w4e=u2,O4e=aW,I4e=yA,_4e=uW,L4e=hW,D4e=mW,M4e=EW,P4e=gW,k4e=TW,U4e=vW,j4e=AW,RA="DropdownMenu",[B4e,Est]=fi(RA,[tW]),mi=tW(),[F4e,NW]=B4e(RA),bW=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=mi(e),c=y.useRef(null),[d,h]=Do({prop:s,defaultProp:i??!1,onChange:o,caller:RA});return u.jsx(F4e,{scope:e,triggerId:ys(),triggerRef:c,contentId:ys(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),modal:a,children:u.jsx(N4e,{...l,open:d,onOpenChange:h,dir:n,modal:a,children:r})})};bW.displayName=RA;var CW="DropdownMenuTrigger",xW=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,i=NW(CW,r),o=mi(r);return u.jsx(b4e,{asChild:!0,...o,children:u.jsx(Et.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Bl(e,i.triggerRef),onPointerDown:tt(t.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:tt(t.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});xW.displayName=CW;var H4e="DropdownMenuPortal",wW=t=>{const{__scopeDropdownMenu:e,...r}=t,n=mi(e);return u.jsx(C4e,{...n,...r})};wW.displayName=H4e;var OW="DropdownMenuContent",IW=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=NW(OW,r),i=mi(r),o=y.useRef(!1);return u.jsx(x4e,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:e,onCloseAutoFocus:tt(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:tt(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IW.displayName=OW;var $4e="DropdownMenuGroup",_W=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=mi(r);return u.jsx(w4e,{...s,...n,ref:e})});_W.displayName=$4e;var G4e="DropdownMenuLabel",LW=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=mi(r);return u.jsx(O4e,{...s,...n,ref:e})});LW.displayName=G4e;var V4e="DropdownMenuItem",DW=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=mi(r);return u.jsx(I4e,{...s,...n,ref:e})});DW.displayName=V4e;var z4e="DropdownMenuCheckboxItem",MW=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=mi(r);return u.jsx(_4e,{...s,...n,ref:e})});MW.displayName=z4e;var W4e="DropdownMenuRadioGroup",Y4e=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=mi(r);return u.jsx(L4e,{...s,...n,ref:e})});Y4e.displayName=W4e;var q4e="DropdownMenuRadioItem",PW=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=mi(r);return u.jsx(D4e,{...s,...n,ref:e})});PW.displayName=q4e;var K4e="DropdownMenuItemIndicator",kW=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=mi(r);return u.jsx(M4e,{...s,...n,ref:e})});kW.displayName=K4e;var X4e="DropdownMenuSeparator",UW=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=mi(r);return u.jsx(P4e,{...s,...n,ref:e})});UW.displayName=X4e;var Q4e="DropdownMenuArrow",J4e=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=mi(r);return u.jsx(k4e,{...s,...n,ref:e})});J4e.displayName=Q4e;var Z4e="DropdownMenuSubTrigger",jW=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=mi(r);return u.jsx(U4e,{...s,...n,ref:e})});jW.displayName=Z4e;var eBe="DropdownMenuSubContent",BW=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=mi(r);return u.jsx(j4e,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});BW.displayName=eBe;var tBe=bW,rBe=xW,nBe=wW,FW=IW,sBe=_W,HW=LW,$W=DW,GW=MW,VW=PW,zW=kW,WW=UW,YW=jW,qW=BW;const Bs=t=>u.jsx(tBe,{modal:!1,...t}),Fs=rBe,f2=sBe,iBe=y.forwardRef(({className:t,inset:e,children:r,...n},s)=>u.jsxs(YW,{ref:s,className:z("focus:bg-accent data-[state=open]:bg-accent flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm !outline-none",e&&"pl-8",t),...n,children:[r,u.jsx(o0,{className:"ml-auto h-4 w-4"})]}));iBe.displayName=YW.displayName;const oBe=y.forwardRef(({className:t,...e},r)=>u.jsx(qW,{ref:r,className:z("bg-popover text-popover-foreground animate-in data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1 z-popover min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",t),...e}));oBe.displayName=qW.displayName;const As=y.forwardRef(({className:t,sideOffset:e=4,...r},n)=>{var s;return u.jsx(nBe,{container:wn.getState().shadowRoot??document.body,children:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0"}),u.jsx(FW,{ref:n,sideOffset:e,collisionBoundary:((s=wn.getState().shadowRoot)==null?void 0:s.host)??document.body,className:z("bg-popover text-popover-foreground animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-popover min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",t),onCloseAutoFocus:i=>{i.preventDefault(),i.stopPropagation()},...r})]})})});As.displayName=FW.displayName;const zt=y.forwardRef(({className:t,inset:e,...r},n)=>u.jsx($W,{ref:n,className:z("focus:bg-button-outline-hover focus:text-button-outline-text-hover  relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm !outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));zt.displayName=$W.displayName;const aBe=y.forwardRef(({className:t,children:e,checked:r,...n},s)=>u.jsxs(GW,{ref:s,className:z("focus:bg-button-outline-hover focus:text-button-outline-text-hover relative flex cursor-pointer select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm !outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(zW,{children:u.jsx(Va,{className:"h-4 w-4"})})}),e]}));aBe.displayName=GW.displayName;const lBe=y.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(VW,{ref:n,className:z("focus:bg-button-outline-hover focus:text-button-outline-text-hover relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm !outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(zW,{children:u.jsx(SLe,{className:"h-2 w-2 fill-current"})})}),e]}));lBe.displayName=VW.displayName;const KW=y.forwardRef(({className:t,inset:e,...r},n)=>u.jsx(HW,{ref:n,className:z("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));KW.displayName=HW.displayName;const cm=y.forwardRef(({className:t,...e},r)=>u.jsx(WW,{ref:r,className:z("bg-border -mx-1 my-1 h-px",t),...e}));cm.displayName=WW.displayName;const Lr=y.forwardRef(({className:t,type:e,placeholderAsLabel:r,placeholderClassName:n,...s},i)=>r?u.jsxs("div",{className:"group/input relative flex flex-col",children:[u.jsx("input",{type:e,className:z("bg-input border-input-border focus-visible:border-input-border-focus ring-offset-background placeholder:text-muted-foreground flex h-10 w-full rounded-md border px-3 pt-3 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:!outline-none disabled:cursor-not-allowed disabled:opacity-50",t),ref:i,...s,placeholder:""}),u.jsx("label",{className:z("text-input-placeholder pointer-events-none absolute left-3 origin-top-left translate-y-1/2 text-sm duration-100 ease-out group-focus-within/input:translate-y-1/4 group-focus-within/input:scale-75",s.value&&"translate-y-1/4 scale-75",n),htmlFor:s.name,children:s.placeholder})]}):u.jsx("input",{type:e,className:z("bg-input border-input-border focus-visible:border-input-border-focus ring-offset-background placeholder:text-input-placeholder flex h-10 w-full rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:!outline-none disabled:cursor-not-allowed disabled:opacity-50",t),ref:i,...s}));Lr.displayName="Input";function _g(t,[e,r]){return Math.min(r,Math.max(e,t))}function cBe(t,e){return y.useReducer((r,n)=>e[r][n]??r,t)}var m2="ScrollArea",[XW,gst]=fi(m2),[uBe,Uo]=XW(m2),QW=y.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=y.useState(null),[c,d]=y.useState(null),[h,m]=y.useState(null),[f,p]=y.useState(null),[E,g]=y.useState(null),[T,S]=y.useState(0),[v,N]=y.useState(0),[C,x]=y.useState(!1),[A,b]=y.useState(!1),_=Ht(e,j=>l(j)),U=lm(s);return u.jsx(uBe,{scope:r,type:n,dir:U,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:d,content:h,onContentChange:m,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:C,onScrollbarXEnabledChange:x,scrollbarY:E,onScrollbarYChange:g,scrollbarYEnabled:A,onScrollbarYEnabledChange:b,onCornerWidthChange:S,onCornerHeightChange:N,children:u.jsx(Et.div,{dir:U,...o,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":v+"px",...t.style}})})});QW.displayName=m2;var JW="ScrollAreaViewport",ZW=y.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=t,o=Uo(JW,r),a=y.useRef(null),l=Ht(e,a,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),u.jsx(Et.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});ZW.displayName=JW;var nl="ScrollAreaScrollbar",p2=y.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Uo(nl,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return y.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?u.jsx(dBe,{...n,ref:e,forceMount:r}):s.type==="scroll"?u.jsx(hBe,{...n,ref:e,forceMount:r}):s.type==="auto"?u.jsx(eY,{...n,ref:e,forceMount:r}):s.type==="always"?u.jsx(E2,{...n,ref:e}):null});p2.displayName=nl;var dBe=y.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Uo(nl,t.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),u.jsx(ns,{present:r||i,children:u.jsx(eY,{"data-state":i?"visible":"hidden",...n,ref:e})})}),hBe=y.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Uo(nl,t.__scopeScrollArea),i=t.orientation==="horizontal",o=xA(()=>l("SCROLL_END"),100),[a,l]=cBe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),y.useEffect(()=>{const c=s.viewport,d=i?"scrollLeft":"scrollTop";if(c){let h=c[d];const m=()=>{const f=c[d];h!==f&&(l("SCROLL"),o()),h=f};return c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[s.viewport,i,l,o]),u.jsx(ns,{present:r||a!=="hidden",children:u.jsx(E2,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:tt(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:tt(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),eY=y.forwardRef((t,e)=>{const r=Uo(nl,t.__scopeScrollArea),{forceMount:n,...s}=t,[i,o]=y.useState(!1),a=t.orientation==="horizontal",l=xA(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?c:d)}},10);return um(r.viewport,l),um(r.content,l),u.jsx(ns,{present:n||i,children:u.jsx(E2,{"data-state":i?"visible":"hidden",...s,ref:e})})}),E2=y.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=Uo(nl,t.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[a,l]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=iY(a.viewport,a.content),d={...n,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,f){return TBe(m,o.current,a,f)}return r==="horizontal"?u.jsx(fBe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,f=oY(m,a,s.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):r==="vertical"?u.jsx(mBe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,f=oY(m,a);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),fBe=y.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,i=Uo(nl,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),c=Ht(e,l,i.onScrollbarXChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(rY,{"data-orientation":"horizontal",...s,ref:c,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":CA(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),lY(m,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:bA(o.paddingLeft),paddingEnd:bA(o.paddingRight)}})}})}),mBe=y.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,i=Uo(nl,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),c=Ht(e,l,i.onScrollbarYChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(rY,{"data-orientation":"vertical",...s,ref:c,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":CA(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),lY(m,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:bA(o.paddingTop),paddingEnd:bA(o.paddingBottom)}})}})}),[pBe,tY]=XW(nl),rY=y.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:h,...m}=t,f=Uo(nl,r),[p,E]=y.useState(null),g=Ht(e,_=>E(_)),T=y.useRef(null),S=y.useRef(""),v=f.viewport,N=n.content-n.viewport,C=In(d),x=In(l),A=xA(h,10);function b(_){if(T.current){const U=_.clientX-T.current.left,j=_.clientY-T.current.top;c({x:U,y:j})}}return y.useEffect(()=>{const _=U=>{const j=U.target;(p==null?void 0:p.contains(j))&&C(U,N)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[v,p,N,C]),y.useEffect(x,[n,x]),um(p,A),um(f.content,A),u.jsx(pBe,{scope:r,scrollbar:p,hasThumb:s,onThumbChange:In(i),onThumbPointerUp:In(o),onThumbPositionChange:x,onThumbPointerDown:In(a),children:u.jsx(Et.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:tt(t.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),T.current=p.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),b(_))}),onPointerMove:tt(t.onPointerMove,b),onPointerUp:tt(t.onPointerUp,_=>{const U=_.target;U.hasPointerCapture(_.pointerId)&&U.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=S.current,f.viewport&&(f.viewport.style.scrollBehavior=""),T.current=null})})})}),NA="ScrollAreaThumb",nY=y.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=tY(NA,t.__scopeScrollArea);return u.jsx(ns,{present:r||s.hasThumb,children:u.jsx(EBe,{ref:e,...n})})}),EBe=y.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,i=Uo(NA,r),o=tY(NA,r),{onThumbPositionChange:a}=o,l=Ht(e,h=>o.onThumbChange(h)),c=y.useRef(void 0),d=xA(()=>{c.current&&(c.current(),c.current=void 0)},100);return y.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(d(),!c.current){const f=SBe(h,a);c.current=f,a()}};return a(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,d,a]),u.jsx(Et.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:tt(t.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),p=h.clientX-f.left,E=h.clientY-f.top;o.onThumbPointerDown({x:p,y:E})}),onPointerUp:tt(t.onPointerUp,o.onThumbPointerUp)})});nY.displayName=NA;var g2="ScrollAreaCorner",sY=y.forwardRef((t,e)=>{const r=Uo(g2,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?u.jsx(gBe,{...t,ref:e}):null});sY.displayName=g2;var gBe=y.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=Uo(g2,r),[i,o]=y.useState(0),[a,l]=y.useState(0),c=!!(i&&a);return um(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),um(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),c?u.jsx(Et.div,{...n,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function bA(t){return t?parseInt(t,10):0}function iY(t,e){const r=t/e;return isNaN(r)?0:r}function CA(t){const e=iY(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function TBe(t,e,r,n="ltr"){const s=CA(r),i=s/2,o=e||i,a=s-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-a,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return aY([l,c],h)(t)}function oY(t,e,r="ltr"){const n=CA(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-n,l=r==="ltr"?[0,o]:[o*-1,0],c=_g(t,l);return aY([0,o],[0,a])(c)}function aY(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function lY(t,e){return t>0&&t<e}var SBe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=r.left!==i.left,a=r.top!==i.top;(o||a)&&e(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function xA(t,e){const r=In(t),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function um(t,e){const r=In(e);vs(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var cY=QW,vBe=ZW,yBe=sY;const wA=y.forwardRef(({className:t,children:e,orientation:r="both",...n},s)=>navigator.platform.toUpperCase().indexOf("MAC")>=0?u.jsx("div",{ref:s,className:z("relative overflow-hidden",t),...n,children:u.jsx("div",{className:"h-full w-full overflow-auto rounded-[inherit]",children:e})}):u.jsxs(cY,{ref:s,className:z("relative overflow-hidden",t),...n,children:[u.jsx(vBe,{className:"h-full w-full rounded-[inherit]",children:e}),r==="vertical"&&u.jsx(Lg,{orientation:"vertical"}),r==="horizontal"&&u.jsx(Lg,{orientation:"horizontal"}),r==="both"&&u.jsxs(u.Fragment,{children:[u.jsx(Lg,{orientation:"vertical"}),u.jsx(Lg,{orientation:"horizontal"})]}),u.jsx(yBe,{})]}));wA.displayName=cY.displayName;const Lg=y.forwardRef(({className:t,orientation:e="vertical",...r},n)=>u.jsx(p2,{ref:n,orientation:e,className:z("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",e==="horizontal"&&"h-2.5 border-t border-t-transparent p-px",t),...r,children:u.jsx(nY,{className:z("relative rounded-full bg-border",e==="vertical"&&"flex-1")})}));Lg.displayName=p2.displayName;const T2=({className:t,...e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:z("h-8 w-[1.3125rem]",t),viewBox:"0 0 21 24",fill:"none",...e,children:u.jsx("path",{d:"M9 24.75C9 24.3358 9.33579 24 9.75 24V24C10.1642 24 10.5 24.3358 10.5 24.75V28H9V24.75Z",fill:"currentColor"})}),uY=({className:t,...e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:z("h-7 w-[1.3125rem]",t),viewBox:"0 0 21 28",fill:"none",...e,children:u.jsx("path",{d:"M11.5 15.2751C11.8158 15.3745 12.1522 15.4267 12.5185 15.4566C13.0494 15.5 13.705 15.5 14.5179 15.5H17.9393L16.2197 17.2197C15.9268 17.5126 15.9268 17.9874 16.2197 18.2803C16.5126 18.5732 16.9874 18.5732 17.2803 18.2803L20.2803 15.2803C20.5732 14.9874 20.5732 14.5126 20.2803 14.2197L17.2803 11.2197C16.9874 10.9268 16.5126 10.9268 16.2197 11.2197C15.9268 11.5126 15.9268 11.9874 16.2197 12.2803L17.9393 14H14.55C13.6975 14 13.1033 13.9994 12.6407 13.9616C12.1868 13.9245 11.926 13.8554 11.7285 13.7548C11.6495 13.7145 11.5732 13.6697 11.5 13.6208V15.2751Z",fill:"currentColor"})}),dY=({className:t,...e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:z("h-7 w-[1.3125rem]",t),viewBox:"0 0 21 28",fill:"none",...e,children:u.jsx("path",{d:"M9 7.75C9 7.33579 9.33579 7 9.75 7V7C10.1642 7 10.5 7.33579 10.5 7.75V9.95C10.5 10.8025 10.5006 11.3967 10.5384 11.8593C10.5755 12.3132 10.6446 12.574 10.7452 12.7715C10.961 13.1948 11.3052 13.539 11.7285 13.7548C11.926 13.8554 12.1868 13.9245 12.6407 13.9616C13.1033 13.9994 13.6975 14 14.55 14H17.9393L16.2197 12.2803C15.9268 11.9874 15.9268 11.5126 16.2197 11.2197C16.5126 10.9268 16.9874 10.9268 17.2803 11.2197L20.2803 14.2197C20.5732 14.5126 20.5732 14.9874 20.2803 15.2803L17.2803 18.2803C16.9874 18.5732 16.5126 18.5732 16.2197 18.2803C15.9268 17.9874 15.9268 17.5126 16.2197 17.2197L17.9393 15.5H14.5179C13.705 15.5 13.0494 15.5 12.5185 15.4566C11.9719 15.412 11.4918 15.3176 11.0475 15.0913C10.3419 14.7317 9.76825 14.1581 9.40873 13.4525C9.18239 13.0082 9.08803 12.5281 9.04336 11.9815C8.99999 11.4506 8.99999 10.795 9 9.98212V7.75Z",fill:"currentColor"})}),OA=({className:t,...e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:z("h-7 w-[1.3125rem]",t),viewBox:"0 0 21 28",fill:"none",...e,children:u.jsx("rect",{x:"9",width:"1.5",height:"28",fill:"currentColor"})}),IA=({className:t,...e})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:z("h-7 w-[1.3125rem]",t),viewBox:"0 0 21 28",fill:"none",...e,children:[u.jsx("path",{d:"M19 14.25H19.75V15.75H19V14.25ZM10.077 13.362L10.7452 13.0215V13.0215L10.077 13.362ZM11.388 14.673L11.7285 14.0048H11.7285L11.388 14.673ZM10.5 0V10.2H9V0H10.5ZM14.55 14.25H19V15.75H14.55V14.25ZM10.5 10.2C10.5 11.0525 10.5006 11.6467 10.5384 12.1093C10.5755 12.5632 10.6446 12.824 10.7452 13.0215L9.40873 13.7025C9.18239 13.2582 9.08803 12.7781 9.04336 12.2315C8.99942 11.6936 9 11.0277 9 10.2H10.5ZM14.55 15.75C13.7223 15.75 13.0564 15.7506 12.5185 15.7066C11.9719 15.662 11.4918 15.5676 11.0475 15.3413L11.7285 14.0048C11.926 14.1054 12.1868 14.1745 12.6407 14.2116C13.1033 14.2494 13.6975 14.25 14.55 14.25V15.75ZM10.7452 13.0215C10.9609 13.4448 11.3052 13.7891 11.7285 14.0048L11.0475 15.3413C10.3419 14.9817 9.76825 14.4081 9.40873 13.7025L10.7452 13.0215Z",fill:"currentColor"}),u.jsx("path",{d:"M17 12L20 15L17 18",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),hY=({className:t,...e})=>u.jsx("svg",{className:z("h-7 w-[1.3125rem]",t),viewBox:"0 0 21 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:u.jsx("path",{d:"M17 14.25V14.25C17.4142 14.25 17.75 14.5858 17.75 15V15C17.75 15.4142 17.4142 15.75 17 15.75V15.75V14.25ZM10.5 0V10.2H9V0H10.5ZM14.55 14.25H17V15.75H14.55V14.25ZM10.5 10.2C10.5 11.0525 10.5006 11.6467 10.5384 12.1093C10.5755 12.5632 10.6446 12.824 10.7452 13.0215L9.40873 13.7025C9.18239 13.2582 9.08803 12.7781 9.04336 12.2315C8.99942 11.6936 9 11.0277 9 10.2H10.5ZM14.55 15.75C13.7223 15.75 13.0564 15.7506 12.5185 15.7066C11.9719 15.662 11.4918 15.5676 11.0475 15.3413L11.7285 14.0048C11.926 14.1054 12.1868 14.1745 12.6407 14.2116C13.1033 14.2494 13.6975 14.25 14.55 14.25V15.75ZM10.7452 13.0215C10.9609 13.4448 11.3052 13.7891 11.7285 14.0048L11.0475 15.3413C10.3419 14.9817 9.76825 14.4081 9.40873 13.7025L10.7452 13.0215Z",fill:"currentColor"})}),fY=({view:t,item:e,onChoose:r,index:n,currentFilterViewIndex:s,count:i})=>{const o=Me(N=>N.currentPage),a=Me(N=>N.selectedTableIds),l=ht(N=>N.expandSubviews),c=Me(N=>{var C;return(C=N.currentTable)==null?void 0:C.id}),{removeFilterView:d,setFilterViewName:h,setFiltersVisible:m}=sr(),f=y.useRef(null),[p,E]=y.useState(!1),[g,T]=y.useState(!1),[S,v]=y.useState(!1);return u.jsxs("div",{className:z("bg-sidebar-list-item text-sidebar-list-item-text hover:text-sidebar-list-item-text-hover hover:bg-sidebar-list-item-hover group relative flex cursor-pointer items-center rounded-md pl-9 text-sm font-normal leading-7 hover:font-medium",o==="main"&&c===t.id&&a.length===0&&"text-sidebar-list-item-active-text hover:text-sidebar-list-item-active-text-hover bg-sidebar-list-item-active hover:bg-sidebar-list-item-active-hover !font-semibold"),onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),onDoubleClick:()=>T(!0),onClick:()=>{rt("sidebar_open_subview"),r({...e,id:t.id,filters:t.filters,columnSettings:t.columnSettings,pagination:t.pagination,sort:t.sort}),t.filters.length>0?m(!0):m(!1)},children:[u.jsx("div",{className:"absolute left-2 top-0",children:l&&s===-1?u.jsxs(u.Fragment,{children:[n<i-1&&u.jsx(OA,{className:"text-sidebar-list-subview-arrow absolute top-0"}),u.jsx(hY,{className:"text-sidebar-list-subview-arrow absolute top-0"}),p&&u.jsx(IA,{className:"text-sidebar-list-subview-arrow absolute top-0"})]}):u.jsxs(u.Fragment,{children:[c===t.id&&u.jsx(IA,{className:"text-sidebar-list-subview-arrow-active"}),s>n&&u.jsx(OA,{className:"text-sidebar-list-subview-arrow-active"}),p&&s>n&&u.jsx(uY,{className:"text-sidebar-list-subview-arrow absolute top-0"}),p&&s<n&&u.jsx(dY,{className:"text-sidebar-list-subview-arrow"})]})}),u.jsxs("div",{className:"flex min-w-[0] max-w-fit grow select-none items-center justify-between",children:[g?u.jsx(Lr,{className:"text-secondary-foreground z-10 h-7 w-full",autoFocus:!0,placeholder:"Rename subview",defaultValue:t.name,onFocus:N=>N.currentTarget.select(),onKeyDown:N=>{(N.key==="Enter"||N.key==="Escape")&&(rt("sidebar_rename_subview"),h(t.id,N.currentTarget.value),T(!1))},onBlur:N=>{rt("sidebar_rename_subview"),h(t.id,N.target.value),T(!1)}}):u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,open:S,onOpenChange:N=>{if(!N){v(!1);return}const C=f.current;N&&C&&C.offsetWidth<C.scrollWidth&&v(!0)},children:[u.jsx(xr,{asChild:!0,children:u.jsx("p",{ref:f,className:"select-none truncate",children:t.name})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",collisionPadding:11,children:u.jsx("p",{className:"font-mono text-xs",children:t.name})})]})}),u.jsx(Le,{size:"sm",variant:"ghost",className:z("hover:bg-border invisible mr-1 h-fit rounded-full p-1 group-hover:visible",g&&"!hidden"),onClick:N=>{Hr(()=>{rt("sidebar_drop_subview"),d(t.id),E(!1),N.stopPropagation()})},"aria-label":"Remove subview",children:u.jsx(Ji,{className:"text-muted-foreground h-3 w-3"})})]})]},t.id)};var _A="Switch",[ABe,Tst]=fi(_A),[RBe,NBe]=ABe(_A),mY=y.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:d,...h}=t,[m,f]=y.useState(null),p=Ht(e,v=>f(v)),E=y.useRef(!1),g=m?d||!!m.closest("form"):!0,[T,S]=Do({prop:s,defaultProp:i??!1,onChange:c,caller:_A});return u.jsxs(RBe,{scope:r,checked:T,disabled:a,children:[u.jsx(Et.button,{type:"button",role:"switch","aria-checked":T,"aria-required":o,"data-state":TY(T),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:p,onClick:tt(t.onClick,v=>{S(N=>!N),g&&(E.current=v.isPropagationStopped(),E.current||v.stopPropagation())})}),g&&u.jsx(gY,{control:m,bubbles:!E.current,name:n,value:l,checked:T,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});mY.displayName=_A;var pY="SwitchThumb",EY=y.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=NBe(pY,r);return u.jsx(Et.span,{"data-state":TY(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});EY.displayName=pY;var bBe="SwitchBubbleInput",gY=y.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...s},i)=>{const o=y.useRef(null),a=Ht(o,i),l=EA(r),c=zy(e);return y.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&f){const p=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(p)}},[l,r,n]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gY.displayName=bBe;function TY(t){return t?"checked":"unchecked"}var SY=mY,CBe=EY;const pi=y.forwardRef(({className:t,...e},r)=>u.jsx(SY,{className:z("focus-visible:ring-ring focus-visible:ring-offset-background data-[state=checked]:bg-primary data-[state=unchecked]:bg-input-border peer inline-flex h-3.5 w-6 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:!outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:u.jsx(CBe,{className:z("bg-background pointer-events-none block h-2.5 w-2.5 rounded-full shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-2.5 data-[state=unchecked]:translate-x-0")})}));pi.displayName=SY.displayName;function vY(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(e=>{const r=t[e],n=typeof r;(n==="object"||n==="function")&&!Object.isFrozen(r)&&vY(r)}),t}class yY{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function AY(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Eu(t,...e){const r=Object.create(null);for(const n in t)r[n]=t[n];return e.forEach(function(n){for(const s in n)r[s]=n[s]}),r}const xBe="</span>",RY=t=>!!t.scope,wBe=(t,{prefix:e})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){const r=t.split(".");return[`${e}${r.shift()}`,...r.map((n,s)=>`${n}${"_".repeat(s+1)}`)].join(" ")}return`${e}${t}`};class OBe{constructor(e,r){this.buffer="",this.classPrefix=r.classPrefix,e.walk(this)}addText(e){this.buffer+=AY(e)}openNode(e){if(!RY(e))return;const r=wBe(e.scope,{prefix:this.classPrefix});this.span(r)}closeNode(e){RY(e)&&(this.buffer+=xBe)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const NY=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class S2{constructor(){this.rootNode=NY(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const r=NY({scope:e});this.add(r),this.stack.push(r)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,r){return typeof r=="string"?e.addText(r):r.children&&(e.openNode(r),r.children.forEach(n=>this._walk(e,n)),e.closeNode(r)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(r=>typeof r=="string")?e.children=[e.children.join("")]:e.children.forEach(r=>{S2._collapse(r)}))}}class IBe extends S2{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,r){const n=e.root;r&&(n.scope=`language:${r}`),this.add(n)}toHTML(){return new OBe(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Dg(t){return t?typeof t=="string"?t:t.source:null}function bY(t){return qd("(?=",t,")")}function _Be(t){return qd("(?:",t,")*")}function LBe(t){return qd("(?:",t,")?")}function qd(...t){return t.map(r=>Dg(r)).join("")}function DBe(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function v2(...t){return"("+(DBe(t).capture?"":"?:")+t.map(n=>Dg(n)).join("|")+")"}function CY(t){return new RegExp(t.toString()+"|").exec("").length-1}function MBe(t,e){const r=t&&t.exec(e);return r&&r.index===0}const PBe=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function y2(t,{joinWith:e}){let r=0;return t.map(n=>{r+=1;const s=r;let i=Dg(n),o="";for(;i.length>0;){const a=PBe.exec(i);if(!a){o+=i;break}o+=i.substring(0,a.index),i=i.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+s):(o+=a[0],a[0]==="("&&r++)}return o}).map(n=>`(${n})`).join(e)}const kBe=/\b\B/,xY="[a-zA-Z]\\w*",A2="[a-zA-Z_]\\w*",wY="\\b\\d+(\\.\\d+)?",OY="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",IY="\\b(0b[01]+)",UBe="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",jBe=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=qd(e,/.*\b/,t.binary,/\b.*/)),Eu({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(r,n)=>{r.index!==0&&n.ignoreMatch()}},t)},Mg={begin:"\\\\[\\s\\S]",relevance:0},BBe={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Mg]},FBe={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Mg]},HBe={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},LA=function(t,e,r={}){const n=Eu({scope:"comment",begin:t,end:e,contains:[]},r);n.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const s=v2("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return n.contains.push({begin:qd(/[ ]+/,"(",s,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),n},$Be=LA("//","$"),GBe=LA("/\\*","\\*/"),VBe=LA("#","$"),zBe={scope:"number",begin:wY,relevance:0},WBe={scope:"number",begin:OY,relevance:0},YBe={scope:"number",begin:IY,relevance:0},qBe={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Mg,{begin:/\[/,end:/\]/,relevance:0,contains:[Mg]}]},KBe={scope:"title",begin:xY,relevance:0},XBe={scope:"title",begin:A2,relevance:0},QBe={begin:"\\.\\s*"+A2,relevance:0};var DA=Object.freeze({__proto__:null,APOS_STRING_MODE:BBe,BACKSLASH_ESCAPE:Mg,BINARY_NUMBER_MODE:YBe,BINARY_NUMBER_RE:IY,COMMENT:LA,C_BLOCK_COMMENT_MODE:GBe,C_LINE_COMMENT_MODE:$Be,C_NUMBER_MODE:WBe,C_NUMBER_RE:OY,END_SAME_AS_BEGIN:function(t){return Object.assign(t,{"on:begin":(e,r)=>{r.data._beginMatch=e[1]},"on:end":(e,r)=>{r.data._beginMatch!==e[1]&&r.ignoreMatch()}})},HASH_COMMENT_MODE:VBe,IDENT_RE:xY,MATCH_NOTHING_RE:kBe,METHOD_GUARD:QBe,NUMBER_MODE:zBe,NUMBER_RE:wY,PHRASAL_WORDS_MODE:HBe,QUOTE_STRING_MODE:FBe,REGEXP_MODE:qBe,RE_STARTERS_RE:UBe,SHEBANG:jBe,TITLE_MODE:KBe,UNDERSCORE_IDENT_RE:A2,UNDERSCORE_TITLE_MODE:XBe});function JBe(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function ZBe(t,e){t.className!==void 0&&(t.scope=t.className,delete t.className)}function eFe(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=JBe,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function tFe(t,e){Array.isArray(t.illegal)&&(t.illegal=v2(...t.illegal))}function rFe(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function nFe(t,e){t.relevance===void 0&&(t.relevance=1)}const sFe=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const r=Object.assign({},t);Object.keys(t).forEach(n=>{delete t[n]}),t.keywords=r.keywords,t.begin=qd(r.beforeMatch,bY(r.begin)),t.starts={relevance:0,contains:[Object.assign(r,{endsParent:!0})]},t.relevance=0,delete r.beforeMatch},iFe=["of","and","for","in","not","or","if","then","parent","list","value"],oFe="keyword";function _Y(t,e,r=oFe){const n=Object.create(null);return typeof t=="string"?s(r,t.split(" ")):Array.isArray(t)?s(r,t):Object.keys(t).forEach(function(i){Object.assign(n,_Y(t[i],e,i))}),n;function s(i,o){e&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){const l=a.split("|");n[l[0]]=[i,aFe(l[0],l[1])]})}}function aFe(t,e){return e?Number(e):lFe(t)?0:1}function lFe(t){return iFe.includes(t.toLowerCase())}const LY={},Kd=t=>{console.error(t)},DY=(t,...e)=>{console.log(`WARN: ${t}`,...e)},dm=(t,e)=>{LY[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),LY[`${t}/${e}`]=!0)},MA=new Error;function MY(t,e,{key:r}){let n=0;const s=t[r],i={},o={};for(let a=1;a<=e.length;a++)o[a+n]=s[a],i[a+n]=!0,n+=CY(e[a-1]);t[r]=o,t[r]._emit=i,t[r]._multi=!0}function cFe(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Kd("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),MA;if(typeof t.beginScope!="object"||t.beginScope===null)throw Kd("beginScope must be object"),MA;MY(t,t.begin,{key:"beginScope"}),t.begin=y2(t.begin,{joinWith:""})}}function uFe(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Kd("skip, excludeEnd, returnEnd not compatible with endScope: {}"),MA;if(typeof t.endScope!="object"||t.endScope===null)throw Kd("endScope must be object"),MA;MY(t,t.end,{key:"endScope"}),t.end=y2(t.end,{joinWith:""})}}function dFe(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function hFe(t){dFe(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),cFe(t),uFe(t)}function fFe(t){function e(o,a){return new RegExp(Dg(o),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(a?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,a]),this.matchAt+=CY(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(l=>l[1]);this.matcherRe=e(y2(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(a);if(!l)return null;const c=l.findIndex((h,m)=>m>0&&h!==void 0),d=this.matchIndexes[c];return l.splice(0,c),Object.assign(l,d)}}class n{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const l=new r;return this.rules.slice(a).forEach(([c,d])=>l.addRule(c,d)),l.compile(),this.multiRegexes[a]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,l){this.rules.push([a,l]),l.type==="begin"&&this.count++}exec(a){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let c=l.exec(a);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,c=d.exec(a)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function s(o){const a=new n;return o.contains.forEach(l=>a.addRule(l.begin,{rule:l,type:"begin"})),o.terminatorEnd&&a.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&a.addRule(o.illegal,{type:"illegal"}),a}function i(o,a){const l=o;if(o.isCompiled)return l;[ZBe,rFe,hFe,sFe].forEach(d=>d(o,a)),t.compilerExtensions.forEach(d=>d(o,a)),o.__beforeBegin=null,[eFe,tFe,nFe].forEach(d=>d(o,a)),o.isCompiled=!0;let c=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),c=o.keywords.$pattern,delete o.keywords.$pattern),c=c||/\w+/,o.keywords&&(o.keywords=_Y(o.keywords,t.case_insensitive)),l.keywordPatternRe=e(c,!0),a&&(o.begin||(o.begin=/\B|\b/),l.beginRe=e(l.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(l.endRe=e(l.end)),l.terminatorEnd=Dg(l.end)||"",o.endsWithParent&&a.terminatorEnd&&(l.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(l.illegalRe=e(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(d){return mFe(d==="self"?o:d)})),o.contains.forEach(function(d){i(d,l)}),o.starts&&i(o.starts,a),l.matcher=s(l),l}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=Eu(t.classNameAliases||{}),i(t)}function PY(t){return t?t.endsWithParent||PY(t.starts):!1}function mFe(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return Eu(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:PY(t)?Eu(t,{starts:t.starts?Eu(t.starts):null}):Object.isFrozen(t)?Eu(t):t}var pFe="11.11.1";class EFe extends Error{constructor(e,r){super(e),this.name="HTMLInjectionError",this.html=r}}const R2=AY,kY=Eu,UY=Symbol("nomatch"),gFe=7,jY=function(t){const e=Object.create(null),r=Object.create(null),n=[];let s=!0;const i="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:IBe};function l(W){return a.noHighlightRe.test(W)}function c(W){let Y=W.className+" ";Y+=W.parentNode?W.parentNode.className:"";const k=a.languageDetectRe.exec(Y);if(k){const V=b(k[1]);return V||(DY(i.replace("{}",k[1])),DY("Falling back to no-highlight mode for this block.",W)),V?k[1]:"no-highlight"}return Y.split(/\s+/).find(V=>l(V)||b(V))}function d(W,Y,k){let V="",re="";typeof Y=="object"?(V=W,k=Y.ignoreIllegals,re=Y.language):(dm("10.7.0","highlight(lang, code, ...args) has been deprecated."),dm("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),re=W,V=Y),k===void 0&&(k=!0);const K={code:V,language:re};I("before:highlight",K);const B=K.result?K.result:h(K.language,K.code,k);return B.code=K.code,I("after:highlight",B),B}function h(W,Y,k,V){const re=Object.create(null);function K(pe,he){return pe.keywords[he]}function B(){if(!Q.keywords){te.addText(ae);return}let pe=0;Q.keywordPatternRe.lastIndex=0;let he=Q.keywordPatternRe.exec(ae),Ne="";for(;he;){Ne+=ae.substring(pe,he.index);const Se=Ce.case_insensitive?he[0].toLowerCase():he[0],Ye=K(Q,Se);if(Ye){const[Ge,Ze]=Ye;if(te.addText(Ne),Ne="",re[Se]=(re[Se]||0)+1,re[Se]<=gFe&&(le+=Ze),Ge.startsWith("_"))Ne+=he[0];else{const ut=Ce.classNameAliases[Ge]||Ge;Z(he[0],ut)}}else Ne+=he[0];pe=Q.keywordPatternRe.lastIndex,he=Q.keywordPatternRe.exec(ae)}Ne+=ae.substring(pe),te.addText(Ne)}function X(){if(ae==="")return;let pe=null;if(typeof Q.subLanguage=="string"){if(!e[Q.subLanguage]){te.addText(ae);return}pe=h(Q.subLanguage,ae,!0,Ae[Q.subLanguage]),Ae[Q.subLanguage]=pe._top}else pe=f(ae,Q.subLanguage.length?Q.subLanguage:null);Q.relevance>0&&(le+=pe.relevance),te.__addSublanguage(pe._emitter,pe.language)}function J(){Q.subLanguage!=null?X():B(),ae=""}function Z(pe,he){pe!==""&&(te.startScope(he),te.addText(pe),te.endScope())}function Ee(pe,he){let Ne=1;const Se=he.length-1;for(;Ne<=Se;){if(!pe._emit[Ne]){Ne++;continue}const Ye=Ce.classNameAliases[pe[Ne]]||pe[Ne],Ge=he[Ne];Ye?Z(Ge,Ye):(ae=Ge,B(),ae=""),Ne++}}function se(pe,he){return pe.scope&&typeof pe.scope=="string"&&te.openNode(Ce.classNameAliases[pe.scope]||pe.scope),pe.beginScope&&(pe.beginScope._wrap?(Z(ae,Ce.classNameAliases[pe.beginScope._wrap]||pe.beginScope._wrap),ae=""):pe.beginScope._multi&&(Ee(pe.beginScope,he),ae="")),Q=Object.create(pe,{parent:{value:Q}}),Q}function ie(pe,he,Ne){let Se=MBe(pe.endRe,Ne);if(Se){if(pe["on:end"]){const Ye=new yY(pe);pe["on:end"](he,Ye),Ye.isMatchIgnored&&(Se=!1)}if(Se){for(;pe.endsParent&&pe.parent;)pe=pe.parent;return pe}}if(pe.endsWithParent)return ie(pe.parent,he,Ne)}function Te(pe){return Q.matcher.regexIndex===0?(ae+=pe[0],1):(ue=!0,0)}function ve(pe){const he=pe[0],Ne=pe.rule,Se=new yY(Ne),Ye=[Ne.__beforeBegin,Ne["on:begin"]];for(const Ge of Ye)if(Ge&&(Ge(pe,Se),Se.isMatchIgnored))return Te(he);return Ne.skip?ae+=he:(Ne.excludeBegin&&(ae+=he),J(),!Ne.returnBegin&&!Ne.excludeBegin&&(ae=he)),se(Ne,pe),Ne.returnBegin?0:he.length}function _e(pe){const he=pe[0],Ne=Y.substring(pe.index),Se=ie(Q,pe,Ne);if(!Se)return UY;const Ye=Q;Q.endScope&&Q.endScope._wrap?(J(),Z(he,Q.endScope._wrap)):Q.endScope&&Q.endScope._multi?(J(),Ee(Q.endScope,pe)):Ye.skip?ae+=he:(Ye.returnEnd||Ye.excludeEnd||(ae+=he),J(),Ye.excludeEnd&&(ae=he));do Q.scope&&te.closeNode(),!Q.skip&&!Q.subLanguage&&(le+=Q.relevance),Q=Q.parent;while(Q!==Se.parent);return Se.starts&&se(Se.starts,pe),Ye.returnEnd?0:he.length}function fe(){const pe=[];for(let he=Q;he!==Ce;he=he.parent)he.scope&&pe.unshift(he.scope);pe.forEach(he=>te.openNode(he))}let je={};function H(pe,he){const Ne=he&&he[0];if(ae+=pe,Ne==null)return J(),0;if(je.type==="begin"&&he.type==="end"&&je.index===he.index&&Ne===""){if(ae+=Y.slice(he.index,he.index+1),!s){const Se=new Error(`0 width match regex (${W})`);throw Se.languageName=W,Se.badRule=je.rule,Se}return 1}if(je=he,he.type==="begin")return ve(he);if(he.type==="illegal"&&!k){const Se=new Error('Illegal lexeme "'+Ne+'" for mode "'+(Q.scope||"<unnamed>")+'"');throw Se.mode=Q,Se}else if(he.type==="end"){const Se=_e(he);if(Se!==UY)return Se}if(he.type==="illegal"&&Ne==="")return ae+=`
`,1;if(Ie>1e5&&Ie>he.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ae+=Ne,Ne.length}const Ce=b(W);if(!Ce)throw Kd(i.replace("{}",W)),new Error('Unknown language: "'+W+'"');const be=fFe(Ce);let ce="",Q=V||be;const Ae={},te=new a.__emitter(a);fe();let ae="",le=0,we=0,Ie=0,ue=!1;try{if(Ce.__emitTokens)Ce.__emitTokens(Y,te);else{for(Q.matcher.considerAll();;){Ie++,ue?ue=!1:Q.matcher.considerAll(),Q.matcher.lastIndex=we;const pe=Q.matcher.exec(Y);if(!pe)break;const he=Y.substring(we,pe.index),Ne=H(he,pe);we=pe.index+Ne}H(Y.substring(we))}return te.finalize(),ce=te.toHTML(),{language:W,value:ce,relevance:le,illegal:!1,_emitter:te,_top:Q}}catch(pe){if(pe.message&&pe.message.includes("Illegal"))return{language:W,value:R2(Y),illegal:!0,relevance:0,_illegalBy:{message:pe.message,index:we,context:Y.slice(we-100,we+100),mode:pe.mode,resultSoFar:ce},_emitter:te};if(s)return{language:W,value:R2(Y),illegal:!1,relevance:0,errorRaised:pe,_emitter:te,_top:Q};throw pe}}function m(W){const Y={value:R2(W),illegal:!1,relevance:0,_top:o,_emitter:new a.__emitter(a)};return Y._emitter.addText(W),Y}function f(W,Y){Y=Y||a.languages||Object.keys(e);const k=m(W),V=Y.filter(b).filter(U).map(J=>h(J,W,!1));V.unshift(k);const re=V.sort((J,Z)=>{if(J.relevance!==Z.relevance)return Z.relevance-J.relevance;if(J.language&&Z.language){if(b(J.language).supersetOf===Z.language)return 1;if(b(Z.language).supersetOf===J.language)return-1}return 0}),[K,B]=re,X=K;return X.secondBest=B,X}function p(W,Y,k){const V=Y&&r[Y]||k;W.classList.add("hljs"),W.classList.add(`language-${V}`)}function E(W){let Y=null;const k=c(W);if(l(k))return;if(I("before:highlightElement",{el:W,language:k}),W.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",W);return}if(W.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(W)),a.throwUnescapedHTML))throw new EFe("One of your code blocks includes unescaped HTML.",W.innerHTML);Y=W;const V=Y.textContent,re=k?d(V,{language:k,ignoreIllegals:!0}):f(V);W.innerHTML=re.value,W.dataset.highlighted="yes",p(W,k,re.language),W.result={language:re.language,re:re.relevance,relevance:re.relevance},re.secondBest&&(W.secondBest={language:re.secondBest.language,relevance:re.secondBest.relevance}),I("after:highlightElement",{el:W,result:re,text:V})}function g(W){a=kY(a,W)}const T=()=>{N(),dm("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function S(){N(),dm("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let v=!1;function N(){function W(){N()}if(document.readyState==="loading"){v||window.addEventListener("DOMContentLoaded",W,!1),v=!0;return}document.querySelectorAll(a.cssSelector).forEach(E)}function C(W,Y){let k=null;try{k=Y(t)}catch(V){if(Kd("Language definition for '{}' could not be registered.".replace("{}",W)),s)Kd(V);else throw V;k=o}k.name||(k.name=W),e[W]=k,k.rawDefinition=Y.bind(null,t),k.aliases&&_(k.aliases,{languageName:W})}function x(W){delete e[W];for(const Y of Object.keys(r))r[Y]===W&&delete r[Y]}function A(){return Object.keys(e)}function b(W){return W=(W||"").toLowerCase(),e[W]||e[r[W]]}function _(W,{languageName:Y}){typeof W=="string"&&(W=[W]),W.forEach(k=>{r[k.toLowerCase()]=Y})}function U(W){const Y=b(W);return Y&&!Y.disableAutodetect}function j(W){W["before:highlightBlock"]&&!W["before:highlightElement"]&&(W["before:highlightElement"]=Y=>{W["before:highlightBlock"](Object.assign({block:Y.el},Y))}),W["after:highlightBlock"]&&!W["after:highlightElement"]&&(W["after:highlightElement"]=Y=>{W["after:highlightBlock"](Object.assign({block:Y.el},Y))})}function L(W){j(W),n.push(W)}function P(W){const Y=n.indexOf(W);Y!==-1&&n.splice(Y,1)}function I(W,Y){const k=W;n.forEach(function(V){V[k]&&V[k](Y)})}function F(W){return dm("10.7.0","highlightBlock will be removed entirely in v12.0"),dm("10.7.0","Please use highlightElement now."),E(W)}Object.assign(t,{highlight:d,highlightAuto:f,highlightAll:N,highlightElement:E,highlightBlock:F,configure:g,initHighlighting:T,initHighlightingOnLoad:S,registerLanguage:C,unregisterLanguage:x,listLanguages:A,getLanguage:b,registerAliases:_,autoDetection:U,inherit:kY,addPlugin:L,removePlugin:P}),t.debugMode=function(){s=!1},t.safeMode=function(){s=!0},t.versionString=pFe,t.regex={concat:qd,lookahead:bY,either:v2,optional:LBe,anyNumberOfTimes:_Be};for(const W in DA)typeof DA[W]=="object"&&vY(DA[W]);return Object.assign(t,DA),t},hm=jY({});hm.newInstance=()=>jY({});var TFe=hm;hm.HighlightJS=hm,hm.default=hm;const PA=Yr(TFe);function SFe(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},r={match:/[{}[\],:]/,className:"punctuation",relevance:0},n=["true","false","null"],s={scope:"literal",beginKeywords:n.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:n},contains:[e,r,t.QUOTE_STRING_MODE,s,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function vFe(t){const e=t.COMMENT("--","$"),r="[a-zA-Z_][a-zA-Z_0-9$]*",n="\\$([a-zA-Z_]?|[a-zA-Z_][a-zA-Z_0-9]*)\\$",s="<<\\s*"+r+"\\s*>>",i="ABORT ALTER ANALYZE BEGIN CALL CHECKPOINT|10 CLOSE CLUSTER COMMENT COMMIT COPY CREATE DEALLOCATE DECLARE DELETE DISCARD DO DROP END EXECUTE EXPLAIN FETCH GRANT IMPORT INSERT LISTEN LOAD LOCK MOVE NOTIFY PREPARE REASSIGN|10 REFRESH REINDEX RELEASE RESET REVOKE ROLLBACK SAVEPOINT SECURITY SELECT SET SHOW START TRUNCATE UNLISTEN|10 UPDATE VACUUM|10 VALUES AGGREGATE COLLATION CONVERSION|10 DATABASE DEFAULT PRIVILEGES DOMAIN TRIGGER EXTENSION FOREIGN WRAPPER|10 TABLE FUNCTION GROUP LANGUAGE LARGE OBJECT MATERIALIZED VIEW OPERATOR CLASS FAMILY POLICY PUBLICATION|10 ROLE RULE SCHEMA SEQUENCE SERVER STATISTICS SUBSCRIPTION SYSTEM TABLESPACE CONFIGURATION DICTIONARY PARSER TEMPLATE TYPE USER MAPPING PREPARED ACCESS METHOD CAST AS TRANSFORM TRANSACTION OWNED TO INTO SESSION AUTHORIZATION INDEX PROCEDURE ASSERTION ALL ANALYSE AND ANY ARRAY ASC ASYMMETRIC|10 BOTH CASE CHECK COLLATE COLUMN CONCURRENTLY|10 CONSTRAINT CROSS DEFERRABLE RANGE DESC DISTINCT ELSE EXCEPT FOR FREEZE|10 FROM FULL HAVING ILIKE IN INITIALLY INNER INTERSECT IS ISNULL JOIN LATERAL LEADING LIKE LIMIT NATURAL NOT NOTNULL NULL OFFSET ON ONLY OR ORDER OUTER OVERLAPS PLACING PRIMARY REFERENCES RETURNING SIMILAR SOME SYMMETRIC TABLESAMPLE THEN TRAILING UNION UNIQUE USING VARIADIC|10 VERBOSE WHEN WHERE WINDOW WITH BY RETURNS INOUT OUT SETOF|10 IF STRICT CURRENT CONTINUE OWNER LOCATION OVER PARTITION WITHIN BETWEEN ESCAPE EXTERNAL INVOKER DEFINER WORK RENAME VERSION CONNECTION CONNECT TABLES TEMP TEMPORARY FUNCTIONS SEQUENCES TYPES SCHEMAS OPTION CASCADE RESTRICT ADD ADMIN EXISTS VALID VALIDATE ENABLE DISABLE REPLICA|10 ALWAYS PASSING COLUMNS PATH REF VALUE OVERRIDING IMMUTABLE STABLE VOLATILE BEFORE AFTER EACH ROW PROCEDURAL ROUTINE NO HANDLER VALIDATOR OPTIONS STORAGE OIDS|10 WITHOUT INHERIT DEPENDS CALLED INPUT LEAKPROOF|10 COST ROWS NOWAIT SEARCH UNTIL ENCRYPTED|10 PASSWORD CONFLICT|10 INSTEAD INHERITS CHARACTERISTICS WRITE CURSOR ALSO STATEMENT SHARE EXCLUSIVE INLINE ISOLATION REPEATABLE READ COMMITTED SERIALIZABLE UNCOMMITTED LOCAL GLOBAL SQL PROCEDURES RECURSIVE SNAPSHOT ROLLUP CUBE TRUSTED|10 INCLUDE FOLLOWING PRECEDING UNBOUNDED RANGE GROUPS UNENCRYPTED|10 SYSID FORMAT DELIMITER HEADER QUOTE ENCODING FILTER OFF FORCE_QUOTE FORCE_NOT_NULL FORCE_NULL COSTS BUFFERS TIMING SUMMARY DISABLE_PAGE_SKIPPING RESTART CYCLE GENERATED IDENTITY DEFERRED IMMEDIATE LEVEL LOGGED UNLOGGED OF NOTHING NONE EXCLUDE ATTRIBUTE USAGE ROUTINES TRUE FALSE NAN INFINITY ",o="SUPERUSER NOSUPERUSER CREATEDB NOCREATEDB CREATEROLE NOCREATEROLE INHERIT NOINHERIT LOGIN NOLOGIN REPLICATION NOREPLICATION BYPASSRLS NOBYPASSRLS ",a="ALIAS BEGIN CONSTANT DECLARE END EXCEPTION RETURN PERFORM|10 RAISE GET DIAGNOSTICS STACKED|10 FOREACH LOOP ELSIF EXIT WHILE REVERSE SLICE DEBUG LOG INFO NOTICE WARNING ASSERT OPEN ",l="BIGINT INT8 BIGSERIAL SERIAL8 BIT VARYING VARBIT BOOLEAN BOOL BOX BYTEA CHARACTER CHAR VARCHAR CIDR CIRCLE DATE DOUBLE PRECISION FLOAT8 FLOAT INET INTEGER INT INT4 INTERVAL JSON JSONB LINE LSEG|10 MACADDR MACADDR8 MONEY NUMERIC DEC DECIMAL PATH POINT POLYGON REAL FLOAT4 SMALLINT INT2 SMALLSERIAL|10 SERIAL2|10 SERIAL|10 SERIAL4|10 TEXT TIME ZONE TIMETZ|10 TIMESTAMP TIMESTAMPTZ|10 TSQUERY|10 TSVECTOR|10 TXID_SNAPSHOT|10 UUID XML NATIONAL NCHAR INT4RANGE|10 INT8RANGE|10 NUMRANGE|10 TSRANGE|10 TSTZRANGE|10 DATERANGE|10 ANYELEMENT ANYARRAY ANYNONARRAY ANYENUM ANYRANGE CSTRING INTERNAL RECORD PG_DDL_COMMAND VOID UNKNOWN OPAQUE REFCURSOR NAME OID REGPROC|10 REGPROCEDURE|10 REGOPER|10 REGOPERATOR|10 REGCLASS|10 REGTYPE|10 REGROLE|10 REGNAMESPACE|10 REGCONFIG|10 REGDICTIONARY|10 ",c=l.trim().split(" ").map(function(E){return E.split("|")[0]}).join("|"),d="CURRENT_TIME CURRENT_TIMESTAMP CURRENT_USER CURRENT_CATALOG|10 CURRENT_DATE LOCALTIME LOCALTIMESTAMP CURRENT_ROLE|10 CURRENT_SCHEMA|10 SESSION_USER PUBLIC ",h="FOUND NEW OLD TG_NAME|10 TG_WHEN|10 TG_LEVEL|10 TG_OP|10 TG_RELID|10 TG_RELNAME|10 TG_TABLE_NAME|10 TG_TABLE_SCHEMA|10 TG_NARGS|10 TG_ARGV|10 TG_EVENT|10 TG_TAG|10 ROW_COUNT RESULT_OID|10 PG_CONTEXT|10 RETURNED_SQLSTATE COLUMN_NAME CONSTRAINT_NAME PG_DATATYPE_NAME|10 MESSAGE_TEXT TABLE_NAME SCHEMA_NAME PG_EXCEPTION_DETAIL|10 PG_EXCEPTION_HINT|10 PG_EXCEPTION_CONTEXT|10 ",m="SQLSTATE SQLERRM|10 SUCCESSFUL_COMPLETION WARNING DYNAMIC_RESULT_SETS_RETURNED IMPLICIT_ZERO_BIT_PADDING NULL_VALUE_ELIMINATED_IN_SET_FUNCTION PRIVILEGE_NOT_GRANTED PRIVILEGE_NOT_REVOKED STRING_DATA_RIGHT_TRUNCATION DEPRECATED_FEATURE NO_DATA NO_ADDITIONAL_DYNAMIC_RESULT_SETS_RETURNED SQL_STATEMENT_NOT_YET_COMPLETE CONNECTION_EXCEPTION CONNECTION_DOES_NOT_EXIST CONNECTION_FAILURE SQLCLIENT_UNABLE_TO_ESTABLISH_SQLCONNECTION SQLSERVER_REJECTED_ESTABLISHMENT_OF_SQLCONNECTION TRANSACTION_RESOLUTION_UNKNOWN PROTOCOL_VIOLATION TRIGGERED_ACTION_EXCEPTION FEATURE_NOT_SUPPORTED INVALID_TRANSACTION_INITIATION LOCATOR_EXCEPTION INVALID_LOCATOR_SPECIFICATION INVALID_GRANTOR INVALID_GRANT_OPERATION INVALID_ROLE_SPECIFICATION DIAGNOSTICS_EXCEPTION STACKED_DIAGNOSTICS_ACCESSED_WITHOUT_ACTIVE_HANDLER CASE_NOT_FOUND CARDINALITY_VIOLATION DATA_EXCEPTION ARRAY_SUBSCRIPT_ERROR CHARACTER_NOT_IN_REPERTOIRE DATETIME_FIELD_OVERFLOW DIVISION_BY_ZERO ERROR_IN_ASSIGNMENT ESCAPE_CHARACTER_CONFLICT INDICATOR_OVERFLOW INTERVAL_FIELD_OVERFLOW INVALID_ARGUMENT_FOR_LOGARITHM INVALID_ARGUMENT_FOR_NTILE_FUNCTION INVALID_ARGUMENT_FOR_NTH_VALUE_FUNCTION INVALID_ARGUMENT_FOR_POWER_FUNCTION INVALID_ARGUMENT_FOR_WIDTH_BUCKET_FUNCTION INVALID_CHARACTER_VALUE_FOR_CAST INVALID_DATETIME_FORMAT INVALID_ESCAPE_CHARACTER INVALID_ESCAPE_OCTET INVALID_ESCAPE_SEQUENCE NONSTANDARD_USE_OF_ESCAPE_CHARACTER INVALID_INDICATOR_PARAMETER_VALUE INVALID_PARAMETER_VALUE INVALID_REGULAR_EXPRESSION INVALID_ROW_COUNT_IN_LIMIT_CLAUSE INVALID_ROW_COUNT_IN_RESULT_OFFSET_CLAUSE INVALID_TABLESAMPLE_ARGUMENT INVALID_TABLESAMPLE_REPEAT INVALID_TIME_ZONE_DISPLACEMENT_VALUE INVALID_USE_OF_ESCAPE_CHARACTER MOST_SPECIFIC_TYPE_MISMATCH NULL_VALUE_NOT_ALLOWED NULL_VALUE_NO_INDICATOR_PARAMETER NUMERIC_VALUE_OUT_OF_RANGE SEQUENCE_GENERATOR_LIMIT_EXCEEDED STRING_DATA_LENGTH_MISMATCH STRING_DATA_RIGHT_TRUNCATION SUBSTRING_ERROR TRIM_ERROR UNTERMINATED_C_STRING ZERO_LENGTH_CHARACTER_STRING FLOATING_POINT_EXCEPTION INVALID_TEXT_REPRESENTATION INVALID_BINARY_REPRESENTATION BAD_COPY_FILE_FORMAT UNTRANSLATABLE_CHARACTER NOT_AN_XML_DOCUMENT INVALID_XML_DOCUMENT INVALID_XML_CONTENT INVALID_XML_COMMENT INVALID_XML_PROCESSING_INSTRUCTION INTEGRITY_CONSTRAINT_VIOLATION RESTRICT_VIOLATION NOT_NULL_VIOLATION FOREIGN_KEY_VIOLATION UNIQUE_VIOLATION CHECK_VIOLATION EXCLUSION_VIOLATION INVALID_CURSOR_STATE INVALID_TRANSACTION_STATE ACTIVE_SQL_TRANSACTION BRANCH_TRANSACTION_ALREADY_ACTIVE HELD_CURSOR_REQUIRES_SAME_ISOLATION_LEVEL INAPPROPRIATE_ACCESS_MODE_FOR_BRANCH_TRANSACTION INAPPROPRIATE_ISOLATION_LEVEL_FOR_BRANCH_TRANSACTION NO_ACTIVE_SQL_TRANSACTION_FOR_BRANCH_TRANSACTION READ_ONLY_SQL_TRANSACTION SCHEMA_AND_DATA_STATEMENT_MIXING_NOT_SUPPORTED NO_ACTIVE_SQL_TRANSACTION IN_FAILED_SQL_TRANSACTION IDLE_IN_TRANSACTION_SESSION_TIMEOUT INVALID_SQL_STATEMENT_NAME TRIGGERED_DATA_CHANGE_VIOLATION INVALID_AUTHORIZATION_SPECIFICATION INVALID_PASSWORD DEPENDENT_PRIVILEGE_DESCRIPTORS_STILL_EXIST DEPENDENT_OBJECTS_STILL_EXIST INVALID_TRANSACTION_TERMINATION SQL_ROUTINE_EXCEPTION FUNCTION_EXECUTED_NO_RETURN_STATEMENT MODIFYING_SQL_DATA_NOT_PERMITTED PROHIBITED_SQL_STATEMENT_ATTEMPTED READING_SQL_DATA_NOT_PERMITTED INVALID_CURSOR_NAME EXTERNAL_ROUTINE_EXCEPTION CONTAINING_SQL_NOT_PERMITTED MODIFYING_SQL_DATA_NOT_PERMITTED PROHIBITED_SQL_STATEMENT_ATTEMPTED READING_SQL_DATA_NOT_PERMITTED EXTERNAL_ROUTINE_INVOCATION_EXCEPTION INVALID_SQLSTATE_RETURNED NULL_VALUE_NOT_ALLOWED TRIGGER_PROTOCOL_VIOLATED SRF_PROTOCOL_VIOLATED EVENT_TRIGGER_PROTOCOL_VIOLATED SAVEPOINT_EXCEPTION INVALID_SAVEPOINT_SPECIFICATION INVALID_CATALOG_NAME INVALID_SCHEMA_NAME TRANSACTION_ROLLBACK TRANSACTION_INTEGRITY_CONSTRAINT_VIOLATION SERIALIZATION_FAILURE STATEMENT_COMPLETION_UNKNOWN DEADLOCK_DETECTED SYNTAX_ERROR_OR_ACCESS_RULE_VIOLATION SYNTAX_ERROR INSUFFICIENT_PRIVILEGE CANNOT_COERCE GROUPING_ERROR WINDOWING_ERROR INVALID_RECURSION INVALID_FOREIGN_KEY INVALID_NAME NAME_TOO_LONG RESERVED_NAME DATATYPE_MISMATCH INDETERMINATE_DATATYPE COLLATION_MISMATCH INDETERMINATE_COLLATION WRONG_OBJECT_TYPE GENERATED_ALWAYS UNDEFINED_COLUMN UNDEFINED_FUNCTION UNDEFINED_TABLE UNDEFINED_PARAMETER UNDEFINED_OBJECT DUPLICATE_COLUMN DUPLICATE_CURSOR DUPLICATE_DATABASE DUPLICATE_FUNCTION DUPLICATE_PREPARED_STATEMENT DUPLICATE_SCHEMA DUPLICATE_TABLE DUPLICATE_ALIAS DUPLICATE_OBJECT AMBIGUOUS_COLUMN AMBIGUOUS_FUNCTION AMBIGUOUS_PARAMETER AMBIGUOUS_ALIAS INVALID_COLUMN_REFERENCE INVALID_COLUMN_DEFINITION INVALID_CURSOR_DEFINITION INVALID_DATABASE_DEFINITION INVALID_FUNCTION_DEFINITION INVALID_PREPARED_STATEMENT_DEFINITION INVALID_SCHEMA_DEFINITION INVALID_TABLE_DEFINITION INVALID_OBJECT_DEFINITION WITH_CHECK_OPTION_VIOLATION INSUFFICIENT_RESOURCES DISK_FULL OUT_OF_MEMORY TOO_MANY_CONNECTIONS CONFIGURATION_LIMIT_EXCEEDED PROGRAM_LIMIT_EXCEEDED STATEMENT_TOO_COMPLEX TOO_MANY_COLUMNS TOO_MANY_ARGUMENTS OBJECT_NOT_IN_PREREQUISITE_STATE OBJECT_IN_USE CANT_CHANGE_RUNTIME_PARAM LOCK_NOT_AVAILABLE OPERATOR_INTERVENTION QUERY_CANCELED ADMIN_SHUTDOWN CRASH_SHUTDOWN CANNOT_CONNECT_NOW DATABASE_DROPPED SYSTEM_ERROR IO_ERROR UNDEFINED_FILE DUPLICATE_FILE SNAPSHOT_TOO_OLD CONFIG_FILE_ERROR LOCK_FILE_EXISTS FDW_ERROR FDW_COLUMN_NAME_NOT_FOUND FDW_DYNAMIC_PARAMETER_VALUE_NEEDED FDW_FUNCTION_SEQUENCE_ERROR FDW_INCONSISTENT_DESCRIPTOR_INFORMATION FDW_INVALID_ATTRIBUTE_VALUE FDW_INVALID_COLUMN_NAME FDW_INVALID_COLUMN_NUMBER FDW_INVALID_DATA_TYPE FDW_INVALID_DATA_TYPE_DESCRIPTORS FDW_INVALID_DESCRIPTOR_FIELD_IDENTIFIER FDW_INVALID_HANDLE FDW_INVALID_OPTION_INDEX FDW_INVALID_OPTION_NAME FDW_INVALID_STRING_LENGTH_OR_BUFFER_LENGTH FDW_INVALID_STRING_FORMAT FDW_INVALID_USE_OF_NULL_POINTER FDW_TOO_MANY_HANDLES FDW_OUT_OF_MEMORY FDW_NO_SCHEMAS FDW_OPTION_NAME_NOT_FOUND FDW_REPLY_HANDLE FDW_SCHEMA_NOT_FOUND FDW_TABLE_NOT_FOUND FDW_UNABLE_TO_CREATE_EXECUTION FDW_UNABLE_TO_CREATE_REPLY FDW_UNABLE_TO_ESTABLISH_CONNECTION PLPGSQL_ERROR RAISE_EXCEPTION NO_DATA_FOUND TOO_MANY_ROWS ASSERT_FAILURE INTERNAL_ERROR DATA_CORRUPTED INDEX_CORRUPTED ",p="ARRAY_AGG AVG BIT_AND BIT_OR BOOL_AND BOOL_OR COUNT EVERY JSON_AGG JSONB_AGG JSON_OBJECT_AGG JSONB_OBJECT_AGG MAX MIN MODE STRING_AGG SUM XMLAGG CORR COVAR_POP COVAR_SAMP REGR_AVGX REGR_AVGY REGR_COUNT REGR_INTERCEPT REGR_R2 REGR_SLOPE REGR_SXX REGR_SXY REGR_SYY STDDEV STDDEV_POP STDDEV_SAMP VARIANCE VAR_POP VAR_SAMP PERCENTILE_CONT PERCENTILE_DISC ROW_NUMBER RANK DENSE_RANK PERCENT_RANK CUME_DIST NTILE LAG LEAD FIRST_VALUE LAST_VALUE NTH_VALUE NUM_NONNULLS NUM_NULLS ABS CBRT CEIL CEILING DEGREES DIV EXP FLOOR LN LOG MOD PI POWER RADIANS ROUND SCALE SIGN SQRT TRUNC WIDTH_BUCKET RANDOM SETSEED ACOS ACOSD ASIN ASIND ATAN ATAND ATAN2 ATAN2D COS COSD COT COTD SIN SIND TAN TAND BIT_LENGTH CHAR_LENGTH CHARACTER_LENGTH LOWER OCTET_LENGTH OVERLAY POSITION SUBSTRING TREAT TRIM UPPER ASCII BTRIM CHR CONCAT CONCAT_WS CONVERT CONVERT_FROM CONVERT_TO DECODE ENCODE INITCAP LEFT LENGTH LPAD LTRIM MD5 PARSE_IDENT PG_CLIENT_ENCODING QUOTE_IDENT|10 QUOTE_LITERAL|10 QUOTE_NULLABLE|10 REGEXP_MATCH REGEXP_MATCHES REGEXP_REPLACE REGEXP_SPLIT_TO_ARRAY REGEXP_SPLIT_TO_TABLE REPEAT REPLACE REVERSE RIGHT RPAD RTRIM SPLIT_PART STRPOS SUBSTR TO_ASCII TO_HEX TRANSLATE OCTET_LENGTH GET_BIT GET_BYTE SET_BIT SET_BYTE TO_CHAR TO_DATE TO_NUMBER TO_TIMESTAMP AGE CLOCK_TIMESTAMP|10 DATE_PART DATE_TRUNC ISFINITE JUSTIFY_DAYS JUSTIFY_HOURS JUSTIFY_INTERVAL MAKE_DATE MAKE_INTERVAL|10 MAKE_TIME MAKE_TIMESTAMP|10 MAKE_TIMESTAMPTZ|10 NOW STATEMENT_TIMESTAMP|10 TIMEOFDAY TRANSACTION_TIMESTAMP|10 ENUM_FIRST ENUM_LAST ENUM_RANGE AREA CENTER DIAMETER HEIGHT ISCLOSED ISOPEN NPOINTS PCLOSE POPEN RADIUS WIDTH BOX BOUND_BOX CIRCLE LINE LSEG PATH POLYGON ABBREV BROADCAST HOST HOSTMASK MASKLEN NETMASK NETWORK SET_MASKLEN TEXT INET_SAME_FAMILY INET_MERGE MACADDR8_SET7BIT ARRAY_TO_TSVECTOR GET_CURRENT_TS_CONFIG NUMNODE PLAINTO_TSQUERY PHRASETO_TSQUERY WEBSEARCH_TO_TSQUERY QUERYTREE SETWEIGHT STRIP TO_TSQUERY TO_TSVECTOR JSON_TO_TSVECTOR JSONB_TO_TSVECTOR TS_DELETE TS_FILTER TS_HEADLINE TS_RANK TS_RANK_CD TS_REWRITE TSQUERY_PHRASE TSVECTOR_TO_ARRAY TSVECTOR_UPDATE_TRIGGER TSVECTOR_UPDATE_TRIGGER_COLUMN XMLCOMMENT XMLCONCAT XMLELEMENT XMLFOREST XMLPI XMLROOT XMLEXISTS XML_IS_WELL_FORMED XML_IS_WELL_FORMED_DOCUMENT XML_IS_WELL_FORMED_CONTENT XPATH XPATH_EXISTS XMLTABLE XMLNAMESPACES TABLE_TO_XML TABLE_TO_XMLSCHEMA TABLE_TO_XML_AND_XMLSCHEMA QUERY_TO_XML QUERY_TO_XMLSCHEMA QUERY_TO_XML_AND_XMLSCHEMA CURSOR_TO_XML CURSOR_TO_XMLSCHEMA SCHEMA_TO_XML SCHEMA_TO_XMLSCHEMA SCHEMA_TO_XML_AND_XMLSCHEMA DATABASE_TO_XML DATABASE_TO_XMLSCHEMA DATABASE_TO_XML_AND_XMLSCHEMA XMLATTRIBUTES TO_JSON TO_JSONB ARRAY_TO_JSON ROW_TO_JSON JSON_BUILD_ARRAY JSONB_BUILD_ARRAY JSON_BUILD_OBJECT JSONB_BUILD_OBJECT JSON_OBJECT JSONB_OBJECT JSON_ARRAY_LENGTH JSONB_ARRAY_LENGTH JSON_EACH JSONB_EACH JSON_EACH_TEXT JSONB_EACH_TEXT JSON_EXTRACT_PATH JSONB_EXTRACT_PATH JSON_OBJECT_KEYS JSONB_OBJECT_KEYS JSON_POPULATE_RECORD JSONB_POPULATE_RECORD JSON_POPULATE_RECORDSET JSONB_POPULATE_RECORDSET JSON_ARRAY_ELEMENTS JSONB_ARRAY_ELEMENTS JSON_ARRAY_ELEMENTS_TEXT JSONB_ARRAY_ELEMENTS_TEXT JSON_TYPEOF JSONB_TYPEOF JSON_TO_RECORD JSONB_TO_RECORD JSON_TO_RECORDSET JSONB_TO_RECORDSET JSON_STRIP_NULLS JSONB_STRIP_NULLS JSONB_SET JSONB_INSERT JSONB_PRETTY CURRVAL LASTVAL NEXTVAL SETVAL COALESCE NULLIF GREATEST LEAST ARRAY_APPEND ARRAY_CAT ARRAY_NDIMS ARRAY_DIMS ARRAY_FILL ARRAY_LENGTH ARRAY_LOWER ARRAY_POSITION ARRAY_POSITIONS ARRAY_PREPEND ARRAY_REMOVE ARRAY_REPLACE ARRAY_TO_STRING ARRAY_UPPER CARDINALITY STRING_TO_ARRAY UNNEST ISEMPTY LOWER_INC UPPER_INC LOWER_INF UPPER_INF RANGE_MERGE GENERATE_SERIES GENERATE_SUBSCRIPTS CURRENT_DATABASE CURRENT_QUERY CURRENT_SCHEMA|10 CURRENT_SCHEMAS|10 INET_CLIENT_ADDR INET_CLIENT_PORT INET_SERVER_ADDR INET_SERVER_PORT ROW_SECURITY_ACTIVE FORMAT_TYPE TO_REGCLASS TO_REGPROC TO_REGPROCEDURE TO_REGOPER TO_REGOPERATOR TO_REGTYPE TO_REGNAMESPACE TO_REGROLE COL_DESCRIPTION OBJ_DESCRIPTION SHOBJ_DESCRIPTION TXID_CURRENT TXID_CURRENT_IF_ASSIGNED TXID_CURRENT_SNAPSHOT TXID_SNAPSHOT_XIP TXID_SNAPSHOT_XMAX TXID_SNAPSHOT_XMIN TXID_VISIBLE_IN_SNAPSHOT TXID_STATUS CURRENT_SETTING SET_CONFIG BRIN_SUMMARIZE_NEW_VALUES BRIN_SUMMARIZE_RANGE BRIN_DESUMMARIZE_RANGE GIN_CLEAN_PENDING_LIST SUPPRESS_REDUNDANT_UPDATES_TRIGGER LO_FROM_BYTEA LO_PUT LO_GET LO_CREAT LO_CREATE LO_UNLINK LO_IMPORT LO_EXPORT LOREAD LOWRITE GROUPING CAST ".trim().split(" ").map(function(E){return E.split("|")[0]}).join("|");return{name:"PostgreSQL",aliases:["postgres","postgresql"],supersetOf:"sql",case_insensitive:!0,keywords:{keyword:i+a+o,built_in:d+h+m},illegal:/:==|\W\s*\(\*|(^|\s)\$[a-z]|\{\{|[a-z]:\s*$|\.\.\.|TO:|DO:/,contains:[{className:"keyword",variants:[{begin:/\bTEXT\s*SEARCH\b/},{begin:/\b(PRIMARY|FOREIGN|FOR(\s+NO)?)\s+KEY\b/},{begin:/\bPARALLEL\s+(UNSAFE|RESTRICTED|SAFE)\b/},{begin:/\bSTORAGE\s+(PLAIN|EXTERNAL|EXTENDED|MAIN)\b/},{begin:/\bMATCH\s+(FULL|PARTIAL|SIMPLE)\b/},{begin:/\bNULLS\s+(FIRST|LAST)\b/},{begin:/\bEVENT\s+TRIGGER\b/},{begin:/\b(MAPPING|OR)\s+REPLACE\b/},{begin:/\b(FROM|TO)\s+(PROGRAM|STDIN|STDOUT)\b/},{begin:/\b(SHARE|EXCLUSIVE)\s+MODE\b/},{begin:/\b(LEFT|RIGHT)\s+(OUTER\s+)?JOIN\b/},{begin:/\b(FETCH|MOVE)\s+(NEXT|PRIOR|FIRST|LAST|ABSOLUTE|RELATIVE|FORWARD|BACKWARD)\b/},{begin:/\bPRESERVE\s+ROWS\b/},{begin:/\bDISCARD\s+PLANS\b/},{begin:/\bREFERENCING\s+(OLD|NEW)\b/},{begin:/\bSKIP\s+LOCKED\b/},{begin:/\bGROUPING\s+SETS\b/},{begin:/\b(BINARY|INSENSITIVE|SCROLL|NO\s+SCROLL)\s+(CURSOR|FOR)\b/},{begin:/\b(WITH|WITHOUT)\s+HOLD\b/},{begin:/\bWITH\s+(CASCADED|LOCAL)\s+CHECK\s+OPTION\b/},{begin:/\bEXCLUDE\s+(TIES|NO\s+OTHERS)\b/},{begin:/\bFORMAT\s+(TEXT|XML|JSON|YAML)\b/},{begin:/\bSET\s+((SESSION|LOCAL)\s+)?NAMES\b/},{begin:/\bIS\s+(NOT\s+)?UNKNOWN\b/},{begin:/\bSECURITY\s+LABEL\b/},{begin:/\bSTANDALONE\s+(YES|NO|NO\s+VALUE)\b/},{begin:/\bWITH\s+(NO\s+)?DATA\b/},{begin:/\b(FOREIGN|SET)\s+DATA\b/},{begin:/\bSET\s+(CATALOG|CONSTRAINTS)\b/},{begin:/\b(WITH|FOR)\s+ORDINALITY\b/},{begin:/\bIS\s+(NOT\s+)?DOCUMENT\b/},{begin:/\bXML\s+OPTION\s+(DOCUMENT|CONTENT)\b/},{begin:/\b(STRIP|PRESERVE)\s+WHITESPACE\b/},{begin:/\bNO\s+(ACTION|MAXVALUE|MINVALUE)\b/},{begin:/\bPARTITION\s+BY\s+(RANGE|LIST|HASH)\b/},{begin:/\bAT\s+TIME\s+ZONE\b/},{begin:/\bGRANTED\s+BY\b/},{begin:/\bRETURN\s+(QUERY|NEXT)\b/},{begin:/\b(ATTACH|DETACH)\s+PARTITION\b/},{begin:/\bFORCE\s+ROW\s+LEVEL\s+SECURITY\b/},{begin:/\b(INCLUDING|EXCLUDING)\s+(COMMENTS|CONSTRAINTS|DEFAULTS|IDENTITY|INDEXES|STATISTICS|STORAGE|ALL)\b/},{begin:/\bAS\s+(ASSIGNMENT|IMPLICIT|PERMISSIVE|RESTRICTIVE|ENUM|RANGE)\b/}]},{begin:/\b(FORMAT|FAMILY|VERSION)\s*\(/},{begin:/\bINCLUDE\s*\(/,keywords:"INCLUDE"},{begin:/\bRANGE(?!\s*(BETWEEN|UNBOUNDED|CURRENT|[-0-9]+))/},{begin:/\b(VERSION|OWNER|TEMPLATE|TABLESPACE|CONNECTION\s+LIMIT|PROCEDURE|RESTRICT|JOIN|PARSER|COPY|START|END|COLLATION|INPUT|ANALYZE|STORAGE|LIKE|DEFAULT|DELIMITER|ENCODING|COLUMN|CONSTRAINT|TABLE|SCHEMA)\s*=/},{begin:/\b(PG_\w+?|HAS_[A-Z_]+_PRIVILEGE)\b/,relevance:10},{begin:/\bEXTRACT\s*\(/,end:/\bFROM\b/,returnEnd:!0,keywords:{type:"CENTURY DAY DECADE DOW DOY EPOCH HOUR ISODOW ISOYEAR MICROSECONDS MILLENNIUM MILLISECONDS MINUTE MONTH QUARTER SECOND TIMEZONE TIMEZONE_HOUR TIMEZONE_MINUTE WEEK YEAR"}},{begin:/\b(XMLELEMENT|XMLPI)\s*\(\s*NAME/,keywords:{keyword:"NAME"}},{begin:/\b(XMLPARSE|XMLSERIALIZE)\s*\(\s*(DOCUMENT|CONTENT)/,keywords:{keyword:"DOCUMENT CONTENT"}},{beginKeywords:"CACHE INCREMENT MAXVALUE MINVALUE",end:t.C_NUMBER_RE,returnEnd:!0,keywords:"BY CACHE INCREMENT MAXVALUE MINVALUE"},{className:"type",begin:/\b(WITH|WITHOUT)\s+TIME\s+ZONE\b/},{className:"type",begin:/\bINTERVAL\s+(YEAR|MONTH|DAY|HOUR|MINUTE|SECOND)(\s+TO\s+(MONTH|HOUR|MINUTE|SECOND))?\b/},{begin:/\bRETURNS\s+(LANGUAGE_HANDLER|TRIGGER|EVENT_TRIGGER|FDW_HANDLER|INDEX_AM_HANDLER|TSM_HANDLER)\b/,keywords:{keyword:"RETURNS",type:"LANGUAGE_HANDLER TRIGGER EVENT_TRIGGER FDW_HANDLER INDEX_AM_HANDLER TSM_HANDLER"}},{begin:"\\b("+p+")\\s*\\("},{begin:"\\.("+c+")\\b"},{begin:"\\b("+c+")\\s+PATH\\b",keywords:{keyword:"PATH",type:l.replace("PATH ","")}},{className:"type",begin:"\\b("+c+")\\b"},{className:"string",begin:"'",end:"'",contains:[{begin:"''"}]},{className:"string",begin:"(e|E|u&|U&)'",end:"'",contains:[{begin:"\\\\."}],relevance:10},t.END_SAME_AS_BEGIN({begin:n,end:n,contains:[{subLanguage:["pgsql","perl","python","tcl","r","lua","java","php","ruby","bash","scheme","xml","json"],endsWithParent:!0}]}),{begin:'"',end:'"',contains:[{begin:'""'}]},t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,e,{className:"meta",variants:[{begin:"%(ROW)?TYPE",relevance:10},{begin:"\\$\\d+"},{begin:"^#\\w",end:"$"}]},{className:"symbol",begin:s,relevance:10}]}}function yFe(t){const e=t.regex,r=t.COMMENT("--","$"),n={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},s={begin:/"/,end:/"/,contains:[{match:/""/}]},i=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],a=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],m=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],f=d,p=[...c,...l].filter(C=>!d.includes(C)),E={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},g={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},T={match:e.concat(/\b/,e.either(...f),/\s*\(/),relevance:0,keywords:{built_in:f}};function S(C){return e.concat(/\b/,e.either(...C.map(x=>x.replace(/\s+/,"\\s+"))),/\b/)}const v={scope:"keyword",match:S(m),relevance:0};function N(C,{exceptions:x,when:A}={}){const b=A;return x=x||[],C.map(_=>_.match(/\|\d+$/)||x.includes(_)?_:b(_)?`${_}|0`:_)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:N(p,{when:C=>C.length<3}),literal:i,type:a,built_in:h},contains:[{scope:"type",match:S(o)},v,T,E,n,s,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,r,g]}}PA.registerLanguage("json",SFe),PA.registerLanguage("pgsql",vFe),PA.registerLanguage("sql",yFe);const os=t=>PA.highlightAuto(t).value,BY=({text:t,item:e,openCallback:r,callback:n})=>{const s=ht(k=>k.readonlyMode),i=it(k=>{if(!k.dialect)throw new Error("Dialect is not set");return k.dialect}),o=it(k=>k.schemas),a=Me(k=>k.selectedTableIds),{setSelectedTableIds:l,setCurrentPage:c,discardChanges:d}=sr(),{prepareDropEntities:h}=gn(),{createSnippet:m,selectSnippet:f}=Sn(),[p,E]=y.useState(!1),[g,T]=y.useState(!1),S=y.useMemo(()=>Object.values(o).flatMap(k=>[...Object.values(k.tables),...Object.values(k.views)]).filter(k=>a.includes(k.id)||k.id===(e==null?void 0:e.id)),[o,a,e==null?void 0:e.id]),v=S.filter(k=>k.type==="table"),N=S.filter(k=>k.type==="view"),C=v.length>1?"tables":"table",x=N.length>1?"views":"view",A=`${v.length} ${C}`,b=`${N.length} ${x}`,_=y.useMemo(()=>h(S.map(k=>({type:k.type==="table"?"table":"view",schema:k.schema,name:k.name,cascade:g}))),[g,p]),U=k=>{r==null||r(k),E(k),k||(I([]),L(null))},[j,L]=y.useState(null),[P,I]=y.useState([]),F=async()=>{L("pending");let k="success";_.execute(V=>{I(re=>[...re,{index:V,error:null}])},(V,re)=>{I(K=>[...K,{index:V,error:re}]),k="failure",ds(re,!1)}).then(()=>{L(k),k==="success"&&(l([]),U(!1),n==null||n())})},W=async()=>{const k=P.filter(({error:re})=>re).map(({index:re})=>_.statements[re]).filter(Boolean).map(re=>re.endsWith(";")?re:`${re};`).join(`
`),V=m(`Drop ${Y}`,k);f(V),c("sql-runner"),l([]),U(!1),n==null||n(),d()};y.useEffect(()=>{L(null),I([])},[g]);const Y=`${v.length>0?A:""}${v.length>0&&N.length>0?" and ":""}${N.length>0?b:""}`;return u.jsxs(Ea,{open:p,onOpenChange:U,children:[u.jsx(Sg,{asChild:!0,children:u.jsxs(Le,{variant:"ghost",size:"sm",className:"w-full justify-start p-0",onClick:k=>{k.stopPropagation()},children:[u.jsx("div",{className:"flex w-9 justify-center",children:u.jsx(LO,{className:"h-4 w-4"})}),t||"Drop"]})}),u.jsxs(Mo,{className:"text-foreground @sm:max-w-[37.5rem] flex max-h-[90%] flex-col gap-0 px-0",onMouseEnter:k=>{k.stopPropagation()},closeBtn:!1,children:[u.jsxs(tc,{className:"space-y-2 px-6 pb-6",children:[u.jsx(rc,{children:`Confirm dropping ${Y}`}),u.jsxs(vg,{children:["You are about to ",u.jsx("b",{children:"permanently"})," drop",v.length+N.length>1?" these ":" this ",v.length>0?C:"",v.length>0&&N.length>0?" and ":"",N.length>0?x:"",", including all",v.length+N.length>1?" their ":" its ","data."]})]}),i==="postgresql"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t border-dashed"}),u.jsxs("div",{className:"w-fit cursor-pointer px-6 py-3",onClick:()=>{T(!g)},children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("p",{className:"text-sm",children:"Cascade"}),u.jsx(pi,{checked:g})]}),u.jsx("p",{className:"text-muted-foreground text-xs",children:"Drop all objects in the schema and in all its sub-schemas."})]})]}),u.jsx("div",{className:"border-t border-dashed"}),u.jsxs("div",{className:"mt-6 space-y-2 overflow-auto pr-6",children:[_.statements.map((k,V)=>{const re=P.find(J=>J.index===V),K=re==null?void 0:re.error,B=K===null,X=K instanceof Error;return u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex size-12 items-center justify-center",children:B?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-green-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",strokeWidth:"0"})}):X?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-red-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z",fill:"currentColor",strokeWidth:"0"})}):j==="pending"?u.jsx(jn,{className:"size-4"}):u.jsx("div",{className:"bg-border size-3 rounded-full"})}),u.jsxs("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full flex-col items-center justify-between overflow-auto border text-sm",children:[u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable w-full whitespace-pre p-3",dangerouslySetInnerHTML:{__html:os(Ps(k,i))}}),K&&u.jsxs("div",{className:"w-full border-t py-3",children:[u.jsx("div",{className:"mb-2 px-3 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-3",children:K.message})]})]})]},V)}),u.jsx("div",{className:z("from-background sticky bottom-0 !m-0 h-2 bg-gradient-to-t",!1)})]}),u.jsxs(el,{className:"mt-12 px-6",children:[j!=="failure"&&u.jsxs(u.Fragment,{children:[u.jsx(Le,{size:"sm",variant:"outline",onClick:()=>U(!1),children:"Cancel"}),u.jsxs(Le,{size:"sm",variant:"destructive",onClick:F,isLoading:j==="pending",children:["Drop ",Y]})]}),j==="failure"&&u.jsxs(u.Fragment,{children:[u.jsx(Le,{size:"sm",variant:"outline",onClick:()=>U(!1),children:"Close"}),!s&&!0&&!0&&!0&&u.jsx(Le,{size:"sm",variant:"outline",onClick:W,children:"Open failed in SQL"})]})]})]})]})},FY=({text:t,item:e,openCallback:r,callback:n})=>{const s=ht(P=>P.readonlyMode),i=it(P=>{if(!P.dialect)throw new Error("Dialect is not set");return P.dialect}),o=it(P=>P.schemas),a=Me(P=>P.selectedTableIds),{setSelectedTableIds:l,setCurrentPage:c,discardChanges:d}=sr(),{prepareTruncateTable:h}=gn(),{createSnippet:m,selectSnippet:f}=Sn(),p=y.useMemo(()=>Object.values(o).flatMap(P=>Object.values(P.tables)).filter(P=>a.includes(P.id)||P.id===(e==null?void 0:e.id)),[o,a,e==null?void 0:e.id]),E=p.length>1?"tables":"table",g=`${p.length} ${E}`,[T,S]=y.useState(!1),[v,N]=y.useState(!1),C=y.useMemo(()=>h(p.map(P=>({schema:P.schema,name:P.name,cascade:v}))),[v,T]),x=P=>{r==null||r(P),S(P),P||(U([]),b(null))},[A,b]=y.useState(null),[_,U]=y.useState([]),j=async()=>{b("pending");let P="success";C.execute(I=>{U(F=>[...F,{index:I,error:null}])},(I,F)=>{U(W=>[...W,{index:I,error:F}]),P="failure",ds(F,!1)}).then(()=>{b(P),P==="success"&&(l([]),x(!1),n==null||n())})},L=async()=>{const P=_.filter(({error:F})=>F).map(({index:F})=>C.statements[F]).filter(Boolean).map(F=>F.endsWith(";")?F:`${F};`).join(`
`),I=m(`Truncate ${g}`,P);f(I),c("sql-runner"),l([]),x(!1),n==null||n(),d()};return y.useEffect(()=>{b(null),U([])},[v]),u.jsxs(Ea,{open:T,onOpenChange:x,children:[u.jsx(Sg,{asChild:!0,children:u.jsxs(Le,{variant:"ghost",size:"sm",className:"w-full justify-start p-0",onClick:P=>{P.stopPropagation()},children:[u.jsx("div",{className:"flex w-9 justify-center",children:u.jsx(ILe,{className:"h-4 w-4"})}),t||"Truncate"]})}),u.jsxs(Mo,{className:"text-foreground @sm:max-w-[37.5rem] flex max-h-[90%] flex-col gap-0 px-0",onMouseEnter:P=>{P.stopPropagation()},closeBtn:!1,children:[u.jsxs(tc,{className:"space-y-2 px-6 pb-6",children:[u.jsx(rc,{children:`Confirm truncation of ${g}`}),u.jsxs(vg,{children:["You are about to ",u.jsx("b",{children:"permanently"})," truncate all data in",p.length>1?" these ":" this "," ",E,"."]})]}),i==="postgresql"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t border-dashed"}),u.jsxs("div",{className:"w-fit cursor-pointer px-6 py-3",onClick:()=>{N(!v)},children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("p",{className:"text-sm",children:"Cascade"}),u.jsx(pi,{checked:v})]}),u.jsx("p",{className:"text-muted-foreground text-xs",children:"Drop all objects in the schema and in all its sub-schemas."})]})]}),u.jsx("div",{className:"border-t border-dashed"}),u.jsxs("div",{className:"mt-6 space-y-2 overflow-auto pr-6",children:[C.statements.map((P,I)=>{const F=_.find(V=>V.index===I),W=F==null?void 0:F.error,Y=W===null,k=W instanceof Error;return u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex size-12 items-center justify-center",children:Y?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-green-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",strokeWidth:"0"})}):k?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-red-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z",fill:"currentColor",strokeWidth:"0"})}):A==="pending"?u.jsx(jn,{className:"size-4"}):u.jsx("div",{className:"bg-border size-3 rounded-full"})}),u.jsxs("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full flex-col items-center justify-between overflow-auto border text-sm",children:[u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable w-full whitespace-pre p-3",dangerouslySetInnerHTML:{__html:os(Ps(P,i))}}),W&&u.jsxs("div",{className:"w-full border-t py-3",children:[u.jsx("div",{className:"mb-2 px-3 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-3",children:W.message})]})]})]},I)}),u.jsx("div",{className:z("from-background sticky bottom-0 !m-0 h-2 bg-gradient-to-t",!1)})]}),u.jsxs(el,{className:"mt-12 px-6",children:[A!=="failure"&&u.jsxs(u.Fragment,{children:[u.jsx(Le,{size:"sm",variant:"outline",onClick:()=>x(!1),children:"Cancel"}),u.jsxs(Le,{size:"sm",variant:"destructive",onClick:j,isLoading:A==="pending",children:["Truncate ",g]})]}),A==="failure"&&u.jsxs(u.Fragment,{children:[u.jsx(Le,{size:"sm",variant:"outline",onClick:()=>x(!1),children:"Close"}),!s&&!0&&!0&&!0&&u.jsx(Le,{size:"sm",variant:"outline",onClick:L,children:"Open failed in SQL"})]})]})]})]})};function AFe(t){const r=[{suffix:"T",length:12,threshold:1e12,precision:2},{suffix:"B",length:11,threshold:1e9,precision:0},{suffix:"B",length:10,threshold:1e9,precision:1},{suffix:"B",length:9,threshold:1e9,precision:2},{suffix:"M",length:8,threshold:1e6,precision:0},{suffix:"M",length:7,threshold:1e6,precision:1},{suffix:"M",length:6,threshold:1e6,precision:2},{suffix:"K",length:5,threshold:1e3,precision:0},{suffix:"K",length:4,threshold:1e3,precision:1},{suffix:"K",length:3,threshold:1e3,precision:2},{suffix:"",length:1,threshold:1,precision:0}].find(n=>t.toString().length>n.length);return r?(t/r.threshold).toFixed(r.precision)+r.suffix:t}const HY=({className:t,item:e,setOpen:r,open:n,type:s})=>{const i=ht(N=>N.readonlyMode),o=ht(N=>N.schemaReadonlyMode),a=it(N=>N.schemas),l=Me(N=>N.tab),c=Me(N=>{var C;return(C=N.currentTable)==null?void 0:C.id}),d=Me(N=>N.selectedTableIds),{setCurrentTable:h,setTab:m,setCurrentPage:f}=sr(),p=a[e.schema],E=(p==null?void 0:p.tables[e.name])||(p==null?void 0:p.views[e.name]),g=E==null?void 0:E.rowsCount,T=g==null?void 0:g.toString().length,[S,v]=y.useState(!1);return u.jsxs(Bs,{onOpenChange:N=>{r(N)},open:n,children:[u.jsx(br,{delayDuration:0,children:u.jsxs(Cr,{children:[u.jsx(xr,{asChild:!0,children:u.jsxs("div",{className:z("grid place-items-center",t),children:[typeof g=="number"&&typeof T=="number"&&u.jsx("p",{className:z("grid-area-1-1 max-w-[5ch] truncate text-xs font-normal leading-8 opacity-100",d.length===0&&"group-hover/item:collapse group-hover/item:!opacity-0",n&&"collapse !opacity-0"),children:AFe(g)}),u.jsx(Fs,{asChild:!0,children:u.jsx(Le,{className:z("grid-area-1-1 h-5 w-6 justify-self-end p-0 opacity-0 hover:bg-transparent",d.length===0&&"group-hover/item:!opacity-100",n&&"opacity-100"),size:"sm",variant:"ghost",onFocus:N=>{N.stopPropagation(),N.preventDefault()},"aria-label":"Table options",children:u.jsx(Yf,{className:"h-4 w-4"})})})]})}),typeof g=="number"&&g.toString().length>3&&u.jsx(vr,{align:"center",className:"text-muted-foreground z-10 p-0 px-1 text-xs font-normal leading-5",children:u.jsxs("p",{children:[g," ",g===1?"row":"rows"]})})]})}),u.jsxs(As,{align:"start",className:z("w-[12.5rem] p-2",S&&"hidden"),onClick:N=>{N.stopPropagation(),N.preventDefault()},children:[u.jsxs(Le,{variant:"ghost",size:"sm",className:"w-full justify-start p-0",onClick:()=>{f("main"),c!==e.id&&h(e),l!=="content"&&m("content"),r(!1)},children:[u.jsx("div",{className:"flex w-9 justify-center",children:u.jsx(_O,{className:"h-4 w-4"})}),"Browse data"]}),u.jsxs(Le,{variant:"ghost",size:"sm",className:"w-full justify-start p-0",onClick:()=>{f("main"),c!==e.id&&h(e),l!=="structure"&&m("structure"),r(!1)},children:[u.jsx("div",{className:"flex w-9 justify-center",children:u.jsx(df,{className:"h-4 w-4"})}),!i&&!o?s==="table"?"Alter table":"Alter view":"Browse structure"]}),!i&&!o&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"my-1 border-b border-dashed"}),s==="table"&&u.jsx(FY,{text:"Truncate",item:e,callback:()=>{rt("sidebar_truncate_table")},openCallback:N=>{N?v(!0):(r(!1),v(!1))}}),u.jsx(BY,{text:"Drop",item:e,callback:()=>{rt(s==="table"?"sidebar_drop_table":"sidebar_drop_view")},openCallback:N=>{N?v(!0):(r(!1),v(!1))}})]})]})]})},RFe=({item:t,onChoose:e})=>{const r=ht(v=>v.readonlyMode),n=ht(v=>v.schemaReadonlyMode),s=ht(v=>v.expandSubviews),i=ht(v=>v.flatSchemas),o=Me(v=>v.selectedTableIds),a=Me(v=>{var N;return(N=v.currentTable)==null?void 0:N.id}),l=Me(v=>{var N;return(N=v.currentTable)==null?void 0:N.schema}),c=Me(v=>{var N;return(N=v.currentTable)==null?void 0:N.name}),d=Me(v=>v.currentPage),h=Me(v=>v.filterViews),{setSelectedTableIds:m}=sr(),[f,p]=y.useState(!1),E=`${t.schema}.${t.name}`,g=(h[E]||[]).findIndex(v=>v.id===a),T=h[E]||[],S=(d==="main"&&E===`${l}.${c}`||s)&&o.length===0&&T.length>0;return u.jsxs("div",{children:[u.jsxs("div",{className:z("bg-sidebar-list-item text-sidebar-list-item-text hover:text-sidebar-list-item-text-hover hover:bg-sidebar-list-item-hover group/item relative flex cursor-pointer items-center rounded-md pl-3 text-sm",!1,d==="main"&&a===t.id&&o.length===0&&"text-sidebar-list-item-active-text hover:text-sidebar-list-item-active-text-hover bg-sidebar-list-item-active hover:bg-sidebar-list-item-active-hover font-semibold"),onClick:()=>{if(o.length>0){const v=o.includes(t.id)?o.filter(N=>N!==t.id):[...o,t.id];m(v)}else rt("sidebar_open_table",t.name),e(t)},children:[(d==="main"&&g!==-1||s)&&o.length===0&&T.length>0&&u.jsx(T2,{className:z("text-sidebar-list-subview-arrow-active absolute left-2",g===-1&&"text-sidebar-list-subview-arrow")}),u.jsxs("div",{className:"grid place-items-center",children:[u.jsx(gz,{className:z("grid-area-1-1")}),!r&&!n&&u.jsx(Po,{className:z("grid-area-1-1 !bg-background size-3.5 border-current opacity-0 hover:opacity-100",o.length>0&&"!opacity-100"),checked:o.includes(t.id),onClick:v=>{const N=o.includes(t.id)?o.filter(C=>C!==t.id):[...o,t.id];m(N),v.stopPropagation(),v.preventDefault()}})]}),u.jsxs("div",{className:"ml-2 flex min-w-[0] max-w-fit grow select-none justify-between pr-3 leading-8",children:[u.jsx("p",{className:z("truncate"),children:i&&t.schema!=="public"?`${t.schema}.${t.name}`:t.name}),u.jsx(HY,{className:"ml-3",type:"table",item:t,open:f,setOpen:p})]})]}),S&&u.jsx("div",{className:"flex flex-col",children:T.map((v,N)=>u.jsx(fY,{item:t,view:v,index:N,onChoose:e,currentFilterViewIndex:g,count:T.length},v.id))})]},t.id)},NFe=({item:t,onChoose:e,pullError:r})=>{const n=ht(x=>x.readonlyMode),s=ht(x=>x.schemaReadonlyMode),i=ht(x=>x.expandSubviews),o=ht(x=>x.flatSchemas),a=Me(x=>x.selectedTableIds),l=Me(x=>{var A;return(A=x.currentTable)==null?void 0:A.id}),c=Me(x=>{var A;return(A=x.currentTable)==null?void 0:A.schema}),d=Me(x=>{var A;return(A=x.currentTable)==null?void 0:A.name}),h=Me(x=>x.currentPage),m=Me(x=>x.filterViews),{setSelectedTableIds:f}=sr(),[p,E]=y.useState(!1),[g,T]=y.useState(!1),S=`${t.schema}.${t.name}`,v=(m[S]||[]).findIndex(x=>x.id===l),N=m[S]||[],C=(h==="main"&&S===`${c}.${d}`||i)&&a.length===0&&N.length>0;return u.jsxs("div",{children:[u.jsxs("div",{id:"table-list-item",className:z("bg-sidebar-list-item text-sidebar-list-item-text hover:text-sidebar-list-item-text-hover hover:bg-sidebar-list-item-hover group/item relative flex cursor-pointer items-center rounded-md pl-3 text-sm",h==="main"&&l===t.id&&a.length===0&&"text-sidebar-list-item-active-text hover:text-sidebar-list-item-active-text-hover bg-sidebar-list-item-active hover:bg-sidebar-list-item-active-hover font-semibold"),onClick:()=>{if(a.length>0){const x=a.includes(t.id)?a.filter(A=>A!==t.id):[...a,t.id];f(x)}else rt("sidebar_open_view"),e(t)},onMouseOver:x=>{x.target.closest("#table-list-item")&&E(!0)},onMouseOut:()=>E(!1),children:[(h==="main"&&v!==-1||i)&&a.length===0&&N.length>0&&u.jsx(T2,{className:z("text-sidebar-list-subview-arrow-active absolute left-2",v===-1&&"text-sidebar-list-subview-arrow")}),u.jsxs("div",{className:"grid place-items-center",children:[u.jsx(d0,{className:z("grid-area-1-1 size-4")}),!n&&!s&&u.jsx(Po,{className:z("grid-area-1-1 !bg-background size-3.5 border-current opacity-0",(p||a.length>0)&&"!opacity-100"),checked:a.includes(t.id),onClick:x=>{const A=a.includes(t.id)?a.filter(b=>b!==t.id):[...a,t.id];f(A),x.stopPropagation(),x.preventDefault()}})]}),u.jsxs("div",{className:"ml-2 flex min-w-[0] max-w-fit grow select-none justify-between pr-3 leading-8",children:[u.jsx("p",{className:z("truncate"),children:o&&t.schema!=="public"?`${t.schema}.${t.name}`:t.name}),u.jsxs("div",{className:"ml-3 flex items-center gap-1",children:[r&&u.jsx(MLe,{className:"text-destructive size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx(HY,{type:"view",item:t,open:g,setOpen:T})]})]})]}),C&&u.jsx("div",{className:"flex flex-col",children:N.map((x,A)=>u.jsx(fY,{item:t,view:x,index:A,onChoose:e,currentFilterViewIndex:v,count:N.length},x.id))})]},t.id)},bFe=({items:t,searchTable:e,types:r})=>{const n=it(m=>{if(!m.dialect)throw new Error("Dialect not found");return m.dialect}),s=it(m=>m.schemas),i=Me(m=>m.currentSchemaName),o=Me(m=>{var f;return(f=m.currentTable)==null?void 0:f.id}),{setCurrentTable:a,setCurrentPage:l}=sr(),c=it(m=>m.isPulling),d=y.useMemo(()=>t.filter(m=>r.includes(m.type)).filter(m=>m.schema.toLocaleLowerCase().includes(e.toLocaleLowerCase())||m.name.toLocaleLowerCase().includes(e.toLocaleLowerCase())),[t,e]),h=m=>{if(m.id===o){l("main");return}Hr(()=>{a(m),l("main")})};return c?u.jsx("div",{className:"mt-[3.125rem] flex items-center justify-center",children:u.jsx("slot",{name:"sidebar-loader",children:u.jsx(jn,{})})}):Object.keys(s).length===0?u.jsx("div",{className:"text-muted-foreground bg-muted m-3 border p-3 text-center text-xs",children:"No schemas found"}):t.length===0?i?u.jsx("div",{className:"text-muted-foreground bg-muted m-3 border p-3 text-center text-xs",children:n==="postgresql"?`0 tables in ${i} schema`:"No items in database"}):u.jsx("div",{className:"text-muted-foreground bg-muted m-3 border p-3 text-center text-xs",children:"No schema selected"}):d.length===0?u.jsx("div",{className:"text-muted-foreground bg-muted m-3 border p-3 text-center text-xs",children:"No tables found"}):u.jsx("div",{className:"flex h-full flex-col justify-between overflow-y-auto px-3",children:u.jsxs("div",{className:"space-y-0.5",children:[u.jsx("div",{className:z("from-background sticky top-0 h-2 bg-gradient-to-b",!1)}),d.map(m=>{const f={id:m.id,type:m.type,name:m.name,schema:m.schema,createdRecords:[],editedFields:[],filters:[],pagination:{limit:50,offset:0},records:[],sort:null,columnSettings:{}};return m.type==="table"?u.jsx(RFe,{item:f,onChoose:h},m.id):u.jsx(NFe,{item:f,onChoose:h,pullError:m.pullError},m.id)}),u.jsx("div",{className:z("from-background sticky bottom-0 h-2 bg-gradient-to-t",!1)})]})})},CFe=({schemaName:t})=>{const e=ht(N=>N.readonlyMode),r=it(N=>{if(!N.dialect)throw new Error("Dialect not found");return N.dialect}),{setCurrentPage:n,discardChanges:s}=sr(),{prepareDropSchema:i}=gn(),{createSnippet:o,selectSnippet:a}=Sn(),[l,c]=y.useState(!1),[d,h]=y.useState(!1),m=y.useMemo(()=>i({name:t,cascade:d}),[t,d]),[f,p]=y.useState(null),[E,g]=y.useState(),T=()=>{p("pending"),m.execute().then(()=>{p("success"),c(!1)}).catch(N=>{p("failure"),g(N),ds(N,!1)})},S=async()=>{const N=o(`Drop ${t} schema`,m.statement.endsWith(";")?m.statement:`${m.statement};`);a(N),n("sql-runner"),v(!1),s()},v=N=>{c(N),N||(g(null),p(null))};return y.useEffect(()=>{p(null),g(null)},[d]),u.jsxs(Ea,{open:l,onOpenChange:v,children:[u.jsx(Sg,{children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(LO,{className:"mr-2 size-4"}),"Drop schema"]})}),u.jsxs(Mo,{className:"text-foreground @sm:max-w-[37.5rem] flex max-h-[90%] flex-col gap-0 px-0",onMouseEnter:N=>{N.stopPropagation()},closeBtn:!1,children:[u.jsxs(tc,{className:"space-y-2 px-6 pb-6",children:[u.jsx(rc,{children:"Confirm dropping schema"}),u.jsxs(vg,{children:["You are about to ",u.jsx("b",{children:"permanently"})," drop the schema"," ",u.jsx("span",{className:"bg-button-outline-hover border-button-outline-border rounded-md border px-1 font-mono",children:t}),", including all its data."]})]}),r==="postgresql"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t border-dashed"}),u.jsxs("div",{className:"w-fit cursor-pointer px-6 py-3",onClick:()=>{h(!d)},children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("p",{className:"text-sm",children:"Cascade"}),u.jsx(pi,{checked:d})]}),u.jsx("p",{className:"text-muted-foreground text-xs",children:"Drop all objects in the schema and in all its sub-schemas."})]})]}),u.jsx("div",{className:"border-t border-dashed"}),u.jsxs("div",{className:"mt-6 flex pr-6",children:[u.jsx("div",{className:"flex size-12 items-center justify-center",children:f==="success"?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-green-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",strokeWidth:"0"})}):f==="failure"?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-red-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z",fill:"currentColor",strokeWidth:"0"})}):f==="pending"?u.jsx(jn,{className:"size-4"}):u.jsx("div",{className:"bg-border size-3 rounded-full"})}),u.jsxs("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full flex-col items-center justify-between overflow-auto border text-sm",children:[u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable w-full whitespace-pre p-3",dangerouslySetInnerHTML:{__html:os(Ps(m.statement,r))}}),E&&u.jsxs("div",{className:"w-full border-t py-3",children:[u.jsx("div",{className:"mb-2 px-3 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-3",children:E.message})]})]})]}),u.jsxs(el,{className:"mt-12 px-6",children:[f!=="failure"&&u.jsxs(u.Fragment,{children:[u.jsx(Le,{size:"sm",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),u.jsx(Le,{size:"sm",variant:"destructive",onClick:T,isLoading:f==="pending",children:"Drop schema"})]}),f==="failure"&&u.jsxs(u.Fragment,{children:[u.jsx(Le,{size:"sm",variant:"outline",onClick:()=>v(!1),children:"Close"}),!e&&!0&&!0&&!0&&u.jsx(Le,{variant:"outline",size:"sm",onClick:S,children:"Open failed in SQL"})]})]})]})]})},xFe=()=>{const t=ht(m=>m.readonlyMode),e=ht(m=>m.schemaReadonlyMode),r=it(m=>m.schemas),n=it(m=>m.isPulling),s=Me(m=>m.currentSchemaName),{setCurrentSchemaName:i,setCurrentTable:o,setCurrentPage:a}=sr(),[l,c]=y.useState(!1),[d,h]=y.useState();return y.useEffect(()=>{l||h(void 0)},[l]),u.jsx(_n,{className:z("h-10 w-full p-3 pr-2 text-sm",!1,!1),open:l,disabled:n,onOpenChange:c,value:s||void 0,options:Object.keys(r),optionLabel:m=>u.jsxs("div",{className:"flex w-full justify-between",children:[u.jsx("span",{children:m}),!t&&!e&&u.jsxs(Bs,{open:d===m,onOpenChange:f=>{h(f?m:void 0)},children:[u.jsx(Fs,{asChild:!0,children:u.jsx(Le,{variant:"ghost",isActive:d===m,className:z("invisible size-5 p-0 group-hover/item:visible",d===m&&"visible"),onClick:f=>{f.stopPropagation(),f.preventDefault()},"aria-label":"Open schema options",children:u.jsx(Yf,{className:"max-h-3.5 max-w-[0.875rem]"})})}),u.jsxs(As,{className:"p-2",onClick:f=>{f.stopPropagation(),f.preventDefault()},children:[u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:f=>{f.stopPropagation(),i(m),a("alter-schema")},children:[u.jsx(df,{className:"mr-2 size-4"}),"Alter schema"]}),u.jsx(zt,{className:"h-9 cursor-pointer",onClick:f=>{f.preventDefault(),f.stopPropagation()},children:u.jsx(CFe,{schemaName:m})})]})]})]}),optionValue:m=>m,onChange:m=>{m!==s&&(rt("sidebar_select_schema"),i(m),o(null))},popoverContentProps:{align:"center",collisionPadding:11},label:u.jsxs("div",{className:"flex min-w-[0] items-center",children:[u.jsx("span",{className:"text-input-placeholder mr-1",children:"schema:"}),u.jsx("span",{className:"text-accent-foreground truncate",children:s})]}),icon:null})};var $Y=["PageUp","PageDown"],GY=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],VY={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},fm="Slider",[N2,wFe,OFe]=ig(fm),[zY,vst]=fi(fm,[OFe]),[IFe,kA]=zY(fm),WY=y.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:d,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:f=!1,form:p,...E}=t,g=y.useRef(new Set),T=y.useRef(0),v=o==="horizontal"?_Fe:LFe,[N=[],C]=Do({prop:d,defaultProp:c,onChange:j=>{var P;(P=[...g.current][T.current])==null||P.focus(),h(j)}}),x=y.useRef(N);function A(j){const L=UFe(N,j);U(j,L)}function b(j){U(j,T.current)}function _(){const j=x.current[T.current];N[T.current]!==j&&m(N)}function U(j,L,{commit:P}={commit:!1}){const I=HFe(i),F=$Fe(Math.round((j-n)/i)*i+n,I),W=_g(F,[n,s]);C((Y=[])=>{const k=PFe(Y,W,L);if(FFe(k,l*i)){T.current=k.indexOf(W);const V=String(k)!==String(Y);return V&&P&&m(k),V?k:Y}else return Y})}return u.jsx(IFe,{scope:t.__scopeSlider,name:r,disabled:a,min:n,max:s,valueIndexToChangeRef:T,thumbs:g.current,values:N,orientation:o,form:p,children:u.jsx(N2.Provider,{scope:t.__scopeSlider,children:u.jsx(N2.Slot,{scope:t.__scopeSlider,children:u.jsx(v,{"aria-disabled":a,"data-disabled":a?"":void 0,...E,ref:e,onPointerDown:tt(E.onPointerDown,()=>{a||(x.current=N)}),min:n,max:s,inverted:f,onSlideStart:a?void 0:A,onSlideMove:a?void 0:b,onSlideEnd:a?void 0:_,onHomeKeyDown:()=>!a&&U(n,0,{commit:!0}),onEndKeyDown:()=>!a&&U(s,N.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:L})=>{if(!a){const F=$Y.includes(j.key)||j.shiftKey&&GY.includes(j.key)?10:1,W=T.current,Y=N[W],k=i*F*L;U(Y+k,W,{commit:!0})}}})})})})});WY.displayName=fm;var[YY,qY]=zY(fm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_Fe=y.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=t,[h,m]=y.useState(null),f=Ht(e,v=>m(v)),p=y.useRef(void 0),E=lm(s),g=E==="ltr",T=g&&!i||!g&&i;function S(v){const N=p.current||h.getBoundingClientRect(),C=[0,N.width],A=x2(C,T?[r,n]:[n,r]);return p.current=N,A(v-N.left)}return u.jsx(YY,{scope:t.__scopeSlider,startEdge:T?"left":"right",endEdge:T?"right":"left",direction:T?1:-1,size:"width",children:u.jsx(KY,{dir:E,"data-orientation":"horizontal",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const N=S(v.clientX);o==null||o(N)},onSlideMove:v=>{const N=S(v.clientX);a==null||a(N)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:v=>{const C=VY[T?"from-left":"from-right"].includes(v.key);c==null||c({event:v,direction:C?-1:1})}})})}),LFe=y.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,d=y.useRef(null),h=Ht(e,d),m=y.useRef(void 0),f=!s;function p(E){const g=m.current||d.current.getBoundingClientRect(),T=[0,g.height],v=x2(T,f?[n,r]:[r,n]);return m.current=g,v(E-g.top)}return u.jsx(YY,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:u.jsx(KY,{"data-orientation":"vertical",...c,ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:E=>{const g=p(E.clientY);i==null||i(g)},onSlideMove:E=>{const g=p(E.clientY);o==null||o(g)},onSlideEnd:()=>{m.current=void 0,a==null||a()},onStepKeyDown:E=>{const T=VY[f?"from-bottom":"from-top"].includes(E.key);l==null||l({event:E,direction:T?-1:1})}})})}),KY=y.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,d=kA(fm,r);return u.jsx(Et.span,{...c,ref:e,onKeyDown:tt(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):$Y.concat(GY).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:tt(t.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(m)?m.focus():n(h)}),onPointerMove:tt(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:tt(t.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),i(h))})})}),XY="SliderTrack",QY=y.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=kA(XY,r);return u.jsx(Et.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});QY.displayName=XY;var b2="SliderRange",JY=y.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=kA(b2,r),i=qY(b2,r),o=y.useRef(null),a=Ht(e,o),l=s.values.length,c=s.values.map(m=>tq(m,s.min,s.max)),d=l>1?Math.min(...c):0,h=100-Math.max(...c);return u.jsx(Et.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:a,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});JY.displayName=b2;var C2="SliderThumb",ZY=y.forwardRef((t,e)=>{const r=wFe(t.__scopeSlider),[n,s]=y.useState(null),i=Ht(e,a=>s(a)),o=y.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return u.jsx(DFe,{...t,ref:i,index:o})}),DFe=y.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...i}=t,o=kA(C2,r),a=qY(C2,r),[l,c]=y.useState(null),d=Ht(e,S=>c(S)),h=l?o.form||!!l.closest("form"):!0,m=zy(l),f=o.values[n],p=f===void 0?0:tq(f,o.min,o.max),E=kFe(n,o.values.length),g=m==null?void 0:m[a.size],T=g?jFe(g,p,a.direction):0;return y.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${p}% + ${T}px)`},children:[u.jsx(N2.ItemSlot,{scope:t.__scopeSlider,children:u.jsx(Et.span,{role:"slider","aria-label":t["aria-label"]||E,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:f===void 0?{display:"none"}:t.style,onFocus:tt(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),h&&u.jsx(eq,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},n)]})});ZY.displayName=C2;var MFe="RadioBubbleInput",eq=y.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const s=y.useRef(null),i=Ht(s,n),o=EA(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("input",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[o,e]),u.jsx(Et.input,{style:{display:"none"},...r,ref:i,defaultValue:e})});eq.displayName=MFe;function PFe(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,i)=>s-i)}function tq(t,e,r){const i=100/(r-e)*(t-e);return _g(i,[0,100])}function kFe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function UFe(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function jFe(t,e,r){const n=t/2,i=x2([0,50],[0,n]);return(n-i(e)*r)*r}function BFe(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function FFe(t,e){if(e>0){const r=BFe(t);return Math.min(...r)>=e}return!0}function x2(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function HFe(t){return(String(t).split(".")[1]||"").length}function $Fe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var rq=WY,GFe=QY,VFe=JY,zFe=ZY;function WFe(t,e,r){const i=100/(r-e)*(t-e);return KSe(0,100)(i)}function YFe(t,e){return r=>{const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function qFe(t,e){const r=t/2,s=YFe([0,50],[0,r]);return r-s(e)}const nq=y.forwardRef(({className:t,...e},r)=>{var l;const n=e.max||0,s=e.min||0,i=e.step||1,o=Array.from({length:Math.floor((n-s)/i)+1},(c,d)=>s+d*i),a=((l=e.value)==null?void 0:l[0])||0;return u.jsxs(rq,{ref:r,className:z("relative flex w-full touch-none select-none items-center px-2",t),...e,children:[u.jsx(GFe,{className:"bg-muted relative h-1 w-full grow overflow-hidden rounded-full",children:u.jsx(VFe,{className:"absolute h-full",style:{background:"color-mix(in srgb, var(--muted), var(--primary) 10%)"}})}),o.map(c=>{const d=WFe(c,s,n),h=qFe(14,d);return u.jsx("div",{className:z("absolute top-1/2 h-1 w-1 -translate-x-1/2 -translate-y-1/2 rounded-full"),style:{left:`calc(${d}% + ${h}px)`,background:c<=a?"color-mix(in srgb, var(--muted), var(--primary) 25%)":"color-mix(in srgb, var(--muted), var(--primary) 10%)"}},c)}),u.jsx(zFe,{className:"bg-primary block h-3.5 w-3.5 rounded-full transition-colors disabled:pointer-events-none disabled:opacity-50"})]})});nq.displayName=rq.displayName;const sq=({isOnlyTables:t,isOnlySqlConsole:e})=>{const{isSettingsOpen:r,setIsSettingsOpen:n,showCounts:s,setShowCounts:i,dataFormats:o,flatSchemas:a,setFlatSchemas:l,expandSubviews:c,setExpandSubviews:d,setDataFormats:h,paginationType:m,setPaginationType:f}=ht(({isSettingsOpen:_,setIsSettingsOpen:U,showCounts:j,dataFormats:L,setShowCounts:P,flatSchemas:I,setFlatSchemas:F,expandSubviews:W,setExpandSubviews:Y,setDataFormats:k,paginationType:V,setPaginationType:re})=>({isSettingsOpen:_,setIsSettingsOpen:U,showCounts:j,dataFormats:L,setShowCounts:P,flatSchemas:I,setFlatSchemas:F,expandSubviews:W,setExpandSubviews:Y,setDataFormats:k,paginationType:V,setPaginationType:re})),{pullCounts:p,removeCounts:E}=gn(),g=it(_=>_.dialect),T=Vn(_=>_.keybindings),S=Vn(_=>_.fontSize),{setKeybindings:v,setFontSize:N}=Sn(),[C,x]=y.useState(!1),A=(o==null?void 0:o.bytea)||"hex",b=_=>{A!==_&&(rt("settings_toggle_bytea_as_utf8"),h({...o,bytea:_}))};return u.jsxs(am,{open:r,onOpenChange:_=>{rt("sidebar_toggle_settings"),n(_)},children:[u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,onFocus:_=>{_.preventDefault()},children:u.jsx(ZL,{asChild:!0,children:u.jsx(Le,{className:z("h-9 min-w-[2.25rem] items-center justify-center p-0",!1),isActive:r,variant:"outline",size:"sm","aria-label":"Settings",children:u.jsx(p6,{className:"size-4",absoluteStrokeWidth:!0,strokeWidth:1.25})})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",align:"start",collisionPadding:12,children:"Settings"})]})}),u.jsxs(zd,{align:"start",className:"p-3",children:[!e&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("p",{className:"text-sm",children:"Table rows count"}),u.jsx(pi,{checked:s,onCheckedChange:_=>{rt("settings_toggle_show_counts"),i(_),_?p():E()}})]}),u.jsxs("p",{className:"text-muted-foreground text-xs",children:["Beware ",u.jsx("code",{children:"count(*)"})," operation performs light scan of the table which can be both slow and billed by serverless databases for row reads"]})]}),!e&&u.jsxs("div",{className:"mt-3",children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("p",{className:"text-sm",children:"Expand subviews"}),u.jsx(pi,{checked:c,onCheckedChange:_=>{rt("settings_toggle_expand_subviews"),d(_)}})]}),u.jsx("p",{className:"text-muted-foreground text-xs",children:"Always keep subviews visible"})]}),!e&&u.jsxs("div",{className:"mt-3",children:[u.jsx("div",{className:"flex items-center gap-1 text-sm",children:"Pagination type"}),u.jsxs("div",{className:"text-muted-foreground mt-1 w-fit gap-1 text-xs",children:[u.jsxs("div",{className:"flex h-5 cursor-pointer items-center gap-1",onClick:()=>{rt("settings_toggle_limit_offset_pagination_type"),f("limit-offset")},children:[u.jsx("p",{className:"text-[0.625rem] uppercase",children:"limit offset"}),m==="limit-offset"&&u.jsx(Va,{className:"size-4"})]}),u.jsxs("div",{className:"flex h-5 cursor-pointer items-center gap-1",onClick:()=>{rt("settings_toggle_pages_pagination_type"),f("pages")},children:[u.jsx("p",{className:"text-[0.625rem] uppercase",children:"pages"}),m==="pages"&&u.jsx(Va,{className:"size-4"})]})]})]}),!e&&(g==="postgresql"||g==="duckdb")&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mt-3",children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("p",{className:"text-sm",children:"Flat schemas"}),u.jsx(pi,{checked:a,onCheckedChange:_=>{rt("settings_toggle_flat_schemas"),l(_)}})]}),u.jsx("p",{className:"text-muted-foreground text-xs",children:"Show tables without grouping by schema"})]}),u.jsx("div",{className:"mt-3 border-t border-dashed"}),u.jsxs("div",{className:"mt-3",children:[u.jsx("div",{className:"flex items-center gap-1 text-sm",children:"Show bytea as"}),u.jsxs("div",{className:"text-muted-foreground mt-1 grid w-fit grid-cols-[1fr_auto] gap-1 text-xs",children:[u.jsxs("div",{className:"col-span-4 grid cursor-pointer grid-cols-subgrid items-center",onClick:()=>b("hex"),children:[u.jsx("p",{className:"text-[0.625rem] uppercase",children:"hex"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("code",{className:"bg-button-outline-hover border-button-outline-border rounded-md border px-1",children:"\\x69643A3130303031"}),u.jsx("div",{children:A==="hex"&&u.jsx(Va,{className:"size-4"})})]})]}),u.jsxs("div",{className:"col-span-4 grid cursor-pointer grid-cols-subgrid items-center",onClick:()=>b("utf8"),children:[u.jsx("p",{className:"text-[0.625rem] uppercase",children:"utf8"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("code",{className:"bg-button-outline-hover border-button-outline-border w-fit rounded-md border px-1",children:"id:10001"}),u.jsx("div",{children:A==="utf8"&&u.jsx(Va,{className:"size-4"})})]})]})]})]})]}),!t&&u.jsxs(u.Fragment,{children:[!e&&u.jsx("div",{className:"mb-3 mt-3 border-t border-dashed"}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[u.jsx("span",{children:"Editor font size:"}),u.jsxs("code",{className:"bg-button-outline-hover border-button-outline-border w-fit rounded-md border px-1 text-xs",children:[S,"px"]})]}),u.jsxs("div",{className:"mt-3 flex h-3.5 items-center gap-1",children:[u.jsx("span",{className:"text-[0.625rem]",children:"A"}),u.jsx(nq,{min:12,max:20,step:1,value:[S],onValueChange:_=>{N(_[0])}}),u.jsx("span",{children:"A"})]})]}),u.jsx("div",{onPointerEnter:()=>x(!0),onPointerLeave:()=>x(!1),children:u.jsxs(am,{open:C,children:[u.jsxs(ZL,{className:"mt-5 flex w-full cursor-pointer flex-col items-start text-sm",children:[u.jsx("div",{children:"Editor keybindings"}),u.jsx("div",{className:"text-muted-foreground text-xs",children:{vscode:"VS Code",vim:"Vim",emacs:"Emacs"}[T]})]}),u.jsx(zd,{align:"end",side:"right",className:"h-fit w-fit rounded-none border-none bg-transparent p-0 pl-5 shadow-none",sideOffset:0,collisionPadding:12,alignOffset:-12,children:u.jsxs("div",{className:"bg-popover flex w-fit min-w-[12.5rem] flex-col rounded-md border p-2 shadow-md",children:[u.jsxs(Le,{variant:"ghost",size:"sm",className:"h-[2.375rem] justify-start",onClick:()=>v("vscode"),children:[u.jsxs("div",{className:"flex flex-col gap-0.5",children:[u.jsx("div",{className:"w-fit text-sm leading-[0.875rem]",children:"VS Code"}),u.jsx("a",{className:"text-muted-foreground hover:!text-button-outline-text-hover h-fit p-0 text-[0.625rem] leading-[0.625rem] underline-offset-4 hover:underline",href:"https://code.visualstudio.com/shortcuts/keyboard-shortcuts-windows.pdf",target:"_blank",rel:"noreferrer",children:"Cheat Sheet"})]}),T==="vscode"&&u.jsx(Va,{className:"ml-auto size-4",strokeWidth:1.25,absoluteStrokeWidth:!0})]}),u.jsxs(Le,{variant:"ghost",size:"sm",className:"h-[2.375rem] justify-start",onClick:()=>v("vim"),children:[u.jsxs("div",{className:"flex flex-col gap-0.5",children:[u.jsx("div",{className:"w-fit text-sm leading-[0.875rem]",children:"Vim"}),u.jsx("a",{className:"text-muted-foreground hover:!text-button-outline-text-hover h-fit p-0 text-[0.625rem] leading-[0.625rem] underline-offset-4 hover:underline",href:"https://vim.rtorr.com",target:"_blank",rel:"noreferrer",children:"Cheat Sheet"})]}),T==="vim"&&u.jsx(Va,{className:"ml-auto size-4",strokeWidth:1.25,absoluteStrokeWidth:!0})]}),u.jsxs(Le,{variant:"ghost",size:"sm",className:"h-[2.375rem] justify-start",onClick:()=>v("emacs"),children:[u.jsxs("div",{className:"flex flex-col gap-0.5",children:[u.jsx("div",{className:"w-fit text-sm leading-[0.875rem]",children:"Emacs"}),u.jsx("a",{className:"text-muted-foreground hover:!text-button-outline-text-hover h-fit p-0 text-[0.625rem] leading-[0.625rem] underline-offset-4 hover:underline",href:"https://www.gnu.org/software/emacs/refcards/pdf/refcard.pdf",target:"_blank",rel:"noreferrer",children:"Cheat Sheet"})]}),T==="emacs"&&u.jsx(Va,{className:"ml-auto size-4",strokeWidth:1.25,absoluteStrokeWidth:!0})]})]})})]})})]}),!1]})]})},w2=268,KFe=w2*2,UA={postgresql:[{label:"Show tables",value:"table"},{label:"Show views",value:"view"},{label:"Show materialized views",value:"mat_view"}],mysql:[{label:"Show tables",value:"table"},{label:"Show views",value:"view"}],singlestore:[{label:"Show tables",value:"table"},{label:"Show views",value:"view"}],sqlite:[{label:"Show tables",value:"table"},{label:"Show views",value:"view"}],duckdb:[{label:"Show tables",value:"table"},{label:"Show views",value:"view"}]},XFe=({isSeparate:t,CustomTopPanel:e,CustomTopButtons:r,CustomBottomButtons:n,CustomBottomPanel:s,setIsResizing:i,isResizing:o})=>{const a=ht(K=>K.readonlyMode),l=ht(K=>K.schemaReadonlyMode);ht(K=>K.hasNewNotification);const c=ht(K=>K.flatSchemas),d=it(({dialect:K})=>{if(!K)throw new Error("dialect is not set");return K}),h=it(K=>K.schemas),m=it(K=>K.isPulling),f=Me(K=>K.selectedTableIds),p=Me(K=>K.currentPage==="main"?K.isSidebarOpen||!K.currentTable:K.isSidebarOpen),E=Me(K=>K.currentPage==="main"?K.isShowSidebarContent||!K.currentTable:K.isShowSidebarContent),g=Me(K=>K.currentPage),T=Me(K=>K.currentSchemaName),S=Me(K=>K.currentTable),v=Me(K=>K.sidebarWidth),{setSelectedTableIds:N,setCurrentPage:C,setSidebarWidth:x,toggleSidebarOpen:A,fetchRecords:b}=sr(),_=ht(K=>K.setSpotlightOpen),{pull:U}=gn(),[j,L]=y.useState(""),P=y.useRef(null),[I,F]=y.useState(v),[W,Y]=y.useState(UA[d].map(K=>K.value)),k=navigator.platform.toUpperCase().indexOf("MAC")>=0,V=y.useMemo(()=>!T||!h[T]?[]:c?Object.values(h).reduce((K,B)=>K.concat(Object.values(B.tables),Object.values(B.views)),[]):[...Object.values(h[T].tables),...Object.values(h[T].views)],[T,h,c,W]),re=K=>B=>{var se;i==null||i(!0);const X=v??((se=P.current)==null?void 0:se.offsetWidth)??w2,J=B.pageX,Z=ie=>{const Te=X-J+ie.pageX;F(Math.min(Math.max(Te,w2),KFe))},Ee=()=>{document.removeEventListener("mousemove",Z),i==null||i(!1)};document.addEventListener("mousemove",Z),document.addEventListener("mouseup",Ee,{once:!0})};return y.useEffect(()=>{const K=setTimeout(()=>{x(I)},100);return()=>{clearTimeout(K)}},[I]),y.useEffect(()=>{const K=B=>{B.code==="KeyR"&&(B.metaKey||B.ctrlKey)&&!B.shiftKey&&(B.preventDefault(),rt("database_refresh"),U(),g==="main"&&S&&b())};return window.addEventListener("keydown",K),()=>{window.removeEventListener("keydown",K)}},[]),y.useEffect(()=>{const K=B=>{B.code==="KeyS"&&B.altKey&&(B.preventDefault(),A())};return window.addEventListener("keydown",K),()=>{window.removeEventListener("keydown",K)}},[]),u.jsxs("div",{className:"relative flex",children:[u.jsx("div",{ref:P,style:{width:p?I:0},className:z("flex grow",!o&&"transition-width duration-150 ease-in-out",o&&"pointer-events-none"),children:u.jsxs("div",{className:z("bg-background flex min-w-[0] grow flex-col border border-y-0 border-l-0 transition-opacity duration-150 ease-in-out",E?"opacity-100":"opacity-0",!p&&!E&&"hidden",!1),children:[u.jsxs("div",{children:[e&&u.jsx(e,{}),u.jsxs("div",{className:z("p-3 pb-0",e&&"pt-0",!1),children:[u.jsxs("div",{className:z("space-y-1 [&>*:last-child]:!mb-6",!1),children:[u.jsxs("div",{className:z("bg-input text-input-placeholder border-input-border relative flex h-9 cursor-pointer items-center justify-between rounded-md border py-2 pl-3 pr-2 text-sm",m&&"cursor-default opacity-50"),onClick:()=>{m||_(!0)},children:["Spotlight...",u.jsx("span",{className:"font-mono",children:k?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(ci,{className:"size-3.5 p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx("div",{className:"flex size-3.5 items-center justify-center",children:u.jsx("span",{className:"text-xs leading-3",children:"K"})})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Ctrl+K"})})]}),r&&u.jsx(r,{}),!1,!a&&!0&&!0&&!0&&!0&&u.jsxs(Le,{className:z("w-full justify-start gap-0 p-0",!1),variant:"outline",size:"sm",isActive:g==="sql-runner",disabled:m,onClick:()=>{if(g==="sql-runner")return;Hr(()=>{C("sql-runner"),f.length>0&&N([])})},children:[u.jsx("div",{className:"flex w-9 justify-center",children:u.jsx(Tz,{})}),u.jsx("span",{children:"SQL console"})]}),!1]}),u.jsxs("div",{className:z("space-y-1"),children:[d==="postgresql"&&!c&&u.jsx(xFe,{}),u.jsxs("div",{className:"flex items-center",children:[f.length>0&&u.jsx("div",{className:"ml-3 mr-2 flex min-w-[1rem] justify-center",children:u.jsx(Po,{className:"border-muted-foreground size-3.5",checked:V.length===f.length,onCheckedChange:K=>{N(K?V.map(B=>B.id):[])}})}),u.jsxs("div",{className:"flex grow items-center space-x-1",children:[u.jsxs("div",{className:"relative flex w-full items-center",children:[u.jsx(Lr,{className:z("bg-background relative h-9",j&&"pr-7",!1,!1),type:"text",placeholder:"Search...",value:j,onChange:K=>{rt("sidebar_search"),L(K.target.value)}}),j?u.jsxs("div",{className:"absolute right-0 mr-2 flex items-center",children:[u.jsx("div",{className:"from-background h-5 w-2 bg-gradient-to-l"}),u.jsx(Le,{size:"sm",className:"h-fit rounded-full border-none p-1 group-hover:block",variant:"outline",onClick:()=>L(""),"aria-label":"Clear search input",children:u.jsx(Ji,{className:"text-muted-foreground size-3"})})]}):u.jsxs(Bs,{children:[u.jsx(Fs,{asChild:!0,children:u.jsx(Le,{className:z("absolute right-0 mr-2 h-fit rounded-md border-none p-1 group-hover:block",!1,!1),variant:"outline","aria-label":"Filter entities",children:u.jsxs("div",{className:"relative",children:[u.jsx(d6,{className:z("size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0}),!Pr(new Set(W),new Set(UA[d].map(K=>K.value)))&&u.jsx(e2,{className:"absolute -right-1.5 -top-1.5 flex h-3 w-3 justify-center rounded-full p-0 text-[0.5rem]",children:"!"})]})})}),u.jsx(As,{className:"min-w-[12.5rem] p-1",children:u.jsx(_n,{multiSelect:!0,asList:!0,withoutSearch:!0,maxVisibleItems:12,value:W,options:UA[d],optionLabel:K=>u.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[u.jsx("span",{children:K.label}),u.jsx(Le,{className:"invisible h-fit px-1 text-[0.625rem] group-hover/item:visible",variant:"outline",size:"sm",onClick:B=>{B.preventDefault(),B.stopPropagation(),Y(UA[d].map(X=>X.value).filter(X=>X===K.value))},children:"Show only"})]}),optionValue:K=>K.value,onChange:Y})})]})]}),u.jsxs("div",{className:"flex space-x-1",children:[u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Le,{variant:"outline",size:"sm",className:z("h-9 w-9 p-0",!1,!1),disabled:m,onClick:()=>{rt("database_refresh"),U(),g==="main"&&S&&b()},"aria-label":"Refresh schema",children:u.jsx(u0,{className:z(m?"animate-spin":"animate-none","size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"Refresh schema"})]})}),!a&&!l&&u.jsxs(Bs,{children:[u.jsx(Fs,{asChild:!0,children:u.jsx(Le,{variant:"outline",size:"sm",disabled:m,className:z("h-9 w-9 p-0",!1,!1),"aria-label":"Create new entity",children:u.jsx(hf,{className:z("size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0})})}),u.jsxs(As,{className:"w-[12.5rem] p-2",children:[d==="postgresql"&&u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:()=>{C("create-schema")},children:[u.jsx(df,{className:"mr-2 size-4"}),"Create Schema"]}),u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:()=>{C("create-table")},children:[u.jsx(ff,{className:"mr-2 size-4"}),"Create Table"]}),u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:()=>{C("create-view")},children:[u.jsx(d0,{className:"mr-2 size-4"}),"Create View"]}),d==="postgresql"&&u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:()=>{C("create-enum")},children:[u.jsx(NLe,{className:"mr-2 size-4"}),"Create Enum"]})]})]})]})]})]})]})]})]}),u.jsx(bFe,{items:V,searchTable:j,types:W}),u.jsxs("div",{className:"mt-auto flex gap-2 p-3",children:[u.jsx(sq,{isOnlyTables:t}),!1,!1,u.jsx(p7,{}),n&&u.jsx(n,{})]}),s&&u.jsx(s,{})]})}),u.jsx("div",{className:z("animate-delayPointerEvents bg-border pointer-events-none absolute inset-y-0 right-0 w-1 cursor-col-resize opacity-0 transition-opacity hover:opacity-100",o&&"opacity-100"),onMouseDown:K=>{rt("sidebar_resize"),K.preventDefault(),K.stopPropagation(),re()(K)}})]})},nc=()=>{const t=Me(n=>n.isSidebarOpen),{toggleSidebarOpen:e}=sr(),r=navigator.platform.toUpperCase().indexOf("MAC")>=0;return u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Le,{size:"sm",variant:"outline",className:"h-8 min-w-[2rem] p-0",onClick:()=>{rt("sidebar_toggle"),e()},"aria-label":"Toggle sidebar",children:t?u.jsx($je,{className:"size-4"}):u.jsx(Hje,{className:"size-4"})})}),u.jsxs(vr,{className:"flex items-center gap-1 px-2 py-1 text-[0.8125rem]",children:[`${t?"Collapse":"Expand"} sidebar`,r?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(Rd,{className:"!size-3.5 !p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx("div",{className:"flex size-3.5 items-center justify-center",children:u.jsx("div",{className:"text-xs leading-3",children:"S"})})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Alt+S"})]})]})})};var QFe="Label",iq=y.forwardRef((t,e)=>u.jsx(Et.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));iq.displayName=QFe;var oq=iq;const JFe=i0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),aq=y.forwardRef(({className:t,...e},r)=>u.jsx(oq,{ref:r,className:z(JFe(),t),...e}));aq.displayName=oq.displayName;var Pg=t=>t.type==="checkbox",Xd=t=>t instanceof Date,Ei=t=>t==null;const lq=t=>typeof t=="object";var Ln=t=>!Ei(t)&&!Array.isArray(t)&&lq(t)&&!Xd(t),cq=t=>Ln(t)&&t.target?Pg(t.target)?t.target.checked:t.target.value:t,ZFe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,uq=(t,e)=>t.has(ZFe(e)),e8e=t=>{const e=t.constructor&&t.constructor.prototype;return Ln(e)&&e.hasOwnProperty("isPrototypeOf")},O2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function hn(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(O2&&(t instanceof Blob||n))&&(r||Ln(t)))if(e=r?[]:{},!r&&!e8e(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=hn(t[s]));else return t;return e}var kg=t=>Array.isArray(t)?t.filter(Boolean):[],rn=t=>t===void 0,dt=(t,e,r)=>{if(!e||!Ln(t))return r;const n=kg(e.split(/[,[\].]+?/)).reduce((s,i)=>Ei(s)?s:s[i],t);return rn(n)||n===t?rn(t[e])?r:t[e]:n},ao=t=>typeof t=="boolean",I2=t=>/^\w*$/.test(t),dq=t=>kg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),wr=(t,e,r)=>{let n=-1;const s=I2(e)?[e]:dq(e),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const c=t[a];l=Ln(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const jA={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},jo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},sc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hq=Fe.createContext(null),sl=()=>Fe.useContext(hq),t8e=t=>{const{children:e,...r}=t;return Fe.createElement(hq.Provider,{value:r},e)};var fq=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==jo.all&&(e._proxyFormState[o]=!n||jo.all),r&&(r[o]=!0),t[o]}});return s};const _2=typeof window<"u"?y.useLayoutEffect:y.useEffect;function r8e(t){const e=sl(),{control:r=e.control,disabled:n,name:s,exact:i}=t||{},[o,a]=Fe.useState(r._formState),l=Fe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return _2(()=>r._subscribe({name:s,formState:l.current,exact:i,callback:c=>{!n&&a({...r._formState,...c})}}),[s,n,i]),Fe.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Fe.useMemo(()=>fq(o,r,l.current,!1),[o,r])}var il=t=>typeof t=="string",mq=(t,e,r,n,s)=>il(t)?(n&&e.watch.add(t),dt(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),dt(r,i))):(n&&(e.watchAll=!0),r);function n8e(t){const e=sl(),{control:r=e.control,name:n,defaultValue:s,disabled:i,exact:o}=t||{},a=Fe.useRef(s),[l,c]=Fe.useState(r._getWatch(n,a.current));return _2(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:d=>!i&&c(mq(n,r._names,d.values||r._formValues,!1,a.current))}),[n,r,i,o]),Fe.useEffect(()=>r._removeUnmounted()),l}function s8e(t){const e=sl(),{name:r,disabled:n,control:s=e.control,shouldUnregister:i}=t,o=uq(s._names.array,r),a=n8e({control:s,name:r,defaultValue:dt(s._formValues,r,dt(s._defaultValues,r,t.defaultValue)),exact:!0}),l=r8e({control:s,name:r,exact:!0}),c=Fe.useRef(t),d=Fe.useRef(s.register(r,{...t.rules,value:a,...ao(t.disabled)?{disabled:t.disabled}:{}})),h=Fe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!dt(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!dt(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!dt(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!dt(l.validatingFields,r)},error:{enumerable:!0,get:()=>dt(l.errors,r)}}),[l,r]),m=Fe.useCallback(g=>d.current.onChange({target:{value:cq(g),name:r},type:jA.CHANGE}),[r]),f=Fe.useCallback(()=>d.current.onBlur({target:{value:dt(s._formValues,r),name:r},type:jA.BLUR}),[r,s._formValues]),p=Fe.useCallback(g=>{const T=dt(s._fields,r);T&&g&&(T._f.ref={focus:()=>g.focus(),select:()=>g.select(),setCustomValidity:S=>g.setCustomValidity(S),reportValidity:()=>g.reportValidity()})},[s._fields,r]),E=Fe.useMemo(()=>({name:r,value:a,...ao(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:m,onBlur:f,ref:p}),[r,n,l.disabled,m,f,p,a]);return Fe.useEffect(()=>{const g=s._options.shouldUnregister||i;s.register(r,{...c.current.rules,...ao(c.current.disabled)?{disabled:c.current.disabled}:{}});const T=(S,v)=>{const N=dt(s._fields,S);N&&N._f&&(N._f.mount=v)};if(T(r,!0),g){const S=hn(dt(s._options.defaultValues,r));wr(s._defaultValues,r,S),rn(dt(s._formValues,r))&&wr(s._formValues,r,S)}return!o&&s.register(r),()=>{(o?g&&!s._state.action:g)?s.unregister(r):T(r,!1)}},[r,s,o,i]),Fe.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),Fe.useMemo(()=>({field:E,formState:l,fieldState:h}),[E,l,h])}const i8e=t=>t.render(s8e(t));var pq=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},ji=t=>Array.isArray(t)?t:[t],Eq=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},L2=t=>Ei(t)||!lq(t);function gu(t,e){if(L2(t)||L2(e))return t===e;if(Xd(t)&&Xd(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const i=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Xd(i)&&Xd(o)||Ln(i)&&Ln(o)||Array.isArray(i)&&Array.isArray(o)?!gu(i,o):i!==o)return!1}}return!0}var ei=t=>Ln(t)&&!Object.keys(t).length,D2=t=>t.type==="file",Ta=t=>typeof t=="function",BA=t=>{if(!O2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},gq=t=>t.type==="select-multiple",M2=t=>t.type==="radio",o8e=t=>M2(t)||Pg(t),P2=t=>BA(t)&&t.isConnected;function a8e(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=rn(t)?n++:t[e[n++]];return t}function l8e(t){for(const e in t)if(t.hasOwnProperty(e)&&!rn(t[e]))return!1;return!0}function zn(t,e){const r=Array.isArray(e)?e:I2(e)?[e]:dq(e),n=r.length===1?t:a8e(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Ln(n)&&ei(n)||Array.isArray(n)&&l8e(n))&&zn(t,r.slice(0,-1)),t}var Tq=t=>{for(const e in t)if(Ta(t[e]))return!0;return!1};function FA(t,e={}){const r=Array.isArray(t);if(Ln(t)||r)for(const n in t)Array.isArray(t[n])||Ln(t[n])&&!Tq(t[n])?(e[n]=Array.isArray(t[n])?[]:{},FA(t[n],e[n])):Ei(t[n])||(e[n]=!0);return e}function Sq(t,e,r){const n=Array.isArray(t);if(Ln(t)||n)for(const s in t)Array.isArray(t[s])||Ln(t[s])&&!Tq(t[s])?rn(e)||L2(r[s])?r[s]=Array.isArray(t[s])?FA(t[s],[]):{...FA(t[s])}:Sq(t[s],Ei(e)?{}:e[s],r[s]):r[s]=!gu(t[s],e[s]);return r}var Ug=(t,e)=>Sq(t,e,FA(e));const vq={value:!1,isValid:!1},yq={value:!0,isValid:!0};var Aq=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!rn(t[0].attributes.value)?rn(t[0].value)||t[0].value===""?yq:{value:t[0].value,isValid:!0}:yq:vq}return vq},Rq=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>rn(t)?t:e?t===""?NaN:t&&+t:r&&il(t)?new Date(t):n?n(t):t;const Nq={isValid:!1,value:null};var bq=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Nq):Nq;function Cq(t){const e=t.ref;return D2(e)?e.files:M2(e)?bq(t.refs).value:gq(e)?[...e.selectedOptions].map(({value:r})=>r):Pg(e)?Aq(t.refs).value:Rq(rn(e.value)?t.ref.value:e.value,t)}var c8e=(t,e,r,n)=>{const s={};for(const i of t){const o=dt(e,i);o&&wr(s,i,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},HA=t=>t instanceof RegExp,jg=t=>rn(t)?t:HA(t)?t.source:Ln(t)?HA(t.value)?t.value.source:t.value:t,mm=t=>({isOnSubmit:!t||t===jo.onSubmit,isOnBlur:t===jo.onBlur,isOnChange:t===jo.onChange,isOnAll:t===jo.all,isOnTouch:t===jo.onTouched});const xq="AsyncFunction";var u8e=t=>!!t&&!!t.validate&&!!(Ta(t.validate)&&t.validate.constructor.name===xq||Ln(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===xq)),d8e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),k2=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const pm=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=dt(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(pm(a,e))break}else if(Ln(a)&&pm(a,e))break}}};function wq(t,e,r){const n=dt(t,r);if(n||I2(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=dt(e,i),a=dt(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:r}}var h8e=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return ei(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||jo.all))},f8e=(t,e,r)=>!t||!e||t===e||ji(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),m8e=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,p8e=(t,e)=>!kg(dt(t,e)).length&&zn(t,e),Oq=(t,e,r)=>{const n=ji(dt(t,r));return wr(n,"root",e[r]),wr(t,r,n),t},$A=t=>il(t);function Iq(t,e,r="validate"){if($A(t)||Array.isArray(t)&&t.every($A)||ao(t)&&!t)return{type:r,message:$A(t)?t:"",ref:e}}var Em=t=>Ln(t)&&!HA(t)?t:{value:t,message:""},U2=async(t,e,r,n,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:d,min:h,max:m,pattern:f,validate:p,name:E,valueAsNumber:g,mount:T}=t._f,S=dt(r,E);if(!T||e.has(E))return{};const v=a?a[0]:o,N=L=>{s&&v.reportValidity&&(v.setCustomValidity(ao(L)?"":L||""),v.reportValidity())},C={},x=M2(o),A=Pg(o),b=x||A,_=(g||D2(o))&&rn(o.value)&&rn(S)||BA(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,U=pq.bind(null,E,n,C),j=(L,P,I,F=sc.maxLength,W=sc.minLength)=>{const Y=L?P:I;C[E]={type:L?F:W,message:Y,ref:o,...U(L?F:W,Y)}};if(i?!Array.isArray(S)||!S.length:l&&(!b&&(_||Ei(S))||ao(S)&&!S||A&&!Aq(a).isValid||x&&!bq(a).isValid)){const{value:L,message:P}=$A(l)?{value:!!l,message:l}:Em(l);if(L&&(C[E]={type:sc.required,message:P,ref:v,...U(sc.required,P)},!n))return N(P),C}if(!_&&(!Ei(h)||!Ei(m))){let L,P;const I=Em(m),F=Em(h);if(!Ei(S)&&!isNaN(S)){const W=o.valueAsNumber||S&&+S;Ei(I.value)||(L=W>I.value),Ei(F.value)||(P=W<F.value)}else{const W=o.valueAsDate||new Date(S),Y=re=>new Date(new Date().toDateString()+" "+re),k=o.type=="time",V=o.type=="week";il(I.value)&&S&&(L=k?Y(S)>Y(I.value):V?S>I.value:W>new Date(I.value)),il(F.value)&&S&&(P=k?Y(S)<Y(F.value):V?S<F.value:W<new Date(F.value))}if((L||P)&&(j(!!L,I.message,F.message,sc.max,sc.min),!n))return N(C[E].message),C}if((c||d)&&!_&&(il(S)||i&&Array.isArray(S))){const L=Em(c),P=Em(d),I=!Ei(L.value)&&S.length>+L.value,F=!Ei(P.value)&&S.length<+P.value;if((I||F)&&(j(I,L.message,P.message),!n))return N(C[E].message),C}if(f&&!_&&il(S)){const{value:L,message:P}=Em(f);if(HA(L)&&!S.match(L)&&(C[E]={type:sc.pattern,message:P,ref:o,...U(sc.pattern,P)},!n))return N(P),C}if(p){if(Ta(p)){const L=await p(S,r),P=Iq(L,v);if(P&&(C[E]={...P,...U(sc.validate,P.message)},!n))return N(P.message),C}else if(Ln(p)){let L={};for(const P in p){if(!ei(L)&&!n)break;const I=Iq(await p[P](S,r),v,P);I&&(L={...I,...U(P,I.message)},N(I.message),n&&(C[E]=L))}if(!ei(L)&&(C[E]={ref:v,...L},!n))return C}}return N(!0),C};const E8e={mode:jo.onSubmit,reValidateMode:jo.onChange,shouldFocusError:!0};function g8e(t={}){let e={...E8e,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ta(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let s=Ln(e.defaultValues)||Ln(e.values)?hn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:hn(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const m={array:Eq(),state:Eq()},f=e.criteriaMode===jo.all,p=te=>ae=>{clearTimeout(c),c=setTimeout(te,ae)},E=async te=>{if(!e.disabled&&(d.isValid||h.isValid||te)){const ae=e.resolver?ei((await A()).errors):await _(n,!0);ae!==r.isValid&&m.state.next({isValid:ae})}},g=(te,ae)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((te||Array.from(a.mount)).forEach(le=>{le&&(ae?wr(r.validatingFields,le,ae):zn(r.validatingFields,le))}),m.state.next({validatingFields:r.validatingFields,isValidating:!ei(r.validatingFields)}))},T=(te,ae=[],le,we,Ie=!0,ue=!0)=>{if(we&&le&&!e.disabled){if(o.action=!0,ue&&Array.isArray(dt(n,te))){const pe=le(dt(n,te),we.argA,we.argB);Ie&&wr(n,te,pe)}if(ue&&Array.isArray(dt(r.errors,te))){const pe=le(dt(r.errors,te),we.argA,we.argB);Ie&&wr(r.errors,te,pe),p8e(r.errors,te)}if((d.touchedFields||h.touchedFields)&&ue&&Array.isArray(dt(r.touchedFields,te))){const pe=le(dt(r.touchedFields,te),we.argA,we.argB);Ie&&wr(r.touchedFields,te,pe)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Ug(s,i)),m.state.next({name:te,isDirty:j(te,ae),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else wr(i,te,ae)},S=(te,ae)=>{wr(r.errors,te,ae),m.state.next({errors:r.errors})},v=te=>{r.errors=te,m.state.next({errors:r.errors,isValid:!1})},N=(te,ae,le,we)=>{const Ie=dt(n,te);if(Ie){const ue=dt(i,te,rn(le)?dt(s,te):le);rn(ue)||we&&we.defaultChecked||ae?wr(i,te,ae?ue:Cq(Ie._f)):I(te,ue),o.mount&&E()}},C=(te,ae,le,we,Ie)=>{let ue=!1,pe=!1;const he={name:te};if(!e.disabled){if(!le||we){(d.isDirty||h.isDirty)&&(pe=r.isDirty,r.isDirty=he.isDirty=j(),ue=pe!==he.isDirty);const Ne=gu(dt(s,te),ae);pe=!!dt(r.dirtyFields,te),Ne?zn(r.dirtyFields,te):wr(r.dirtyFields,te,!0),he.dirtyFields=r.dirtyFields,ue=ue||(d.dirtyFields||h.dirtyFields)&&pe!==!Ne}if(le){const Ne=dt(r.touchedFields,te);Ne||(wr(r.touchedFields,te,le),he.touchedFields=r.touchedFields,ue=ue||(d.touchedFields||h.touchedFields)&&Ne!==le)}ue&&Ie&&m.state.next(he)}return ue?he:{}},x=(te,ae,le,we)=>{const Ie=dt(r.errors,te),ue=(d.isValid||h.isValid)&&ao(ae)&&r.isValid!==ae;if(e.delayError&&le?(l=p(()=>S(te,le)),l(e.delayError)):(clearTimeout(c),l=null,le?wr(r.errors,te,le):zn(r.errors,te)),(le?!gu(Ie,le):Ie)||!ei(we)||ue){const pe={...we,...ue&&ao(ae)?{isValid:ae}:{},errors:r.errors,name:te};r={...r,...pe},m.state.next(pe)}},A=async te=>{g(te,!0);const ae=await e.resolver(i,e.context,c8e(te||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return g(te),ae},b=async te=>{const{errors:ae}=await A(te);if(te)for(const le of te){const we=dt(ae,le);we?wr(r.errors,le,we):zn(r.errors,le)}else r.errors=ae;return ae},_=async(te,ae,le={valid:!0})=>{for(const we in te){const Ie=te[we];if(Ie){const{_f:ue,...pe}=Ie;if(ue){const he=a.array.has(ue.name),Ne=Ie._f&&u8e(Ie._f);Ne&&d.validatingFields&&g([we],!0);const Se=await U2(Ie,a.disabled,i,f,e.shouldUseNativeValidation&&!ae,he);if(Ne&&d.validatingFields&&g([we]),Se[ue.name]&&(le.valid=!1,ae))break;!ae&&(dt(Se,ue.name)?he?Oq(r.errors,Se,ue.name):wr(r.errors,ue.name,Se[ue.name]):zn(r.errors,ue.name))}!ei(pe)&&await _(pe,ae,le)}}return le.valid},U=()=>{for(const te of a.unMount){const ae=dt(n,te);ae&&(ae._f.refs?ae._f.refs.every(le=>!P2(le)):!P2(ae._f.ref))&&se(te)}a.unMount=new Set},j=(te,ae)=>!e.disabled&&(te&&ae&&wr(i,te,ae),!gu(re(),s)),L=(te,ae,le)=>mq(te,a,{...o.mount?i:rn(ae)?s:il(te)?{[te]:ae}:ae},le,ae),P=te=>kg(dt(o.mount?i:s,te,e.shouldUnregister?dt(s,te,[]):[])),I=(te,ae,le={})=>{const we=dt(n,te);let Ie=ae;if(we){const ue=we._f;ue&&(!ue.disabled&&wr(i,te,Rq(ae,ue)),Ie=BA(ue.ref)&&Ei(ae)?"":ae,gq(ue.ref)?[...ue.ref.options].forEach(pe=>pe.selected=Ie.includes(pe.value)):ue.refs?Pg(ue.ref)?ue.refs.forEach(pe=>{(!pe.defaultChecked||!pe.disabled)&&(Array.isArray(Ie)?pe.checked=!!Ie.find(he=>he===pe.value):pe.checked=Ie===pe.value||!!Ie)}):ue.refs.forEach(pe=>pe.checked=pe.value===Ie):D2(ue.ref)?ue.ref.value="":(ue.ref.value=Ie,ue.ref.type||m.state.next({name:te,values:hn(i)})))}(le.shouldDirty||le.shouldTouch)&&C(te,Ie,le.shouldTouch,le.shouldDirty,!0),le.shouldValidate&&V(te)},F=(te,ae,le)=>{for(const we in ae){if(!ae.hasOwnProperty(we))return;const Ie=ae[we],ue=`${te}.${we}`,pe=dt(n,ue);(a.array.has(te)||Ln(Ie)||pe&&!pe._f)&&!Xd(Ie)?F(ue,Ie,le):I(ue,Ie,le)}},W=(te,ae,le={})=>{const we=dt(n,te),Ie=a.array.has(te),ue=hn(ae);wr(i,te,ue),Ie?(m.array.next({name:te,values:hn(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&le.shouldDirty&&m.state.next({name:te,dirtyFields:Ug(s,i),isDirty:j(te,ue)})):we&&!we._f&&!Ei(ue)?F(te,ue,le):I(te,ue,le),k2(te,a)&&m.state.next({...r}),m.state.next({name:o.mount?te:void 0,values:hn(i)})},Y=async te=>{o.mount=!0;const ae=te.target;let le=ae.name,we=!0;const Ie=dt(n,le),ue=Ne=>{we=Number.isNaN(Ne)||Xd(Ne)&&isNaN(Ne.getTime())||gu(Ne,dt(i,le,Ne))},pe=mm(e.mode),he=mm(e.reValidateMode);if(Ie){let Ne,Se;const Ye=ae.type?Cq(Ie._f):cq(te),Ge=te.type===jA.BLUR||te.type===jA.FOCUS_OUT,Ze=!d8e(Ie._f)&&!e.resolver&&!dt(r.errors,le)&&!Ie._f.deps||m8e(Ge,dt(r.touchedFields,le),r.isSubmitted,he,pe),ut=k2(le,a,Ge);wr(i,le,Ye),Ge?(Ie._f.onBlur&&Ie._f.onBlur(te),l&&l(0)):Ie._f.onChange&&Ie._f.onChange(te);const He=C(le,Ye,Ge),lt=!ei(He)||ut;if(!Ge&&m.state.next({name:le,type:te.type,values:hn(i)}),Ze)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?Ge&&E():Ge||E()),lt&&m.state.next({name:le,...ut?{}:He});if(!Ge&&ut&&m.state.next({...r}),e.resolver){const{errors:Qe}=await A([le]);if(ue(Ye),we){const Lt=wq(r.errors,n,le),Nt=wq(Qe,n,Lt.name||le);Ne=Nt.error,le=Nt.name,Se=ei(Qe)}}else g([le],!0),Ne=(await U2(Ie,a.disabled,i,f,e.shouldUseNativeValidation))[le],g([le]),ue(Ye),we&&(Ne?Se=!1:(d.isValid||h.isValid)&&(Se=await _(n,!0)));we&&(Ie._f.deps&&V(Ie._f.deps),x(le,Se,Ne,He))}},k=(te,ae)=>{if(dt(r.errors,ae)&&te.focus)return te.focus(),1},V=async(te,ae={})=>{let le,we;const Ie=ji(te);if(e.resolver){const ue=await b(rn(te)?te:Ie);le=ei(ue),we=te?!Ie.some(pe=>dt(ue,pe)):le}else te?(we=(await Promise.all(Ie.map(async ue=>{const pe=dt(n,ue);return await _(pe&&pe._f?{[ue]:pe}:pe)}))).every(Boolean),!(!we&&!r.isValid)&&E()):we=le=await _(n);return m.state.next({...!il(te)||(d.isValid||h.isValid)&&le!==r.isValid?{}:{name:te},...e.resolver||!te?{isValid:le}:{},errors:r.errors}),ae.shouldFocus&&!we&&pm(n,k,te?Ie:a.mount),we},re=te=>{const ae={...o.mount?i:s};return rn(te)?ae:il(te)?dt(ae,te):te.map(le=>dt(ae,le))},K=(te,ae)=>({invalid:!!dt((ae||r).errors,te),isDirty:!!dt((ae||r).dirtyFields,te),error:dt((ae||r).errors,te),isValidating:!!dt(r.validatingFields,te),isTouched:!!dt((ae||r).touchedFields,te)}),B=te=>{te&&ji(te).forEach(ae=>zn(r.errors,ae)),m.state.next({errors:te?r.errors:{}})},X=(te,ae,le)=>{const we=(dt(n,te,{_f:{}})._f||{}).ref,Ie=dt(r.errors,te)||{},{ref:ue,message:pe,type:he,...Ne}=Ie;wr(r.errors,te,{...Ne,...ae,ref:we}),m.state.next({name:te,errors:r.errors,isValid:!1}),le&&le.shouldFocus&&we&&we.focus&&we.focus()},J=(te,ae)=>Ta(te)?m.state.subscribe({next:le=>te(L(void 0,ae),le)}):L(te,ae,!0),Z=te=>m.state.subscribe({next:ae=>{f8e(te.name,ae.name,te.exact)&&h8e(ae,te.formState||d,ce,te.reRenderRoot)&&te.callback({values:{...i},...r,...ae})}}).unsubscribe,Ee=te=>(o.mount=!0,h={...h,...te.formState},Z({...te,formState:h})),se=(te,ae={})=>{for(const le of te?ji(te):a.mount)a.mount.delete(le),a.array.delete(le),ae.keepValue||(zn(n,le),zn(i,le)),!ae.keepError&&zn(r.errors,le),!ae.keepDirty&&zn(r.dirtyFields,le),!ae.keepTouched&&zn(r.touchedFields,le),!ae.keepIsValidating&&zn(r.validatingFields,le),!e.shouldUnregister&&!ae.keepDefaultValue&&zn(s,le);m.state.next({values:hn(i)}),m.state.next({...r,...ae.keepDirty?{isDirty:j()}:{}}),!ae.keepIsValid&&E()},ie=({disabled:te,name:ae})=>{(ao(te)&&o.mount||te||a.disabled.has(ae))&&(te?a.disabled.add(ae):a.disabled.delete(ae))},Te=(te,ae={})=>{let le=dt(n,te);const we=ao(ae.disabled)||ao(e.disabled);return wr(n,te,{...le||{},_f:{...le&&le._f?le._f:{ref:{name:te}},name:te,mount:!0,...ae}}),a.mount.add(te),le?ie({disabled:ao(ae.disabled)?ae.disabled:e.disabled,name:te}):N(te,!0,ae.value),{...we?{disabled:ae.disabled||e.disabled}:{},...e.progressive?{required:!!ae.required,min:jg(ae.min),max:jg(ae.max),minLength:jg(ae.minLength),maxLength:jg(ae.maxLength),pattern:jg(ae.pattern)}:{},name:te,onChange:Y,onBlur:Y,ref:Ie=>{if(Ie){Te(te,ae),le=dt(n,te);const ue=rn(Ie.value)&&Ie.querySelectorAll&&Ie.querySelectorAll("input,select,textarea")[0]||Ie,pe=o8e(ue),he=le._f.refs||[];if(pe?he.find(Ne=>Ne===ue):ue===le._f.ref)return;wr(n,te,{_f:{...le._f,...pe?{refs:[...he.filter(P2),ue,...Array.isArray(dt(s,te))?[{}]:[]],ref:{type:ue.type,name:te}}:{ref:ue}}}),N(te,!1,void 0,ue)}else le=dt(n,te,{}),le._f&&(le._f.mount=!1),(e.shouldUnregister||ae.shouldUnregister)&&!(uq(a.array,te)&&o.action)&&a.unMount.add(te)}}},ve=()=>e.shouldFocusError&&pm(n,k,a.mount),_e=te=>{ao(te)&&(m.state.next({disabled:te}),pm(n,(ae,le)=>{const we=dt(n,le);we&&(ae.disabled=we._f.disabled||te,Array.isArray(we._f.refs)&&we._f.refs.forEach(Ie=>{Ie.disabled=we._f.disabled||te}))},0,!1))},fe=(te,ae)=>async le=>{let we;le&&(le.preventDefault&&le.preventDefault(),le.persist&&le.persist());let Ie=hn(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:pe}=await A();r.errors=ue,Ie=pe}else await _(n);if(a.disabled.size)for(const ue of a.disabled)wr(Ie,ue,void 0);if(zn(r.errors,"root"),ei(r.errors)){m.state.next({errors:{}});try{await te(Ie,le)}catch(ue){we=ue}}else ae&&await ae({...r.errors},le),ve(),setTimeout(ve);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ei(r.errors)&&!we,submitCount:r.submitCount+1,errors:r.errors}),we)throw we},je=(te,ae={})=>{dt(n,te)&&(rn(ae.defaultValue)?W(te,hn(dt(s,te))):(W(te,ae.defaultValue),wr(s,te,hn(ae.defaultValue))),ae.keepTouched||zn(r.touchedFields,te),ae.keepDirty||(zn(r.dirtyFields,te),r.isDirty=ae.defaultValue?j(te,hn(dt(s,te))):j()),ae.keepError||(zn(r.errors,te),d.isValid&&E()),m.state.next({...r}))},H=(te,ae={})=>{const le=te?hn(te):s,we=hn(le),Ie=ei(te),ue=Ie?s:we;if(ae.keepDefaultValues||(s=le),!ae.keepValues){if(ae.keepDirtyValues){const pe=new Set([...a.mount,...Object.keys(Ug(s,i))]);for(const he of Array.from(pe))dt(r.dirtyFields,he)?wr(ue,he,dt(i,he)):W(he,dt(ue,he))}else{if(O2&&rn(te))for(const pe of a.mount){const he=dt(n,pe);if(he&&he._f){const Ne=Array.isArray(he._f.refs)?he._f.refs[0]:he._f.ref;if(BA(Ne)){const Se=Ne.closest("form");if(Se){Se.reset();break}}}}for(const pe of a.mount)W(pe,dt(ue,pe))}i=hn(ue),m.array.next({values:{...ue}}),m.state.next({values:{...ue}})}a={mount:ae.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!ae.keepIsValid||!!ae.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:ae.keepSubmitCount?r.submitCount:0,isDirty:Ie?!1:ae.keepDirty?r.isDirty:!!(ae.keepDefaultValues&&!gu(te,s)),isSubmitted:ae.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ie?{}:ae.keepDirtyValues?ae.keepDefaultValues&&i?Ug(s,i):r.dirtyFields:ae.keepDefaultValues&&te?Ug(s,te):ae.keepDirty?r.dirtyFields:{},touchedFields:ae.keepTouched?r.touchedFields:{},errors:ae.keepErrors?r.errors:{},isSubmitSuccessful:ae.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ce=(te,ae)=>H(Ta(te)?te(i):te,ae),be=(te,ae={})=>{const le=dt(n,te),we=le&&le._f;if(we){const Ie=we.refs?we.refs[0]:we.ref;Ie.focus&&(Ie.focus(),ae.shouldSelect&&Ta(Ie.select)&&Ie.select())}},ce=te=>{r={...r,...te}},Ae={control:{register:Te,unregister:se,getFieldState:K,handleSubmit:fe,setError:X,_subscribe:Z,_runSchema:A,_getWatch:L,_getDirty:j,_setValid:E,_setFieldArray:T,_setDisabledField:ie,_setErrors:v,_getFieldArray:P,_reset:H,_resetDefaultValues:()=>Ta(e.defaultValues)&&e.defaultValues().then(te=>{Ce(te,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:U,_disableForm:_e,_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(te){o=te},get _defaultValues(){return s},get _names(){return a},set _names(te){a=te},get _formState(){return r},get _options(){return e},set _options(te){e={...e,...te}}},subscribe:Ee,trigger:V,register:Te,handleSubmit:fe,watch:J,setValue:W,getValues:re,reset:Ce,resetField:je,clearErrors:B,unregister:se,setError:X,setFocus:be,getFieldState:K};return{...Ae,formControl:Ae}}var Tu=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},j2=(t,e,r={})=>r.shouldFocus||rn(r.shouldFocus)?r.focusName||`${t}.${rn(r.focusIndex)?e:r.focusIndex}.`:"",B2=(t,e)=>[...t,...ji(e)],F2=t=>Array.isArray(t)?t.map(()=>{}):void 0;function H2(t,e,r){return[...t.slice(0,e),...ji(r),...t.slice(e)]}var $2=(t,e,r)=>Array.isArray(t)?(rn(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],G2=(t,e)=>[...ji(e),...ji(t)];function T8e(t,e){let r=0;const n=[...t];for(const s of e)n.splice(s-r,1),r++;return kg(n).length?n:[]}var V2=(t,e)=>rn(e)?[]:T8e(t,ji(e).sort((r,n)=>r-n)),z2=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]},_q=(t,e,r)=>(t[e]=r,t);function ol(t){const e=sl(),{control:r=e.control,name:n,keyName:s="id",shouldUnregister:i,rules:o}=t,[a,l]=Fe.useState(r._getFieldArray(n)),c=Fe.useRef(r._getFieldArray(n).map(Tu)),d=Fe.useRef(a),h=Fe.useRef(n),m=Fe.useRef(!1);h.current=n,d.current=a,r._names.array.add(n),o&&r.register(n,o),Fe.useEffect(()=>r._subjects.array.subscribe({next:({values:x,name:A})=>{if(A===h.current||!A){const b=dt(x,h.current);Array.isArray(b)&&(l(b),c.current=b.map(Tu))}}}).unsubscribe,[r]);const f=Fe.useCallback(x=>{m.current=!0,r._setFieldArray(n,x)},[r,n]),p=(x,A)=>{const b=ji(hn(x)),_=B2(r._getFieldArray(n),b);r._names.focus=j2(n,_.length-1,A),c.current=B2(c.current,b.map(Tu)),f(_),l(_),r._setFieldArray(n,_,B2,{argA:F2(x)})},E=(x,A)=>{const b=ji(hn(x)),_=G2(r._getFieldArray(n),b);r._names.focus=j2(n,0,A),c.current=G2(c.current,b.map(Tu)),f(_),l(_),r._setFieldArray(n,_,G2,{argA:F2(x)})},g=x=>{const A=V2(r._getFieldArray(n),x);c.current=V2(c.current,x),f(A),l(A),!Array.isArray(dt(r._fields,n))&&wr(r._fields,n,void 0),r._setFieldArray(n,A,V2,{argA:x})},T=(x,A,b)=>{const _=ji(hn(A)),U=H2(r._getFieldArray(n),x,_);r._names.focus=j2(n,x,b),c.current=H2(c.current,x,_.map(Tu)),f(U),l(U),r._setFieldArray(n,U,H2,{argA:x,argB:F2(A)})},S=(x,A)=>{const b=r._getFieldArray(n);z2(b,x,A),z2(c.current,x,A),f(b),l(b),r._setFieldArray(n,b,z2,{argA:x,argB:A},!1)},v=(x,A)=>{const b=r._getFieldArray(n);$2(b,x,A),$2(c.current,x,A),f(b),l(b),r._setFieldArray(n,b,$2,{argA:x,argB:A},!1)},N=(x,A)=>{const b=hn(A),_=_q(r._getFieldArray(n),x,b);c.current=[..._].map((U,j)=>!U||j===x?Tu():c.current[j]),f(_),l([..._]),r._setFieldArray(n,_,_q,{argA:x,argB:b},!0,!1)},C=x=>{const A=ji(hn(x));c.current=A.map(Tu),f([...A]),l([...A]),r._setFieldArray(n,[...A],b=>b,{},!0,!1)};return Fe.useEffect(()=>{if(r._state.action=!1,k2(n,r._names)&&r._subjects.state.next({...r._formState}),m.current&&(!mm(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!mm(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(x=>{const A=dt(x.errors,n),b=dt(r._formState.errors,n);(b?!A&&b.type||A&&(b.type!==A.type||b.message!==A.message):A&&A.type)&&(A?wr(r._formState.errors,n,A):zn(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const x=dt(r._fields,n);x&&x._f&&!(mm(r._options.reValidateMode).isOnSubmit&&mm(r._options.mode).isOnSubmit)&&U2(x,r._names.disabled,r._formValues,r._options.criteriaMode===jo.all,r._options.shouldUseNativeValidation,!0).then(A=>!ei(A)&&r._subjects.state.next({errors:Oq(r._formState.errors,A,n)}))}r._subjects.state.next({name:n,values:hn(r._formValues)}),r._names.focus&&pm(r._fields,(x,A)=>{if(r._names.focus&&A.startsWith(r._names.focus)&&x.focus)return x.focus(),1}),r._names.focus="",r._setValid(),m.current=!1},[a,n,r]),Fe.useEffect(()=>(!dt(r._formValues,n)&&r._setFieldArray(n),()=>{const x=(A,b)=>{const _=dt(r._fields,A);_&&_._f&&(_._f.mount=b)};r._options.shouldUnregister||i?r.unregister(n):x(n,!1)}),[n,r,s,i]),{swap:Fe.useCallback(S,[f,n,r]),move:Fe.useCallback(v,[f,n,r]),prepend:Fe.useCallback(E,[f,n,r]),append:Fe.useCallback(p,[f,n,r]),remove:Fe.useCallback(g,[f,n,r]),insert:Fe.useCallback(T,[f,n,r]),update:Fe.useCallback(N,[f,n,r]),replace:Fe.useCallback(C,[f,n,r]),fields:Fe.useMemo(()=>a.map((x,A)=>({...x,[s]:c.current[A]||Tu()})),[a,s])}}function ic(t={}){const e=Fe.useRef(void 0),r=Fe.useRef(void 0),[n,s]=Fe.useState({isDirty:!1,isValidating:!1,isLoading:Ta(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ta(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:g8e(t),formState:n},t.formControl&&t.defaultValues&&!Ta(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,_2(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),Fe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Fe.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode),t.errors&&!ei(t.errors)&&i._setErrors(t.errors)},[i,t.errors,t.mode,t.reValidateMode]),Fe.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Fe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),Fe.useEffect(()=>{t.values&&!gu(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),Fe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=fq(n,i),e.current}const oc=t8e,Lq=y.createContext({}),qt=({...t})=>u.jsx(Lq.Provider,{value:{name:t.name},children:u.jsx(i8e,{...t})}),GA=()=>{const t=y.useContext(Lq),e=y.useContext(Dq),{getFieldState:r,formState:n}=sl(),s=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},Dq=y.createContext({}),yr=y.forwardRef(({className:t,...e},r)=>{const n=y.useId();return u.jsx(Dq.Provider,{value:{id:n},children:u.jsx("div",{ref:r,className:z("space-y-2",t),...e})})});yr.displayName="FormItem";const S8e=y.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:s}=GA();return u.jsx(aq,{ref:r,className:z(n&&"text-destructive",t),htmlFor:s,...e})});S8e.displayName="FormLabel";const Ar=y.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=GA();return u.jsx(t6,{ref:e,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...t})});Ar.displayName="FormControl";const v8e=y.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=GA();return u.jsx("p",{ref:r,id:n,className:z("text-muted-foreground text-[0.8rem]",t),...e})});v8e.displayName="FormDescription";const ac=y.forwardRef(({className:t,children:e,...r},n)=>{const{error:s,formMessageId:i}=GA(),o=s?String(s==null?void 0:s.message):e;return o?u.jsx("p",{ref:n,id:i,className:z("text-destructive text-[0.8rem] font-medium",t),...r,children:o}):null});ac.displayName="FormMessage";const Mq=(t,e,r)=>{if(t&&"reportValidity"in t){const n=dt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Pq=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Mq(n.ref,r,t):n.refs&&n.refs.forEach(s=>Mq(s,r,t))}},y8e=(t,e)=>{e.shouldUseNativeValidation&&Pq(t,e);const r={};for(const n in t){const s=dt(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(A8e(e.names||Object.keys(t),n)){const o=Object.assign({},dt(r,n));wr(o,"root",i),wr(r,n,o)}else wr(r,n,i)}return r},A8e=(t,e)=>t.some(r=>r.startsWith(e+"."));var R8e=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var l=r[o].types,c=l&&l[n.code];r[o]=pq(o,e,r,s,c?[].concat(c,n.message):n.message)}t.shift()}return r},Su=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return i.shouldUseNativeValidation&&Pq({},i),{errors:{},values:r.raw?n:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:y8e(R8e(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Or;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Or||(Or={}));var kq;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(kq||(kq={}));const Rt=Or.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vu=t=>{switch(typeof t){case"undefined":return Rt.undefined;case"string":return Rt.string;case"number":return Number.isNaN(t)?Rt.nan:Rt.number;case"boolean":return Rt.boolean;case"function":return Rt.function;case"bigint":return Rt.bigint;case"symbol":return Rt.symbol;case"object":return Array.isArray(t)?Rt.array:t===null?Rt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Rt.promise:typeof Map<"u"&&t instanceof Map?Rt.map:typeof Set<"u"&&t instanceof Set?Rt.set:typeof Date<"u"&&t instanceof Date?Rt.date:Rt.object;default:return Rt.unknown}},at=Or.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class lc extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),n}static assert(e){if(!(e instanceof lc))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Or.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}lc.create=t=>new lc(t);const W2=(t,e)=>{let r;switch(t.code){case at.invalid_type:t.received===Rt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case at.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Or.jsonStringifyReplacer)}`;break;case at.unrecognized_keys:r=`Unrecognized key(s) in object: ${Or.joinValues(t.keys,", ")}`;break;case at.invalid_union:r="Invalid input";break;case at.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Or.joinValues(t.options)}`;break;case at.invalid_enum_value:r=`Invalid enum value. Expected ${Or.joinValues(t.options)}, received '${t.received}'`;break;case at.invalid_arguments:r="Invalid function arguments";break;case at.invalid_return_type:r="Invalid function return type";break;case at.invalid_date:r="Invalid date";break;case at.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Or.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case at.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case at.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case at.custom:r="Invalid input";break;case at.invalid_intersection_types:r="Intersection results could not be merged";break;case at.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case at.not_finite:r="Number must be finite";break;default:r=e.defaultError,Or.assertNever(t)}return{message:r}};let N8e=W2;function b8e(){return N8e}const C8e=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function gt(t,e){const r=b8e(),n=C8e({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===W2?void 0:W2].filter(s=>!!s)});t.common.issues.push(n)}class gi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Xt;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return gi.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Xt;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const Xt=Object.freeze({status:"aborted"}),Bg=t=>({status:"dirty",value:t}),Bo=t=>({status:"valid",value:t}),Uq=t=>t.status==="aborted",jq=t=>t.status==="dirty",gm=t=>t.status==="valid",VA=t=>typeof Promise<"u"&&t instanceof Promise;var Ot;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ot||(Ot={}));var zA=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Bq=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},Fg,Hg;class al{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Fq=(t,e)=>{if(gm(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new lc(t.common.issues);return this._error=r,this._error}}};function Jt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??n??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??r??a.defaultError}},description:s}}class fr{get description(){return this._def.description}_getType(e){return vu(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:vu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gi,ctx:{common:e.parent.common,data:e.data,parsedType:vu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(VA(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vu(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Fq(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vu(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return gm(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>gm(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vu(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(VA(s)?s:Promise.resolve(s));return Fq(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:at.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new vm({schema:this,typeName:Gt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Au.create(this,this._def)}nullable(){return ym.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ll.create(this)}promise(){return XA.create(this,this._def)}or(e){return YA.create([this,e],this._def)}and(e){return qA.create(this,e,this._def)}transform(e){return new vm({...Jt(this._def),schema:this,typeName:Gt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Z2({...Jt(this._def),innerType:this,defaultValue:r,typeName:Gt.ZodDefault})}brand(){return new K8e({typeName:Gt.ZodBranded,type:this,...Jt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new eD({...Jt(this._def),innerType:this,catchValue:r,typeName:Gt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return tD.create(this,e)}readonly(){return rD.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const x8e=/^c[^\s-]{8,}$/i,w8e=/^[0-9a-z]+$/,O8e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,I8e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_8e=/^[a-z0-9_-]{21}$/i,L8e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,D8e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,M8e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,P8e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Y2;const k8e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,U8e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,j8e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,B8e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,F8e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,H8e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Hq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$8e=new RegExp(`^${Hq}$`);function $q(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function G8e(t){return new RegExp(`^${$q(t)}$`)}function V8e(t){let e=`${Hq}T${$q(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function z8e(t,e){return!!((e==="v4"||!e)&&k8e.test(t)||(e==="v6"||!e)&&j8e.test(t))}function W8e(t,e){if(!L8e.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Y8e(t,e){return!!((e==="v4"||!e)&&U8e.test(t)||(e==="v6"||!e)&&B8e.test(t))}class cc extends fr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Rt.string){const i=this._getOrReturnCtx(e);return gt(i,{code:at.invalid_type,expected:Rt.string,received:i.parsedType}),Xt}const n=new gi;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),gt(s,{code:at.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),gt(s,{code:at.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?gt(s,{code:at.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&gt(s,{code:at.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")M8e.test(e.data)||(s=this._getOrReturnCtx(e,s),gt(s,{validation:"email",code:at.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Y2||(Y2=new RegExp(P8e,"u")),Y2.test(e.data)||(s=this._getOrReturnCtx(e,s),gt(s,{validation:"emoji",code:at.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")I8e.test(e.data)||(s=this._getOrReturnCtx(e,s),gt(s,{validation:"uuid",code:at.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")_8e.test(e.data)||(s=this._getOrReturnCtx(e,s),gt(s,{validation:"nanoid",code:at.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")x8e.test(e.data)||(s=this._getOrReturnCtx(e,s),gt(s,{validation:"cuid",code:at.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")w8e.test(e.data)||(s=this._getOrReturnCtx(e,s),gt(s,{validation:"cuid2",code:at.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")O8e.test(e.data)||(s=this._getOrReturnCtx(e,s),gt(s,{validation:"ulid",code:at.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),gt(s,{validation:"url",code:at.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),gt(s,{validation:"regex",code:at.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),gt(s,{code:at.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),gt(s,{code:at.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),gt(s,{code:at.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?V8e(i).test(e.data)||(s=this._getOrReturnCtx(e,s),gt(s,{code:at.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?$8e.test(e.data)||(s=this._getOrReturnCtx(e,s),gt(s,{code:at.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?G8e(i).test(e.data)||(s=this._getOrReturnCtx(e,s),gt(s,{code:at.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?D8e.test(e.data)||(s=this._getOrReturnCtx(e,s),gt(s,{validation:"duration",code:at.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?z8e(e.data,i.version)||(s=this._getOrReturnCtx(e,s),gt(s,{validation:"ip",code:at.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?W8e(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),gt(s,{validation:"jwt",code:at.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Y8e(e.data,i.version)||(s=this._getOrReturnCtx(e,s),gt(s,{validation:"cidr",code:at.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?F8e.test(e.data)||(s=this._getOrReturnCtx(e,s),gt(s,{validation:"base64",code:at.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?H8e.test(e.data)||(s=this._getOrReturnCtx(e,s),gt(s,{validation:"base64url",code:at.invalid_string,message:i.message}),n.dirty()):Or.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:at.invalid_string,...Ot.errToObj(n)})}_addCheck(e){return new cc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ot.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ot.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ot.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ot.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ot.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ot.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ot.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ot.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ot.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ot.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ot.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ot.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ot.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ot.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ot.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ot.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ot.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Ot.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ot.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ot.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ot.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ot.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ot.errToObj(r)})}nonempty(e){return this.min(1,Ot.errToObj(e))}trim(){return new cc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new cc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new cc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}cc.create=t=>new cc({checks:[],typeName:Gt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Jt(t)});function q8e(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class $g extends fr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Rt.number){const i=this._getOrReturnCtx(e);return gt(i,{code:at.invalid_type,expected:Rt.number,received:i.parsedType}),Xt}let n;const s=new gi;for(const i of this._def.checks)i.kind==="int"?Or.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),gt(n,{code:at.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),gt(n,{code:at.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),gt(n,{code:at.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?q8e(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),gt(n,{code:at.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),gt(n,{code:at.not_finite,message:i.message}),s.dirty()):Or.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ot.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ot.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ot.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ot.toString(r))}setLimit(e,r,n,s){return new $g({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ot.toString(s)}]})}_addCheck(e){return new $g({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ot.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ot.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ot.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ot.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ot.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ot.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Or.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}$g.create=t=>new $g({checks:[],typeName:Gt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Jt(t)});class Gg extends fr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Rt.bigint)return this._getInvalidInput(e);let n;const s=new gi;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),gt(n,{code:at.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),gt(n,{code:at.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),gt(n,{code:at.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Or.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return gt(r,{code:at.invalid_type,expected:Rt.bigint,received:r.parsedType}),Xt}gte(e,r){return this.setLimit("min",e,!0,Ot.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ot.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ot.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ot.toString(r))}setLimit(e,r,n,s){return new Gg({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ot.toString(s)}]})}_addCheck(e){return new Gg({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ot.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ot.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Gg.create=t=>new Gg({checks:[],typeName:Gt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Jt(t)});class q2 extends fr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Rt.boolean){const n=this._getOrReturnCtx(e);return gt(n,{code:at.invalid_type,expected:Rt.boolean,received:n.parsedType}),Xt}return Bo(e.data)}}q2.create=t=>new q2({typeName:Gt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Jt(t)});class WA extends fr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Rt.date){const i=this._getOrReturnCtx(e);return gt(i,{code:at.invalid_type,expected:Rt.date,received:i.parsedType}),Xt}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return gt(i,{code:at.invalid_date}),Xt}const n=new gi;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),gt(s,{code:at.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),gt(s,{code:at.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Or.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new WA({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ot.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ot.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}WA.create=t=>new WA({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Gt.ZodDate,...Jt(t)});class Gq extends fr{_parse(e){if(this._getType(e)!==Rt.symbol){const n=this._getOrReturnCtx(e);return gt(n,{code:at.invalid_type,expected:Rt.symbol,received:n.parsedType}),Xt}return Bo(e.data)}}Gq.create=t=>new Gq({typeName:Gt.ZodSymbol,...Jt(t)});class Vq extends fr{_parse(e){if(this._getType(e)!==Rt.undefined){const n=this._getOrReturnCtx(e);return gt(n,{code:at.invalid_type,expected:Rt.undefined,received:n.parsedType}),Xt}return Bo(e.data)}}Vq.create=t=>new Vq({typeName:Gt.ZodUndefined,...Jt(t)});class zq extends fr{_parse(e){if(this._getType(e)!==Rt.null){const n=this._getOrReturnCtx(e);return gt(n,{code:at.invalid_type,expected:Rt.null,received:n.parsedType}),Xt}return Bo(e.data)}}zq.create=t=>new zq({typeName:Gt.ZodNull,...Jt(t)});class K2 extends fr{constructor(){super(...arguments),this._any=!0}_parse(e){return Bo(e.data)}}K2.create=t=>new K2({typeName:Gt.ZodAny,...Jt(t)});class Wq extends fr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Bo(e.data)}}Wq.create=t=>new Wq({typeName:Gt.ZodUnknown,...Jt(t)});class yu extends fr{_parse(e){const r=this._getOrReturnCtx(e);return gt(r,{code:at.invalid_type,expected:Rt.never,received:r.parsedType}),Xt}}yu.create=t=>new yu({typeName:Gt.ZodNever,...Jt(t)});class Yq extends fr{_parse(e){if(this._getType(e)!==Rt.undefined){const n=this._getOrReturnCtx(e);return gt(n,{code:at.invalid_type,expected:Rt.void,received:n.parsedType}),Xt}return Bo(e.data)}}Yq.create=t=>new Yq({typeName:Gt.ZodVoid,...Jt(t)});class ll extends fr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==Rt.array)return gt(r,{code:at.invalid_type,expected:Rt.array,received:r.parsedType}),Xt;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(gt(r,{code:o?at.too_big:at.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(gt(r,{code:at.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(gt(r,{code:at.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new al(r,o,r.path,a)))).then(o=>gi.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new al(r,o,r.path,a)));return gi.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new ll({...this._def,minLength:{value:e,message:Ot.toString(r)}})}max(e,r){return new ll({...this._def,maxLength:{value:e,message:Ot.toString(r)}})}length(e,r){return new ll({...this._def,exactLength:{value:e,message:Ot.toString(r)}})}nonempty(e){return this.min(1,e)}}ll.create=(t,e)=>new ll({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Gt.ZodArray,...Jt(e)});function Tm(t){if(t instanceof Wn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Au.create(Tm(n))}return new Wn({...t._def,shape:()=>e})}else return t instanceof ll?new ll({...t._def,type:Tm(t.element)}):t instanceof Au?Au.create(Tm(t.unwrap())):t instanceof ym?ym.create(Tm(t.unwrap())):t instanceof Qd?Qd.create(t.items.map(e=>Tm(e))):t}class Wn extends fr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Or.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Rt.object){const c=this._getOrReturnCtx(e);return gt(c,{code:at.invalid_type,expected:Rt.object,received:c.parsedType}),Xt}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof yu&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=i[c],h=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new al(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof yu){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")a.length>0&&(gt(s,{code:at.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const h=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new al(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const h=await d.key,m=await d.value;c.push({key:h,value:m,alwaysSet:d.alwaysSet})}return c}).then(c=>gi.mergeObjectSync(n,c)):gi.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return Ot.errToObj,new Wn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ot.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Wn({...this._def,unknownKeys:"strip"})}passthrough(){return new Wn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Wn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Wn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Gt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Wn({...this._def,catchall:e})}pick(e){const r={};for(const n of Or.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Wn({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Or.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Wn({...this._def,shape:()=>r})}deepPartial(){return Tm(this)}partial(e){const r={};for(const n of Or.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Wn({...this._def,shape:()=>r})}required(e){const r={};for(const n of Or.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Au;)i=i._def.innerType;r[n]=i}return new Wn({...this._def,shape:()=>r})}keyof(){return Xq(Or.objectKeys(this.shape))}}Wn.create=(t,e)=>new Wn({shape:()=>t,unknownKeys:"strip",catchall:yu.create(),typeName:Gt.ZodObject,...Jt(e)}),Wn.strictCreate=(t,e)=>new Wn({shape:()=>t,unknownKeys:"strict",catchall:yu.create(),typeName:Gt.ZodObject,...Jt(e)}),Wn.lazycreate=(t,e)=>new Wn({shape:t,unknownKeys:"strip",catchall:yu.create(),typeName:Gt.ZodObject,...Jt(e)});class YA extends fr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new lc(a.ctx.common.issues));return gt(r,{code:at.invalid_union,unionErrors:o}),Xt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new lc(l));return gt(r,{code:at.invalid_union,unionErrors:a}),Xt}}get options(){return this._def.options}}YA.create=(t,e)=>new YA({options:t,typeName:Gt.ZodUnion,...Jt(e)});function X2(t,e){const r=vu(t),n=vu(e);if(t===e)return{valid:!0,data:t};if(r===Rt.object&&n===Rt.object){const s=Or.objectKeys(e),i=Or.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=X2(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===Rt.array&&n===Rt.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=X2(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===Rt.date&&n===Rt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class qA extends fr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(Uq(i)||Uq(o))return Xt;const a=X2(i.value,o.value);return a.valid?((jq(i)||jq(o))&&r.dirty(),{status:r.value,value:a.data}):(gt(n,{code:at.invalid_intersection_types}),Xt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}qA.create=(t,e,r)=>new qA({left:t,right:e,typeName:Gt.ZodIntersection,...Jt(r)});class Qd extends fr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Rt.array)return gt(n,{code:at.invalid_type,expected:Rt.array,received:n.parsedType}),Xt;if(n.data.length<this._def.items.length)return gt(n,{code:at.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xt;!this._def.rest&&n.data.length>this._def.items.length&&(gt(n,{code:at.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new al(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>gi.mergeArray(r,o)):gi.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Qd({...this._def,rest:e})}}Qd.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qd({items:t,typeName:Gt.ZodTuple,rest:null,...Jt(e)})};class KA extends fr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Rt.object)return gt(n,{code:at.invalid_type,expected:Rt.object,received:n.parsedType}),Xt;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new al(n,a,n.path,a)),value:o._parse(new al(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?gi.mergeObjectAsync(r,s):gi.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof fr?new KA({keyType:e,valueType:r,typeName:Gt.ZodRecord,...Jt(n)}):new KA({keyType:cc.create(),valueType:e,typeName:Gt.ZodRecord,...Jt(r)})}}class qq extends fr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Rt.map)return gt(n,{code:at.invalid_type,expected:Rt.map,received:n.parsedType}),Xt;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,l],c)=>({key:s._parse(new al(n,a,n.path,[c,"key"])),value:i._parse(new al(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return Xt;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(c.value,d.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return Xt;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(c.value,d.value)}return{status:r.value,value:a}}}}qq.create=(t,e,r)=>new qq({valueType:e,keyType:t,typeName:Gt.ZodMap,...Jt(r)});class Vg extends fr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Rt.set)return gt(n,{code:at.invalid_type,expected:Rt.set,received:n.parsedType}),Xt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(gt(n,{code:at.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(gt(n,{code:at.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return Xt;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>i._parse(new al(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,r){return new Vg({...this._def,minSize:{value:e,message:Ot.toString(r)}})}max(e,r){return new Vg({...this._def,maxSize:{value:e,message:Ot.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Vg.create=(t,e)=>new Vg({valueType:t,minSize:null,maxSize:null,typeName:Gt.ZodSet,...Jt(e)});class Kq extends fr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Kq.create=(t,e)=>new Kq({getter:t,typeName:Gt.ZodLazy,...Jt(e)});class Q2 extends fr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return gt(r,{received:r.data,code:at.invalid_literal,expected:this._def.value}),Xt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Q2.create=(t,e)=>new Q2({value:t,typeName:Gt.ZodLiteral,...Jt(e)});function Xq(t,e){return new Sm({values:t,typeName:Gt.ZodEnum,...Jt(e)})}class Sm extends fr{constructor(){super(...arguments),Fg.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return gt(r,{expected:Or.joinValues(n),received:r.parsedType,code:at.invalid_type}),Xt}if(zA(this,Fg,"f")||Bq(this,Fg,new Set(this._def.values),"f"),!zA(this,Fg,"f").has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return gt(r,{received:r.data,code:at.invalid_enum_value,options:n}),Xt}return Bo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Sm.create(e,{...this._def,...r})}exclude(e,r=this._def){return Sm.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Fg=new WeakMap,Sm.create=Xq;class J2 extends fr{constructor(){super(...arguments),Hg.set(this,void 0)}_parse(e){const r=Or.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Rt.string&&n.parsedType!==Rt.number){const s=Or.objectValues(r);return gt(n,{expected:Or.joinValues(s),received:n.parsedType,code:at.invalid_type}),Xt}if(zA(this,Hg,"f")||Bq(this,Hg,new Set(Or.getValidEnumValues(this._def.values)),"f"),!zA(this,Hg,"f").has(e.data)){const s=Or.objectValues(r);return gt(n,{received:n.data,code:at.invalid_enum_value,options:s}),Xt}return Bo(e.data)}get enum(){return this._def.values}}Hg=new WeakMap,J2.create=(t,e)=>new J2({values:t,typeName:Gt.ZodNativeEnum,...Jt(e)});class XA extends fr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Rt.promise&&r.common.async===!1)return gt(r,{code:at.invalid_type,expected:Rt.promise,received:r.parsedType}),Xt;const n=r.parsedType===Rt.promise?r.data:Promise.resolve(r.data);return Bo(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}XA.create=(t,e)=>new XA({type:t,typeName:Gt.ZodPromise,...Jt(e)});class vm extends fr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Gt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{gt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return Xt;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?Xt:l.status==="dirty"||r.value==="dirty"?Bg(l.value):l});{if(r.value==="aborted")return Xt;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?Xt:a.status==="dirty"||r.value==="dirty"?Bg(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Xt:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Xt:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!gm(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>gm(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);Or.assertNever(s)}}vm.create=(t,e,r)=>new vm({schema:t,typeName:Gt.ZodEffects,effect:e,...Jt(r)}),vm.createWithPreprocess=(t,e,r)=>new vm({schema:e,effect:{type:"preprocess",transform:t},typeName:Gt.ZodEffects,...Jt(r)});class Au extends fr{_parse(e){return this._getType(e)===Rt.undefined?Bo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Au.create=(t,e)=>new Au({innerType:t,typeName:Gt.ZodOptional,...Jt(e)});class ym extends fr{_parse(e){return this._getType(e)===Rt.null?Bo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ym.create=(t,e)=>new ym({innerType:t,typeName:Gt.ZodNullable,...Jt(e)});class Z2 extends fr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Rt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Z2.create=(t,e)=>new Z2({innerType:t,typeName:Gt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Jt(e)});class eD extends fr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return VA(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new lc(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new lc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}eD.create=(t,e)=>new eD({innerType:t,typeName:Gt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Jt(e)});class Qq extends fr{_parse(e){if(this._getType(e)!==Rt.nan){const n=this._getOrReturnCtx(e);return gt(n,{code:at.invalid_type,expected:Rt.nan,received:n.parsedType}),Xt}return{status:"valid",value:e.data}}}Qq.create=t=>new Qq({typeName:Gt.ZodNaN,...Jt(t)});class K8e extends fr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class tD extends fr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Xt:i.status==="dirty"?(r.dirty(),Bg(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Xt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new tD({in:e,out:r,typeName:Gt.ZodPipeline})}}class rD extends fr{_parse(e){const r=this._def.innerType._parse(e),n=s=>(gm(s)&&(s.value=Object.freeze(s.value)),s);return VA(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}rD.create=(t,e)=>new rD({innerType:t,typeName:Gt.ZodReadonly,...Jt(e)});var Gt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Gt||(Gt={}));const Kt=cc.create,Fo=q2.create,nD=K2.create;yu.create;const Ru=ll.create,Rs=Wn.create,Am=YA.create;qA.create,Qd.create;const X8e=KA.create,Yn=Q2.create,Q8e=Sm.create,J8e=J2.create;XA.create,Au.create,ym.create;const Z8e=({initialValue:t,value:e,isAdded:r})=>{const n=t==null?void 0:t.map(o=>o).join(", "),s=e.map(o=>o).join(", ");return r?u.jsxs("span",{className:"text-structure-codeblock-edit-text truncate",children:["(",s,")"]}):n!==s?u.jsx("div",{children:u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text truncate",children:[u.jsxs("s",{children:["(",n,")"]}),"  (",s,")"]})}):u.jsxs("span",{className:"text-sql-variable truncate",children:["(",n,")"]})},e6e=({initialValue:t,value:e,isAdded:r})=>{const n=t==null?void 0:t.toUpperCase(),s=e==null?void 0:e.toUpperCase();return r?u.jsx("span",{className:"text-structure-codeblock-edit-text",children:s}):n!==s?u.jsx("div",{children:u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:[u.jsx("s",{children:n}),"  ",s]})}):u.jsx("span",{className:"text-sql-variable",children:n})},t6e=({initialValue:t,value:e,isAdded:r})=>{const n=t,s=e;return r?u.jsx("span",{className:"text-structure-codeblock-edit-text",children:s}):n!==s?u.jsx("div",{children:u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:[u.jsx("s",{children:n}),"  ",s]})}):u.jsx("span",{className:"text-sql-variable",children:n})},r6e=({initialValue:t,value:e,isAdded:r})=>r&&e?u.jsx("div",{children:u.jsx("span",{className:"text-structure-codeblock-edit-text",children:"UNIQUE"})}):!t&&e?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:"UNIQUE"})}):t&&!e?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:u.jsx("s",{children:"UNIQUE"})})}):t&&e&&t===e?u.jsx("div",{children:u.jsx("span",{className:z("text-sql-keyword"),children:"UNIQUE"})}):null,n6e=["btree","hash","gist","gin"],zg=({readonly:t,clickToCopy:e,setIsCopiedTooltipVisible:r,isAdded:n,initialValues:s,index:i,onRemove:o,isSelected:a,showCheckbox:l,onSelect:c})=>{const d=it(v=>{if(!v.dialect)throw new Error("Dialect not found");return v.dialect}),h=sl(),m=h.watch("columns"),f=h.watch(`indexes.${i}`),[p,E]=y.useState(n),[g,T]=y.useState("name"),S=y.useMemo(()=>!Pr(s,f),[JSON.stringify(s),JSON.stringify(f)]);return u.jsxs("div",{className:z("border-structure-codeblock-border -mt-px border hover:relative hover:z-10",p&&"mb-[0.3125rem] mt-1",i===0&&"!mt-0",!t&&"group",(!t||e)&&"hover:border-structure-codeblock-border-hover",n&&"border-structure-codeblock-edit-border hover:border-structure-codeblock-edit-border-hover"),onClick:()=>{t&&e&&(navigator.clipboard.writeText(`${f.name}`),r==null||r(!0),setTimeout(()=>{r==null||r(!1)},1e3))},children:[u.jsxs("div",{className:"relative flex items-center",children:[u.jsxs("div",{className:z("bg-structure-codeblock relative flex w-full items-center py-1 pr-3 leading-[1.625rem]",(!t||e)&&"hover:bg-structure-codeblock-hover cursor-pointer",n&&"bg-structure-codeblock-edit text-structure-codeblock-edit-text hover:bg-structure-codeblock-edit-hover"),onClick:()=>{t||E(!p)},children:[u.jsx("div",{className:z("absolute right-full mr-px hidden h-full items-center px-2 group-hover:flex",(l||p)&&"flex"),onClick:v=>v.stopPropagation(),children:n?u.jsx(Ji,{className:"size-4",onClick:v=>{v.stopPropagation(),o()}}):u.jsx(Po,{checked:a,className:z("border-structure-codeblock-border",!a&&"group-hover:border-structure-codeblock-border-hover"),onClick:v=>v.stopPropagation(),onCheckedChange:c})}),u.jsxs("div",{className:z("font-menlo flex w-full flex-col space-x-0 truncate whitespace-nowrap pl-3 @xl:flex-row @xl:space-x-2"),children:[u.jsxs("span",{className:"inline-flex space-x-2",children:[n&&u.jsx("span",{children:"+ "}),u.jsx(r6e,{initialValue:s==null?void 0:s.isUnique,value:f.isUnique,isAdded:n}),u.jsx("span",{className:z("text-sql-keyword",n&&"text-structure-codeblock-edit-text"),children:"INDEX"}),u.jsx(t6e,{initialValue:s==null?void 0:s.name,value:f.name,isAdded:n}),u.jsx("div",{className:"text-sql-variable",children:""})]}),u.jsxs("span",{className:"inline-flex space-x-2",children:[d!=="sqlite"&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:z("text-sql-keyword",n&&"text-structure-codeblock-edit-text"),children:"USING"}),u.jsx(e6e,{initialValue:s==null?void 0:s.method,value:f.method,isAdded:n})]}),u.jsx(Z8e,{initialValue:s==null?void 0:s.columns,value:f.columns,isAdded:n})]})]}),u.jsx("div",{className:"invisible ml-1 group-hover:visible",children:p?u.jsx(a0,{className:"size-4"}):u.jsx(yd,{className:"size-4"})})]}),!n&&S&&u.jsx("div",{className:z("absolute left-full ml-px flex h-full cursor-pointer items-center px-2"),onClick:v=>{v.stopPropagation(),h.resetField(`indexes.${i}`)},children:u.jsx(DO,{className:"size-4"})})]}),p&&u.jsxs("div",{className:z("border-structure-codeblock-border group-hover:border-structure-codeblock-border-hover flex min-h-[12.3125rem] border-t",n&&"border-structure-codeblock-edit-border group-hover:border-structure-codeblock-edit-border-hover"),children:[u.jsxs("div",{className:z("border-structure-codeblock-border group-hover:border-structure-codeblock-border-hover flex min-w-[12.25rem] flex-col border-r p-2",n&&"border-structure-codeblock-edit-border group-hover:border-structure-codeblock-edit-border-hover"),children:[u.jsx(Le,{variant:"outline",isActive:g==="name",size:"sm",className:"group/button justify-start border-none pr-1 font-normal",onClick:()=>T("name"),children:"Index name"}),d!=="sqlite"&&u.jsx(Le,{variant:"outline",isActive:g==="method",size:"sm",className:"group/button justify-start border-none pr-1 font-normal",onClick:()=>T("method"),children:"Method"}),u.jsx(Le,{variant:"outline",isActive:g==="columns",size:"sm",className:"group/button justify-start border-none pr-1 font-normal",onClick:()=>T("columns"),children:"Columns"}),u.jsx(Le,{variant:"outline",isActive:g==="constraints",size:"sm",className:"group/button justify-start border-none pr-1 font-normal",onClick:()=>T("constraints"),children:"Constraints"})]}),u.jsxs("div",{children:[g==="name"&&u.jsx("div",{className:"min-w-[12.25rem] p-2",children:u.jsx(qt,{control:h.control,name:`indexes.${i}.name`,render:({field:v})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(Lr,{className:z("bg-background w-[12.25rem] min-w-[12.25rem] max-w-[25rem]"),placeholder:"Scale",placeholderAsLabel:!0,...v,value:v.value||"",ref:N=>{v.ref(N),N&&(N.style.width="0px",N.style.width=`${N.scrollWidth+2}px`)},onChange:N=>{const C=N.target.value;v.onChange(C)}})})})})}),g==="method"&&u.jsx("div",{className:z("border-structure-codeblock-border group-hover:border-structure-codeblock-border-hover h-full min-w-[12.25rem] border-r",n&&"border-structure-codeblock-edit-border group-hover:border-structure-codeblock-edit-border-hover"),children:u.jsx(qt,{control:h.control,name:`indexes.${i}.method`,render:({field:v})=>u.jsx(_n,{options:n6e,asList:!0,withoutSearch:!0,optionLabel:N=>N,optionValue:N=>N,value:v.value,onChange:v.onChange})})}),g==="columns"&&u.jsx("div",{className:z("border-structure-codeblock-border group-hover:border-structure-codeblock-border-hover h-[12.25rem] min-w-[12.25rem] border-r",n&&"border-structure-codeblock-edit-border group-hover:border-structure-codeblock-edit-border-hover"),children:u.jsx(qt,{control:h.control,name:`indexes.${i}.columns`,render:({field:v})=>u.jsx(_n,{multiSelect:!0,asList:!0,className:"h-7",value:v.value,label:`${v.value.length} selected`,onChange:v.onChange,options:m,optionLabel:N=>N.name,optionValue:N=>N.name})})}),g==="constraints"&&u.jsx("div",{className:"min-w-[12.25rem] p-3",children:u.jsx(qt,{control:h.control,name:`indexes.${i}.isUnique`,render:({field:v})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsxs("div",{className:"cursor-pointer",onClick:()=>{v.onChange(!v.value)},children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("p",{className:"text-sm",children:"Unique"}),u.jsx(pi,{checked:v.value})]}),u.jsx("p",{className:"text-muted-foreground text-xs",children:"Ensure that the index contains unique values"})]})})})})})]})]})]})},s6e=({indexes:t})=>{const[e,r]=y.useState(!1);return u.jsxs("div",{className:"border border-dashed",children:[u.jsxs("div",{className:z("flex cursor-pointer p-2 text-xs uppercase",!e&&"hover:bg-structure-codeblock"),onClick:()=>{r(!e)},children:["Auto-indexes",u.jsx("div",{className:"ml-auto",children:e?u.jsx(a0,{size:16}):u.jsx(yd,{size:16})})]}),u.jsx("div",{className:z("hidden px-2 pb-2",e&&"block"),children:t.map(({field:{formId:n,...s},index:i})=>u.jsx(zg,{readonly:!0,index:i,isSelected:!1,onSelect:()=>{},initialValues:s,onRemove:()=>{}},n))})]})},i6e=({initialValue:t,value:e,isAdded:r})=>r&&e?u.jsx("div",{children:u.jsx("span",{className:"text-structure-codeblock-edit-text",children:"AUTOINCREMENT"})}):!t&&e?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:"AUTOINCREMENT"})}):t&&!e?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:u.jsx("s",{children:"AUTOINCREMENT"})})}):t&&e&&t===e?u.jsx("div",{children:u.jsx("span",{className:z("text-sql-keyword"),children:"AUTOINCREMENT"})}):null,o6e=({initialValue:t,initialIsExpression:e,value:r,isExpression:n,isAdded:s})=>{const i=it(f=>{if(!f.dialect)throw new Error("Dialect is not set");return f.dialect}),{wrapDefaultValue:o}=y.useMemo(()=>cr(i),[i]),a=String(o(t,e)),l=String(o(r,n));return s&&r?u.jsx("div",{children:u.jsxs("span",{className:"text-structure-codeblock-edit-text",children:["DEFAULT ",l]})}):typeof t>"u"&&typeof r<"u"?u.jsx("div",{children:u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:["DEFAULT ",l]})}):typeof t<"u"&&typeof r>"u"?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:u.jsxs("s",{children:["DEFAULT ",a]})})}):typeof t<"u"&&typeof r<"u"&&t!==r?u.jsxs("div",{className:"space-x-2",children:[u.jsx("span",{className:z("text-sql-keyword"),children:"DEFAULT"}),u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:[u.jsx("s",{children:a}),"  ",l]})]}):typeof t<"u"&&typeof r<"u"&&t===r?u.jsxs("div",{className:"space-x-2",children:[u.jsx("span",{className:z("text-sql-keyword"),children:"DEFAULT"}),u.jsx("span",{className:z(n?"text-sql-variable":typeof r=="number"?"text-sql-number":"text-sql-string"),children:l})]}):null},a6e=({initialValue:t,value:e,isAdded:r})=>{const n=t,s=e;return r&&s?u.jsx("div",{children:u.jsx("span",{className:"text-structure-codeblock-edit-text",children:`GENERATED ALWAYS AS (${s.as}) ${s.type.toUpperCase()}`})}):!n&&s?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:`GENERATED ALWAYS AS (${s.as}) ${s.type.toUpperCase()}`})}):n&&!s?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:u.jsx("s",{children:`GENERATED ALWAYS AS (${n.as}) ${n.type.toUpperCase()}`})})}):n&&s&&Pr(n,s)?u.jsx("div",{children:u.jsx("span",{className:z("text-sql-keyword"),children:`GENERATED ALWAYS AS (${s.as}) ${s.type.toUpperCase()}`})}):n&&s&&!Pr(n,s)?u.jsx("div",{children:u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:["GENERATED ALWAYS AS"," ",u.jsx("s",{children:`(${n.as}) ${n.type.toUpperCase()}`})," "," ",`(${s.as}) ${s.type.toUpperCase()}`]})}):null},l6e=({initialValue:t,value:e,isAdded:r})=>{const n=t,s=e;return r&&s?u.jsx("div",{children:u.jsx("span",{className:"text-structure-codeblock-edit-text",children:s.type==="always"?"GENERATED ALWAYS AS IDENTITY":"GENERATED BY DEFAULT AS IDENTITY"})}):!n&&s?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:s.type==="always"?"GENERATED ALWAYS AS IDENTITY":"GENERATED BY DEFAULT AS IDENTITY"})}):n&&!s?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:u.jsx("s",{children:n.type==="always"?"GENERATED ALWAYS AS IDENTITY":"GENERATED BY DEFAULT AS IDENTITY"})})}):n&&s&&n.type===s.type?u.jsx("div",{children:u.jsx("span",{className:z("text-sql-keyword"),children:s.type==="always"?"GENERATED ALWAYS AS IDENTITY":"GENERATED BY DEFAULT AS IDENTITY"})}):n&&s&&n.type!==s.type?u.jsx("div",{children:u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:[u.jsx("s",{children:n.type==="always"?"GENERATED ALWAYS AS IDENTITY":"GENERATED BY DEFAULT AS IDENTITY"})," ",""," ",s.type==="always"?"GENERATED ALWAYS AS IDENTITY":"GENERATED BY DEFAULT AS IDENTITY"]})}):null},c6e=({initialValue:t,value:e,isAdded:r})=>{const n=t,s=e;return r?u.jsx("span",{className:"text-structure-codeblock-edit-text",children:s}):n!==s?u.jsx("div",{children:u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:[u.jsx("s",{children:n}),"  ",s]})}):u.jsx("span",{className:"text-sql-variable",children:n})},u6e=({initialValues:t,values:e,isAdded:r})=>{const n=t==null?void 0:t.isNotNull,s=e.isNotNull,i=!(t!=null&&t.isPrimary)&&e.isPrimary,o=(t==null?void 0:t.isPrimary)&&!e.isPrimary;return t!=null&&t.isPrimary&&e.isPrimary||i||o&&!s?null:r&&s?u.jsx("div",{children:u.jsx("span",{className:"text-structure-codeblock-edit-text",children:"NOT NULL"})}):o&&n&&s?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:"NOT NULL"})}):!n&&s?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:"NOT NULL"})}):n&&!s?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:u.jsx("s",{children:"NOT NULL"})})}):n&&s&&n===s?u.jsx("div",{children:u.jsx("span",{className:z("text-sql-keyword"),children:"NOT NULL"})}):null},d6e=({initialValue:t,value:e,isAdded:r})=>r&&e?u.jsx("div",{children:u.jsx("span",{className:"text-structure-codeblock-edit-text",children:"PRIMARY KEY"})}):!t&&e?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:"PRIMARY KEY"})}):t&&!e?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:u.jsx("s",{children:"PRIMARY KEY"})})}):t&&e&&t===e?u.jsx("div",{children:u.jsx("span",{className:z("text-sql-keyword"),children:"PRIMARY KEY"})}):null,h6e=({initialValue:t,initialTypeParams:e,value:r,typeParams:n,isAdded:s,isEnum:i})=>{const o=it(f=>{if(!f.dialect)throw new Error("Dialect is not set");return f.dialect}),{getTypeParamsString:a}=y.useMemo(()=>cr(o),[o]),l=i?t:t==null?void 0:t.toUpperCase(),c=i?r:r.toUpperCase(),d=a(t||"",e||{}),h=a(r,n||{});return s?u.jsxs("span",{className:"text-structure-codeblock-edit-text",children:[c,h]}):l!==c||d!==h?u.jsx("div",{children:u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:[u.jsxs("s",{children:[l,d]})," "," ",c,h]})}):u.jsxs("span",{className:"text-sql-keyword",children:[l,d]})},f6e=({initialValues:t,values:e,isAdded:r})=>{const n=t==null?void 0:t.isUnique,s=e.isUnique,i=!(t!=null&&t.isPrimary)&&e.isPrimary,o=(t==null?void 0:t.isPrimary)&&!e.isPrimary;return t!=null&&t.isPrimary&&e.isPrimary||i||o&&!s?null:r&&s?u.jsx("div",{children:u.jsx("span",{className:"text-structure-codeblock-edit-text",children:"UNIQUE"})}):o&&n&&s?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:"UNIQUE"})}):!n&&s?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:"UNIQUE"})}):n&&!s?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:u.jsx("s",{children:"UNIQUE"})})}):n&&s&&n===s?u.jsx("div",{children:u.jsx("span",{className:z("text-sql-keyword"),children:"UNIQUE"})}):null},QA=({readonly:t,clickToCopy:e,setIsCopiedTooltipVisible:r,isAdded:n,index:s,isTableHaveCompositePrimaryKey:i,initialValues:o,onRemove:a,isSelected:l,showCheckbox:c,onSelect:d,enums:h})=>{var _,U,j;const m=it(L=>{if(!L.dialect)throw new Error("Dialect not found");return L.dialect}),f=sl(),p=f.watch(`columns.${s}`),[E,g]=y.useState("name"),{identityTypes:T,typeGroups:S,typeParamsNames:v}=y.useMemo(()=>cr(m),[m]),N=y.useMemo(()=>m==="postgresql"?S.concat([["enum"]]):S,[S]),[C,x]=y.useState(n),A=y.useMemo(()=>h.map(L=>L.schema==="public"?L.name:`${L.schema}.${L.name}`).includes(p.type),[JSON.stringify(h),p.type]),b=y.useMemo(()=>!Pr(o,p),[JSON.stringify(o),JSON.stringify(p)]);return u.jsxs("div",{className:z("border-structure-codeblock-border -mt-px border hover:relative",C&&"mb-[0.3125rem] mt-1",s===0&&"!mt-0",!t&&"group",(!t||e)&&"hover:border-structure-codeblock-border-hover",n&&"border-structure-codeblock-edit-border hover:border-structure-codeblock-edit-border-hover"),onClick:()=>{t&&e&&(navigator.clipboard.writeText(`${p.name}`),r==null||r(!0),setTimeout(()=>{r==null||r(!1)},1e3))},children:[u.jsxs("div",{className:"relative flex items-center",children:[u.jsxs("div",{className:z("bg-structure-codeblock relative flex w-full items-center py-1 pr-3 leading-[1.9375rem]",(!t||e)&&"hover:bg-structure-codeblock-hover cursor-pointer",n&&"bg-structure-codeblock-edit text-structure-codeblock-edit-text hover:bg-structure-codeblock-edit-hover"),onClick:()=>{t||x(!C)},children:[u.jsx("div",{className:z("absolute right-full mr-px hidden h-full items-center px-2 group-hover:flex",(c||C)&&"flex"),onClick:L=>L.stopPropagation(),children:n?u.jsx(Ji,{className:"size-4",onClick:L=>{L.stopPropagation(),a()}}):u.jsx(Po,{className:z("border-structure-codeblock-border",!l&&"group-hover:border-structure-codeblock-border-hover"),checked:l,onClick:L=>L.stopPropagation(),onCheckedChange:d})}),u.jsxs("div",{className:z("font-menlo flex w-full space-x-2 whitespace-nowrap pl-3"),children:[n&&u.jsx("span",{children:"+ "}),u.jsx(c6e,{isAdded:n,initialValue:o==null?void 0:o.name,value:p.name}),u.jsx(h6e,{initialValue:o==null?void 0:o.type,initialTypeParams:o==null?void 0:o.typeParams,value:p.type,isEnum:A,typeParams:p.typeParams,isAdded:n}),!i&&u.jsx(d6e,{isAdded:n,initialValue:o==null?void 0:o.isPrimary,value:p.isPrimary}),u.jsx(i6e,{isAdded:n,initialValue:o==null?void 0:o.isAutoIncrement,value:p.isAutoIncrement}),u.jsx(f6e,{isAdded:n,initialValues:o,values:p}),u.jsx(u6e,{isAdded:n,initialValues:o,values:p}),u.jsx(l6e,{initialValue:o==null?void 0:o.identityParams,value:p.identityParams,isAdded:n}),u.jsx(a6e,{initialValue:o==null?void 0:o.generatedParams,value:p.generatedParams,isAdded:n}),u.jsx(o6e,{initialValue:o==null?void 0:o.defaultValue,initialIsExpression:o==null?void 0:o.isDefaultAnExpression,value:p.defaultValue,isExpression:p.isDefaultAnExpression,isAdded:n})]}),u.jsx("div",{className:"invisible ml-1 group-hover:visible",children:C?u.jsx(a0,{className:"size-4"}):u.jsx(yd,{className:"size-4"})})]}),!n&&b&&u.jsx("div",{className:z("absolute left-full ml-px flex h-full cursor-pointer items-center px-2"),onClick:L=>{L.stopPropagation(),f.resetField(`columns.${s}`)},children:u.jsx(DO,{className:"size-4"})})]}),C&&u.jsxs("div",{className:z("border-structure-codeblock-border group-hover:border-structure-codeblock-border-hover flex min-h-[12.3125rem] border-t",n&&"border-structure-codeblock-edit-border group-hover:border-structure-codeblock-edit-border-hover"),children:[u.jsxs("div",{className:z("border-structure-codeblock-border group-hover:border-structure-codeblock-border-hover flex min-w-[12.25rem] flex-col border-r p-2",n&&"border-structure-codeblock-edit-border group-hover:border-structure-codeblock-edit-border-hover"),children:[u.jsx(Le,{variant:"outline",isActive:E==="name",size:"sm",className:"group/button justify-start border-none pr-1 font-normal",onClick:()=>g("name"),children:"Column name"}),u.jsx(Le,{variant:"outline",isActive:E==="type"||E==="type-enum",size:"sm",className:"group/button justify-start border-none pr-1 font-normal",onClick:()=>{g(A?"type-enum":"type")},children:"Data type"}),u.jsx(Le,{variant:"outline",isActive:E==="constraints",size:"sm",className:"group/button justify-start border-none pr-1 font-normal",onClick:()=>g("constraints"),children:"Constraints"}),u.jsx(Le,{variant:"outline",isActive:E==="default",size:"sm",className:"group/button justify-start border-none pr-1 font-normal",onClick:()=>g("default"),children:"Default"}),u.jsx(Le,{variant:"outline",isActive:E==="generation",size:"sm",className:"group/button justify-start border-none pr-1 font-normal",onClick:()=>g("generation"),children:"Generated"})]}),u.jsxs("div",{children:[E==="name"&&u.jsx("div",{className:"min-w-[12.25rem] p-2",children:u.jsx(qt,{control:f.control,name:`columns.${s}.name`,render:({field:L})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(Lr,{className:z("bg-background w-[12.25rem] min-w-[12.25rem] max-w-[25rem]"),placeholder:"Column name",placeholderAsLabel:!0,...L,ref:P=>{L.ref(P),P&&(P.style.width="0px",P.style.width=`${P.scrollWidth+2}px`)},onChange:P=>{const I=P.target.value;L.onChange(I)}})})})})}),(E==="type"||E==="type-enum")&&u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:z("h-[12.25rem] w-[12.25rem] min-w-[12.25rem]","border-structure-codeblock-border group-hover:border-structure-codeblock-border-hover border-r",n&&"border-structure-codeblock-edit-border group-hover:border-structure-codeblock-edit-border-hover"),children:u.jsx(qt,{control:f.control,name:`columns.${s}.type`,render:({field:L})=>u.jsx(_n,{value:E==="type-enum"?"enum":L.value,asList:!0,onChange:P=>{if(P==="enum"){g("type-enum");return}else g("type");L.onChange(P),f.resetField(`columns.${s}.typeParams`),T.includes(P)||f.setValue(`columns.${s}.identityParams`,void 0),m==="sqlite"&&(P==="integer"||f.setValue(`columns.${s}.isAutoIncrement`,void 0))},options:N,optionLabel:P=>P,optionValue:P=>P})})}),E==="type-enum"&&u.jsx("div",{className:z("h-[12.25rem] w-[12.25rem] min-w-[12.25rem]","border-structure-codeblock-border group-hover:border-structure-codeblock-border-hover border-r",n&&"border-structure-codeblock-edit-border group-hover:border-structure-codeblock-edit-border-hover"),children:u.jsx(qt,{control:f.control,name:`columns.${s}.type`,render:({field:L})=>u.jsx(_n,{value:L.value,asList:!0,searchPlaceholder:"Search enum...",onChange:P=>{L.onChange(P),f.resetField(`columns.${s}.typeParams`),T.includes(P)||f.setValue(`columns.${s}.identityParams`,void 0)},options:h,optionLabel:P=>P.schema==="public"?P.name:`${P.schema}.${P.name}`,optionValue:P=>P.schema==="public"?P.name:`${P.schema}.${P.name}`})})}),u.jsxs("div",{className:z("min-w-[12.25rem] space-y-2 p-2","border-structure-codeblock-border group-hover:border-structure-codeblock-border-hover border-r",n&&"border-structure-codeblock-edit-border group-hover:border-structure-codeblock-edit-border-hover"),children:[m==="postgresql"&&u.jsx(qt,{control:f.control,name:`columns.${s}.typeParams.dimensions`,render:({field:L})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(Lr,{className:z("bg-background w-[11.25rem] min-w-[11.25rem] max-w-[25rem]","[appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none"),placeholder:"Array dimensions",placeholderAsLabel:!0,...L,type:"number",value:L.value||"",ref:P=>{L.ref(P),P&&(P.style.width="0px",P.style.width=`${P.scrollWidth+2}px`)},onChange:P=>{const I=P.target.value;L.onChange(+I)}})})})}),((_=v[p.type])==null?void 0:_.length)&&u.jsx(qt,{control:f.control,name:`columns.${s}.typeParams.length`,render:({field:L})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(Lr,{className:z("bg-background w-[11.25rem] min-w-[11.25rem] max-w-[25rem]"),placeholder:"Length",placeholderAsLabel:!0,...L,value:L.value||"",ref:P=>{L.ref(P),P&&(P.style.width="0px",P.style.width=`${P.scrollWidth+2}px`)},onChange:P=>{const I=P.target.value;L.onChange(I)}})})})}),((U=v[p.type])==null?void 0:U.precision)&&u.jsx(qt,{control:f.control,name:`columns.${s}.typeParams.precision`,render:({field:L})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(Lr,{className:z("bg-background w-[11.25rem] min-w-[11.25rem] max-w-[25rem]"),placeholder:"Precision",placeholderAsLabel:!0,...L,value:L.value||"",ref:P=>{L.ref(P),P&&(P.style.width="0px",P.style.width=`${P.scrollWidth+2}px`)},onChange:P=>{const I=P.target.value;L.onChange(I)}})})})}),((j=v[p.type])==null?void 0:j.scale)&&u.jsx(qt,{control:f.control,name:`columns.${s}.typeParams.scale`,render:({field:L})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(Lr,{className:z("bg-background w-[11.25rem] min-w-[11.25rem] max-w-[25rem]"),placeholder:"Scale",placeholderAsLabel:!0,...L,value:L.value||"",ref:P=>{L.ref(P),P&&(P.style.width="0px",P.style.width=`${P.scrollWidth+2}px`)},onChange:P=>{const I=P.target.value;L.onChange(I)}})})})}),m==="sqlite"&&p.type==="integer"&&u.jsx("div",{className:"p-1",children:u.jsx(qt,{control:f.control,name:`columns.${s}.isAutoIncrement`,render:({field:L})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsxs("div",{className:"cursor-pointer",onClick:()=>{const P=!L.value;P&&f.setValue(`columns.${s}.isPrimary`,!0),L.onChange(P)},children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("p",{className:"text-sm",children:"Auto increment"}),u.jsx(pi,{checked:L.value})]}),u.jsx("p",{className:"text-muted-foreground text-xs",children:"Automatically generates a unique value when a new row is inserted"})]})})})})}),T.includes(p.type)&&u.jsx("div",{className:"p-1",children:u.jsx(qt,{control:f.control,name:`columns.${s}.identityParams`,render:({field:L})=>{var P,I;return u.jsx(yr,{children:u.jsx(Ar,{children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"cursor-pointer",onClick:()=>{var F;L.onChange(((F=L.value)==null?void 0:F.type)==="always"?void 0:{type:"always"}),f.resetField(`columns.${s}.defaultValue`),f.setValue(`columns.${s}.generatedParams`,void 0)},children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("p",{className:"text-sm",children:"always as identity"}),u.jsx(pi,{checked:((P=L.value)==null?void 0:P.type)==="always"})]}),u.jsx("p",{className:"text-muted-foreground text-xs",children:"Identity column always generates a new value"})]}),u.jsxs("div",{className:"cursor-pointer",onClick:()=>{var F;L.onChange(((F=L.value)==null?void 0:F.type)==="by default"?void 0:{type:"by default"}),f.resetField(`columns.${s}.defaultValue`),f.setValue(`columns.${s}.generatedParams`,void 0)},children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("p",{className:"text-sm",children:"by default as identity"}),u.jsx(pi,{checked:((I=L.value)==null?void 0:I.type)==="by default"})]}),u.jsx("p",{className:"text-muted-foreground text-xs",children:"Identity column generates a new value by default"})]})]})})})}})})]})]}),E==="generation"&&u.jsx("div",{className:"min-w-[12.25rem] space-y-3 p-2",children:u.jsx(qt,{control:f.control,name:`columns.${s}.generatedParams`,render:({field:L})=>{var P;return u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx("div",{className:"space-y-3",children:u.jsx(Lr,{className:z("bg-background w-[11.25rem] min-w-[11.25rem] max-w-[25rem]"),placeholder:"Expression",placeholderAsLabel:!0,...L,value:((P=L.value)==null?void 0:P.as)||"",ref:I=>{L.ref(I),I&&(I.style.width="0px",I.style.width=`${I.scrollWidth+2}px`)},onChange:I=>{const F=I.target.value;F?(L.onChange({type:"stored",as:F}),f.setValue(`columns.${s}.identityParams`,void 0)):L.onChange(void 0)}})})})})}})}),E==="constraints"&&u.jsxs("div",{className:"min-w-[12.25rem] space-y-3 p-3",children:[u.jsx(qt,{control:f.control,name:`columns.${s}.isNotNull`,render:({field:L})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(br,{children:u.jsxs(Cr,{children:[u.jsx(xr,{asChild:!0,children:u.jsxs("div",{className:z("cursor-pointer",p.isPrimary&&"cursor-not-allowed"),onClick:()=>{if(p.isPrimary)return;const P=!L.value;L.onChange(P)},children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("p",{className:"text-sm",children:"Not null"}),u.jsx(pi,{checked:L.value,disabled:p.isPrimary})]}),u.jsx("p",{className:"text-muted-foreground text-xs",children:"Column must not assume the null value"})]})}),u.jsx(vr,{className:z(!p.isPrimary&&"hidden"),children:u.jsx("p",{className:"text-muted-foreground font-sans text-xs",children:"PRIMARY KEY constraint will enforce UNIQUE and NOT NULL constraint"})})]})})})})}),u.jsx(qt,{control:f.control,name:`columns.${s}.isPrimary`,render:({field:L})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(br,{children:u.jsxs(Cr,{children:[u.jsx(xr,{asChild:!0,children:u.jsxs("div",{className:z("cursor-pointer",i&&"cursor-not-allowed"),onClick:()=>{if(i)return;const P=!L.value;L.onChange(P),P?(f.setValue(`columns.${s}.isUnique`,!0),f.setValue(`columns.${s}.isNotNull`,!0)):(f.setValue(`columns.${s}.isUnique`,!1),f.setValue(`columns.${s}.isNotNull`,!1))},children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("p",{className:"text-sm",children:"Primary key"}),u.jsx(pi,{checked:L.value,disabled:i})]}),u.jsx("p",{className:"text-muted-foreground text-xs",children:"Can be used as a unique identifier for rows in the table"})]})}),u.jsx(vr,{className:z(!i&&"hidden"),children:u.jsx("p",{className:"text-muted-foreground font-sans text-xs",children:"Change the constraint of the composite primary key instead"})})]})})})})}),u.jsx(qt,{control:f.control,name:`columns.${s}.isUnique`,render:({field:L})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(br,{children:u.jsxs(Cr,{children:[u.jsx(xr,{asChild:!0,children:u.jsxs("div",{className:z("cursor-pointer",p.isPrimary&&"cursor-not-allowed"),onClick:()=>{p.isPrimary||L.onChange(!L.value)},children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("p",{className:"text-sm",children:"Unique"}),u.jsx(pi,{checked:L.value,disabled:p.isPrimary})]}),u.jsxs("p",{className:"text-muted-foreground text-xs",children:["Ensure that the data contained in a column is",u.jsx("br",{}),"unique among all the rows"]})]})}),u.jsx(vr,{className:z(!p.isPrimary&&"hidden"),children:u.jsx("p",{className:"text-muted-foreground font-sans text-xs",children:"PRIMARY KEY constraint will enforce UNIQUE and NOT NULL constraint"})})]})})})})})]}),E==="default"&&u.jsxs("div",{className:"min-w-[12.25rem] space-y-2 p-2",children:[u.jsx(qt,{control:f.control,name:`columns.${s}.defaultValue`,render:({field:L})=>{var P;return u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(br,{children:u.jsxs(Cr,{children:[u.jsx(xr,{asChild:!0,children:u.jsx(Lr,{className:z("bg-background w-[12.25rem] min-w-[12.25rem] max-w-[25rem]"),placeholder:"Default Value",placeholderAsLabel:!0,...L,disabled:((P=p.identityParams)==null?void 0:P.type)==="always",value:typeof L.value>"u"?"":String(L.value),ref:I=>{L.ref(I),I&&(I.style.width="0px",I.style.width=`${I.scrollWidth+2}px`)},onChange:I=>{const F=I.target.value||void 0;L.onChange(F)}})}),u.jsx(vr,{className:z(!p.identityParams&&"hidden"),children:u.jsx("p",{className:"text-muted-foreground font-sans text-xs",children:"If the column is an identity column, the default value is ignored."})})]})})})})}}),u.jsx("div",{className:"px-1",children:u.jsx(qt,{control:f.control,name:`columns.${s}.isDefaultAnExpression`,render:({field:L})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsxs("div",{className:"cursor-pointer",onClick:()=>{L.onChange(!L.value)},children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("p",{className:"text-sm",children:"expression"}),u.jsx(pi,{checked:L.value})]}),u.jsx("p",{className:"text-muted-foreground text-xs",children:"Set the default value as an expression"})]})})})})})]})]})]})]})},Jq=({initialValue:t,value:e,isAdded:r})=>{const n=t==null?void 0:t.map(o=>o).join(", "),s=e.map(o=>o).join(", ");return r?u.jsxs("span",{className:"text-structure-codeblock-edit-text truncate",children:["(",s,")"]}):n!==s?u.jsx("div",{children:u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text truncate",children:[u.jsxs("s",{children:["(",n,")"]}),"  (",s,")"]})}):u.jsxs("span",{className:"text-sql-variable truncate",children:["(",n,")"]})},m6e=({initialValue:t,value:e,isAdded:r})=>r?u.jsxs("span",{className:"text-structure-codeblock-edit-text",children:["(",e,")"]}):t!==e?u.jsx("div",{children:u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:[u.jsxs("s",{children:["(",t,")"]}),"  (",e,")"]})}):u.jsxs("span",{className:"text-sql-variable",children:["(",t,")"]}),p6e=({initialValue:t,value:e,isAdded:r})=>{const n=t,s=e;return r?u.jsx("span",{className:"text-structure-codeblock-edit-text",children:s}):n!==s?u.jsx("div",{children:u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:[u.jsx("s",{children:n}),"  ",s]})}):u.jsx("span",{className:"text-sql-variable",children:n})},E6e=({initialValue:t,value:e,isAdded:r})=>e==="NO ACTION"?null:r&&e?u.jsx("div",{children:u.jsxs("span",{className:"text-structure-codeblock-edit-text",children:["ON DELETE ",e]})}):typeof t>"u"&&typeof e<"u"?u.jsx("div",{children:u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:["ON DELETE ",e]})}):typeof t<"u"&&typeof e>"u"?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:u.jsxs("s",{children:["ON DELETE ",t]})})}):typeof t<"u"&&typeof e<"u"&&t!==e?u.jsxs("div",{className:"space-x-2",children:[u.jsx("span",{className:z("text-sql-keyword"),children:"ON DELETE"}),u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:[u.jsx("s",{children:t}),"  ",e]})]}):typeof t<"u"&&typeof e<"u"&&t===e?u.jsxs("div",{className:"space-x-2",children:[u.jsx("span",{className:z("text-sql-keyword"),children:"ON DELETE"}),u.jsx("span",{className:z("text-sql-keyword"),children:e})]}):null,g6e=({initialValue:t,value:e,isAdded:r})=>e==="NO ACTION"?null:r&&e?u.jsx("div",{children:u.jsxs("span",{className:"text-structure-codeblock-edit-text",children:["ON UPDATE ",e]})}):typeof t>"u"&&typeof e<"u"?u.jsx("div",{children:u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:["ON UPDATE ",e]})}):typeof t<"u"&&typeof e>"u"?u.jsx("div",{children:u.jsx("span",{className:"bg-structure-edit text-structure-edit-text",children:u.jsxs("s",{children:["ON UPDATE ",t]})})}):typeof t<"u"&&typeof e<"u"&&t!==e?u.jsxs("div",{className:"space-x-2",children:[u.jsx("span",{className:z("text-sql-keyword"),children:"ON UPDATE"}),u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:[u.jsx("s",{children:t}),"  ",e]})]}):typeof t<"u"&&typeof e<"u"&&t===e?u.jsxs("div",{className:"space-x-2",children:[u.jsx("span",{className:z("text-sql-keyword"),children:"ON UPDATE"}),u.jsx("span",{className:z("text-sql-keyword"),children:e})]}):null,T6e=({initialValue:t,value:e,isAdded:r})=>{const n=t,s=e;return r?u.jsx("span",{className:"text-structure-codeblock-edit-text",children:s}):n!==s?u.jsx("div",{children:u.jsxs("span",{className:"bg-structure-edit text-structure-edit-text",children:[u.jsx("s",{children:n}),"  ",s]})}):u.jsx("span",{className:"text-sql-variable",children:n})};var Zq=(t=>(t.primary="PRIMARY KEY",t.foreign="FOREIGN KEY",t.unique="UNIQUE",t.check="CHECK",t))(Zq||{});const JA=({readonly:t,clickToCopy:e,setIsCopiedTooltipVisible:r,isAdded:n,index:s,initialValues:i,onRemove:o,isSelected:a,showCheckbox:l,onSelect:c})=>{const d=it(x=>{if(!x.dialect)throw new Error("Dialect not found");return x.dialect}),h=sl(),m=h.watch("columns"),f=h.watch(`constraints.${s}`),[p,E]=y.useState("name"),g=it(x=>x.schemas),T=y.useMemo(()=>!Pr(i,f),[JSON.stringify(i),JSON.stringify(f)]),[S,v]=y.useState(n),N=Object.entries(g).flatMap(([x,A])=>Object.keys(A.tables).map(b=>({schema:x,table:b}))),C=y.useMemo(()=>f.type!=="foreign"||!f.refSchema||!f.refTable||!g[f.refSchema]||!g[f.refSchema].tables[f.refTable]?[]:Object.values(g[f.refSchema].tables[f.refTable].columns),[f]);return u.jsxs("div",{className:z("border-structure-codeblock-border -mt-px border hover:relative hover:z-10",S&&"mb-[0.3125rem] mt-1",s===0&&"!mt-0",!t&&"group",(!t||e)&&"hover:border-structure-codeblock-border-hover",n&&"border-structure-codeblock-edit-border hover:border-structure-codeblock-edit-border-hover"),onClick:()=>{t&&e&&(navigator.clipboard.writeText(`${f.name}`),r==null||r(!0),setTimeout(()=>{r==null||r(!1)},1e3))},children:[u.jsxs("div",{className:"relative flex items-center",children:[u.jsxs("div",{className:z("bg-structure-codeblock relative flex w-full items-center py-1 pr-3 leading-[1.625rem]",(!t||e)&&"hover:bg-structure-codeblock-hover cursor-pointer",n&&"bg-structure-codeblock-edit text-structure-codeblock-edit-text hover:bg-structure-codeblock-edit-hover"),onClick:()=>{t||v(!S)},children:[u.jsx("div",{className:z("absolute right-full mr-px hidden h-full items-center px-2 group-hover:flex",(l||S)&&"flex"),onClick:x=>x.stopPropagation(),children:n?u.jsx(Ji,{className:"size-4",onClick:x=>{x.stopPropagation(),o()}}):u.jsx(Po,{className:z("border-structure-codeblock-border",!a&&"group-hover:border-structure-codeblock-border-hover"),checked:a,onClick:x=>x.stopPropagation(),onCheckedChange:c})}),u.jsxs("div",{className:z("font-menlo flex w-full flex-col space-x-0 truncate whitespace-nowrap pl-3 @xl:flex-row @xl:space-x-2"),children:[u.jsxs("span",{className:"inline-flex space-x-2",children:[n&&u.jsx("span",{children:"+"}),u.jsx("span",{className:z("text-sql-keyword",n&&"text-structure-codeblock-edit-text"),children:"CONSTRAINT"}),u.jsx(p6e,{initialValue:i==null?void 0:i.name,value:f.name,isAdded:n})]}),u.jsxs("span",{className:"inline-flex space-x-2",children:[u.jsx("span",{className:z("text-sql-keyword truncate",n&&"text-structure-codeblock-edit-text"),children:Zq[f.type]}),f.type==="check"&&u.jsx(m6e,{initialValue:(i==null?void 0:i.type)==="check"?i.expression:void 0,value:f.expression,isAdded:n}),f.type!=="check"&&u.jsx(Jq,{initialValue:(i==null?void 0:i.type)!=="check"?i==null?void 0:i.columns:void 0,value:f.columns,isAdded:n})]}),f.type==="foreign"&&u.jsxs(u.Fragment,{children:[u.jsxs("span",{className:"inline-flex space-x-2",children:[u.jsx("span",{className:z("text-sql-keyword",n&&"text-structure-codeblock-edit-text"),children:"REFERENCES"}),u.jsx(T6e,{initialValue:(i==null?void 0:i.type)==="foreign"?d==="postgresql"?`${i.refSchema}.${i.refTable}`:i.refTable:void 0,value:d==="postgresql"?`${f.refSchema}.${f.refTable}`:f.refTable,isAdded:n}),u.jsx(Jq,{initialValue:(i==null?void 0:i.type)==="foreign"?i.refColumns:void 0,value:f.refColumns,isAdded:n})]}),u.jsx(g6e,{initialValue:(i==null?void 0:i.type)==="foreign"?i.updateRule:void 0,value:f.updateRule,isAdded:n}),u.jsx(E6e,{initialValue:(i==null?void 0:i.type)==="foreign"?i.deleteRule:void 0,value:f.deleteRule,isAdded:n})]})]}),u.jsx("div",{className:"invisible ml-1 group-hover:visible",children:S?u.jsx(a0,{className:"size-4"}):u.jsx(yd,{className:"size-4"})})]}),!n&&T&&u.jsx("div",{className:z("absolute left-full ml-px flex h-full cursor-pointer items-center px-2"),onClick:x=>{x.stopPropagation(),h.resetField(`constraints.${s}`)},children:u.jsx(DO,{className:"size-4"})})]}),S&&u.jsxs("div",{className:z("border-structure-codeblock-border group-hover:border-structure-codeblock-border-hover flex min-h-[12.3125rem] border-t",n&&"border-structure-codeblock-edit-border group-hover:border-structure-codeblock-edit-border-hover"),children:[u.jsxs("div",{className:z("border-structure-codeblock-border group-hover:border-structure-codeblock-border-hover flex min-w-[12.25rem] flex-col border-r p-2",n&&"border-structure-codeblock-edit-border group-hover:border-structure-codeblock-edit-border-hover"),children:[u.jsx(Le,{variant:"outline",isActive:p==="name",size:"sm",className:"group/button justify-start border-none pr-1 font-normal",onClick:()=>E("name"),children:"Constraint name"}),f.type==="check"&&u.jsx(Le,{variant:"outline",isActive:p==="expression",size:"sm",className:"group/button justify-start border-none pr-1 font-normal",onClick:()=>E("expression"),children:"Expression"}),f.type!=="check"&&u.jsx(Le,{variant:"outline",isActive:p==="columns",size:"sm",className:"group/button justify-start border-none pr-1 font-normal",onClick:()=>E("columns"),children:"Columns"}),f.type==="foreign"&&u.jsxs(u.Fragment,{children:[u.jsx(Le,{variant:"outline",isActive:p==="refColumns",size:"sm",className:"group/button justify-start border-none pr-1 font-normal",onClick:()=>E("refColumns"),children:"Reference columns"}),u.jsx(Le,{variant:"outline",isActive:p==="rules",size:"sm",className:"group/button justify-start border-none pr-1 font-normal",onClick:()=>E("rules"),children:"Rules"})]})]}),u.jsxs("div",{children:[p==="name"&&u.jsx("div",{className:"min-w-[12.25rem] p-2",children:u.jsx(qt,{control:h.control,name:`constraints.${s}.name`,render:({field:x})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(Lr,{className:z("bg-background w-[12.25rem] min-w-[12.25rem] max-w-[25rem]"),placeholder:"Constraint name",placeholderAsLabel:!0,...x,value:x.value||"",ref:A=>{x.ref(A),A&&(A.style.width="0px",A.style.width=`${A.scrollWidth+2}px`)},onChange:A=>{const b=A.target.value;x.onChange(b)}})})})})}),p==="expression"&&u.jsx("div",{className:"min-w-[12.25rem] p-2",children:u.jsx(qt,{control:h.control,name:`constraints.${s}.expression`,render:({field:x})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(Lr,{className:z("bg-background w-[12.25rem] min-w-[12.25rem] max-w-[25rem]"),placeholder:"Expression",placeholderAsLabel:!0,...x,value:x.value||"",ref:A=>{x.ref(A),A&&(A.style.width="0px",A.style.width=`${A.scrollWidth+2}px`)},onChange:A=>{const b=A.target.value;x.onChange(b)}})})})})}),p==="columns"&&u.jsx("div",{className:z("border-structure-codeblock-border group-hover:border-structure-codeblock-border-hover h-[12.25rem] min-w-[12.25rem] border-r",n&&"border-structure-codeblock-edit-border group-hover:border-structure-codeblock-edit-border-hover"),children:u.jsx(qt,{control:h.control,name:`constraints.${s}.columns`,render:({field:x})=>u.jsx(_n,{multiSelect:!0,asList:!0,className:"h-9",value:x.value,label:`${x.value.length} selected`,onChange:x.onChange,options:m,optionLabel:A=>A.name,optionValue:A=>A.name})})}),p==="refColumns"&&u.jsxs("div",{className:"flex h-[12.25rem]",children:[u.jsx("div",{className:z("border-structure-codeblock-border group-hover:border-structure-codeblock-border-hover min-w-[12.25rem] border-r",n&&"border-structure-codeblock-edit-border group-hover:border-structure-codeblock-edit-border-hover"),children:u.jsx(qt,{control:h.control,name:`constraints.${s}`,render:({field:x})=>x.value.type!=="foreign"?u.jsx(u.Fragment,{}):u.jsx(_n,{className:"m-1 h-9",asList:!0,value:`${x.value.refSchema}.${x.value.refTable}`,searchPlaceholder:"Search table...",onChange:A=>{const[b,_]=A.split(".");h.setValue(`constraints.${s}.refColumns`,[]),x.onChange({...x.value,refSchema:b,refTable:_})},options:N,optionLabel:A=>d==="postgresql"?`${A.schema}.${A.table}`:A.table,optionValue:A=>`${A.schema}.${A.table}`})})}),u.jsx("div",{className:z("border-structure-codeblock-border group-hover:border-structure-codeblock-border-hover min-w-[12.25rem] border-r",n&&"border-structure-codeblock-edit-border group-hover:border-structure-codeblock-edit-border-hover"),children:u.jsx(qt,{control:h.control,name:`constraints.${s}.refColumns`,render:({field:x})=>u.jsx(_n,{multiSelect:!0,asList:!0,searchPlaceholder:"Search column...",className:"h-7",value:x.value,onChange:x.onChange,options:C,optionLabel:A=>A.name,optionValue:A=>A.name})})})]}),p==="rules"&&u.jsxs("div",{className:"flex h-[12.25rem] flex-col gap-2 p-2",children:[u.jsx(qt,{control:h.control,name:`constraints.${s}.updateRule`,render:({field:x})=>u.jsx(_n,{value:x.value,onChange:x.onChange,withoutSearch:!0,options:["NO ACTION","CASCADE","SET NULL","SET DEFAULT","RESTRICT"],className:"h-10 p-0",label:u.jsx("div",{className:"h-10 min-w-[12.25rem] max-w-[25rem] p-0",children:u.jsxs("div",{className:"flex w-full items-center justify-between gap-2 pl-3 pr-2",children:[u.jsxs("div",{className:"group relative flex grow flex-col",children:[u.jsx("div",{className:z("flex h-10 w-full items-center pt-3 text-sm"),children:x.value.toLowerCase()}),u.jsx("label",{className:z("text-input-placeholder pointer-events-none absolute origin-top-left translate-y-1/2 whitespace-nowrap text-sm duration-100 ease-out group-focus-within:translate-y-1/4 group-focus-within:scale-75",x.value&&"translate-y-1/4 scale-75"),children:"On Update"})]}),u.jsx(Ql,{className:"size-4 opacity-50"})]})}),icon:u.jsx(u.Fragment,{}),optionLabel:A=>A.toLowerCase(),optionValue:A=>A})}),u.jsx(qt,{control:h.control,name:`constraints.${s}.deleteRule`,render:({field:x})=>u.jsx(_n,{value:x.value,onChange:x.onChange,withoutSearch:!0,options:["NO ACTION","CASCADE","SET NULL","SET DEFAULT","RESTRICT"],className:"h-10 p-0",label:u.jsx("div",{className:"h-10 min-w-[12.25rem] max-w-[25rem] p-0",children:u.jsxs("div",{className:"flex w-full items-center justify-between gap-2 pl-3 pr-2",children:[u.jsxs("div",{className:"group relative flex grow flex-col",children:[u.jsx("div",{className:z("flex h-10 w-full items-center pt-3 text-sm"),children:x.value.toLowerCase()}),u.jsx("label",{className:z("text-input-placeholder pointer-events-none absolute origin-top-left translate-y-1/2 whitespace-nowrap text-sm duration-100 ease-out group-focus-within:translate-y-1/4 group-focus-within:scale-75",x.value&&"translate-y-1/4 scale-75"),children:"On Delete"})]}),u.jsx(Ql,{className:"size-4 opacity-50"})]})}),icon:u.jsx(u.Fragment,{}),optionLabel:A=>A.toLowerCase(),optionValue:A=>A})})]})]})]})]})},S6e=({schema:t,table:e,selectedColumns:r,selectedConstraints:n,selectedIndexes:s,deselectAll:i,open:o,setOpen:a})=>{const l=ht(C=>C.readonlyMode),c=it(({dialect:C})=>{if(!C)throw new Error("No dialect");return C}),d=Me(C=>C.actions.setCurrentPage),{prepareDrops:h}=gn(),{createSnippet:m,selectSnippet:f}=Sn(),p=y.useMemo(()=>h({schema:t,table:e,columns:r,constraints:n,indexes:s}),[o]),[E,g]=y.useState(null),[T,S]=y.useState([]),v=()=>{g("pending");let C="success";p.execute(x=>{S(A=>[...A,{index:x,error:null}])},(x,A)=>{S(b=>[...b,{index:x,error:A}]),C="failure",ds(A,!1)}).then(()=>{g(C),C==="success"&&(i(),a(!1))})},N=async()=>{const C=T.filter(({error:A})=>A).map(({index:A})=>p.statements[A]).filter(Boolean).filter(A=>A&&A.type==="statement").map(A=>A.value.endsWith(";")?A.value:`${A.value};`).join(`
`),x=m(`Drops for ${e}`,C);f(x),d("sql-runner"),i(),a(!1)};return u.jsxs(Mo,{className:"text-foreground @sm:max-w-[37.5rem] flex max-h-[90%] flex-col gap-0 px-0",onMouseEnter:C=>{C.stopPropagation()},closeBtn:!1,children:[u.jsx(tc,{className:"space-y-2 px-6 pb-6",children:u.jsx(rc,{children:"Confirm dropping"})}),u.jsx("div",{className:"border-t border-dashed"}),u.jsxs("div",{className:"mt-6 space-y-2 overflow-auto pr-6",children:[p.statements.map((C,x)=>{const A=T.find(j=>j.index===x),b=A==null?void 0:A.error,_=b===null,U=b instanceof Error;return u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex size-12 items-center justify-center",children:C.type==="message"&&_?u.jsx("div",{className:"size-3 rounded-full bg-yellow-600"}):_?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-green-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",strokeWidth:"0"})}):U?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-red-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z",fill:"currentColor",strokeWidth:"0"})}):E==="pending"?u.jsx(jn,{className:"size-4"}):u.jsx("div",{className:"bg-border size-3 rounded-full"})}),u.jsxs("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full flex-col items-center justify-between overflow-auto border text-sm",children:[u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable w-full whitespace-pre p-3",dangerouslySetInnerHTML:{__html:C.type==="message"?Fl(C.value):os(Ps(C.value,c))}}),C.type==="message"&&u.jsx("div",{className:"w-full border-t py-3",children:u.jsx("div",{className:"px-3 text-xs text-yellow-600",children:_?"This statement was skipped":"This statement will be skipped"})}),b&&u.jsxs("div",{className:"w-full border-t py-3",children:[u.jsx("div",{className:"mb-2 px-3 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-3",children:b.message})]})]})]},x)}),u.jsx("div",{className:z("from-background sticky bottom-0 !m-0 h-2 bg-gradient-to-t",!1)})]}),u.jsxs(el,{className:"mt-12 px-6",children:[E!=="failure"&&u.jsxs(u.Fragment,{children:[u.jsx(Le,{size:"sm",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),u.jsx(Le,{size:"sm",variant:"destructive",onClick:v,isLoading:E==="pending",children:"Drop"})]}),E==="failure"&&u.jsxs(u.Fragment,{children:[u.jsx(Le,{size:"sm",variant:"outline",onClick:()=>a(!1),children:"Close"}),!l&&!0&&!0&&!0&&u.jsx(Le,{size:"sm",variant:"outline",onClick:N,children:"Open failed in SQL"})]})]})]})},v6e=t=>{const[e,r]=y.useState(!1);return u.jsxs(Ea,{open:e,onOpenChange:r,children:[u.jsx(Sg,{asChild:!0,children:u.jsx(Le,{className:"h-8",variant:"destructive",size:"sm",children:"Drop selected"})}),e&&u.jsx(S6e,{open:e,setOpen:r,...t})]})},y6e=({loading:t,statements:e,error:r})=>{const n=it(({dialect:o})=>{if(!o)throw new Error("No dialect");return o}),s=e.every(({status:o})=>o==="success")&&!r,i=e.some(({status:o})=>o==="failed")||r;return u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex size-[48px] items-center justify-center",children:s?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5 text-green-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",strokeWidth:"0"})}):i?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5 text-red-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z",fill:"currentColor",strokeWidth:"0"})}):t?u.jsx(jn,{className:"size-4"}):u.jsx("div",{className:"bg-border size-[12px] rounded-full"})}),u.jsxs("div",{className:"w-full border border-dashed",children:[u.jsx("div",{className:"w-full space-y-2 p-2",children:e.map(({value:o,error:a},l)=>u.jsxs("div",{className:z("font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full flex-col items-center justify-between overflow-auto border text-[14px]"),children:[u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable w-full whitespace-pre p-3",dangerouslySetInnerHTML:{__html:os(Ps(o,n))}}),a&&u.jsxs("div",{className:"w-full border-t py-3",children:[u.jsx("div",{className:"mb-2 px-3 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-3 text-[14px]",children:a.message})]})]},l))}),r&&u.jsxs("div",{className:"w-full border-t border-dashed py-2",children:[u.jsx("div",{className:"mb-2 px-2 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-2 text-[14px]",children:r.message})]})]})]})},eK=Rs({id:Kt().optional(),schema:Kt().min(1,"Required"),name:Kt().min(1,"Required"),columns:Rs({id:Kt().optional(),name:Kt().min(1),type:Kt().min(1),typeParams:X8e(nD()).optional(),isPrimary:Fo(),isAutoIncrement:Fo().optional(),isNotNull:Fo(),isUnique:Fo(),defaultValue:nD().optional(),isDefaultAnExpression:Fo().optional(),identityParams:Rs({type:Am([Yn("always"),Yn("by default")])}).optional(),generatedParams:Rs({type:Am([Yn("stored"),Yn("virtual")]),as:Kt()}).optional(),isAdded:Fo().optional()}).array(),constraints:Am([Rs({id:Kt().optional(),name:Kt().min(1),type:Yn("primary"),columns:Ru(Kt().min(1)),isAdded:Fo().optional()}),Rs({id:Kt().optional(),name:Kt().min(1),type:Yn("foreign"),columns:Ru(Kt().min(1)),refSchema:Kt().min(1),refTable:Kt().min(1),refColumns:Ru(Kt().min(1)),updateRule:Am([Yn("NO ACTION"),Yn("CASCADE"),Yn("SET NULL"),Yn("SET DEFAULT"),Yn("RESTRICT")]),deleteRule:Am([Yn("NO ACTION"),Yn("CASCADE"),Yn("SET NULL"),Yn("SET DEFAULT"),Yn("RESTRICT")]),isAdded:Fo().optional()}),Rs({id:Kt().optional(),name:Kt().min(1),type:Yn("unique"),columns:Ru(Kt().min(1)),isAdded:Fo().optional()}),Rs({id:Kt().optional(),name:Kt().min(1),type:Yn("check"),expression:Kt(),isAdded:Fo().optional()})]).array(),indexes:Rs({id:Kt().optional(),name:Kt().min(1),columns:Ru(Kt().min(1)),method:Kt().min(1).optional(),isUnique:Fo(),origin:Q8e(["auto","manual"]).optional(),isAdded:Fo().optional()}).array()}),A6e=({schema:t,name:e,scenario:r})=>{const n=ht(he=>he.readonlyMode),s=it(he=>{if(!he.dialect)throw new Error("Dialect not found");return he.dialect}),i=Is(he=>he.theme),o=it(he=>he.schemas),a=it(({schemas:he})=>Object.values(he).flatMap(Ne=>Object.values(Ne.enums)),Pr),l=it(({schemas:he})=>he[t].tables[e].columns,Pr),c=it(({schemas:he})=>he[t].tables[e].constraints,Pr),d=it(({schemas:he})=>he[t].tables[e].indexes,Pr),{prepareTableChanges:h}=gn(),{createSnippet:m,selectSnippet:f}=Sn(),{setCurrentPage:p,discardChanges:E}=sr(),[g,T]=y.useState([]),[S,v]=y.useState([]),[N,C]=y.useState([]),x=y.useMemo(()=>({schema:t,name:e,columns:Object.values(l),constraints:Object.values(c),indexes:Object.values(d)}),[t,e,l,c,d]),A=ic({resolver:Su(eK),defaultValues:x});y.useLayoutEffect(()=>{A.reset(x)},[x]);const[b,_]=y.useState(!1),{fields:U,append:j,remove:L}=ol({control:A.control,name:"columns",keyName:"formId"}),P=y.useMemo(()=>U.map((he,Ne)=>({field:he,index:Ne})).filter(({field:he})=>he.isAdded),[U]),I=y.useMemo(()=>U.map((he,Ne)=>({field:he,index:Ne})).filter(({field:he})=>!he.isAdded),[U]),{fields:F,append:W,remove:Y}=ol({control:A.control,name:"constraints",keyName:"formId"}),k=y.useMemo(()=>F.map((he,Ne)=>({field:he,index:Ne})).filter(({field:he})=>he.isAdded),[F]),V=y.useMemo(()=>F.map((he,Ne)=>({field:he,index:Ne})).filter(({field:he})=>!he.isAdded),[F]),{fields:re,append:K,remove:B}=ol({control:A.control,name:"indexes",keyName:"formId"}),X=y.useMemo(()=>re.map((he,Ne)=>({field:he,index:Ne})).filter(({field:he})=>he.isAdded),[re]),J=y.useMemo(()=>re.map((he,Ne)=>({field:he,index:Ne})).filter(({field:he})=>!he.isAdded),[re]),Z=g.length>0||S.length>0||N.length>0,Ee=()=>{var Ye,Ge;const Ne=`constraint_${k.length+1}`,Se=((Ye=ve.columns.find(Ze=>!Ze.isPrimary))==null?void 0:Ye.name)||((Ge=ve.columns[0])==null?void 0:Ge.name);W({name:Ne,type:"primary",columns:[Se],isAdded:!0})},se=()=>{const Ne=`constraint_${k.length+1}`,Se=t,Ye=Object.keys(o[Se].tables)[0],Ge=[Object.keys(o[Se].tables[Ye].columns)[0]];W({name:Ne,type:"foreign",columns:[Object.keys(l)[0]],refSchema:Se,refTable:Ye,refColumns:Ge,updateRule:"NO ACTION",deleteRule:"NO ACTION",isAdded:!0})},ie=()=>{var Ye,Ge;const Ne=`constraint_${k.length+1}`,Se=((Ye=ve.columns.find(Ze=>!Ze.isPrimary))==null?void 0:Ye.name)||((Ge=ve.columns[0])==null?void 0:Ge.name);W({name:Ne,type:"unique",columns:[Se],isAdded:!0})},Te=()=>{const Ne=`constraint_${k.length+1}`;W({name:Ne,type:"check",expression:"",isAdded:!0})},ve=A.watch(),_e=y.useMemo(()=>!Pr(x,ve),[x,ve]),[fe,je]=y.useState(null);y.useEffect(()=>{const he={...ve,columns:ve.columns.map(Ne=>{const{isAdded:Se,...Ye}=Ne;return Ye}),constraints:ve.constraints.map(Ne=>{const{isAdded:Se,...Ye}=Ne;return Ye}),indexes:ve.indexes.map(Ne=>{const{isAdded:Se,...Ye}=Ne;return Ye})};h(t,e,he).then(je)},[b]);const[H,Ce]=y.useState(null),[be,ce]=y.useState([]),Q=()=>{Ce("pending");let he="success";fe==null||fe.execute(Ne=>{ce(Se=>[...Se,Ne]),Ne.error&&(he="failure",ds(Ne.error,!1))}).then(()=>{Ce(he)})},Ae=he=>{_(he),he||(ce([]),Ce(null))},te=y.useMemo(()=>{var he;return getComputedStyle(((he=wn.getState().shadowRoot)==null?void 0:he.host)||document.body).getPropertyValue("--structure-card-border").replace("#","%23")},[i]),ae=()=>{T([]),v([]),C([])},le=y.useMemo(()=>x.name!==ve.name,[x.name,ve.name]),we=y.useMemo(()=>Object.values(c).some(he=>he.type==="primary"&&he.columns.length>1),[c]),[Ie,ue]=y.useState(!1);y.useEffect(()=>{const he=document.querySelector("#sentinel");if(!he)return;const Ne=new IntersectionObserver(([Se])=>{ue(Se.intersectionRatio<1&&(_e||Z))},{threshold:[.1,1]});return Ne.observe(he),()=>{Ne.disconnect()}},[_e,Z]),y.useEffect(()=>()=>{ae()},[t,e]),y.useEffect(()=>{if(r==="add-column"){const Ne=`column_${P.length+1}`;j({isAdded:!0,name:Ne,type:"text",isPrimary:!1,isUnique:!1,isNotNull:!1})}},[r]);const pe=()=>{const he=be.filter(({error:Se})=>Se).map(Se=>Se.type==="statement"?Se.value:Se.statements.map(Ye=>Ye.value).join(`
`)).join(`
`),Ne=m(`Alter ${e} table`,he);f(Ne),p("sql-runner"),E()};return u.jsx("div",{className:z("flex min-w-[0] flex-1 flex-col overflow-hidden",!1),children:u.jsx(oc,{...A,children:u.jsx("div",{className:"bg-structure grid grow auto-rows-min gap-5 overflow-auto border-t p-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='${te}' fill-opacity='1'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`},children:u.jsxs("div",{className:z("grid h-fit min-h-[30rem] w-fit min-w-[41.25rem]"),children:[u.jsxs("div",{className:z("bg-background grid-area-1-1 border-structure-card-border relative border",b&&"hidden"),children:[u.jsx("div",{id:"sentinel",className:"invisible absolute z-[2] mt-4"}),u.jsxs("div",{className:z("bg-background flex justify-between px-8 pb-2 pt-6",Ie&&"sticky -top-9 z-[1] items-center border-b"),children:[u.jsx(qt,{name:"name",render:({field:he})=>u.jsxs(yr,{className:"space-y-1",children:[u.jsx(Ar,{children:u.jsx(Lr,{className:z("bg-background w-0 min-w-[7.5rem]",le&&"text-edit-foreground bg-edit !border-edit-foreground"),placeholderClassName:z(le&&"text-edit-placeholder"),placeholder:"Table name",placeholderAsLabel:!0,...he,ref:Ne=>{he.ref(Ne),Ne&&(Ne.style.width="0px",Ne.style.width=`${Ne.scrollWidth+2}px`)},onChange:Ne=>{const Se=Ne.target.value;A.setValue("name",Se)}})}),u.jsx(ac,{})]})}),(_e||Z)&&u.jsxs("div",{className:"flex space-x-2",children:[Z&&u.jsxs(u.Fragment,{children:[u.jsx(Le,{className:"h-8 px-3",variant:"link",onClick:ae,children:"Deselect all"}),u.jsx(v6e,{schema:t,table:e,selectedColumns:g,selectedConstraints:S,selectedIndexes:N,deselectAll:ae})]}),_e&&!Z&&u.jsx(Le,{className:"h-8",variant:"link",onClick:()=>{A.reset(),Ae(!1)},children:"Discard all changes"}),_e&&!Z&&u.jsx(Le,{className:"h-8",onClick:()=>{A.handleSubmit(()=>Ae(!0))()},children:"Review and commit"})]})]}),u.jsxs("div",{className:"px-8 pt-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative flex items-center",children:[g.length>0&&u.jsx("div",{className:"absolute right-full flex h-full items-center px-2",children:u.jsx(Po,{checked:g.length===Object.keys(l).length,onCheckedChange:he=>{T(he?Object.keys(l):[])}})}),u.jsx("div",{className:"text-xs font-semibold uppercase",children:"Columns"})]}),u.jsx(Le,{className:"text-structure-button-link-text h-fit p-0 text-xs leading-none",variant:"link",onClick:()=>{const Ne=`column_${P.length+1}`;j({isAdded:!0,name:Ne,type:"text",isPrimary:!1,isUnique:!1,isNotNull:!1})},children:"Add column"})]}),u.jsxs("div",{className:"mt-2 flex flex-col space-y-1 text-sm",children:[P.length>0&&u.jsx("div",{children:P.map(({field:he,index:Ne})=>u.jsx(QA,{isAdded:!0,enums:a,showCheckbox:Z,isTableHaveCompositePrimaryKey:we,isSelected:!1,onSelect:()=>{},index:Ne,onRemove:()=>L(Ne)},he.formId))}),I.length>0&&u.jsx("div",{children:I.map(({field:{formId:he,...Ne},index:Se})=>u.jsx(QA,{index:Se,showCheckbox:Z,isSelected:g.includes(Ne.name),onSelect:()=>{T(Ye=>Ye.includes(Ne.name)?Ye.filter(Ge=>Ge!==Ne.name):[...Ye,Ne.name])},enums:a,isTableHaveCompositePrimaryKey:we,initialValues:Ne,onRemove:()=>A.resetField(`columns.${Se}`)},he))})]})]}),u.jsxs("div",{className:"mt-6 px-8",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative flex items-center",children:[S.length>0&&u.jsx("div",{className:"absolute right-full flex h-full items-center px-2",children:u.jsx(Po,{checked:S.length===Object.keys(c).length,onCheckedChange:he=>{v(he?Object.keys(c):[])}})}),u.jsx("div",{className:"text-xs font-semibold uppercase",children:"Constraints"})]}),u.jsxs(Bs,{children:[u.jsx(Fs,{asChild:!0,children:u.jsx(Le,{className:"text-structure-button-link-text h-fit p-0 text-xs leading-none",variant:"link",children:"Add constraint"})}),u.jsxs(As,{className:"w-[12.5rem] p-2",children:[u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:Ee,children:[u.jsx(c6,{className:"mr-2 size-4"}),"Primary Key"]}),u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:se,children:[u.jsx(h6,{className:"mr-2 size-4"}),"Foreign Key"]}),u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:ie,children:[u.jsx(o6,{className:"mr-2 size-4"}),"Unique Constraint"]}),u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:Te,children:[u.jsx(u6,{className:"mr-2 size-4"}),"Check Constraint"]})]})]})]}),u.jsxs("div",{className:"mt-2 flex flex-col space-y-1 text-sm",children:[k.length>0&&u.jsx("div",{children:k.map(({field:he,index:Ne})=>u.jsx(JA,{isAdded:!0,showCheckbox:Z,isSelected:!1,onSelect:()=>{},index:Ne,onRemove:()=>Y(Ne)},he.formId))}),V.length>0&&u.jsx("div",{children:V.map(({field:{formId:he,...Ne},index:Se})=>u.jsx(JA,{index:Se,showCheckbox:Z,isSelected:S.includes(Ne.name),onSelect:()=>{v(Ye=>Ye.includes(Ne.name)?Ye.filter(Ge=>Ge!==Ne.name):[...Ye,Ne.name])},initialValues:Ne,onRemove:()=>A.resetField(`constraints.${Se}`)},he))})]})]}),u.jsxs("div",{className:"mt-6 px-8 pb-8",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative flex items-center",children:[N.length>0&&u.jsx("div",{className:"absolute right-full flex h-full items-center px-2",children:u.jsx(Po,{checked:N.length===Object.keys(d).length,onCheckedChange:he=>{C(he?Object.keys(d):[])}})}),u.jsx("div",{className:"text-xs font-semibold uppercase",children:"Indexes"})]}),u.jsx(Le,{className:"text-structure-button-link-text h-fit p-0 text-xs leading-none",variant:"link",onClick:()=>{var Ye,Ge;const Ne=`index_${X.length+1}`,Se=((Ye=ve.columns.find(Ze=>!Ze.isPrimary))==null?void 0:Ye.name)||((Ge=ve.columns[0])==null?void 0:Ge.name);K({isAdded:!0,name:Ne,columns:[Se],method:"btree",isUnique:!1})},children:"Add index"})]}),u.jsxs("div",{className:"mt-2 flex flex-col space-y-1 text-sm",children:[X.length>0&&u.jsx("div",{children:X.map(({field:he,index:Ne})=>u.jsx(zg,{isAdded:!0,showCheckbox:Z,isSelected:!1,onSelect:()=>{},index:Ne,onRemove:()=>B(Ne)},he.formId))}),J.filter(he=>he.field.origin!=="auto").length>0&&u.jsx("div",{children:J.filter(he=>he.field.origin!=="auto").map(({field:{formId:he,...Ne},index:Se})=>u.jsx(zg,{index:Se,showCheckbox:Z,isSelected:N.includes(Ne.name),onSelect:()=>{C(Ye=>Ye.includes(Ne.name)?Ye.filter(Ge=>Ge!==Ne.name):[...Ye,Ne.name])},initialValues:Ne,onRemove:()=>A.resetField(`indexes.${Se}`)},he))}),J.filter(he=>he.field.origin==="auto").length>0&&u.jsx(s6e,{indexes:J.filter(he=>he.field.origin==="auto")})]})]})]}),b&&u.jsxs("div",{className:"grid-area-1-1 bg-background border-structure-card-border z-[1] h-full border p-6 pl-[0]",children:[u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Le,{className:"h-8",variant:"link",onClick:()=>Ae(!1),children:"Back to schema"}),H==="failure"&&!n&&!0&&!0&&!0&&u.jsx(Le,{className:"h-8",variant:"outline",onClick:pe,children:"Open failed in SQL"}),H!=="success"&&H!=="failure"&&u.jsx(Le,{className:"h-8",disabled:H==="pending",onClick:Q,isLoading:H==="pending",children:"Commit changes"})]}),u.jsx("div",{className:"mt-6 space-y-2",children:fe==null?void 0:fe.statements.map((he,Ne)=>{const Se=be[Ne];if(he.type==="transaction")return u.jsx(y6e,{loading:H==="pending",statements:he.statements.map((ut,He)=>{const lt=(Se==null?void 0:Se.type)==="transaction"?Se.statements[He]:void 0;return{value:ut,status:lt?lt.error?"failed":"success":"idle",error:lt==null?void 0:lt.error}}),error:Se==null?void 0:Se.error},Ne);const Ye=(Se==null?void 0:Se.type)==="statement"?Se.error:null,Ge=(Se==null?void 0:Se.type)==="statement"&&!Se.error,Ze=(Se==null?void 0:Se.type)==="statement"&&Se.error;return u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex size-12 items-center justify-center",children:Ge?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-green-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",strokeWidth:"0"})}):Ze?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-red-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z",fill:"currentColor",strokeWidth:"0"})}):H==="pending"?u.jsx(jn,{className:"size-4"}):u.jsx("div",{className:"bg-border size-3 rounded-full"})}),u.jsxs("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full flex-col items-center justify-between overflow-auto border text-sm",children:[u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable w-full whitespace-pre p-3",dangerouslySetInnerHTML:{__html:os(Ps(he.value,s))}}),Ye&&u.jsxs("div",{className:"w-full border-t py-3",children:[u.jsx("div",{className:"mb-2 px-3 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-3",children:Ye.message})]})]})]},Ne)})})]})]})})})})},tK=({schema:t,name:e,clickToCopy:r,setIsCopiedTooltipVisible:n})=>{const s=it(({schemas:T})=>Object.values(T).flatMap(S=>Object.values(S.enums)),Pr),i=it(({schemas:T})=>T[t].tables[e].columns,Pr),o=it(({schemas:T})=>T[t].tables[e].constraints,Pr),a=it(({schemas:T})=>T[t].tables[e].indexes,Pr),l=y.useMemo(()=>({schema:t,name:e,columns:Object.values(i),constraints:Object.values(o),indexes:Object.values(a)}),[t,e,i,o,a]),c=ic({defaultValues:l});y.useLayoutEffect(()=>{c.reset(l)},[l]);const d=y.useMemo(()=>Object.values(o).some(T=>T.type==="primary"&&T.columns.length>1),[o]),{fields:h}=ol({control:c.control,name:"columns",keyName:"formId"}),m=y.useMemo(()=>h.map((T,S)=>({field:T,index:S})).filter(({field:T})=>!T.isAdded),[h]),{fields:f}=ol({control:c.control,name:"constraints",keyName:"formId"}),p=y.useMemo(()=>f.map((T,S)=>({field:T,index:S})).filter(({field:T})=>!T.isAdded),[f]),{fields:E}=ol({control:c.control,name:"indexes",keyName:"formId"}),g=y.useMemo(()=>E.map((T,S)=>({field:T,index:S})).filter(({field:T})=>!T.isAdded),[E]);return u.jsx(oc,{...c,children:u.jsxs("div",{className:z("bg-background border-structure-card-border"),children:[u.jsx("div",{id:"sentinel",className:"invisible absolute z-[2] mt-4"}),u.jsx("div",{className:z("bg-background flex justify-between px-4 pt-4"),children:u.jsx(qt,{control:c.control,name:"name",render:({field:T})=>u.jsxs(yr,{className:"space-y-1",children:[u.jsx(Ar,{children:u.jsx(Lr,{className:z("bg-background !border-input-border w-0 min-w-[7.5rem]",r&&"hover:!border-input-border-focus cursor-pointer"),readOnly:!0,tabIndex:-1,placeholder:"Table name",placeholderAsLabel:!0,...T,onClick:()=>{r&&(navigator.clipboard.writeText(`${t}.${e}`),n==null||n(!0),setTimeout(()=>{n==null||n(!1)},1e3))}})}),u.jsx(ac,{})]})})}),m.length>0&&u.jsxs("div",{className:"mt-4 px-4",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("div",{className:"relative flex items-center",children:u.jsx("div",{className:"text-xs font-semibold uppercase",children:"Columns"})})}),u.jsx("div",{className:"mt-2 flex flex-col space-y-1 text-sm",children:u.jsx("div",{children:m.map(({field:{formId:T,...S},index:v})=>u.jsx(QA,{readonly:!0,clickToCopy:r,setIsCopiedTooltipVisible:n,index:v,isSelected:!1,onSelect:()=>{},enums:s,isTableHaveCompositePrimaryKey:d,initialValues:S,onRemove:()=>{}},T))})})]}),p.length>0&&u.jsxs("div",{className:"mt-4 px-4",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("div",{className:"relative flex items-center",children:u.jsx("div",{className:"text-xs font-semibold uppercase",children:"Constraints"})})}),u.jsx("div",{className:"mt-2 flex flex-col space-y-1 text-sm",children:u.jsx("div",{children:p.map(({field:{formId:T,...S},index:v})=>u.jsx(JA,{readonly:!0,clickToCopy:r,setIsCopiedTooltipVisible:n,index:v,isSelected:!1,onSelect:()=>{},initialValues:S,onRemove:()=>{}},T))})})]}),g.length>0&&u.jsxs("div",{className:"mt-4 px-4 pb-4",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("div",{className:"relative flex items-center",children:u.jsx("div",{className:"text-xs font-semibold uppercase",children:"Indexes"})})}),u.jsx("div",{className:"mt-2 flex flex-col space-y-1 text-sm",children:u.jsx("div",{children:g.map(({field:{formId:T,...S},index:v})=>u.jsx(zg,{readonly:!0,clickToCopy:r,setIsCopiedTooltipVisible:n,index:v,isSelected:!1,onSelect:()=>{},initialValues:S,onRemove:()=>{}},T))})})]})]})})},R6e=Rs({schema:Kt().min(1,"Required"),name:Kt().min(1,"Required")}),N6e=({schema:t,name:e})=>{const r=ht(I=>I.readonlyMode),n=Is(I=>I.theme),{prepareViewChanges:s,prepareDropEntities:i,prepareCreateView:o}=gn(),{createSnippet:a,selectSnippet:l}=Sn(),{setCurrentPage:c,discardChanges:d}=sr(),h=it(I=>{if(!I.dialect)throw new Error("Dialect not set");return I.dialect}),m=it(({schemas:I})=>I[t].views[e].definition),f=y.useMemo(()=>({schema:t,name:e}),[t,e]),p=ic({resolver:Su(R6e),defaultValues:f}),E=p.watch(),g=y.useMemo(()=>!Pr(f,E),[f,E]),[T,S]=y.useState(!1),v=y.useMemo(()=>s(t,e,E),[T]),[N,C]=y.useState(null),[x,A]=y.useState([]),b=()=>{A([]),C("pending"),v.execute(I=>{A(F=>[...F,{index:I,error:null}])},(I,F)=>{A(W=>[...W,{index:I,error:F}]),ds(F,!1)}).then(()=>{x.every(I=>I.error===null)?C("success"):C("failure")})},_=y.useMemo(()=>f.name!==E.name,[f.name,E.name]);y.useLayoutEffect(()=>{p.reset(f)},[f]);const U=I=>{S(I),I||(A([]),C(null))},j=y.useMemo(()=>{var I;return getComputedStyle(((I=wn.getState().shadowRoot)==null?void 0:I.host)||document.body).getPropertyValue("--structure-card-border").replace("#","%23")},[n]),L=()=>{const I=x.filter(({error:W})=>W).map(({index:W})=>v.statements[W]).filter(W=>W).map(W=>W.endsWith(";")?W:`${W};`).join(`
`),F=a(`Alter ${e} table`,I);l(F),c("sql-runner"),d()},P=()=>{const{statements:I}=i([{schema:t,name:e,type:"view"}]),{statement:F}=o({schema:t,name:e,query:m||""}),W=[...I,F].map(k=>k.endsWith(";")?k:`${k};`).join(`
`),Y=a(`Alter ${e} view`,W);l(Y),c("sql-runner"),d()};return u.jsx("div",{className:z("flex min-w-[0] flex-1 flex-col overflow-hidden",!1),children:u.jsx(oc,{...p,children:u.jsx("div",{className:"bg-structure grid grow auto-cols-max grid-flow-col gap-5 overflow-auto border-t p-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='${j}' fill-opacity='1'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`},children:u.jsxs("div",{className:z("grid h-fit min-h-[30rem] w-fit min-w-[41.25rem]"),children:[u.jsxs("div",{className:z("bg-background grid-area-1-1 border-structure-card-border relative flex flex-col border",T&&"hidden"),children:[u.jsxs("div",{className:z("bg-background flex justify-between px-8 pt-6"),children:[u.jsx(qt,{control:p.control,name:"name",render:({field:I})=>u.jsxs(yr,{className:"space-y-1",children:[u.jsx(Ar,{children:u.jsx(Lr,{className:z("bg-background w-0 min-w-[7.5rem]",_&&"text-edit-foreground bg-edit !border-edit-foreground"),placeholderClassName:z(_&&"text-edit-placeholder"),placeholder:"View name",placeholderAsLabel:!0,...I,ref:F=>{I.ref(F),F&&(F.style.width="0px",F.style.width=`${F.scrollWidth+2}px`)},onChange:F=>{const W=F.target.value;p.setValue("name",W)}})}),u.jsx(ac,{})]})}),g&&u.jsxs("div",{className:"flex space-x-2",children:[g&&u.jsx(Le,{className:"h-8 px-3",variant:"link",onClick:()=>{p.reset(),U(!1)},children:"Discard all changes"}),g&&u.jsx(Le,{className:"h-8",onClick:()=>{p.handleSubmit(()=>U(!0))()},children:"Review and commit"})]})]}),m&&u.jsx("div",{className:"my-6 px-8",children:u.jsx("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full items-center space-y-1 whitespace-pre border py-3 text-sm",children:u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable px-3",dangerouslySetInnerHTML:{__html:os(Ps(m,h))}})})}),u.jsx("div",{className:"mt-auto flex w-full px-8 pb-8",children:u.jsx(Le,{className:"ml-auto h-8",variant:"outline",onClick:P,children:"Alter in SQL"})})]}),T&&u.jsxs("div",{className:"grid-area-1-1 bg-background border-structure-card-border z-[1] h-full border p-6 pl-[0]",children:[u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Le,{className:"h-8",variant:"link",onClick:()=>U(!1),children:"Back to schema"}),N==="failure"&&!r&&!0&&!0&&!0&&u.jsx(Le,{className:"h-8",variant:"outline",onClick:L,children:"Open failed in SQL"}),N!=="success"&&N!=="failure"&&u.jsx(Le,{className:"h-8",disabled:N==="pending",onClick:b,isLoading:N==="pending",children:"Commit changes"})]}),u.jsx("div",{className:"mt-6 space-y-2",children:v.statements.map((I,F)=>{const W=x.find(re=>re.index===F),Y=W==null?void 0:W.error,k=Y===null,V=Y instanceof Error;return u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex size-12 items-center justify-center",children:k?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-green-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",strokeWidth:"0"})}):V?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-red-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z",fill:"currentColor",strokeWidth:"0"})}):N==="pending"?u.jsx(jn,{className:"size-4"}):u.jsx("div",{className:"bg-border size-3 rounded-full"})}),u.jsxs("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full flex-col items-center justify-between overflow-auto border text-sm",children:[u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable w-full whitespace-pre p-3",dangerouslySetInnerHTML:{__html:os(Ps(I,h))}}),Y&&u.jsxs("div",{className:"w-full border-t py-3",children:[u.jsx("div",{className:"mb-2 px-3 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-3",children:Y.message})]})]})]},F)})})]})]})})})})},b6e=Rs({schema:Kt().min(1,"Required"),name:Kt().min(1,"Required")}),rK=({schema:t,name:e,clickToCopy:r,setIsCopiedTooltipVisible:n})=>{const s=it(l=>{if(!l.dialect)throw new Error("Dialect not set");return l.dialect}),i=it(({schemas:l})=>l[t].views[e].definition),o=y.useMemo(()=>({schema:t,name:e}),[t,e]),a=ic({resolver:Su(b6e),defaultValues:o});return y.useLayoutEffect(()=>{a.reset(o)},[o]),u.jsx(oc,{...a,children:u.jsxs("div",{className:z("bg-background border-structure-card-border relative"),children:[u.jsx("div",{className:z("bg-background flex justify-between px-4 pt-4"),children:u.jsx(qt,{control:a.control,name:"name",render:({field:l})=>u.jsxs(yr,{className:"space-y-1",children:[u.jsx(Ar,{children:u.jsx(Lr,{className:z("bg-background !border-input-border w-0 min-w-[7.5rem]",r&&"hover:!border-input-border-focus cursor-pointer"),readOnly:!0,tabIndex:-1,placeholder:"View name",placeholderAsLabel:!0,...l,onClick:()=>{r&&(navigator.clipboard.writeText(`${t}.${e}`),n==null||n(!0),setTimeout(()=>{n==null||n(!1)},1e3))}})}),u.jsx(ac,{})]})})}),i&&u.jsx("div",{className:"mt-4 px-4 pb-4",children:u.jsx("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full items-center space-y-1 whitespace-pre border py-3 text-sm",children:u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable px-3",dangerouslySetInnerHTML:{__html:os(Ps(i,s))}})})})]})})},C6e=({schema:t,name:e,definition:r,error:n})=>{const{prepareDropEntities:s}=gn(),i=Ps(r,"sqlite"),o=()=>{const l=`${s([{type:"view",schema:t,name:e}]).statements.map(f=>f.endsWith(";")?f:`${f};`).join("")};

${i.endsWith(";")?i:`${i};`}`,{setCurrentPage:c}=Me.getState().actions,{createSnippet:d,selectSnippet:h}=Vn.getState().actions,m=d(`Recreate view ${e}`,l);h(m),c("sql-runner")};return u.jsx("div",{className:"flex size-full items-center justify-center",children:u.jsxs("div",{className:"flex min-w-[25rem] flex-col gap-2",children:[u.jsxs("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full flex-col items-center overflow-auto border text-sm",children:[u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable w-full whitespace-pre p-3",dangerouslySetInnerHTML:{__html:os(i)}}),u.jsxs("div",{className:"w-full border-t py-3",children:[u.jsx("div",{className:"mb-2 px-3 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-3",children:n.message})]})]}),u.jsx(Le,{className:"ml-auto h-8 w-fit px-3",variant:"outline",onClick:o,children:"Recreate view in SQL"})]})})},nK=15,sK=100;var x6e="Expected a function",iK=NaN,w6e="[object Symbol]",O6e=/^\s+|\s+$/g,I6e=/^[-+]0x[0-9a-f]+$/i,_6e=/^0b[01]+$/i,L6e=/^0o[0-7]+$/i,D6e=parseInt,M6e=typeof pr=="object"&&pr&&pr.Object===Object&&pr,P6e=typeof self=="object"&&self&&self.Object===Object&&self,k6e=M6e||P6e||Function("return this")(),U6e=Object.prototype,j6e=U6e.toString,B6e=Math.max,F6e=Math.min,sD=function(){return k6e.Date.now()};function H6e(t,e,r){var n,s,i,o,a,l,c=0,d=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(x6e);e=oK(e)||0,iD(r)&&(d=!!r.leading,h="maxWait"in r,i=h?B6e(oK(r.maxWait)||0,e):i,m="trailing"in r?!!r.trailing:m);function f(x){var A=n,b=s;return n=s=void 0,c=x,o=t.apply(b,A),o}function p(x){return c=x,a=setTimeout(T,e),d?f(x):o}function E(x){var A=x-l,b=x-c,_=e-A;return h?F6e(_,i-b):_}function g(x){var A=x-l,b=x-c;return l===void 0||A>=e||A<0||h&&b>=i}function T(){var x=sD();if(g(x))return S(x);a=setTimeout(T,E(x))}function S(x){return a=void 0,m&&n?f(x):(n=s=void 0,o)}function v(){a!==void 0&&clearTimeout(a),c=0,n=l=s=a=void 0}function N(){return a===void 0?o:S(sD())}function C(){var x=sD(),A=g(x);if(n=arguments,s=this,l=x,A){if(a===void 0)return p(l);if(h)return a=setTimeout(T,e),f(l)}return a===void 0&&(a=setTimeout(T,e)),o}return C.cancel=v,C.flush=N,C}function iD(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function $6e(t){return!!t&&typeof t=="object"}function G6e(t){return typeof t=="symbol"||$6e(t)&&j6e.call(t)==w6e}function oK(t){if(typeof t=="number")return t;if(G6e(t))return iK;if(iD(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=iD(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(O6e,"");var r=_6e.test(t);return r||L6e.test(t)?D6e(t.slice(2),r?2:8):I6e.test(t)?iK:+t}var V6e=H6e;const aK=Yr(V6e),ZA=({children:t,hint:e})=>u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,children:t}),u.jsx(vr,{className:"flex items-center gap-2 px-2 py-1 text-[0.8125rem]",children:e})]})}),lK=({row:t,column:e,onCopy:r,relation:n,type:s,onRowChange:i,selectCell:o,rowIdx:a})=>{const l=it(({dialect:v})=>{if(!v)throw new Error("No dialect");return v}),c=ht(v=>v.dataFormats),d=Me(v=>{var x;return t.type==="CREATE"?!0:!!(((x=v.currentTable)==null?void 0:x.editedFields)??[]).find(({recordKey:A,columnKey:b})=>A===t.id&&b===e.key)}),[h,m]=y.useState(!1),f=y.useMemo(()=>t.values[e.key],[e.key,t]),p=y.useMemo(()=>{if(f===null)return u.jsx("span",{className:z("text-table-cell-text-muted",d&&"text-edit-foreground"),children:"NULL"});if(typeof f=="object"&&"_type"in f&&f._type==="DEFAULT")return u.jsx("span",{className:z("text-table-cell-text-muted",d&&"text-edit-foreground"),children:"DEFAULT"});if(typeof f=="object"&&"_type"in f){if(f._type==="BINARY"){let v=String(f.value);return f.value===""?v=u.jsx("span",{className:z("text-table-cell-text-muted",d&&"text-edit-foreground"),children:"EMPTY STRING"}):f.value===null?v=u.jsx("span",{className:z("text-table-cell-text-muted",d&&"text-edit-foreground"),children:"NULL"}):typeof f.value=="object"?v=JSON.stringify(f.value):W_.test(f.value)&&(m(!0),v=u.jsx("span",{className:z("text-table-cell-text-muted",d&&"text-edit-foreground"),children:"BINARY"})),u.jsx("span",{className:z(d&&"text-edit-foreground"),children:v})}}else if(typeof f=="object")return u.jsx("span",{children:JSON.stringify(f)});switch(f){case"":return u.jsx("span",{className:z("text-table-cell-text-muted",d&&"text-edit-foreground"),children:d?"EMPTY STRING":""});case!0:case!1:return u.jsx("span",{children:String(f).toUpperCase()});default:return u.jsx("span",{children:String(f)})}},[f,d,c]),E=y.useMemo(()=>l==="sqlite"&&s==="text"||(l==="postgresql"||l==="mysql"||l==="duckdb")&&(s==="text"||s==="varchar"||s==="char")?u.jsx(ZA,{hint:u.jsxs(u.Fragment,{children:["Multiline",u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(Hc,{className:"size-3.5 p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(za,{className:"size-3.5 p-px"})})]})]}),children:u.jsx(Le,{variant:"outline",className:z("text-button-outline-border-hover hidden h-fit cursor-pointer p-1 px-1 text-xs group-hover:flex",d&&"!bg-edit"),style:d?{borderColor:"color-mix(in srgb, var(--edit-foreground), transparent 50%)",color:"color-mix(in srgb, var(--edit-foreground), transparent 50%)"}:{},onMouseEnter:v=>{d&&(v.preventDefault(),v.stopPropagation(),v.currentTarget.style.borderColor="var(--edit-foreground) !important",v.currentTarget.style.color="var(--edit-foreground) !important",v.currentTarget.style.backgroundColor="color-mix(in srgb, var(--edit), var(--edit-foreground) 10%) !important")},onMouseLeave:v=>{d&&(v.preventDefault(),v.stopPropagation(),v.currentTarget.style.borderColor="color-mix(in srgb, var(--edit-foreground), transparent 50%)",v.currentTarget.style.color="color-mix(in srgb, var(--edit-foreground), transparent 50%)",v.currentTarget.style.backgroundColor="")},onClick:v=>{v.preventDefault(),v.stopPropagation(),o({idx:e.idx,rowIdx:a},{enableEditor:!0,metadata:{type:"MULTILINE"}})},onDoubleClick:v=>{v.preventDefault(),v.stopPropagation()},"aria-label":"Multiline editor",children:u.jsx(uLe,{className:"size-3.5",strokeWidth:1.25})})}):null,[l,s,d,e.idx,a,o]),g=y.useMemo(()=>l==="sqlite"&&(s==="integer"||s==="text")?u.jsx(ZA,{hint:"Date",children:u.jsx(Le,{variant:"outline",className:z("text-button-outline-border-hover hidden h-fit cursor-pointer p-1 px-1 text-xs group-hover:flex",d&&"!bg-edit"),style:d?{borderColor:"color-mix(in srgb, var(--edit-foreground), transparent 50%)",color:"color-mix(in srgb, var(--edit-foreground), transparent 50%)"}:{},onMouseEnter:v=>{d&&(v.preventDefault(),v.stopPropagation(),v.currentTarget.style.borderColor="var(--edit-foreground) !important",v.currentTarget.style.color="var(--edit-foreground) !important",v.currentTarget.style.backgroundColor="color-mix(in srgb, var(--edit), var(--edit-foreground) 10%) !important")},onMouseLeave:v=>{d&&(v.preventDefault(),v.stopPropagation(),v.currentTarget.style.borderColor="color-mix(in srgb, var(--edit-foreground), transparent 50%)",v.currentTarget.style.color="color-mix(in srgb, var(--edit-foreground), transparent 50%)",v.currentTarget.style.backgroundColor="")},onClick:v=>{v.preventDefault(),v.stopPropagation(),o({idx:e.idx,rowIdx:a},{enableEditor:!0,metadata:{type:"DATE",returnType:s==="integer"?"epoch":"iso"}})},onDoubleClick:v=>{v.preventDefault(),v.stopPropagation()},"aria-label":"Date editor",children:u.jsx(ELe,{className:"size-3.5",strokeWidth:1.25})})}):null,[l,s,d,e.idx,a,o]),T=y.useMemo(()=>l==="sqlite"&&(s==="text"||s==="blob")?u.jsx(ZA,{hint:"JSON",children:u.jsx(Le,{variant:"outline",className:z("text-button-outline-border-hover hidden h-fit cursor-pointer p-1 px-1 text-xs group-hover:flex",d&&"!bg-edit"),style:d?{borderColor:"color-mix(in srgb, var(--edit-foreground), transparent 50%)",color:"color-mix(in srgb, var(--edit-foreground), transparent 50%)"}:{},onMouseEnter:v=>{d&&(v.preventDefault(),v.stopPropagation(),v.currentTarget.style.borderColor="var(--edit-foreground) !important",v.currentTarget.style.color="var(--edit-foreground) !important",v.currentTarget.style.backgroundColor="color-mix(in srgb, var(--edit), var(--edit-foreground) 10%) !important")},onMouseLeave:v=>{d&&(v.preventDefault(),v.stopPropagation(),v.currentTarget.style.borderColor="color-mix(in srgb, var(--edit-foreground), transparent 50%)",v.currentTarget.style.color="color-mix(in srgb, var(--edit-foreground), transparent 50%)",v.currentTarget.style.backgroundColor="")},onClick:v=>{v.preventDefault(),v.stopPropagation(),o({idx:e.idx,rowIdx:a},{enableEditor:!0,metadata:{type:"JSON"}})},onDoubleClick:v=>{v.preventDefault(),v.stopPropagation()},"aria-label":"JSON editor",children:u.jsx(a6,{className:"size-3.5",strokeWidth:1.25})})}):null,[l,s,d,e.idx,a,o]),S=y.useMemo(()=>t.type==="DEFAULT"&&n?u.jsx(ZA,{hint:"Relation",children:u.jsx(Le,{"data-small-relation-button":!0,"aria-label":"Toggle relation view",className:z("bg-table-cell-relation-button font-table text-table-cell-relation-button-foreground hidden h-fit cursor-pointer p-1 px-1 text-xs",t.expandedColumnName===e.key&&"bg-primary text-primary-foreground block"),onClick:v=>{v.preventDefault(),v.stopPropagation(),rt("table_toggle_relations_view"),i({...t,expandedColumnName:t.expandedColumnName?null:e.key,relation:n})},onDoubleClick:v=>{v.preventDefault(),v.stopPropagation()},children:u.jsx(hLe,{className:"ml-auto size-3.5",strokeWidth:1.25,absoluteStrokeWidth:!0})})}):null,[t,e,n,i]);return u.jsxs("div",{className:z("cell-content group flex h-full w-full items-center px-2",d&&"!bg-edit !text-edit-foreground cell-edited"),onDoubleClick:()=>{h&&r({row:t,column:e})},children:[u.jsx("span",{className:"truncate",children:p}),u.jsxs("div",{className:"ml-auto flex items-center gap-0.5 pl-0.5",children:[E,g,T,S]})]})};var z6e=[" ","Enter","ArrowUp","ArrowDown"],W6e=[" ","Enter"],Jd="Select",[eR,tR,Y6e]=ig(Jd),[Rm,yst]=fi(Jd,[Y6e,uu]),rR=uu(),[q6e,Nu]=Rm(Jd),[K6e,X6e]=Rm(Jd),cK=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:m,required:f,form:p}=t,E=rR(e),[g,T]=y.useState(null),[S,v]=y.useState(null),[N,C]=y.useState(!1),x=lm(c),[A,b]=Do({prop:n,defaultProp:s??!1,onChange:i,caller:Jd}),[_,U]=Do({prop:o,defaultProp:a,onChange:l,caller:Jd}),j=y.useRef(null),L=g?p||!!g.closest("form"):!0,[P,I]=y.useState(new Set),F=Array.from(P).map(W=>W.props.value).join(";");return u.jsx(Wy,{...E,children:u.jsxs(q6e,{required:f,scope:e,trigger:g,onTriggerChange:T,valueNode:S,onValueNodeChange:v,valueNodeHasChildren:N,onValueNodeHasChildrenChange:C,contentId:ys(),value:_,onValueChange:U,open:A,onOpenChange:b,dir:x,triggerPointerDownPosRef:j,disabled:m,children:[u.jsx(eR.Provider,{scope:e,children:u.jsx(K6e,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(W=>{I(Y=>new Set(Y).add(W))},[]),onNativeOptionRemove:y.useCallback(W=>{I(Y=>{const k=new Set(Y);return k.delete(W),k})},[]),children:r})}),L?u.jsxs(_K,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:_,onChange:W=>U(W.target.value),disabled:m,form:p,children:[_===void 0?u.jsx("option",{value:""}):null,Array.from(P)]},F):null]})})};cK.displayName=Jd;var uK="SelectTrigger",dK=y.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=rR(r),o=Nu(uK,r),a=o.disabled||n,l=Ht(e,o.onTriggerChange),c=tR(r),d=y.useRef("touch"),[h,m,f]=DK(E=>{const g=c().filter(v=>!v.disabled),T=g.find(v=>v.value===o.value),S=MK(g,E,T);S!==void 0&&o.onValueChange(S.value)}),p=E=>{a||(o.onOpenChange(!0),f()),E&&(o.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return u.jsx(mg,{asChild:!0,...i,children:u.jsx(Et.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":LK(o.value)?"":void 0,...s,ref:l,onClick:tt(s.onClick,E=>{E.currentTarget.focus(),d.current!=="mouse"&&p(E)}),onPointerDown:tt(s.onPointerDown,E=>{d.current=E.pointerType;const g=E.target;g.hasPointerCapture(E.pointerId)&&g.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(p(E),E.preventDefault())}),onKeyDown:tt(s.onKeyDown,E=>{const g=h.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&m(E.key),!(g&&E.key===" ")&&z6e.includes(E.key)&&(p(),E.preventDefault())})})})});dK.displayName=uK;var hK="SelectValue",fK=y.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...a}=t,l=Nu(hK,r),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,h=Ht(e,l.onValueNodeChange);return vs(()=>{c(d)},[c,d]),u.jsx(Et.span,{...a,ref:h,style:{pointerEvents:"none"},children:LK(l.value)?u.jsx(u.Fragment,{children:o}):i})});fK.displayName=hK;var Q6e="SelectIcon",mK=y.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return u.jsx(Et.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});mK.displayName=Q6e;var J6e="SelectPortal",pK=t=>u.jsx(Fd,{asChild:!0,...t});pK.displayName=J6e;var Zd="SelectContent",EK=y.forwardRef((t,e)=>{const r=Nu(Zd,t.__scopeSelect),[n,s]=y.useState();if(vs(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Zs.createPortal(u.jsx(gK,{scope:t.__scopeSelect,children:u.jsx(eR.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(TK,{...t,ref:e})});EK.displayName=Zd;var Sa=10,[gK,bu]=Rm(Zd),Z6e="SelectContentImpl",eHe=Fc("SelectContent.RemoveScroll"),TK=y.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:p,hideWhenDetached:E,avoidCollisions:g,...T}=t,S=Nu(Zd,r),[v,N]=y.useState(null),[C,x]=y.useState(null),A=Ht(e,se=>N(se)),[b,_]=y.useState(null),[U,j]=y.useState(null),L=tR(r),[P,I]=y.useState(!1),F=y.useRef(!1);y.useEffect(()=>{if(v)return iA(v)},[v]),Qy();const W=y.useCallback(se=>{const[ie,...Te]=L().map(fe=>fe.ref.current),[ve]=Te.slice(-1),_e=document.activeElement;for(const fe of se)if(fe===_e||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===ie&&C&&(C.scrollTop=0),fe===ve&&C&&(C.scrollTop=C.scrollHeight),fe==null||fe.focus(),document.activeElement!==_e))return},[L,C]),Y=y.useCallback(()=>W([b,v]),[W,b,v]);y.useEffect(()=>{P&&Y()},[P,Y]);const{onOpenChange:k,triggerPointerDownPosRef:V}=S;y.useEffect(()=>{if(v){let se={x:0,y:0};const ie=ve=>{var _e,fe;se={x:Math.abs(Math.round(ve.pageX)-(((_e=V.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((fe=V.current)==null?void 0:fe.y)??0))}},Te=ve=>{se.x<=10&&se.y<=10?ve.preventDefault():v.contains(ve.target)||k(!1),document.removeEventListener("pointermove",ie),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",Te,{capture:!0})}}},[v,k,V]),y.useEffect(()=>{const se=()=>k(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[k]);const[re,K]=DK(se=>{const ie=L().filter(_e=>!_e.disabled),Te=ie.find(_e=>_e.ref.current===document.activeElement),ve=MK(ie,se,Te);ve&&setTimeout(()=>ve.ref.current.focus())}),B=y.useCallback((se,ie,Te)=>{const ve=!F.current&&!Te;(S.value!==void 0&&S.value===ie||ve)&&(_(se),ve&&(F.current=!0))},[S.value]),X=y.useCallback(()=>v==null?void 0:v.focus(),[v]),J=y.useCallback((se,ie,Te)=>{const ve=!F.current&&!Te;(S.value!==void 0&&S.value===ie||ve)&&j(se)},[S.value]),Z=n==="popper"?oD:SK,Ee=Z===oD?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:p,hideWhenDetached:E,avoidCollisions:g}:{};return u.jsx(gK,{scope:r,content:v,viewport:C,onViewportChange:x,itemRefCallback:B,selectedItem:b,onItemLeave:X,itemTextRefCallback:J,focusSelectedItem:Y,selectedItemText:U,position:n,isPositioned:P,searchRef:re,children:u.jsx(Tg,{as:eHe,allowPinchZoom:!0,children:u.jsx(gg,{asChild:!0,trapped:S.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:tt(s,se=>{var ie;(ie=S.trigger)==null||ie.focus({preventScroll:!0}),se.preventDefault()}),children:u.jsx(Bd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:u.jsx(Z,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:se=>se.preventDefault(),...T,...Ee,onPlaced:()=>I(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:tt(T.onKeyDown,se=>{const ie=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!ie&&se.key.length===1&&K(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let ve=L().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(se.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const _e=se.target,fe=ve.indexOf(_e);ve=ve.slice(fe+1)}setTimeout(()=>W(ve)),se.preventDefault()}})})})})})})});TK.displayName=Z6e;var tHe="SelectItemAlignedPosition",SK=y.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=Nu(Zd,r),o=bu(Zd,r),[a,l]=y.useState(null),[c,d]=y.useState(null),h=Ht(e,A=>d(A)),m=tR(r),f=y.useRef(!1),p=y.useRef(!0),{viewport:E,selectedItem:g,selectedItemText:T,focusSelectedItem:S}=o,v=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&E&&g&&T){const A=i.trigger.getBoundingClientRect(),b=c.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),U=T.getBoundingClientRect();if(i.dir!=="rtl"){const _e=U.left-b.left,fe=_.left-_e,je=A.left-fe,H=A.width+je,Ce=Math.max(H,b.width),be=window.innerWidth-Sa,ce=_g(fe,[Sa,Math.max(Sa,be-Ce)]);a.style.minWidth=H+"px",a.style.left=ce+"px"}else{const _e=b.right-U.right,fe=window.innerWidth-_.right-_e,je=window.innerWidth-A.right-fe,H=A.width+je,Ce=Math.max(H,b.width),be=window.innerWidth-Sa,ce=_g(fe,[Sa,Math.max(Sa,be-Ce)]);a.style.minWidth=H+"px",a.style.right=ce+"px"}const j=m(),L=window.innerHeight-Sa*2,P=E.scrollHeight,I=window.getComputedStyle(c),F=parseInt(I.borderTopWidth,10),W=parseInt(I.paddingTop,10),Y=parseInt(I.borderBottomWidth,10),k=parseInt(I.paddingBottom,10),V=F+W+P+k+Y,re=Math.min(g.offsetHeight*5,V),K=window.getComputedStyle(E),B=parseInt(K.paddingTop,10),X=parseInt(K.paddingBottom,10),J=A.top+A.height/2-Sa,Z=L-J,Ee=g.offsetHeight/2,se=g.offsetTop+Ee,ie=F+W+se,Te=V-ie;if(ie<=J){const _e=j.length>0&&g===j[j.length-1].ref.current;a.style.bottom="0px";const fe=c.clientHeight-E.offsetTop-E.offsetHeight,je=Math.max(Z,Ee+(_e?X:0)+fe+Y),H=ie+je;a.style.height=H+"px"}else{const _e=j.length>0&&g===j[0].ref.current;a.style.top="0px";const je=Math.max(J,F+E.offsetTop+(_e?B:0)+Ee)+Te;a.style.height=je+"px",E.scrollTop=ie-J+E.offsetTop}a.style.margin=`${Sa}px 0`,a.style.minHeight=re+"px",a.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[m,i.trigger,i.valueNode,a,c,E,g,T,i.dir,n]);vs(()=>v(),[v]);const[N,C]=y.useState();vs(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const x=y.useCallback(A=>{A&&p.current===!0&&(v(),S==null||S(),p.current=!1)},[v,S]);return u.jsx(nHe,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:x,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:u.jsx(Et.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});SK.displayName=tHe;var rHe="SelectPopperPosition",oD=y.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Sa,...i}=t,o=rR(r);return u.jsx(Yy,{...o,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});oD.displayName=rHe;var[nHe,aD]=Rm(Zd,{}),lD="SelectViewport",vK=y.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=bu(lD,r),o=aD(lD,r),a=Ht(e,i.onViewportChange),l=y.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(eR.Slot,{scope:r,children:u.jsx(Et.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:tt(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const f=Math.abs(l.current-d.scrollTop);if(f>0){const p=window.innerHeight-Sa*2,E=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),T=Math.max(E,g);if(T<p){const S=T+f,v=Math.min(p,S),N=S-v;h.style.height=v+"px",h.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});vK.displayName=lD;var yK="SelectGroup",[sHe,iHe]=Rm(yK),oHe=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=ys();return u.jsx(sHe,{scope:r,id:s,children:u.jsx(Et.div,{role:"group","aria-labelledby":s,...n,ref:e})})});oHe.displayName=yK;var AK="SelectLabel",RK=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=iHe(AK,r);return u.jsx(Et.div,{id:s.id,...n,ref:e})});RK.displayName=AK;var nR="SelectItem",[aHe,NK]=Rm(nR),bK=y.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=t,a=Nu(nR,r),l=bu(nR,r),c=a.value===n,[d,h]=y.useState(i??""),[m,f]=y.useState(!1),p=Ht(e,S=>{var v;return(v=l.itemRefCallback)==null?void 0:v.call(l,S,n,s)}),E=ys(),g=y.useRef("touch"),T=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(aHe,{scope:r,value:n,disabled:s,textId:E,isSelected:c,onItemTextChange:y.useCallback(S=>{h(v=>v||((S==null?void 0:S.textContent)??"").trim())},[]),children:u.jsx(eR.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:u.jsx(Et.div,{role:"option","aria-labelledby":E,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:p,onFocus:tt(o.onFocus,()=>f(!0)),onBlur:tt(o.onBlur,()=>f(!1)),onClick:tt(o.onClick,()=>{g.current!=="mouse"&&T()}),onPointerUp:tt(o.onPointerUp,()=>{g.current==="mouse"&&T()}),onPointerDown:tt(o.onPointerDown,S=>{g.current=S.pointerType}),onPointerMove:tt(o.onPointerMove,S=>{var v;g.current=S.pointerType,s?(v=l.onItemLeave)==null||v.call(l):g.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:tt(o.onPointerLeave,S=>{var v;S.currentTarget===document.activeElement&&((v=l.onItemLeave)==null||v.call(l))}),onKeyDown:tt(o.onKeyDown,S=>{var N;((N=l.searchRef)==null?void 0:N.current)!==""&&S.key===" "||(W6e.includes(S.key)&&T(),S.key===" "&&S.preventDefault())})})})})});bK.displayName=nR;var Wg="SelectItemText",CK=y.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,o=Nu(Wg,r),a=bu(Wg,r),l=NK(Wg,r),c=X6e(Wg,r),[d,h]=y.useState(null),m=Ht(e,T=>h(T),l.onItemTextChange,T=>{var S;return(S=a.itemTextRefCallback)==null?void 0:S.call(a,T,l.value,l.disabled)}),f=d==null?void 0:d.textContent,p=y.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:E,onNativeOptionRemove:g}=c;return vs(()=>(E(p),()=>g(p)),[E,g,p]),u.jsxs(u.Fragment,{children:[u.jsx(Et.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Zs.createPortal(i.children,o.valueNode):null]})});CK.displayName=Wg;var xK="SelectItemIndicator",wK=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return NK(xK,r).isSelected?u.jsx(Et.span,{"aria-hidden":!0,...n,ref:e}):null});wK.displayName=xK;var cD="SelectScrollUpButton",lHe=y.forwardRef((t,e)=>{const r=bu(cD,t.__scopeSelect),n=aD(cD,t.__scopeSelect),[s,i]=y.useState(!1),o=Ht(e,n.onScrollButtonChange);return vs(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?u.jsx(OK,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});lHe.displayName=cD;var uD="SelectScrollDownButton",cHe=y.forwardRef((t,e)=>{const r=bu(uD,t.__scopeSelect),n=aD(uD,t.__scopeSelect),[s,i]=y.useState(!1),o=Ht(e,n.onScrollButtonChange);return vs(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?u.jsx(OK,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});cHe.displayName=uD;var OK=y.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=bu("SelectScrollButton",r),o=y.useRef(null),a=tR(r),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),vs(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(Et.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:tt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:tt(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:tt(s.onPointerLeave,()=>{l()})})}),uHe="SelectSeparator",IK=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return u.jsx(Et.div,{"aria-hidden":!0,...n,ref:e})});IK.displayName=uHe;var dD="SelectArrow",dHe=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=rR(r),i=Nu(dD,r),o=bu(dD,r);return i.open&&o.position==="popper"?u.jsx(qy,{...s,...n,ref:e}):null});dHe.displayName=dD;var hHe="SelectBubbleInput",_K=y.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=y.useRef(null),i=Ht(n,s),o=EA(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[o,e]),u.jsx(Et.select,{...r,style:{...rV,...r.style},ref:i,defaultValue:e})});_K.displayName=hHe;function LK(t){return t===""||t===void 0}function DK(t){const e=In(t),r=y.useRef(""),n=y.useRef(0),s=y.useCallback(o=>{const a=r.current+o;e(a),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function MK(t,e,r){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=fHe(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function fHe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var mHe=cK,PK=dK,pHe=fK,EHe=mK,gHe=pK,kK=EK,THe=vK,UK=RK,jK=bK,SHe=CK,vHe=wK,BK=IK;const hD=mHe,fD=pHe,sR=y.forwardRef(({className:t,children:e,withIcon:r=!0,icon:n,...s},i)=>u.jsxs(PK,{ref:i,className:z("border-input-border ring-offset-background placeholder:text-muted-foreground focus:ring-ring flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm focus:!outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:[e,r&&u.jsx("div",{className:"ml-1",children:u.jsx(EHe,{asChild:!0,children:n??u.jsx(Ql,{className:"size-4 opacity-50"})})})]}));sR.displayName=PK.displayName;const iR=y.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>{var i;return u.jsx(gHe,{container:wn.getState().shadowRoot??document.body,children:u.jsx(kK,{ref:s,collisionBoundary:((i=wn.getState().shadowRoot)==null?void 0:i.host)??document.body,className:z("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-popover relative min-w-[8rem] overflow-hidden rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:u.jsx(THe,{className:z("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})})});iR.displayName=kK.displayName;const yHe=y.forwardRef(({className:t,...e},r)=>u.jsx(UK,{ref:r,className:z("px-2 py-1.5 text-sm font-semibold",t),...e}));yHe.displayName=UK.displayName;const Cu=y.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(jK,{ref:n,className:z("focus:bg-accent focus:text-accent-foreground relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm !outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[u.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(vHe,{children:u.jsx(LPe,{className:"h-4 w-4"})})}),u.jsx(SHe,{children:e})]}));Cu.displayName=jK.displayName;const AHe=y.forwardRef(({className:t,...e},r)=>u.jsx(BK,{ref:r,className:z("bg-border -mx-1 my-1 h-px",t),...e}));AHe.displayName=BK.displayName;const FK=({column:t,row:e,onRowChange:r,hasDefault:n})=>{const s=y.useMemo(()=>t.key,[t.key]),i=y.useMemo(()=>e.values[s]===null?"NULL":String(e.values[s]).toUpperCase(),[e.values[s]]),o=y.useCallback(a=>{const l=a==="NULL"?null:a==="DEFAULT"?{_type:"DEFAULT"}:a==="TRUE";r(Nr(e,{[s]:l}),!0)},[s]);return u.jsxs(hD,{open:!0,value:i,onValueChange:o,children:[u.jsx(sR,{className:"h-[1.875rem] border-none p-2 text-xs tracking-wider",children:u.jsx(fD,{placeholder:i})}),u.jsxs(iR,{sideOffset:-35,alignOffset:-1,className:"rounded-none !duration-0",children:[e.type==="CREATE"&&n&&u.jsx(Cu,{value:"DEFAULT",children:"DEFAULT"}),u.jsx(Cu,{value:"TRUE",children:"TRUE"}),u.jsx(Cu,{value:"FALSE",children:"FALSE"}),u.jsx(Cu,{value:"NULL",children:"NULL"})]})]})};var Bt;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(Bt||(Bt={}));var Qr;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Qr||(Qr={}));var va;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(va||(va={}));const mD={},Yg={};function qg(t,e){try{const n=(mD[t]||(mD[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return n in Yg?Yg[n]:HK(n,n.split(":"))}catch{if(t in Yg)return Yg[t];const r=t==null?void 0:t.match(RHe);return r?HK(t,r.slice(1)):NaN}}const RHe=/([+-]\d\d):?(\d\d)?/;function HK(t,e){const r=+e[0],n=+(e[1]||0);return Yg[t]=r>0?r*60+n:r*60-n}class cl extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(qg(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),GK(this),pD(this)):this.setTime(Date.now())}static tz(e,...r){return r.length?new cl(...r,e):new cl(Date.now(),e)}withTimeZone(e){return new cl(+this,e)}getTimezoneOffset(){return-qg(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),pD(this),+this}[Symbol.for("constructDateFrom")](e){return new cl(+new Date(e),this.timeZone)}}const $K=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!$K.test(t))return;const e=t.replace($K,"$1UTC");cl.prototype[e]&&(t.startsWith("get")?cl.prototype[t]=function(){return this.internal[e]()}:(cl.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),NHe(this),+this},cl.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),pD(this),+this}))});function pD(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function NHe(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),GK(t)}function GK(t){const e=qg(t.timeZone,t),r=new Date(+t);r.setUTCHours(r.getUTCHours()-1);const n=-new Date(+t).getTimezoneOffset(),s=-new Date(+r).getTimezoneOffset(),i=n-s,o=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();i&&o&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+i);const a=n-e;a&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+a);const l=qg(t.timeZone,t),d=-new Date(+t).getTimezoneOffset()-l,h=l!==e,m=d-a;if(h&&m){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+m);const f=qg(t.timeZone,t),p=l-f;p&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+p),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+p))}}class eh extends cl{static tz(e,...r){return r.length?new eh(...r,e):new eh(Date.now(),e)}toISOString(){const[e,r,n]=this.tzComponents(),s=`${e}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,r,n,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${n} ${r} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[r,n,s]=this.tzComponents();return`${e} GMT${r}${n}${s} (${bHe(this.timeZone,this)})`}toLocaleString(e,r){return Date.prototype.toLocaleString.call(this,e,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}toLocaleDateString(e,r){return Date.prototype.toLocaleDateString.call(this,e,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}toLocaleTimeString(e,r){return Date.prototype.toLocaleTimeString.call(this,e,{...r,timeZone:(r==null?void 0:r.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),r=e>0?"-":"+",n=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[r,n,s]}withTimeZone(e){return new eh(+this,e)}[Symbol.for("constructDateFrom")](e){return new eh(+new Date(e),this.timeZone)}}function bHe(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}const VK=6048e5,CHe=864e5,xHe=6e4,wHe=36e5,OHe=1e3,zK=Symbol.for("constructDateFrom");function Br(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&zK in t?t[zK](e):t instanceof Date?new t.constructor(e):new Date(e)}function ir(t,e){return Br(e||t,t)}function oR(t,e,r){const n=ir(t,r==null?void 0:r.in);return isNaN(e)?Br((r==null?void 0:r.in)||t,NaN):(e&&n.setDate(n.getDate()+e),n)}function WK(t,e,r){const n=ir(t,r==null?void 0:r.in);if(isNaN(e))return Br(t,NaN);if(!e)return n;const s=n.getDate(),i=Br(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}let IHe={};function th(){return IHe}function uc(t,e){var a,l,c,d;const r=th(),n=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=ir(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function rh(t,e){return uc(t,{...e,weekStartsOn:1})}function YK(t,e){const r=ir(t,e==null?void 0:e.in),n=r.getFullYear(),s=Br(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=rh(s),o=Br(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=rh(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=a.getTime()?n:n-1}function aR(t){const e=ir(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Nm(t,...e){const r=Br.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Kg(t,e){const r=ir(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function qK(t,e,r){const[n,s]=Nm(r==null?void 0:r.in,t,e),i=Kg(n),o=Kg(s),a=+i-aR(i),l=+o-aR(o);return Math.round((a-l)/CHe)}function _He(t,e){const r=YK(t,e),n=Br(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),rh(n)}function LHe(t,e,r){return oR(t,e*7,r)}function DHe(t,e,r){return WK(t,e*12,r)}function MHe(t,e){let r,n=e==null?void 0:e.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=Br.bind(null,s));const i=ir(s,n);(!r||r<i||isNaN(+i))&&(r=i)}),Br(n,r||NaN)}function PHe(t,e){let r,n=e==null?void 0:e.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=Br.bind(null,s));const i=ir(s,n);(!r||r>i||isNaN(+i))&&(r=i)}),Br(n,r||NaN)}function kHe(t,e,r){const[n,s]=Nm(r==null?void 0:r.in,t,e);return+Kg(n)==+Kg(s)}function KK(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function XK(t){return!(!KK(t)&&typeof t!="number"||isNaN(+ir(t)))}function UHe(t,e,r){const[n,s]=Nm(r==null?void 0:r.in,t,e),i=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return i*12+o}function jHe(t,e){const r=ir(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function BHe(t,e){const[r,n]=Nm(t,e.start,e.end);return{start:r,end:n}}function FHe(t,e){const{start:r,end:n}=BHe(e==null?void 0:e.in,t);let s=+r>+n;const i=s?+r:+n,o=s?n:r;o.setHours(0,0,0,0),o.setDate(1);let a=1;const l=[];for(;+o<=i;)l.push(Br(r,o)),o.setMonth(o.getMonth()+a);return s?l.reverse():l}function HHe(t,e){const r=ir(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function $He(t,e){const r=ir(t,e==null?void 0:e.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function QK(t,e){const r=ir(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function JK(t,e){var a,l,c,d;const r=th(),n=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=ir(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function GHe(t,e){return JK(t,{...e,weekStartsOn:1})}const VHe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zHe=(t,e,r)=>{let n;const s=VHe[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ED(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const WHe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YHe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qHe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KHe={date:ED({formats:WHe,defaultWidth:"full"}),time:ED({formats:YHe,defaultWidth:"full"}),dateTime:ED({formats:qHe,defaultWidth:"full"})},XHe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QHe=(t,e,r,n)=>XHe[t];function Xg(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const JHe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZHe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},e$e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},t$e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},r$e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},n$e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},s$e={ordinalNumber:(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Xg({values:JHe,defaultWidth:"wide"}),quarter:Xg({values:ZHe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xg({values:e$e,defaultWidth:"wide"}),day:Xg({values:t$e,defaultWidth:"wide"}),dayPeriod:Xg({values:r$e,defaultWidth:"wide",formattingValues:n$e,defaultFormattingWidth:"wide"})};function Qg(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?o$e(a,h=>h.test(o)):i$e(a,h=>h.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function i$e(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function o$e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function a$e(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const l$e=/^(\d+)(th|st|nd|rd)?/i,c$e=/\d+/i,u$e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},d$e={any:[/^b/i,/^(a|c)/i]},h$e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},f$e={any:[/1/i,/2/i,/3/i,/4/i]},m$e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},p$e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},E$e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},g$e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},T$e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},S$e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v$e={ordinalNumber:a$e({matchPattern:l$e,parsePattern:c$e,valueCallback:t=>parseInt(t,10)}),era:Qg({matchPatterns:u$e,defaultMatchWidth:"wide",parsePatterns:d$e,defaultParseWidth:"any"}),quarter:Qg({matchPatterns:h$e,defaultMatchWidth:"wide",parsePatterns:f$e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qg({matchPatterns:m$e,defaultMatchWidth:"wide",parsePatterns:p$e,defaultParseWidth:"any"}),day:Qg({matchPatterns:E$e,defaultMatchWidth:"wide",parsePatterns:g$e,defaultParseWidth:"any"}),dayPeriod:Qg({matchPatterns:T$e,defaultMatchWidth:"any",parsePatterns:S$e,defaultParseWidth:"any"})},lR={code:"en-US",formatDistance:zHe,formatLong:KHe,formatRelative:QHe,localize:s$e,match:v$e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function y$e(t,e){const r=ir(t,e==null?void 0:e.in);return qK(r,QK(r))+1}function gD(t,e){const r=ir(t,e==null?void 0:e.in),n=+rh(r)-+_He(r);return Math.round(n/VK)+1}function TD(t,e){var d,h,m,f;const r=ir(t,e==null?void 0:e.in),n=r.getFullYear(),s=th(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(m=s.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=Br((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const a=uc(o,e),l=Br((e==null?void 0:e.in)||t,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=uc(l,e);return+r>=+a?n+1:+r>=+c?n:n-1}function A$e(t,e){var a,l,c,d;const r=th(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=TD(t,e),i=Br((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),uc(i,e)}function SD(t,e){const r=ir(t,e==null?void 0:e.in),n=+uc(r,e)-+A$e(r,e);return Math.round(n/VK)+1}function mr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const xu={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return mr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):mr(r+1,2)},d(t,e){return mr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return mr(t.getHours()%12||12,e.length)},H(t,e){return mr(t.getHours(),e.length)},m(t,e){return mr(t.getMinutes(),e.length)},s(t,e){return mr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return mr(s,e.length)}},bm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZK={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return xu.y(t,e)},Y:function(t,e,r,n){const s=TD(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return mr(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):mr(i,e.length)},R:function(t,e){const r=YK(t);return mr(r,e.length)},u:function(t,e){const r=t.getFullYear();return mr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return mr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return mr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return xu.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return mr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=SD(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):mr(s,e.length)},I:function(t,e,r){const n=gD(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):mr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):xu.d(t,e)},D:function(t,e,r){const n=y$e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):mr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return mr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return mr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return mr(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=bm.noon:n===0?s=bm.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=bm.evening:n>=12?s=bm.afternoon:n>=4?s=bm.morning:s=bm.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return xu.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):xu.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):mr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):mr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):xu.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):xu.s(t,e)},S:function(t,e){return xu.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return tX(n);case"XXXX":case"XX":return nh(n);case"XXXXX":case"XXX":default:return nh(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return tX(n);case"xxxx":case"xx":return nh(n);case"xxxxx":case"xxx":default:return nh(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+eX(n,":");case"OOOO":default:return"GMT"+nh(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+eX(n,":");case"zzzz":default:return"GMT"+nh(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return mr(n,e.length)},T:function(t,e,r){return mr(+t,e.length)}};function eX(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+mr(i,2)}function tX(t,e){return t%60===0?(t>0?"-":"+")+mr(Math.abs(t)/60,2):nh(t,e)}function nh(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=mr(Math.trunc(n/60),2),i=mr(n%60,2);return r+s+e+i}const rX=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},nX=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},vD={p:nX,P:(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return rX(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",rX(n,e)).replace("{{time}}",nX(s,e))}},R$e=/^D+$/,N$e=/^Y+$/,b$e=["D","DD","YY","YYYY"];function sX(t){return R$e.test(t)}function iX(t){return N$e.test(t)}function yD(t,e,r){const n=C$e(t,e,r);if(console.warn(n),b$e.includes(t))throw new RangeError(n)}function C$e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const x$e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,w$e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,O$e=/^'([^]*?)'?$/,I$e=/''/g,_$e=/[a-zA-Z]/;function L$e(t,e,r){var d,h,m,f,p,E,g,T;const n=th(),s=(r==null?void 0:r.locale)??n.locale??lR,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(m=n.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((E=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:E.weekStartsOn)??n.weekStartsOn??((T=(g=n.locale)==null?void 0:g.options)==null?void 0:T.weekStartsOn)??0,a=ir(t,r==null?void 0:r.in);if(!XK(a))throw new RangeError("Invalid time value");let l=e.match(w$e).map(S=>{const v=S[0];if(v==="p"||v==="P"){const N=vD[v];return N(S,s.formatLong)}return S}).join("").match(x$e).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const v=S[0];if(v==="'")return{isToken:!1,value:D$e(S)};if(ZK[v])return{isToken:!0,value:S};if(v.match(_$e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:S}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(S=>{if(!S.isToken)return S.value;const v=S.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&iX(v)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&sX(v))&&yD(v,e,String(t));const N=ZK[v[0]];return N(a,v,s.localize,c)}).join("")}function D$e(t){const e=t.match(O$e);return e?e[1].replace(I$e,"'"):t}function AD(t,e){const r=ir(t,e==null?void 0:e.in);if(!XK(r))throw new RangeError("Invalid time value");const n=(e==null?void 0:e.format)??"extended",s=(e==null?void 0:e.representation)??"complete";let i="";const o=n==="extended"?"-":"",a=n==="extended"?":":"";if(s!=="time"){const l=mr(r.getDate(),2),c=mr(r.getMonth()+1,2);i=`${mr(r.getFullYear(),4)}${o}${c}${o}${l}`}if(s!=="date"){const l=mr(r.getHours(),2),c=mr(r.getMinutes(),2),d=mr(r.getSeconds(),2);i=`${i}${i===""?"":" "}${l}${a}${c}${a}${d}`}return i}function M$e(t,e){return ir(t*1e3,e==null?void 0:e.in)}function P$e(t,e){const r=ir(t,e==null?void 0:e.in),n=r.getFullYear(),s=r.getMonth(),i=Br(r,0);return i.setFullYear(n,s+1,0),i.setHours(0,0,0,0),i.getDate()}function k$e(){return Object.assign({},th())}function U$e(t,e){const r=ir(t,e==null?void 0:e.in).getDay();return r===0?7:r}function j$e(t,e){return ir(t,e==null?void 0:e.in).getMonth()}function B$e(t,e){return ir(t,e==null?void 0:e.in).getFullYear()}function F$e(t,e){return+ir(t)>+ir(e)}function H$e(t,e){return+ir(t)<+ir(e)}function $$e(t,e){const r=G$e(e)?new e(0):Br(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}function G$e(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const V$e=10;class oX{constructor(){O(this,"subPriority",0)}validate(e,r){return!0}}class z$e extends oX{constructor(e,r,n,s,i){super(),this.value=e,this.validateValue=r,this.setValue=n,this.priority=s,i&&(this.subPriority=i)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,n){return this.setValue(e,r,this.value,n)}}class W$e extends oX{constructor(r,n){super();O(this,"priority",V$e);O(this,"subPriority",-1);this.context=r||(s=>Br(n,s))}set(r,n){return n.timestampIsSet?r:Br(r,$$e(r,this.context))}}let Dr=class{run(e,r,n,s){const i=this.parse(e,r,n,s);return i?{setter:new z$e(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,r,n){return!0}};class Y$e extends Dr{constructor(){super(...arguments);O(this,"priority",140);O(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}set(r,n,s){return n.era=s,r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}const Dn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ul={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Mn(t,e){return t&&{value:e(t.value),rest:t.rest}}function fn(t,e){const r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function dl(t,e){const r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const n=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(s*wHe+i*xHe+o*OHe),rest:e.slice(r[0].length)}}function aX(t){return fn(Dn.anyDigitsSigned,t)}function vn(t,e){switch(t){case 1:return fn(Dn.singleDigit,e);case 2:return fn(Dn.twoDigits,e);case 3:return fn(Dn.threeDigits,e);case 4:return fn(Dn.fourDigits,e);default:return fn(new RegExp("^\\d{1,"+t+"}"),e)}}function cR(t,e){switch(t){case 1:return fn(Dn.singleDigitSigned,e);case 2:return fn(Dn.twoDigitsSigned,e);case 3:return fn(Dn.threeDigitsSigned,e);case 4:return fn(Dn.fourDigitsSigned,e);default:return fn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function RD(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function lX(t,e){const r=e>0,n=r?e:1-e;let s;if(n<=50)s=t||100;else{const i=n+50,o=Math.trunc(i/100)*100,a=t>=i%100;s=t+o-(a?100:0)}return r?s:1-s}function cX(t){return t%400===0||t%4===0&&t%100!==0}class q$e extends Dr{constructor(){super(...arguments);O(this,"priority",130);O(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,s){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Mn(vn(4,r),i);case"yo":return Mn(s.ordinalNumber(r,{unit:"year"}),i);default:return Mn(vn(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s){const i=r.getFullYear();if(s.isTwoDigitYear){const a=lX(s.year,i);return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class K$e extends Dr{constructor(){super(...arguments);O(this,"priority",130);O(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,s){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Mn(vn(4,r),i);case"Yo":return Mn(s.ordinalNumber(r,{unit:"year"}),i);default:return Mn(vn(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s,i){const o=TD(r,i);if(s.isTwoDigitYear){const l=lX(s.year,o);return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),uc(r,i)}const a=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(a,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),uc(r,i)}}class X$e extends Dr{constructor(){super(...arguments);O(this,"priority",130);O(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return cR(n==="R"?4:n.length,r)}set(r,n,s){const i=Br(r,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),rh(i)}}class Q$e extends Dr{constructor(){super(...arguments);O(this,"priority",130);O(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return cR(n==="u"?4:n.length,r)}set(r,n,s){return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class J$e extends Dr{constructor(){super(...arguments);O(this,"priority",120);O(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"Q":case"QQ":return vn(n.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class Z$e extends Dr{constructor(){super(...arguments);O(this,"priority",120);O(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"q":case"qq":return vn(n.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class eGe extends Dr{constructor(){super(...arguments);O(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);O(this,"priority",110)}parse(r,n,s){const i=o=>o-1;switch(n){case"M":return Mn(fn(Dn.month,r),i);case"MM":return Mn(vn(2,r),i);case"Mo":return Mn(s.ordinalNumber(r,{unit:"month"}),i);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}class tGe extends Dr{constructor(){super(...arguments);O(this,"priority",110);O(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,s){const i=o=>o-1;switch(n){case"L":return Mn(fn(Dn.month,r),i);case"LL":return Mn(vn(2,r),i);case"Lo":return Mn(s.ordinalNumber(r,{unit:"month"}),i);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}function rGe(t,e,r){const n=ir(t,r==null?void 0:r.in),s=SD(n,r)-e;return n.setDate(n.getDate()-s*7),ir(n,r==null?void 0:r.in)}class nGe extends Dr{constructor(){super(...arguments);O(this,"priority",100);O(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,s){switch(n){case"w":return fn(Dn.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return vn(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s,i){return uc(rGe(r,s,i),i)}}function sGe(t,e,r){const n=ir(t,r==null?void 0:r.in),s=gD(n,r)-e;return n.setDate(n.getDate()-s*7),n}class iGe extends Dr{constructor(){super(...arguments);O(this,"priority",100);O(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,s){switch(n){case"I":return fn(Dn.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return vn(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s){return rh(sGe(r,s))}}const oGe=[31,28,31,30,31,30,31,31,30,31,30,31],aGe=[31,29,31,30,31,30,31,31,30,31,30,31];class lGe extends Dr{constructor(){super(...arguments);O(this,"priority",90);O(this,"subPriority",1);O(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"d":return fn(Dn.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return vn(n.length,r)}}validate(r,n){const s=r.getFullYear(),i=cX(s),o=r.getMonth();return i?n>=1&&n<=aGe[o]:n>=1&&n<=oGe[o]}set(r,n,s){return r.setDate(s),r.setHours(0,0,0,0),r}}class cGe extends Dr{constructor(){super(...arguments);O(this,"priority",90);O(this,"subpriority",1);O(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,s){switch(n){case"D":case"DD":return fn(Dn.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return vn(n.length,r)}}validate(r,n){const s=r.getFullYear();return cX(s)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,s){return r.setMonth(0,s),r.setHours(0,0,0,0),r}}function ND(t,e,r){var h,m,f,p;const n=th(),s=(r==null?void 0:r.weekStartsOn)??((m=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,i=ir(t,r==null?void 0:r.in),o=i.getDay(),l=(e%7+7)%7,c=7-s,d=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return oR(i,d,r)}class uGe extends Dr{constructor(){super(...arguments);O(this,"priority",90);O(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=ND(r,s,i),r.setHours(0,0,0,0),r}}class dGe extends Dr{constructor(){super(...arguments);O(this,"priority",90);O(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return Mn(vn(n.length,r),o);case"eo":return Mn(s.ordinalNumber(r,{unit:"day"}),o);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=ND(r,s,i),r.setHours(0,0,0,0),r}}class hGe extends Dr{constructor(){super(...arguments);O(this,"priority",90);O(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return Mn(vn(n.length,r),o);case"co":return Mn(s.ordinalNumber(r,{unit:"day"}),o);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=ND(r,s,i),r.setHours(0,0,0,0),r}}function fGe(t,e,r){const n=ir(t,r==null?void 0:r.in),s=U$e(n,r),i=e-s;return oR(n,i,r)}class mGe extends Dr{constructor(){super(...arguments);O(this,"priority",90);O(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,s){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return vn(n.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return Mn(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Mn(s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Mn(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Mn(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,s){return r=fGe(r,s),r.setHours(0,0,0,0),r}}class pGe extends Dr{constructor(){super(...arguments);O(this,"priority",80);O(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(RD(s),0,0,0),r}}class EGe extends Dr{constructor(){super(...arguments);O(this,"priority",80);O(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(RD(s),0,0,0),r}}class gGe extends Dr{constructor(){super(...arguments);O(this,"priority",80);O(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(RD(s),0,0,0),r}}class TGe extends Dr{constructor(){super(...arguments);O(this,"priority",70);O(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,s){switch(n){case"h":return fn(Dn.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return vn(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,s){const i=r.getHours()>=12;return i&&s<12?r.setHours(s+12,0,0,0):!i&&s===12?r.setHours(0,0,0,0):r.setHours(s,0,0,0),r}}class SGe extends Dr{constructor(){super(...arguments);O(this,"priority",70);O(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,s){switch(n){case"H":return fn(Dn.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return vn(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,s){return r.setHours(s,0,0,0),r}}class vGe extends Dr{constructor(){super(...arguments);O(this,"priority",70);O(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,s){switch(n){case"K":return fn(Dn.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return vn(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.getHours()>=12&&s<12?r.setHours(s+12,0,0,0):r.setHours(s,0,0,0),r}}class yGe extends Dr{constructor(){super(...arguments);O(this,"priority",70);O(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,s){switch(n){case"k":return fn(Dn.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return vn(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,s){const i=s<=24?s%24:s;return r.setHours(i,0,0,0),r}}class AGe extends Dr{constructor(){super(...arguments);O(this,"priority",60);O(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"m":return fn(Dn.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return vn(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setMinutes(s,0,0),r}}class RGe extends Dr{constructor(){super(...arguments);O(this,"priority",50);O(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"s":return fn(Dn.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return vn(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setSeconds(s,0),r}}class NGe extends Dr{constructor(){super(...arguments);O(this,"priority",30);O(this,"incompatibleTokens",["t","T"])}parse(r,n){const s=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Mn(vn(n.length,r),s)}set(r,n,s){return r.setMilliseconds(s),r}}class bGe extends Dr{constructor(){super(...arguments);O(this,"priority",10);O(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return dl(ul.basicOptionalMinutes,r);case"XX":return dl(ul.basic,r);case"XXXX":return dl(ul.basicOptionalSeconds,r);case"XXXXX":return dl(ul.extendedOptionalSeconds,r);case"XXX":default:return dl(ul.extended,r)}}set(r,n,s){return n.timestampIsSet?r:Br(r,r.getTime()-aR(r)-s)}}class CGe extends Dr{constructor(){super(...arguments);O(this,"priority",10);O(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return dl(ul.basicOptionalMinutes,r);case"xx":return dl(ul.basic,r);case"xxxx":return dl(ul.basicOptionalSeconds,r);case"xxxxx":return dl(ul.extendedOptionalSeconds,r);case"xxx":default:return dl(ul.extended,r)}}set(r,n,s){return n.timestampIsSet?r:Br(r,r.getTime()-aR(r)-s)}}class xGe extends Dr{constructor(){super(...arguments);O(this,"priority",40);O(this,"incompatibleTokens","*")}parse(r){return aX(r)}set(r,n,s){return[Br(r,s*1e3),{timestampIsSet:!0}]}}class wGe extends Dr{constructor(){super(...arguments);O(this,"priority",20);O(this,"incompatibleTokens","*")}parse(r){return aX(r)}set(r,n,s){return[Br(r,s),{timestampIsSet:!0}]}}const OGe={G:new Y$e,y:new q$e,Y:new K$e,R:new X$e,u:new Q$e,Q:new J$e,q:new Z$e,M:new eGe,L:new tGe,w:new nGe,I:new iGe,d:new lGe,D:new cGe,E:new uGe,e:new dGe,c:new hGe,i:new mGe,a:new pGe,b:new EGe,B:new gGe,h:new TGe,H:new SGe,K:new vGe,k:new yGe,m:new AGe,s:new RGe,S:new NGe,X:new bGe,x:new CGe,t:new xGe,T:new wGe},IGe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_Ge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LGe=/^'([^]*?)'?$/,DGe=/''/g,MGe=/\S/,PGe=/[a-zA-Z]/;function kGe(t,e,r,n){var g,T,S,v;const s=()=>Br(r,NaN),i=k$e(),o=i.locale??lR,a=i.firstWeekContainsDate??((T=(g=i.locale)==null?void 0:g.options)==null?void 0:T.firstWeekContainsDate)??1,l=i.weekStartsOn??((v=(S=i.locale)==null?void 0:S.options)==null?void 0:v.weekStartsOn)??0;if(!e)return t?s():ir(r,n==null?void 0:n.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},d=[new W$e(n==null?void 0:n.in,r)],h=e.match(_Ge).map(N=>{const C=N[0];if(C in vD){const x=vD[C];return x(N,o.formatLong)}return N}).join("").match(IGe),m=[];for(let N of h){iX(N)&&yD(N,e,t),sX(N)&&yD(N,e,t);const C=N[0],x=OGe[C];if(x){const{incompatibleTokens:A}=x;if(Array.isArray(A)){const _=m.find(U=>A.includes(U.token)||U.token===C);if(_)throw new RangeError(`The format string mustn't contain \`${_.fullToken}\` and \`${N}\` at the same time`)}else if(x.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${N}\` and any other token at the same time`);m.push({token:C,fullToken:N});const b=x.run(t,N,o.match,c);if(!b)return s();d.push(b.setter),t=b.rest}else{if(C.match(PGe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(N==="''"?N="'":C==="'"&&(N=UGe(N)),t.indexOf(N)===0)t=t.slice(N.length);else return s()}}if(t.length>0&&MGe.test(t))return s();const f=d.map(N=>N.priority).sort((N,C)=>C-N).filter((N,C,x)=>x.indexOf(N)===C).map(N=>d.filter(C=>C.priority===N).sort((C,x)=>x.subPriority-C.subPriority)).map(N=>N[0]);let p=ir(r,n==null?void 0:n.in);if(isNaN(+p))return s();const E={};for(const N of f){if(!N.validate(p,c))return s();const C=N.set(p,E,c);Array.isArray(C)?(p=C[0],Object.assign(E,C[1])):p=C}return p}function UGe(t){return t.match(LGe)[1].replace(DGe,"'")}function jGe(t,e,r){const[n,s]=Nm(r==null?void 0:r.in,t,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function BGe(t,e,r){const[n,s]=Nm(r==null?void 0:r.in,t,e);return n.getFullYear()===s.getFullYear()}function FGe(t,e,r){const n=ir(t,r==null?void 0:r.in),s=n.getFullYear(),i=n.getDate(),o=Br(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const a=P$e(o);return n.setMonth(e,Math.min(i,a)),n}function HGe(t,e,r){const n=ir(t,r==null?void 0:r.in);return isNaN(+n)?Br(t,NaN):(n.setFullYear(e),n)}const uX=5,$Ge=4;function GGe(t,e){const r=e.startOfMonth(t),n=r.getDay()>0?r.getDay():7,s=e.addDays(t,-n+1),i=e.addDays(s,uX*7-1);return e.getMonth(t)===e.getMonth(i)?uX:$Ge}function dX(t,e){const r=e.startOfMonth(t),n=r.getDay();return n===1?r:n===0?e.addDays(r,-1*6):e.addDays(r,-1*(n-1))}function VGe(t,e){const r=dX(t,e),n=GGe(t,e);return e.addDays(r,n*7-1)}class dc{constructor(e,r){this.Date=Date,this.today=()=>{var n;return(n=this.overrides)!=null&&n.today?this.overrides.today():this.options.timeZone?eh.tz(this.options.timeZone):new this.Date},this.newDate=(n,s,i)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(n,s,i):this.options.timeZone?new eh(n,s,i,this.options.timeZone):new Date(n,s,i)},this.addDays=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.addDays)==null?void 0:o.call(i,n,s))??oR(n,s)},this.addMonths=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.addMonths)==null?void 0:o.call(i,n,s))??WK(n,s)},this.addWeeks=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.addWeeks)==null?void 0:o.call(i,n,s))??LHe(n,s)},this.addYears=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.addYears)==null?void 0:o.call(i,n,s))??DHe(n,s)},this.differenceInCalendarDays=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.differenceInCalendarDays)==null?void 0:o.call(i,n,s))??qK(n,s)},this.differenceInCalendarMonths=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.differenceInCalendarMonths)==null?void 0:o.call(i,n,s))??UHe(n,s)},this.eachMonthOfInterval=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.eachMonthOfInterval)==null?void 0:i.call(s,n))??FHe(n)},this.endOfBroadcastWeek=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.endOfBroadcastWeek)==null?void 0:o.call(i,n,s))??VGe(n,this)},this.endOfISOWeek=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.endOfISOWeek)==null?void 0:i.call(s,n))??GHe(n)},this.endOfMonth=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.endOfMonth)==null?void 0:i.call(s,n))??jHe(n)},this.endOfWeek=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.endOfWeek)==null?void 0:o.call(i,n,s??this.options))??JK(n,s??this.options)},this.endOfYear=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.endOfYear)==null?void 0:i.call(s,n))??$He(n)},this.format=(n,s,i)=>{var a,l;const o=((l=(a=this.overrides)==null?void 0:a.format)==null?void 0:l.call(a,n,s,i??this.options))??L$e(n,s,i??this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.getISOWeek)==null?void 0:i.call(s,n))??gD(n)},this.getMonth=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.getMonth)==null?void 0:i.call(s,n))??j$e(n)},this.getYear=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.getYear)==null?void 0:i.call(s,n))??B$e(n)},this.getWeek=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.getWeek)==null?void 0:o.call(i,n,s??this.options))??SD(n,s??this.options)},this.isAfter=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.isAfter)==null?void 0:o.call(i,n,s))??F$e(n,s)},this.isBefore=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.isBefore)==null?void 0:o.call(i,n,s))??H$e(n,s)},this.isDate=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.isDate)==null?void 0:i.call(s,n))??KK(n)},this.isSameDay=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.isSameDay)==null?void 0:o.call(i,n,s))??kHe(n,s)},this.isSameMonth=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.isSameMonth)==null?void 0:o.call(i,n,s))??jGe(n,s)},this.isSameYear=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.isSameYear)==null?void 0:o.call(i,n,s))??BGe(n,s)},this.max=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.max)==null?void 0:i.call(s,n))??MHe(n)},this.min=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.min)==null?void 0:i.call(s,n))??PHe(n)},this.setMonth=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.setMonth)==null?void 0:o.call(i,n,s))??FGe(n,s)},this.setYear=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.setYear)==null?void 0:o.call(i,n,s))??HGe(n,s)},this.startOfBroadcastWeek=(n,s)=>{var i,o;return((o=(i=this.overrides)==null?void 0:i.startOfBroadcastWeek)==null?void 0:o.call(i,n,s??this))??dX(n,s??this)},this.startOfDay=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.startOfDay)==null?void 0:i.call(s,n))??Kg(n)},this.startOfISOWeek=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.startOfISOWeek)==null?void 0:i.call(s,n))??rh(n)},this.startOfMonth=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.startOfMonth)==null?void 0:i.call(s,n))??HHe(n)},this.startOfWeek=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.startOfWeek)==null?void 0:i.call(s,n))??uc(n,this.options)},this.startOfYear=n=>{var s,i;return((i=(s=this.overrides)==null?void 0:s.startOfYear)==null?void 0:i.call(s,n))??QK(n)},this.options={locale:lR,...e},this.overrides=r}getDigitMap(){const{numerals:e="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:e}),n={};for(let s=0;s<10;s++)n[s.toString()]=r.format(s);return n}replaceDigits(e){const r=this.getDigitMap();return e.replace(/\d/g,n=>r[n]||n)}formatNumber(e){return this.replaceDigits(e.toString())}}const hc=new dc;function zGe(t,e,r={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[i])=>(r[i]?s.push(r[i]):e[Qr[i]]?s.push(e[Qr[i]]):e[va[i]]&&s.push(e[va[i]]),s),[e[Bt.Day]])}function WGe(t){return Fe.createElement("button",{...t})}function YGe(t){return Fe.createElement("span",{...t})}function qGe(t){const{size:e=24,orientation:r="left",className:n}=t;return Fe.createElement("svg",{className:n,width:e,height:e,viewBox:"0 0 24 24"},r==="up"&&Fe.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&Fe.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&Fe.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&Fe.createElement("polygon",{points:"8 18.612 14.1888889 12.5 8 6.37733333 9.91111111 4.5 18 12.5 9.91111111 20.5"}))}function KGe(t){const{day:e,modifiers:r,...n}=t;return Fe.createElement("td",{...n})}function XGe(t){const{day:e,modifiers:r,...n}=t,s=Fe.useRef(null);return Fe.useEffect(()=>{var i;r.focused&&((i=s.current)==null||i.focus())},[r.focused]),Fe.createElement("button",{ref:s,...n})}function QGe(t){const{options:e,className:r,components:n,classNames:s,...i}=t,o=[s[Bt.Dropdown],r].join(" "),a=e==null?void 0:e.find(({value:l})=>l===i.value);return Fe.createElement("span",{"data-disabled":i.disabled,className:s[Bt.DropdownRoot]},Fe.createElement(n.Select,{className:o,...i},e==null?void 0:e.map(({value:l,label:c,disabled:d})=>Fe.createElement(n.Option,{key:l,value:l,disabled:d},c))),Fe.createElement("span",{className:s[Bt.CaptionLabel],"aria-hidden":!0},a==null?void 0:a.label,Fe.createElement(n.Chevron,{orientation:"down",size:18,className:s[Bt.Chevron]})))}function JGe(t){return Fe.createElement("div",{...t})}function ZGe(t){return Fe.createElement("div",{...t})}function eVe(t){const{calendarMonth:e,displayIndex:r,...n}=t;return Fe.createElement("div",{...n},t.children)}function tVe(t){const{calendarMonth:e,displayIndex:r,...n}=t;return Fe.createElement("div",{...n})}function rVe(t){return Fe.createElement("table",{...t})}function nVe(t){return Fe.createElement("div",{...t})}const hX=y.createContext(void 0);function sh(){const t=y.useContext(hX);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function sVe(t){const{components:e}=sh();return Fe.createElement(e.Dropdown,{...t})}function iVe(t){const{onPreviousClick:e,onNextClick:r,previousMonth:n,nextMonth:s,...i}=t,{components:o,classNames:a,labels:{labelPrevious:l,labelNext:c}}=sh();return Fe.createElement("nav",{...i},Fe.createElement(o.PreviousMonthButton,{type:"button",className:a[Bt.PreviousMonthButton],tabIndex:n?void 0:-1,disabled:n?void 0:!0,"aria-label":l(n),onClick:t.onPreviousClick},Fe.createElement(o.Chevron,{disabled:n?void 0:!0,className:a[Bt.Chevron],orientation:"left"})),Fe.createElement(o.NextMonthButton,{type:"button",className:a[Bt.NextMonthButton],tabIndex:s?void 0:-1,disabled:s?void 0:!0,"aria-label":c(s),onClick:t.onNextClick},Fe.createElement(o.Chevron,{disabled:s?void 0:!0,orientation:"right",className:a[Bt.Chevron]})))}function oVe(t){const{components:e}=sh();return Fe.createElement(e.Button,{...t})}function aVe(t){return Fe.createElement("option",{...t})}function lVe(t){const{components:e}=sh();return Fe.createElement(e.Button,{...t})}function cVe(t){return Fe.createElement("div",{...t})}function uVe(t){return Fe.createElement("select",{...t})}function dVe(t){const{week:e,...r}=t;return Fe.createElement("tr",{...r})}function hVe(t){return Fe.createElement("th",{...t})}function fVe(t){return Fe.createElement("thead",{"aria-hidden":!0},Fe.createElement("tr",{...t}))}function mVe(t){const{week:e,...r}=t;return Fe.createElement("th",{...r})}function pVe(t){return Fe.createElement("th",{...t})}function EVe(t){return Fe.createElement("tbody",{...t})}function gVe(t){const{components:e}=sh();return Fe.createElement(e.Dropdown,{...t})}const TVe=Object.freeze(Object.defineProperty({__proto__:null,Button:WGe,CaptionLabel:YGe,Chevron:qGe,Day:KGe,DayButton:XGe,Dropdown:QGe,DropdownNav:JGe,Footer:ZGe,Month:eVe,MonthCaption:tVe,MonthGrid:rVe,Months:nVe,MonthsDropdown:sVe,Nav:iVe,NextMonthButton:oVe,Option:aVe,PreviousMonthButton:lVe,Root:cVe,Select:uVe,Week:dVe,WeekNumber:mVe,WeekNumberHeader:pVe,Weekday:hVe,Weekdays:fVe,Weeks:EVe,YearsDropdown:gVe},Symbol.toStringTag,{value:"Module"}));function SVe(t){return{...TVe,...t}}function vVe(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0};return Object.entries(t).forEach(([r,n])=>{r.startsWith("data-")&&(e[r]=n)}),e}function yVe(){const t={};for(const e in Bt)t[Bt[e]]=`rdp-${Bt[e]}`;for(const e in Qr)t[Qr[e]]=`rdp-${Qr[e]}`;for(const e in va)t[va[e]]=`rdp-${va[e]}`;return t}function fX(t,e,r){return(r??new dc(e)).format(t,"LLLL y")}const AVe=fX;function RVe(t,e,r){return(r??new dc(e)).format(t,"d")}function NVe(t,e=hc){return e.format(t,"LLLL")}function bVe(t){return t<10?`0${t.toLocaleString()}`:`${t.toLocaleString()}`}function CVe(){return""}function xVe(t,e,r){return(r??new dc(e)).format(t,"cccccc")}function mX(t,e=hc){return e.format(t,"yyyy")}const wVe=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:fX,formatDay:RVe,formatMonthCaption:AVe,formatMonthDropdown:NVe,formatWeekNumber:bVe,formatWeekNumberHeader:CVe,formatWeekdayName:xVe,formatYearCaption:mX,formatYearDropdown:mX},Symbol.toStringTag,{value:"Module"}));function OVe(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...wVe,...t}}function IVe(t,e,r,n,s){const{startOfMonth:i,startOfYear:o,endOfYear:a,eachMonthOfInterval:l,getMonth:c}=s;return l({start:o(t),end:a(t)}).map(m=>{const f=n.formatMonthDropdown(m,s),p=c(m),E=e&&m<i(e)||r&&m>i(r)||!1;return{value:p,label:f,disabled:E}})}function _Ve(t,e={},r={}){let n={...e==null?void 0:e[Bt.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{n={...n,...r==null?void 0:r[s]}}),n}function LVe(t,e,r){const n=t.today(),s=e?t.startOfISOWeek(n):t.startOfWeek(n),i=[];for(let o=0;o<7;o++){const a=t.addDays(s,o);i.push(a)}return i}function DVe(t,e,r,n){if(!t||!e)return;const{startOfYear:s,endOfYear:i,addYears:o,getYear:a,isBefore:l,isSameYear:c}=n,d=s(t),h=i(e),m=[];let f=d;for(;l(f,h)||c(f,h);)m.push(f),f=o(f,1);return m.map(p=>{const E=r.formatYearDropdown(p,n);return{value:a(p),label:E,disabled:!1}})}function pX(t,e,r){return(r??new dc(e)).format(t,"LLLL y")}const MVe=pX;function PVe(t,e,r,n){let s=(n??new dc(r)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function EX(t,e,r,n){let s=(n??new dc(r)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const kVe=EX;function UVe(){return""}function jVe(t){return"Choose the Month"}function gX(t){return"Go to the Next Month"}function TX(t){return"Go to the Previous Month"}function BVe(t,e,r){return(r??new dc(e)).format(t,"cccc")}function FVe(t,e){return`Week ${t}`}function HVe(t){return"Week Number"}function $Ve(t){return"Choose the Year"}const GVe=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:MVe,labelDay:kVe,labelDayButton:EX,labelGrid:pX,labelGridcell:PVe,labelMonthDropdown:jVe,labelNav:UVe,labelNext:gX,labelPrevious:TX,labelWeekNumber:FVe,labelWeekNumberHeader:HVe,labelWeekday:BVe,labelYearDropdown:$Ve},Symbol.toStringTag,{value:"Module"}));function VVe(t,e,r,n){const s=t[0],i=t[t.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:l}=r??{},{addDays:c,differenceInCalendarDays:d,differenceInCalendarMonths:h,endOfBroadcastWeek:m,endOfISOWeek:f,endOfMonth:p,endOfWeek:E,isAfter:g,startOfBroadcastWeek:T,startOfISOWeek:S,startOfWeek:v}=n,N=l?T(s,n):o?S(s):v(s),C=l?m(i,n):o?f(p(i)):E(p(i)),x=d(C,N),A=h(i,s)+1,b=[];for(let j=0;j<=x;j++){const L=c(N,j);if(e&&g(L,e))break;b.push(L)}const U=(l?35:42)*A;if(a&&b.length<U){const j=U-b.length;for(let L=0;L<j;L++){const P=c(b[b.length-1],1);b.push(P)}}return b}function zVe(t){const e=[];return t.reduce((r,n)=>{const s=[],i=n.weeks.reduce((o,a)=>[...o,...a.days],s);return[...r,...i]},e)}function WVe(t,e,r,n){const{numberOfMonths:s=1}=r,i=[];for(let o=0;o<s;o++){const a=n.addMonths(t,o);if(e&&a>e)break;i.push(a)}return i}function SX(t,e){const{month:r,defaultMonth:n,today:s=e.today(),numberOfMonths:i=1,endMonth:o,startMonth:a}=t;let l=r||n||s;const{differenceInCalendarMonths:c,addMonths:d,startOfMonth:h}=e;if(o&&c(o,l)<0){const m=-1*(i-1);l=d(o,m)}return a&&c(l,a)<0&&(l=a),h(l)}class vX{constructor(e,r,n=hc){this.date=e,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(e,r)),this.dateLib=n}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class YVe{constructor(e,r){this.date=e,this.weeks=r}}class qVe{constructor(e,r){this.days=r,this.weekNumber=e}}function KVe(t,e,r,n){const{addDays:s,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:a,endOfWeek:l,getISOWeek:c,getWeek:d,startOfBroadcastWeek:h,startOfISOWeek:m,startOfWeek:f}=n,p=t.reduce((E,g)=>{const T=r.broadcastCalendar?h(g,n):r.ISOWeek?m(g):f(g),S=r.broadcastCalendar?i(g,n):r.ISOWeek?o(a(g)):l(a(g)),v=e.filter(A=>A>=T&&A<=S),N=r.broadcastCalendar?35:42;if(r.fixedWeeks&&v.length<N){const A=e.filter(b=>{const _=N-v.length;return b>S&&b<=s(S,_)});v.push(...A)}const C=v.reduce((A,b)=>{const _=r.ISOWeek?c(b):d(b),U=A.find(L=>L.weekNumber===_),j=new vX(b,g,n);return U?U.days.push(j):A.push(new qVe(_,[j])),A},[]),x=new YVe(g,C);return E.push(x),E},[]);return r.reverseMonths?p.reverse():p}function XVe(t,e){let{startMonth:r,endMonth:n}=t;const{startOfYear:s,startOfDay:i,startOfMonth:o,endOfMonth:a,addYears:l,endOfYear:c,newDate:d,today:h}=e,{fromYear:m,toYear:f,fromMonth:p,toMonth:E}=t;!r&&p&&(r=p),!r&&m&&(r=e.newDate(m,0,1)),!n&&E&&(n=E),!n&&f&&(n=d(f,11,31));const g=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return r?r=o(r):m?r=d(m,0,1):!r&&g&&(r=s(l(t.today??h(),-100))),n?n=a(n):f?n=d(f,11,31):!n&&g&&(n=c(t.today??h())),[r&&i(r),n&&i(n)]}function QVe(t,e,r,n){if(r.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i=1}=r,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=n,c=s?i:1,d=o(t);if(!e)return a(d,c);if(!(l(e,t)<i))return a(d,c)}function JVe(t,e,r,n){if(r.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i}=r,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=n,c=s?i??1:1,d=o(t);if(!e)return a(d,-c);if(!(l(d,e)<=0))return a(d,-c)}function ZVe(t){const e=[];return t.reduce((r,n)=>[...r,...n.weeks],e)}function uR(t,e){const[r,n]=y.useState(t);return[e===void 0?r:e,n]}function e7e(t,e){const[r,n]=XVe(t,e),{startOfMonth:s,endOfMonth:i}=e,o=SX(t,e),[a,l]=uR(o,t.month?o:void 0);y.useEffect(()=>{const x=SX(t,e);l(x)},[t.timeZone]);const c=WVe(a,n,t,e),d=VVe(c,t.endMonth?i(t.endMonth):void 0,t,e),h=KVe(c,d,t,e),m=ZVe(h),f=zVe(h),p=JVe(a,r,t,e),E=QVe(a,n,t,e),{disableNavigation:g,onMonthChange:T}=t,S=x=>m.some(A=>A.days.some(b=>b.isEqualTo(x))),v=x=>{if(g)return;let A=s(x);r&&A<s(r)&&(A=s(r)),n&&A>s(n)&&(A=s(n)),l(A),T==null||T(A)};return{months:h,weeks:m,days:f,navStart:r,navEnd:n,previousMonth:p,nextMonth:E,goToMonth:v,goToDay:x=>{S(x)||v(x.date)}}}function t7e(t,e,r,n){let s,i=0,o=!1;for(;i<t.length&&!o;){const a=t[i],l=e(a);!l[Qr.disabled]&&!l[Qr.hidden]&&!l[Qr.outside]&&(l[Qr.focused]||n!=null&&n.isEqualTo(a)||r(a.date)||l[Qr.today])&&(s=a,o=!0),i++}return s||(s=t.find(a=>{const l=e(a);return!l[Qr.disabled]&&!l[Qr.hidden]&&!l[Qr.outside]})),s}function fc(t,e,r=!1,n=hc){let{from:s,to:i}=t;const{differenceInCalendarDays:o,isSameDay:a}=n;return s&&i?(o(i,s)<0&&([s,i]=[i,s]),o(e,s)>=(r?1:0)&&o(i,e)>=(r?1:0)):!r&&i?a(i,e):!r&&s?a(s,e):!1}function yX(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function bD(t){return!!(t&&typeof t=="object"&&"from"in t)}function AX(t){return!!(t&&typeof t=="object"&&"after"in t)}function RX(t){return!!(t&&typeof t=="object"&&"before"in t)}function NX(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function bX(t,e){return Array.isArray(t)&&t.every(e.isDate)}function mc(t,e,r=hc){const n=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:i,isAfter:o}=r;return n.some(a=>{if(typeof a=="boolean")return a;if(r.isDate(a))return s(t,a);if(bX(a,r))return a.includes(t);if(bD(a))return fc(a,t,!1,r);if(NX(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(t.getDay()):a.dayOfWeek===t.getDay();if(yX(a)){const l=i(a.before,t),c=i(a.after,t),d=l>0,h=c<0;return o(a.before,a.after)?h&&d:d||h}return AX(a)?i(t,a.after)>0:RX(a)?i(a.before,t)>0:typeof a=="function"?a(t):!1})}function r7e(t,e,r,n,s,i,o){const{ISOWeek:a,broadcastCalendar:l}=i,{addDays:c,addMonths:d,addWeeks:h,addYears:m,endOfBroadcastWeek:f,endOfISOWeek:p,endOfWeek:E,max:g,min:T,startOfBroadcastWeek:S,startOfISOWeek:v,startOfWeek:N}=o;let x={day:c,week:h,month:d,year:m,startOfWeek:A=>l?S(A,o):a?v(A):N(A),endOfWeek:A=>l?f(A,o):a?p(A):E(A)}[t](r,e==="after"?1:-1);return e==="before"&&n?x=g([n,x]):e==="after"&&s&&(x=T([s,x])),x}function CX(t,e,r,n,s,i,o,a=0){if(a>365)return;const l=r7e(t,e,r.date,n,s,i,o),c=!!(i.disabled&&mc(l,i.disabled,o)),d=!!(i.hidden&&mc(l,i.hidden,o)),h=l,m=new vX(l,h,o);return!c&&!d?m:CX(t,e,m,n,s,i,o,a+1)}function n7e(t,e,r,n,s){const{autoFocus:i}=t,[o,a]=y.useState(),l=t7e(e.days,r,n||(()=>!1),o),[c,d]=y.useState(i?l:void 0);return{isFocusTarget:E=>!!(l!=null&&l.isEqualTo(E)),setFocused:d,focused:c,blur:()=>{a(c),d(void 0)},moveFocus:(E,g)=>{if(!c)return;const T=CX(E,g,c,e.navStart,e.navEnd,t,s);T&&(e.goToDay(T),d(T))}}}function s7e(t,e,r){const{disabled:n,hidden:s,modifiers:i,showOutsideDays:o,broadcastCalendar:a,today:l}=e,{isSameDay:c,isSameMonth:d,startOfMonth:h,isBefore:m,endOfMonth:f,isAfter:p}=r,E=e.startMonth&&h(e.startMonth),g=e.endMonth&&f(e.endMonth),T={[Qr.focused]:[],[Qr.outside]:[],[Qr.disabled]:[],[Qr.hidden]:[],[Qr.today]:[]},S={};for(const v of t){const{date:N,displayMonth:C}=v,x=!!(C&&!d(N,C)),A=!!(E&&m(N,E)),b=!!(g&&p(N,g)),_=!!(n&&mc(N,n,r)),U=!!(s&&mc(N,s,r))||A||b||!a&&!o&&x||a&&o===!1&&x,j=c(N,l??r.today());x&&T.outside.push(v),_&&T.disabled.push(v),U&&T.hidden.push(v),j&&T.today.push(v),i&&Object.keys(i).forEach(L=>{const P=i==null?void 0:i[L];P&&mc(N,P,r)&&(S[L]?S[L].push(v):S[L]=[v])})}return v=>{const N={[Qr.focused]:!1,[Qr.disabled]:!1,[Qr.hidden]:!1,[Qr.outside]:!1,[Qr.today]:!1},C={};for(const x in T){const A=T[x];N[x]=A.some(b=>b===v)}for(const x in S)C[x]=S[x].some(A=>A===v);return{...N,...C}}}function i7e(t,e){const{selected:r,required:n,onSelect:s}=t,[i,o]=uR(r,s?r:void 0),a=s?r:i,{isSameDay:l}=e,c=f=>(a==null?void 0:a.some(p=>l(p,f)))??!1,{min:d,max:h}=t;return{selected:a,select:(f,p,E)=>{let g=[...a??[]];if(c(f)){if((a==null?void 0:a.length)===d||n&&(a==null?void 0:a.length)===1)return;g=a==null?void 0:a.filter(T=>!l(T,f))}else(a==null?void 0:a.length)===h?g=[f]:g=[...g,f];return s||o(g),s==null||s(g,f,p,E),g},isSelected:c}}function o7e(t,e,r=0,n=0,s=!1,i=hc){const{from:o,to:a}=e||{},{isSameDay:l,isAfter:c,isBefore:d}=i;let h;if(!o&&!a)h={from:t,to:r>0?void 0:t};else if(o&&!a)l(o,t)?s?h={from:o,to:void 0}:h=void 0:d(t,o)?h={from:t,to:o}:h={from:o,to:t};else if(o&&a)if(l(o,t)&&l(a,t))s?h={from:o,to:a}:h=void 0;else if(l(o,t))h={from:o,to:r>0?void 0:t};else if(l(a,t))h={from:t,to:r>0?void 0:t};else if(d(t,o))h={from:t,to:a};else if(c(t,o))h={from:o,to:t};else if(c(t,a))h={from:o,to:t};else throw new Error("Invalid range");if(h!=null&&h.from&&(h!=null&&h.to)){const m=i.differenceInCalendarDays(h.to,h.from);n>0&&m>n?h={from:t,to:void 0}:r>1&&m<r&&(h={from:t,to:void 0})}return h}function a7e(t,e,r=hc){const n=Array.isArray(e)?e:[e];let s=t.from;const i=r.differenceInCalendarDays(t.to,t.from),o=Math.min(i,6);for(let a=0;a<=o;a++){if(n.includes(s.getDay()))return!0;s=r.addDays(s,1)}return!1}function xX(t,e,r=hc){return fc(t,e.from,!1,r)||fc(t,e.to,!1,r)||fc(e,t.from,!1,r)||fc(e,t.to,!1,r)}function l7e(t,e,r=hc){const n=Array.isArray(e)?e:[e];if(n.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:r.isDate(a)?fc(t,a,!1,r):bX(a,r)?a.some(l=>fc(t,l,!1,r)):bD(a)?a.from&&a.to?xX(t,{from:a.from,to:a.to},r):!1:NX(a)?a7e(t,a.dayOfWeek,r):yX(a)?r.isAfter(a.before,a.after)?xX(t,{from:r.addDays(a.after,1),to:r.addDays(a.before,-1)},r):mc(t.from,a,r)||mc(t.to,a,r):AX(a)||RX(a)?mc(t.from,a,r)||mc(t.to,a,r):!1))return!0;const o=n.filter(a=>typeof a=="function");if(o.length){let a=t.from;const l=r.differenceInCalendarDays(t.to,t.from);for(let c=0;c<=l;c++){if(o.some(d=>d(a)))return!0;a=r.addDays(a,1)}}return!1}function c7e(t,e){const{disabled:r,excludeDisabled:n,selected:s,required:i,onSelect:o}=t,[a,l]=uR(s,o?s:void 0),c=o?s:a;return{selected:c,select:(m,f,p)=>{const{min:E,max:g}=t,T=m?o7e(m,c,E,g,i,e):void 0;return n&&r&&(T!=null&&T.from)&&T.to&&l7e({from:T.from,to:T.to},r,e)&&(T.from=m,T.to=void 0),o||l(T),o==null||o(T,m,f,p),T},isSelected:m=>c&&fc(c,m,!1,e)}}function u7e(t,e){const{selected:r,required:n,onSelect:s}=t,[i,o]=uR(r,s?r:void 0),a=s?r:i,{isSameDay:l}=e;return{selected:a,select:(h,m,f)=>{let p=h;return!n&&a&&a&&l(h,a)&&(p=void 0),s||o(p),s==null||s(p,h,m,f),p},isSelected:h=>a?l(a,h):!1}}function d7e(t,e){const r=u7e(t,e),n=i7e(t,e),s=c7e(t,e);switch(t.mode){case"single":return r;case"multiple":return n;case"range":return s;default:return}}function h7e(t){const{components:e,formatters:r,labels:n,dateLib:s,locale:i,classNames:o}=y.useMemo(()=>{const Ze={...lR,...t.locale};return{dateLib:new dc({locale:Ze,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:SVe(t.components),formatters:OVe(t.formatters),labels:{...GVe,...t.labels},locale:Ze,classNames:{...yVe(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:a,mode:l,onDayBlur:c,onDayClick:d,onDayFocus:h,onDayKeyDown:m,onDayMouseEnter:f,onDayMouseLeave:p,onNextClick:E,onPrevClick:g,showWeekNumber:T,styles:S}=t,{formatCaption:v,formatDay:N,formatMonthDropdown:C,formatWeekNumber:x,formatWeekNumberHeader:A,formatWeekdayName:b,formatYearDropdown:_}=r,U=e7e(t,s),{days:j,months:L,navStart:P,navEnd:I,previousMonth:F,nextMonth:W,goToMonth:Y}=U,k=s7e(j,t,s),{isSelected:V,select:re,selected:K}=d7e(t,s)??{},{blur:B,focused:X,isFocusTarget:J,moveFocus:Z,setFocused:Ee}=n7e(t,U,k,V??(()=>!1),s),{labelDayButton:se,labelGridcell:ie,labelGrid:Te,labelMonthDropdown:ve,labelNav:_e,labelWeekday:fe,labelWeekNumber:je,labelWeekNumberHeader:H,labelYearDropdown:Ce}=n,be=y.useMemo(()=>LVe(s,t.ISOWeek),[s,t.ISOWeek]),ce=l!==void 0||d!==void 0,Q=y.useCallback(()=>{F&&(Y(F),g==null||g(F))},[F,Y,g]),Ae=y.useCallback(()=>{W&&(Y(W),E==null||E(W))},[Y,W,E]),te=y.useCallback((Ze,ut)=>He=>{He.preventDefault(),He.stopPropagation(),Ee(Ze),re==null||re(Ze.date,ut,He),d==null||d(Ze.date,ut,He)},[re,d,Ee]),ae=y.useCallback((Ze,ut)=>He=>{Ee(Ze),h==null||h(Ze.date,ut,He)},[h,Ee]),le=y.useCallback((Ze,ut)=>He=>{B(),c==null||c(Ze.date,ut,He)},[B,c]),we=y.useCallback((Ze,ut)=>He=>{const lt={ArrowLeft:["day",t.dir==="rtl"?"after":"before"],ArrowRight:["day",t.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[He.shiftKey?"year":"month","before"],PageDown:[He.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(lt[He.key]){He.preventDefault(),He.stopPropagation();const[Qe,Lt]=lt[He.key];Z(Qe,Lt)}m==null||m(Ze.date,ut,He)},[Z,m,t.dir]),Ie=y.useCallback((Ze,ut)=>He=>{f==null||f(Ze.date,ut,He)},[f]),ue=y.useCallback((Ze,ut)=>He=>{p==null||p(Ze.date,ut,He)},[p]),pe=y.useCallback(Ze=>ut=>{const He=Number(ut.target.value),lt=s.setMonth(s.startOfMonth(Ze),He);Y(lt)},[s,Y]),he=y.useCallback(Ze=>ut=>{const He=Number(ut.target.value),lt=s.setYear(s.startOfMonth(Ze),He);Y(lt)},[s,Y]),{className:Ne,style:Se}=y.useMemo(()=>({className:[o[Bt.Root],t.className].filter(Boolean).join(" "),style:{...S==null?void 0:S[Bt.Root],...t.style}}),[o,t.className,t.style,S]),Ye=vVe(t),Ge={dayPickerProps:t,selected:K,select:re,isSelected:V,months:L,nextMonth:W,previousMonth:F,goToMonth:Y,getModifiers:k,components:e,classNames:o,styles:S,labels:n,formatters:r};return Fe.createElement(hX.Provider,{value:Ge},Fe.createElement(e.Root,{className:Ne,style:Se,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...Ye},Fe.createElement(e.Months,{className:o[Bt.Months],style:S==null?void 0:S[Bt.Months]},!t.hideNavigation&&Fe.createElement(e.Nav,{className:o[Bt.Nav],style:S==null?void 0:S[Bt.Nav],"aria-label":_e(),onPreviousClick:Q,onNextClick:Ae,previousMonth:F,nextMonth:W}),L.map((Ze,ut)=>{const He=IVe(Ze.date,P,I,r,s),lt=DVe(P,I,r,s);return Fe.createElement(e.Month,{className:o[Bt.Month],style:S==null?void 0:S[Bt.Month],key:ut,displayIndex:ut,calendarMonth:Ze},Fe.createElement(e.MonthCaption,{className:o[Bt.MonthCaption],style:S==null?void 0:S[Bt.MonthCaption],calendarMonth:Ze,displayIndex:ut},a!=null&&a.startsWith("dropdown")?Fe.createElement(e.DropdownNav,{className:o[Bt.Dropdowns],style:S==null?void 0:S[Bt.Dropdowns]},a==="dropdown"||a==="dropdown-months"?Fe.createElement(e.MonthsDropdown,{className:o[Bt.MonthsDropdown],"aria-label":ve(),classNames:o,components:e,disabled:!!t.disableNavigation,onChange:pe(Ze.date),options:He,style:S==null?void 0:S[Bt.Dropdown],value:s.getMonth(Ze.date)}):Fe.createElement("span",{role:"status","aria-live":"polite"},C(Ze.date,s)),a==="dropdown"||a==="dropdown-years"?Fe.createElement(e.YearsDropdown,{className:o[Bt.YearsDropdown],"aria-label":Ce(s.options),classNames:o,components:e,disabled:!!t.disableNavigation,onChange:he(Ze.date),options:lt,style:S==null?void 0:S[Bt.Dropdown],value:s.getYear(Ze.date)}):Fe.createElement("span",{role:"status","aria-live":"polite"},_(Ze.date,s))):Fe.createElement(e.CaptionLabel,{className:o[Bt.CaptionLabel],role:"status","aria-live":"polite"},v(Ze.date,s.options,s))),Fe.createElement(e.MonthGrid,{role:"grid","aria-multiselectable":l==="multiple"||l==="range","aria-label":Te(Ze.date,s.options,s)||void 0,className:o[Bt.MonthGrid],style:S==null?void 0:S[Bt.MonthGrid]},!t.hideWeekdays&&Fe.createElement(e.Weekdays,{className:o[Bt.Weekdays],style:S==null?void 0:S[Bt.Weekdays]},T&&Fe.createElement(e.WeekNumberHeader,{"aria-label":H(s.options),className:o[Bt.WeekNumberHeader],style:S==null?void 0:S[Bt.WeekNumberHeader],scope:"col"},A()),be.map((Qe,Lt)=>Fe.createElement(e.Weekday,{"aria-label":fe(Qe,s.options,s),className:o[Bt.Weekday],key:Lt,style:S==null?void 0:S[Bt.Weekday],scope:"col"},b(Qe,s.options,s)))),Fe.createElement(e.Weeks,{className:o[Bt.Weeks],style:S==null?void 0:S[Bt.Weeks]},Ze.weeks.map((Qe,Lt)=>Fe.createElement(e.Week,{className:o[Bt.Week],key:Qe.weekNumber,style:S==null?void 0:S[Bt.Week],week:Qe},T&&Fe.createElement(e.WeekNumber,{week:Qe,style:S==null?void 0:S[Bt.WeekNumber],"aria-label":je(Qe.weekNumber,{locale:i}),className:o[Bt.WeekNumber],scope:"row",role:"rowheader"},x(Qe.weekNumber)),Qe.days.map(Nt=>{const{date:Pt}=Nt,vt=k(Nt);if(vt[Qr.focused]=!vt.hidden&&!!(X!=null&&X.isEqualTo(Nt)),vt[va.selected]=!vt.disabled&&((V==null?void 0:V(Pt))||vt.selected),bD(K)){const{from:ln,to:Zn}=K;vt[va.range_start]=!!(ln&&Zn&&s.isSameDay(Pt,ln)),vt[va.range_end]=!!(ln&&Zn&&s.isSameDay(Pt,Zn)),vt[va.range_middle]=fc(K,Pt,!0,s)}const mn=_Ve(vt,S,t.modifiersStyles),wt=zGe(vt,o,t.modifiersClassNames),Rr=!ce&&!vt.hidden?ie(Pt,vt,s.options,s):void 0;return Fe.createElement(e.Day,{key:`${s.format(Pt,"yyyy-MM-dd")}_${s.format(Nt.displayMonth,"yyyy-MM")}`,day:Nt,modifiers:vt,className:wt.join(" "),style:mn,role:"gridcell","aria-selected":vt.selected||void 0,"aria-label":Rr,"data-day":s.format(Pt,"yyyy-MM-dd"),"data-month":Nt.outside?s.format(Pt,"yyyy-MM"):void 0,"data-selected":vt.selected||void 0,"data-disabled":vt.disabled||void 0,"data-hidden":vt.hidden||void 0,"data-outside":Nt.outside||void 0,"data-focused":vt.focused||void 0,"data-today":vt.today||void 0},!vt.hidden&&ce?Fe.createElement(e.DayButton,{className:o[Bt.DayButton],style:S==null?void 0:S[Bt.DayButton],type:"button",day:Nt,modifiers:vt,disabled:vt.disabled||void 0,tabIndex:J(Nt)?0:-1,"aria-label":se(Pt,vt,s.options,s),onClick:te(Nt,vt),onBlur:le(Nt,vt),onFocus:ae(Nt,vt),onKeyDown:we(Nt,vt),onMouseEnter:Ie(Nt,vt),onMouseLeave:ue(Nt,vt)},N(Pt,s.options,s)):!vt.hidden&&N(Nt.date,s.options,s))}))))))})),t.footer&&Fe.createElement(e.Footer,{className:o[Bt.Footer],style:S==null?void 0:S[Bt.Footer],role:"status","aria-live":"polite"},t.footer)))}const f7e=[{date:new Date(0,0,1)},{date:new Date(0,1,1)},{date:new Date(0,2,1)},{date:new Date(0,3,1)},{date:new Date(0,4,1)},{date:new Date(0,5,1)},{date:new Date(0,6,1)},{date:new Date(0,7,1)},{date:new Date(0,8,1)},{date:new Date(0,9,1)},{date:new Date(0,10,1)},{date:new Date(0,11,1)}];function wX({className:t,classNames:e,showOutsideDays:r=!0,yearRange:n=12,numberOfMonths:s,...i}){const[o,a]=y.useState("days"),[l,c]=y.useState(y.useMemo(()=>{var g;const E=((g=i.selected)==null?void 0:g.getFullYear())||new Date().getFullYear();return{from:E-Math.floor(n/2-1),to:E+Math.ceil(n/2)}},[n,i.selected])),{onNextClick:d,onPrevClick:h}=i,[m,f]=y.useState(i.selected||new Date),p=o==="years"||o==="months"?1:s;return y.useEffect(()=>{const E=i.selected||new Date;f(E),c({from:E.getFullYear()-Math.floor(n/2-1),to:E.getFullYear()+Math.ceil(n/2)})},[i.selected]),u.jsx(h7e,{showOutsideDays:r,className:z("p-3",t),style:{width:248.8*(p??1)+"px"},month:m,onMonthChange:f,startMonth:new Date(l.from,0,1),endMonth:new Date(l.to,11,31),captionLayout:"dropdown",classNames:{months:"relative flex flex-col gap-y-4 @sm:flex-row @sm:gap-y-0",month_caption:"relative mx-10 flex h-7 items-center justify-center",weekdays:"flex flex-row",weekday:"w-8 text-[0.8rem] font-normal text-muted-foreground",month:"w-full gap-y-4 overflow-x-hidden",caption:"relative flex items-center justify-center pt-1",caption_label:"truncate text-sm font-medium",button_next:z(uE({variant:"outline",className:"absolute right-0 h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"})),button_previous:z(uE({variant:"outline",className:"absolute left-0 h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"})),nav:"flex items-start",month_grid:"mt-4",week:"mt-2 flex w-full",day:"flex size-8 flex-1 items-center justify-center rounded-md p-0 text-sm [&:has(button)]:hover:!bg-accent [&:has(button)]:hover:text-accent-foreground [&:has(button)]:hover:aria-selected:!bg-primary [&:has(button)]:hover:aria-selected:text-primary-foreground",day_button:z(uE({variant:"ghost"}),"h-8 w-8 p-0 font-normal transition-none hover:bg-transparent hover:text-inherit aria-selected:opacity-100"),range_start:"day-range-start rounded-s-md",range_end:"day-range-end rounded-e-md",selected:"bg-primary text-primary-foreground hover:!bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",today:"bg-accent text-accent-foreground",outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",disabled:"text-muted-foreground opacity-50",range_middle:"rounded-none aria-selected:bg-accent aria-selected:text-accent-foreground hover:aria-selected:!bg-accent hover:aria-selected:text-accent-foreground",hidden:"invisible hidden",...e},components:{Chevron:({orientation:E})=>{const g=E==="left"?wO:o0;return u.jsx(g,{className:"h-4 w-4"})},Nav:({className:E})=>{const{nextMonth:g,previousMonth:T,goToMonth:S}=sh(),v=y.useCallback(()=>{if(o==="years"){c(C=>({from:C.from-(C.to-C.from+1),to:C.to-(C.to-C.from+1)})),h==null||h(new Date(l.from-(l.to-l.from),0,1));return}T&&(S(T),h==null||h(T))},[T,S]),N=y.useCallback(()=>{if(o==="years"){c(C=>({from:C.from+(C.to-C.from+1),to:C.to+(C.to-C.from+1)})),d==null||d(new Date(l.from+(l.to-l.from),0,1));return}g&&(S(g),d==null||d(g))},[S,g]);return o==="months"?u.jsx(u.Fragment,{}):u.jsxs("nav",{className:z("flex items-center",E),children:[u.jsx(Le,{variant:"outline",className:"absolute left-0 h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",type:"button","aria-label":o==="years"?`Go to the previous ${l.to-l.from+1} years`:TX(),onClick:v,children:u.jsx(wO,{className:"h-4 w-4"})}),u.jsx(Le,{variant:"outline",className:"absolute right-0 h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",type:"button","aria-label":o==="years"?`Go to the next ${l.to-l.from+1} years`:gX(),onClick:N,children:u.jsx(o0,{className:"h-4 w-4"})})]})},MonthsDropdown:({value:E,options:g})=>{var S;if(o==="years")return u.jsx(u.Fragment,{});const T=((S=g==null?void 0:g.find(v=>v.value===E))==null?void 0:S.label)||new Date().toLocaleString("default",{month:"long"});return u.jsx(Le,{className:"h-7 truncate px-2 text-sm font-medium",variant:"ghost",size:"sm",onClick:()=>a(v=>v==="days"?"months":"days"),children:T})},YearsDropdown:({value:E,options:g})=>{var S;const T=o==="years"?`${l.from} - ${l.to}`:((S=g==null?void 0:g.find(v=>v.value===E))==null?void 0:S.label)||new Date().getFullYear();return u.jsx(Le,{className:"h-7 truncate px-2 text-sm font-medium",variant:"ghost",size:"sm",onClick:()=>a(v=>v==="days"||v==="months"?"years":"days"),children:T})},MonthGrid:({className:E,children:g,...T})=>{const{selected:S,goToMonth:v}=sh(),N=S||new Date,C=new Date;return o==="years"?u.jsx("div",{className:z("grid grid-cols-4 gap-y-2",E),...T,children:Array.from({length:l.to-l.from+1},(x,A)=>u.jsx(Le,{className:z("h-7 w-full",l.from+A===C.getFullYear()&&"bg-accent text-accent-foreground",l.from+A===N.getFullYear()&&"bg-primary text-primary-foreground"),variant:"ghost",onClick:()=>{a("days");const b=new Date(l.from+A,m.getMonth(),m.getDate());v(b)},children:l.from+A},A))}):o==="months"?u.jsx("div",{className:z("grid grid-cols-4 gap-y-2",E),...T,children:f7e.map(({date:x})=>u.jsx(Le,{className:z("h-7 w-full",x.getMonth()===C.getMonth()&&"bg-accent text-accent-foreground",(N==null?void 0:N.getMonth())===x.getMonth()&&"bg-primary text-primary-foreground"),variant:"ghost",onClick:()=>{a("days");const A=new Date(m.getFullYear(),x.getMonth(),m.getDate());v(A)},children:x.toLocaleString("default",{month:"short"})},x.getMonth()))}):u.jsx("div",{className:"flex justify-center",children:u.jsx("table",{className:E,...T,children:g})})}},numberOfMonths:p,...i})}wX.displayName="Calendar";const m7e=[{regex:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}\.\d+$/,format:"yyyy-MM-dd HH:mm:ss.SSSSSS"},{regex:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/,format:"yyyy-MM-dd HH:mm:ss"},{regex:/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?([+-]\d{2}:\d{2}|Z)$/,format:"yyyy-MM-dd'T'HH:mm:ss.SSSX"},{regex:/^\d{4}-\d{2}-\d{2}$/,format:"yyyy-MM-dd"},{regex:/^\d{1,2}\/\d{1,2}\/\d{4}$/,format:"MM/dd/yyyy"},{regex:/^\d{2}:\d{2}:\d{2}\.\d+$/,format:"HH:mm:ss.SSSSSS"},{regex:/^\d{2}:\d{2}:\d{2}$/,format:"HH:mm:ss"},{regex:/^\d{2}:\d{2}$/,format:"HH:mm"},{regex:/^\d{6}$/,format:"HHmmss"},{regex:/^\d{2}:\d{2}:\d{2} (AM|PM)$/,format:"hh:mm:ss a"},{regex:/^\d{2}:\d{2}:\d{2}\.\d+ (AM|PM)$/,format:"hh:mm:ss.SSSSSS a"},{regex:/^\d{8}$/,format:"yyyyMMdd"}],OX=t=>{if(t==="epoch")return{date:new Date(0),shouldFormat:!1};if(t==="now")return{date:new Date,shouldFormat:!1};if(t==="today"){const r=new Date;return r.setHours(0,0,0,0),{date:r,shouldFormat:!1}}if(t==="tomorrow"){const r=new Date;return r.setDate(r.getDate()+1),r.setHours(0,0,0,0),{date:r,shouldFormat:!1}}if(t==="yesterday"){const r=new Date;return r.setDate(r.getDate()-1),r.setHours(0,0,0,0),{date:r,shouldFormat:!1}}const e=m7e.find(({regex:r})=>r.test(t));if(!e){if(/^\d{10}(\.\d+)?$|^\d{13}$/.test(t))return{date:M$e(parseFloat(t)),shouldFormat:!0};throw new Error(`Unsupported PostgreSQL date/time format: ${t}`)}return{date:kGe(t,e.format,new Date),shouldFormat:!1}},dR=({row:t,type:e,column:r,onRowChange:n,hasDefault:s,returnType:i="iso",isTimeOptional:o=!1,showOptions:a=!0})=>{const l=it(({dialect:j})=>{if(!j)throw new Error("No dialect");return j}),c=t.values[r.key],[d,h]=y.useState(()=>{if(c)try{return OX(c).date}catch{return}}),[m,f]=y.useState(c),p=y.useRef(null),E=y.useRef(null),g=y.useRef(null),T=y.useRef(null),S=y.useRef(null),[v,N]=y.useState(!o),C=(j,L,P=!1)=>{if(j){const I=d?new Date(j.getFullYear(),j.getMonth(),j.getDate(),d.getHours(),d.getMinutes(),d.getSeconds()):new Date(j.getFullYear(),j.getMonth(),j.getDate());h(I);const F=i==="epoch"?I.getTime()/1e3:AD(I,{representation:e==="date"||!L?"date":e==="time"?"time":"complete"});n({...t,values:{...t.values,[r.key]:F}},P)}},x=(j,L,P)=>{let I=new Date(d||new Date);j==="hour"?I.setHours(parseInt(P,10)):j==="minute"?I.setMinutes(parseInt(P,10)):j==="second"&&I.setSeconds(parseInt(P,10)),h(I);const F=i==="epoch"?I.getTime()/1e3:AD(I,{representation:e==="date"||!L?"date":e==="time"?"time":"complete"});n({...t,values:{...t.values,[r.key]:F}})},[A,b]=y.useState(void 0);y.useEffect(()=>{const j=new ResizeObserver(()=>{E.current&&b(E.current.clientHeight)});return E.current&&j.observe(E.current),()=>{j.disconnect()}},[]),y.useEffect(()=>{var j,L,P;(j=g.current)==null||j.scrollIntoView({behavior:"instant",block:"center"}),(L=T.current)==null||L.scrollIntoView({behavior:"instant",block:"center"}),(P=S.current)==null||P.scrollIntoView({behavior:"instant",block:"center"})},[]),y.useEffect(()=>{var j,L,P;(j=g.current)==null||j.scrollIntoView({behavior:"smooth",block:"center"}),(L=T.current)==null||L.scrollIntoView({behavior:"smooth",block:"center"}),(P=S.current)==null||P.scrollIntoView({behavior:"smooth",block:"center"})},[d]),y.useEffect(()=>{f(c)},[c]);const _=j=>{if(j)try{n({...t,values:{...t.values,[r.key]:j}});const{date:L,shouldFormat:P}=OX(j);if(h(L),P){const I=i==="epoch"?L.getTime()/1e3:AD(L,{representation:e==="date"||!v?"date":e==="time"?"time":"complete"});n({...t,values:{...t.values,[r.key]:I}})}}catch{h(void 0)}else n({...t,values:{...t.values,[r.key]:null}}),h(void 0)};y.useEffect(()=>{var j,L;(j=p.current)==null||j.focus(),(L=p.current)==null||L.select()},[]);const U=y.useMemo(()=>{let j=[];return l==="postgresql"&&(j.push("now"),(e==="date"||e==="datetime")&&j.push("today","tomorrow","yesterday")),j},[t.type,s]);return u.jsxs(am,{open:!0,children:[u.jsx(JL,{asChild:!0,children:u.jsx("input",{className:z("rdg-text-editor bg-popover font-table text-foreground h-[1.875rem] w-full items-center px-2 leading-8 tracking-wider !outline-none"),ref:p,value:m||"",onChange:j=>{const L=j.target.value;_(L)}})}),u.jsxs(zd,{align:"start",className:"flex w-fit rounded-none border-none bg-transparent p-0 shadow-none",sideOffset:0,alignOffset:-1,children:[u.jsxs("div",{className:"bg-popover flex border",children:[a&&u.jsxs("div",{className:"min-w-[10rem] border-r p-2",children:[t.type==="CREATE"&&s&&u.jsx("div",{className:"font-table hover:bg-button-outline-hover cursor-pointer rounded-sm px-2 py-1.5 text-sm !outline-none transition-colors",onMouseDown:()=>_("DEFAULT"),children:"DEFAULT"}),u.jsx("div",{className:"font-table hover:bg-button-outline-hover cursor-pointer rounded-sm px-2 py-1.5 text-sm !outline-none transition-colors",onMouseDown:()=>_("NULL"),children:"NULL"}),U.length>0&&u.jsx(u.Fragment,{children:U.map(j=>u.jsx("div",{className:"hover:bg-button-outline-hover cursor-pointer rounded-sm px-2 py-1.5 text-sm !outline-none transition-colors",onMouseDown:()=>_(j),children:j},`date-cell-editor-${j}`))})]}),(e==="date"||e==="datetime")&&u.jsx(u.Fragment,{children:u.jsx("div",{ref:E,className:z("h-fit"),children:u.jsx(wX,{className:"p-2",mode:"single",yearRange:24,selected:d,onSelect:j=>{C(j,v)}})})}),(e==="time"||e==="datetime")&&u.jsx("div",{className:z("w-full transition-all duration-200 ease-out",e==="datetime"&&"border-l"),style:{width:v?"100%":"0",opacity:v?1:0},children:u.jsxs("div",{className:z("flex h-[21.875rem] w-full justify-center pl-2"),style:{height:A},children:[u.jsx(wA,{className:"*:no-scrollbar",children:u.jsxs("div",{className:"flex flex-col pr-2",children:[u.jsx("div",{className:"from-popover sticky top-0 h-2 bg-gradient-to-b"}),Array.from({length:24},(j,L)=>L).reverse().map(j=>u.jsx(Le,{ref:j===(d==null?void 0:d.getHours())?g:void 0,className:"h-8 w-8 p-0",variant:(d==null?void 0:d.getHours())===j?"default":"ghost",onClick:L=>{x("hour",v,j.toString()),L.currentTarget.scrollIntoView({behavior:"smooth",block:"center"})},children:j.toString().padStart(2,"0")},j)),u.jsx("div",{className:"from-popover sticky bottom-0 h-2 bg-gradient-to-t"})]})}),u.jsx(wA,{className:"*:no-scrollbar",children:u.jsxs("div",{className:"flex flex-col pr-2",children:[u.jsx("div",{className:"from-popover sticky top-0 h-2 bg-gradient-to-b"}),Array.from({length:60},(j,L)=>L).reverse().map(j=>u.jsx(Le,{ref:j===(d==null?void 0:d.getMinutes())?T:void 0,className:"h-8 w-8 p-0",variant:(d==null?void 0:d.getMinutes())===j?"default":"ghost",onClick:L=>{x("minute",v,j.toString()),L.currentTarget.scrollIntoView({behavior:"smooth",block:"center"})},children:j.toString().padStart(2,"0")},j)),u.jsx("div",{className:"from-popover sticky bottom-0 h-2 bg-gradient-to-t"})]})}),u.jsx(wA,{className:"*:no-scrollbar",children:u.jsxs("div",{className:"flex flex-col pr-2",children:[u.jsx("div",{className:"from-popover sticky top-0 h-2 bg-gradient-to-b"}),Array.from({length:60},(j,L)=>L).reverse().map(j=>u.jsx(Le,{ref:j===(d==null?void 0:d.getSeconds())?S:void 0,className:"h-8 w-8 p-0",variant:(d==null?void 0:d.getSeconds())===j?"default":"ghost",onClick:L=>{x("second",v,j.toString()),L.currentTarget.scrollIntoView({behavior:"smooth",block:"center"})},children:j.toString().padStart(2,"0")},j)),u.jsx("div",{className:"from-popover sticky bottom-0 h-2 bg-gradient-to-t"})]})})]})})]}),o&&u.jsx(Le,{className:"-ml-px size-7 rounded-l-none p-0",variant:"outline",onClick:()=>{const j=!v;N(j),d&&C(d,j)},"aria-label":"Toggle time panel",children:u.jsx(vLe,{className:"size-4",strokeWidth:1.25,absoluteStrokeWidth:!0})})]})]})},Jg=({column:t,row:e,onRowChange:r,type:n,enumValues:s,hasDefault:i})=>{const[o,a]=y.useState(String(typeof e.values[t.key]=="number"?e.values[t.key]:e.values[t.key]||"")),l=y.useRef(null),c=y.useCallback((f,p)=>{let E=f;if(e.type==="CREATE"&&E===""&&i)E={_type:"DEFAULT"};else switch(n){case"number":typeof E=="string"&&(E===""?E=null:E=Number(E));break;case"string":E===""&&(E=null);break}r(Nr(e,{[t.key]:E}),p)},[r,e]),d=y.useCallback(f=>{a(f.target.value)},[a]),h=y.useCallback(f=>{const p=f==="NULL"?null:f==="EMPTY STRING"?"":f==="DEFAULT"?{_type:"DEFAULT"}:f;r(Nr(e,{[t.key]:p}),!0)},[c]),m=y.useMemo(()=>{let f=[];if(e.type==="CREATE"&&i&&f.push("DEFAULT"),s)return f=["NULL"].concat(s),f;switch(n){case"number":f.push("NULL");break;case"string":f.push("NULL","EMPTY STRING");break}return f},[]);return y.useEffect(()=>{var f,p;(f=l.current)==null||f.focus(),(p=l.current)==null||p.select()},[]),u.jsxs(am,{open:o===null||o==="",children:[u.jsx(JL,{asChild:!0,children:u.jsx("input",{className:z("rdg-text-editor bg-popover font-table text-foreground h-[1.875rem] w-full items-center px-2 leading-8 tracking-wider !outline-none"),value:o,"aria-label":"Edit cell value",ref:l,onChange:d,onBlur:()=>{c(o,!0)},onPaste:f=>{const p=f.clipboardData.getData("text");(p.includes(`
`)||p.includes("	"))&&c(p,!1)},onKeyDown:f=>{if(f.key==="Enter")if(f.shiftKey&&n==="string"){f.preventDefault(),f.stopPropagation();const p=o+`
`;c(p,!1)}else c(o,!0);if(f.key==="Tab"){f.preventDefault(),f.stopPropagation();const p=o+"	";c(p,!1)}}})}),u.jsx(zd,{align:"start",className:"w-fit p-1 duration-150",sideOffset:0,alignOffset:-1,children:m.map(f=>u.jsx("div",{className:"font-table hover:bg-button-outline-hover cursor-pointer rounded-sm px-2 py-1.5 text-xs !outline-none transition-colors ",onMouseDown:()=>h(f),children:f},`string-cell-editor-${f}`))})]})},IX=({column:t,row:e,onRowChange:r,hasDefault:n,values:s})=>{const i=y.useMemo(()=>t.key,[t.key]),o=y.useMemo(()=>e.values[i]===null?"NULL":String(e.values[i]),[e.values[i]]),a=y.useMemo(()=>s.map(c=>c===""?"EMPTY STRING":c).concat(["NULL"]),[s]),l=y.useCallback(c=>{const d=c==="NULL"?null:c==="DEFAULT"?{_type:"DEFAULT"}:c==="EMPTY STRING"?"":c;r(Nr(e,{[i]:d}),!0)},[i]);return u.jsxs(hD,{open:!0,value:o,onValueChange:l,children:[u.jsx(sR,{className:"h-[1.875rem] border-none p-2 text-xs tracking-wider",children:u.jsx(fD,{placeholder:o})}),u.jsxs(iR,{sideOffset:-35,alignOffset:-1,className:"rounded-none !duration-0",children:[e.type==="CREATE"&&n&&u.jsx(Cu,{value:"DEFAULT",className:"pl-1",children:"DEFAULT"}),a.map(c=>u.jsx(Cu,{value:c,className:"pl-1",children:c},c))]})]})},CD=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",viewBox:"0 0 100 1",height:"1",preserveAspectRatio:"none",...t,children:u.jsx("line",{x1:"0",y1:"0.5",x2:"100",y2:"0.5",stroke:"currentColor",strokeWidth:"1",strokeDasharray:t.dasharray||"2",strokeDashoffset:"0",strokeLinecap:"square"})});let xD=[],_X=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,r=0;e<t.length;e++)(e%2?_X:xD).push(r=r+t[e])})();function p7e(t){if(t<768)return!1;for(let e=0,r=xD.length;;){let n=e+r>>1;if(t<xD[n])r=n;else if(t>=_X[n])e=n+1;else return!0;if(e==r)return!1}}function LX(t){return t>=127462&&t<=127487}const DX=8205;function E7e(t,e,r=!0,n=!0){return(r?MX:g7e)(t,e,n)}function MX(t,e,r){if(e==t.length)return e;e&&PX(t.charCodeAt(e))&&kX(t.charCodeAt(e-1))&&e--;let n=wD(t,e);for(e+=UX(n);e<t.length;){let s=wD(t,e);if(n==DX||s==DX||r&&p7e(s))e+=UX(s),n=s;else if(LX(s)){let i=0,o=e-2;for(;o>=0&&LX(wD(t,o));)i++,o-=2;if(i%2==0)break;e+=2}else break}return e}function g7e(t,e,r){for(;e>0;){let n=MX(t,e-2,r);if(n<e)return n;e--}return 0}function wD(t,e){let r=t.charCodeAt(e);if(!kX(r)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return PX(n)?(r-55296<<10)+(n-56320)+65536:r}function PX(t){return t>=56320&&t<57344}function kX(t){return t>=55296&&t<56320}function UX(t){return t<65536?1:2}let Ir=class TEe{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,n){[e,r]=Cm(this,e,r);let s=[];return this.decompose(0,e,s,2),n.length&&n.decompose(0,n.length,s,3),this.decompose(r,this.length,s,1),hl.from(s,this.length-(r-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){[e,r]=Cm(this,e,r);let n=[];return this.decompose(e,r,n,0),hl.from(n,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),s=new Zg(this),i=new Zg(e);for(let o=r,a=r;;){if(s.next(o),i.next(o),o=0,s.lineBreak!=i.lineBreak||s.done!=i.done||s.value!=i.value)return!1;if(a+=s.value.length,s.done||a>=n)return!0}}iter(e=1){return new Zg(this,e)}iterRange(e,r=this.length){return new BX(this,e,r)}iterLines(e,r){let n;if(e==null)n=this.iter();else{r==null&&(r=this.lines+1);let s=this.line(e).from;n=this.iterRange(s,Math.max(s,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new FX(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?TEe.empty:e.length<=32?new Pn(e):hl.from(Pn.split(e,[]))}};class Pn extends Ir{constructor(e,r=T7e(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,n,s){for(let i=0;;i++){let o=this.text[i],a=s+o.length;if((r?n:a)>=e)return new S7e(s,a,n,o);s=a+1,n++}}decompose(e,r,n,s){let i=e<=0&&r>=this.length?this:new Pn(jX(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(s&1){let o=n.pop(),a=hR(i.text,o.text.slice(),0,i.length);if(a.length<=32)n.push(new Pn(a,o.length+i.length));else{let l=a.length>>1;n.push(new Pn(a.slice(0,l)),new Pn(a.slice(l)))}}else n.push(i)}replace(e,r,n){if(!(n instanceof Pn))return super.replace(e,r,n);[e,r]=Cm(this,e,r);let s=hR(this.text,hR(n.text,jX(this.text,0,e)),r),i=this.length+n.length-(r-e);return s.length<=32?new Pn(s,i):hl.from(Pn.split(s,[]),i)}sliceString(e,r=this.length,n=`
`){[e,r]=Cm(this,e,r);let s="";for(let i=0,o=0;i<=r&&o<this.text.length;o++){let a=this.text[o],l=i+a.length;i>e&&o&&(s+=n),e<l&&r>i&&(s+=a.slice(Math.max(0,e-i),r-i)),i=l+1}return s}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let n=[],s=-1;for(let i of e)n.push(i),s+=i.length+1,n.length==32&&(r.push(new Pn(n,s)),n=[],s=-1);return s>-1&&r.push(new Pn(n,s)),r}}class hl extends Ir{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,r,n,s){for(let i=0;;i++){let o=this.children[i],a=s+o.length,l=n+o.lines-1;if((r?l:a)>=e)return o.lineInner(e,r,n,s);s=a+1,n=l+1}}decompose(e,r,n,s){for(let i=0,o=0;o<=r&&i<this.children.length;i++){let a=this.children[i],l=o+a.length;if(e<=l&&r>=o){let c=s&((o<=e?1:0)|(l>=r?2:0));o>=e&&l<=r&&!c?n.push(a):a.decompose(e-o,r-o,n,c)}o=l+1}}replace(e,r,n){if([e,r]=Cm(this,e,r),n.lines<this.lines)for(let s=0,i=0;s<this.children.length;s++){let o=this.children[s],a=i+o.length;if(e>=i&&r<=a){let l=o.replace(e-i,r-i,n),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let d=this.children.slice();return d[s]=l,new hl(d,this.length-(r-e)+n.length)}return super.replace(i,a,l)}i=a+1}return super.replace(e,r,n)}sliceString(e,r=this.length,n=`
`){[e,r]=Cm(this,e,r);let s="";for(let i=0,o=0;i<this.children.length&&o<=r;i++){let a=this.children[i],l=o+a.length;o>e&&i&&(s+=n),e<l&&r>o&&(s+=a.sliceString(e-o,r-o,n)),o=l+1}return s}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof hl))return 0;let n=0,[s,i,o,a]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=r,i+=r){if(s==o||i==a)return n;let l=this.children[s],c=e.children[i];if(l!=c)return n+l.scanIdentical(c,r);n+=l.length+1}}static from(e,r=e.reduce((n,s)=>n+s.length+1,-1)){let n=0;for(let f of e)n+=f.lines;if(n<32){let f=[];for(let p of e)p.flatten(f);return new Pn(f,r)}let s=Math.max(32,n>>5),i=s<<1,o=s>>1,a=[],l=0,c=-1,d=[];function h(f){let p;if(f.lines>i&&f instanceof hl)for(let E of f.children)h(E);else f.lines>o&&(l>o||!l)?(m(),a.push(f)):f instanceof Pn&&l&&(p=d[d.length-1])instanceof Pn&&f.lines+p.lines<=32?(l+=f.lines,c+=f.length+1,d[d.length-1]=new Pn(p.text.concat(f.text),p.length+1+f.length)):(l+f.lines>s&&m(),l+=f.lines,c+=f.length+1,d.push(f))}function m(){l!=0&&(a.push(d.length==1?d[0]:hl.from(d,c)),c=-1,l=d.length=0)}for(let f of e)h(f);return m(),a.length==1?a[0]:new hl(a,r)}}Ir.empty=new Pn([""],0);function T7e(t){let e=-1;for(let r of t)e+=r.length+1;return e}function hR(t,e,r=0,n=1e9){for(let s=0,i=0,o=!0;i<t.length&&s<=n;i++){let a=t[i],l=s+a.length;l>=r&&(l>n&&(a=a.slice(0,n-s)),s<r&&(a=a.slice(r-s)),o?(e[e.length-1]+=a,o=!1):e.push(a)),s=l+1}return e}function jX(t,e,r){return hR(t,[""],e,r)}class Zg{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof Pn?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,s=this.nodes[n],i=this.offsets[n],o=i>>1,a=s instanceof Pn?s.text.length:s.children.length;if(o==(r>0?a:0)){if(n==0)return this.done=!0,this.value="",this;r>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((i&1)==(r>0?0:1)){if(this.offsets[n]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof Pn){let l=s.text[o+(r<0?-1:0)];if(this.offsets[n]+=r,l.length>Math.max(0,e))return this.value=e==0?l:r>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=s.children[o+(r<0?-1:0)];e>l.length?(e-=l.length,this.offsets[n]+=r):(r<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(r>0?1:(l instanceof Pn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class BX{constructor(e,r,n){this.value="",this.done=!1,this.cursor=new Zg(e,r>n?-1:1),this.pos=r>n?e.length:0,this.from=Math.min(r,n),this.to=Math.max(r,n)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let n=r<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*r,this.value=s.length<=n?s:r<0?s.slice(s.length-n):s.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class FX{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:n,value:s}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ir.prototype[Symbol.iterator]=function(){return this.iter()},Zg.prototype[Symbol.iterator]=BX.prototype[Symbol.iterator]=FX.prototype[Symbol.iterator]=function(){return this});class S7e{constructor(e,r,n,s){this.from=e,this.to=r,this.number=n,this.text=s}get length(){return this.to-this.from}}function Cm(t,e,r){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,r))]}function Hs(t,e,r=!0,n=!0){return E7e(t,e,r,n)}function v7e(t){return t>=56320&&t<57344}function y7e(t){return t>=55296&&t<56320}function Bi(t,e){let r=t.charCodeAt(e);if(!y7e(r)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return v7e(n)?(r-55296<<10)+(n-56320)+65536:r}function OD(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function fl(t){return t<65536?1:2}const ID=/\r\n?|\n/;var qn=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(qn||(qn={}));class ml{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r+1];e+=n<0?this.sections[r]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,n=0,s=0;r<this.sections.length;){let i=this.sections[r++],o=this.sections[r++];o<0?(e(n,s,i),s+=i):s+=o,n+=i}}iterChangedRanges(e,r=!1){_D(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let n=this.sections[r++],s=this.sections[r++];s<0?e.push(n,s):e.push(s,n)}return new ml(e)}composeDesc(e){return this.empty?e:e.empty?this:HX(this,e)}mapDesc(e,r=!1){return e.empty?this:LD(this,e,r)}mapPos(e,r=-1,n=qn.Simple){let s=0,i=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=s+a;if(l<0){if(c>e)return i+(e-s);i+=a}else{if(n!=qn.Simple&&c>=e&&(n==qn.TrackDel&&s<e&&c>e||n==qn.TrackBefore&&s<e||n==qn.TrackAfter&&c>e))return null;if(c>e||c==e&&r<0&&!a)return e==s||r<0?i:i+l;i+=l}s=c}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return i}touchesRange(e,r=e){for(let n=0,s=0;n<this.sections.length&&s<=r;){let i=this.sections[n++],o=this.sections[n++],a=s+i;if(o>=0&&s<=r&&a>=e)return s<e&&a>r?"cover":!0;s=a}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let n=this.sections[r++],s=this.sections[r++];e+=(e?" ":"")+n+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ml(e)}static create(e){return new ml(e)}}class as extends ml{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return _D(this,(r,n,s,i,o)=>e=e.replace(s,s+(n-r),o),!1),e}mapDesc(e,r=!1){return LD(this,e,r,!0)}invert(e){let r=this.sections.slice(),n=[];for(let s=0,i=0;s<r.length;s+=2){let o=r[s],a=r[s+1];if(a>=0){r[s]=a,r[s+1]=o;let l=s>>1;for(;n.length<l;)n.push(Ir.empty);n.push(o?e.slice(i,i+o):Ir.empty)}i+=o}return new as(r,n)}compose(e){return this.empty?e:e.empty?this:HX(this,e,!0)}map(e,r=!1){return e.empty?this:LD(this,e,r,!0)}iterChanges(e,r=!1){_D(this,e,r)}get desc(){return ml.create(this.sections)}filter(e){let r=[],n=[],s=[],i=new eT(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&i.len==0;){if(i.done)break e;let d=Math.min(i.len,l-a);ti(s,d,-1);let h=i.ins==-1?-1:i.off==0?i.ins:0;ti(r,d,h),h>0&&wu(n,r,i.text),i.forward(d),a+=d}let c=e[o++];for(;a<c;){if(i.done)break e;let d=Math.min(i.len,c-a);ti(r,d,-1),ti(s,d,i.ins==-1?-1:i.off==0?i.ins:0),i.forward(d),a+=d}}return{changes:new as(r,n),filtered:ml.create(s)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r],s=this.sections[r+1];s<0?e.push(n):s==0?e.push([n]):e.push([n].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,n){let s=[],i=[],o=0,a=null;function l(d=!1){if(!d&&!s.length)return;o<r&&ti(s,r-o,-1);let h=new as(s,i);a=a?a.compose(h.map(a)):h,s=[],i=[],o=0}function c(d){if(Array.isArray(d))for(let h of d)c(h);else if(d instanceof as){if(d.length!=r)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${r})`);l(),a=a?a.compose(d.map(a)):d}else{let{from:h,to:m=h,insert:f}=d;if(h>m||h<0||m>r)throw new RangeError(`Invalid change range ${h} to ${m} (in doc of length ${r})`);let p=f?typeof f=="string"?Ir.of(f.split(n||ID)):f:Ir.empty,E=p.length;if(h==m&&E==0)return;h<o&&l(),h>o&&ti(s,h-o,-1),ti(s,m-h,E),wu(i,s,p),o=m}}return c(e),l(!a),a}static empty(e){return new as(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],n=[];for(let s=0;s<e.length;s++){let i=e[s];if(typeof i=="number")r.push(i,-1);else{if(!Array.isArray(i)||typeof i[0]!="number"||i.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(i.length==1)r.push(i[0],0);else{for(;n.length<s;)n.push(Ir.empty);n[s]=Ir.of(i.slice(1)),r.push(i[0],n[s].length)}}}return new as(r,n)}static createSet(e,r){return new as(e,r)}}function ti(t,e,r,n=!1){if(e==0&&r<=0)return;let s=t.length-2;s>=0&&r<=0&&r==t[s+1]?t[s]+=e:s>=0&&e==0&&t[s]==0?t[s+1]+=r:n?(t[s]+=e,t[s+1]+=r):t.push(e,r)}function wu(t,e,r){if(r.length==0)return;let n=e.length-2>>1;if(n<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<n;)t.push(Ir.empty);t.push(r)}}function _D(t,e,r){let n=t.inserted;for(let s=0,i=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)s+=a,i+=a;else{let c=s,d=i,h=Ir.empty;for(;c+=a,d+=l,l&&n&&(h=h.append(n[o-2>>1])),!(r||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(s,c,i,d,h),s=c,i=d}}}function LD(t,e,r,n=!1){let s=[],i=n?[]:null,o=new eT(t),a=new eT(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);ti(s,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!r))){let c=a.len;for(ti(s,a.ins,-1);c;){let d=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=d&&(ti(s,0,o.ins),i&&wu(i,s,o.text),l=o.i),o.forward(d),c-=d}a.next()}else if(o.ins>=0){let c=0,d=o.len;for(;d;)if(a.ins==-1){let h=Math.min(d,a.len);c+=h,d-=h,a.forward(h)}else if(a.ins==0&&a.len<d)d-=a.len,a.next();else break;ti(s,c,l<o.i?o.ins:0),i&&l<o.i&&wu(i,s,o.text),l=o.i,o.forward(o.len-d)}else{if(o.done&&a.done)return i?as.createSet(s,i):ml.create(s);throw new Error("Mismatched change set lengths")}}}function HX(t,e,r=!1){let n=[],s=r?[]:null,i=new eT(t),o=new eT(e);for(let a=!1;;){if(i.done&&o.done)return s?as.createSet(n,s):ml.create(n);if(i.ins==0)ti(n,i.len,0,a),i.next();else if(o.len==0&&!o.done)ti(n,0,o.ins,a),s&&wu(s,n,o.text),o.next();else{if(i.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(i.len2,o.len),c=n.length;if(i.ins==-1){let d=o.ins==-1?-1:o.off?0:o.ins;ti(n,l,d,a),s&&d&&wu(s,n,o.text)}else o.ins==-1?(ti(n,i.off?0:i.len,l,a),s&&wu(s,n,i.textBit(l))):(ti(n,i.off?0:i.len,o.off?0:o.ins,a),s&&!o.off&&wu(s,n,o.text));a=(i.ins>l||o.ins>=0&&o.len>l)&&(a||n.length>c),i.forward2(l),o.forward(l)}}}}class eT{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?Ir.empty:e[r]}textBit(e){let{inserted:r}=this.set,n=this.i-2>>1;return n>=r.length&&!e?Ir.empty:r[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class ih{constructor(e,r,n){this.from=e,this.to=r,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let n,s;return this.empty?n=s=e.mapPos(this.from,r):(n=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),n==this.from&&s==this.to?this:new ih(n,s,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return Ve.range(e,r);let n=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return Ve.range(this.anchor,n)}eq(e,r=!1){return this.anchor==e.anchor&&this.head==e.head&&(!r||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ve.range(e.anchor,e.head)}static create(e,r,n){return new ih(e,r,n)}}class Ve{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:Ve.create(this.ranges.map(n=>n.map(e,r)),this.mainIndex)}eq(e,r=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],r))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ve([this.main],0)}addRange(e,r=!0){return Ve.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let n=this.ranges.slice();return n[r]=e,Ve.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ve(e.ranges.map(r=>ih.fromJSON(r)),e.main)}static single(e,r=e){return new Ve([Ve.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,s=0;s<e.length;s++){let i=e[s];if(i.empty?i.from<=n:i.from<n)return Ve.normalized(e.slice(),r);n=i.to}return new Ve(e,r)}static cursor(e,r=0,n,s){return ih.create(e,e,(r==0?0:r<0?8:16)|(n==null?7:Math.min(6,n))|(s??16777215)<<6)}static range(e,r,n,s){let i=(n??16777215)<<6|(s==null?7:Math.min(6,s));return r<e?ih.create(r,e,48|i):ih.create(e,r,(r>e?8:0)|i)}static normalized(e,r=0){let n=e[r];e.sort((s,i)=>s.from-i.from),r=e.indexOf(n);for(let s=1;s<e.length;s++){let i=e[s],o=e[s-1];if(i.empty?i.from<=o.to:i.from<o.to){let a=o.from,l=Math.max(i.to,o.to);s<=r&&r--,e.splice(--s,2,i.anchor>i.head?Ve.range(l,a):Ve.range(a,l))}}return new Ve(e,r)}}function $X(t,e){for(let r of t.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let DD=0;class pt{constructor(e,r,n,s,i){this.combine=e,this.compareInput=r,this.compare=n,this.isStatic=s,this.id=DD++,this.default=e([]),this.extensions=typeof i=="function"?i(this):i}get reader(){return this}static define(e={}){return new pt(e.combine||(r=>r),e.compareInput||((r,n)=>r===n),e.compare||(e.combine?(r,n)=>r===n:MD),!!e.static,e.enables)}of(e){return new fR([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new fR(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new fR(e,this,2,r)}from(e,r){return r||(r=n=>n),this.compute([e],n=>r(n.field(e)))}}function MD(t,e){return t==e||t.length==e.length&&t.every((r,n)=>r===e[n])}class fR{constructor(e,r,n,s){this.dependencies=e,this.facet=r,this.type=n,this.value=s,this.id=DD++}dynamicSlot(e){var r;let n=this.value,s=this.facet.compareInput,i=this.id,o=e[i]>>1,a=this.type==2,l=!1,c=!1,d=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?c=!0:((r=e[h.id])!==null&&r!==void 0?r:1)&1||d.push(e[h.id]);return{create(h){return h.values[o]=n(h),1},update(h,m){if(l&&m.docChanged||c&&(m.docChanged||m.selection)||PD(h,d)){let f=n(h);if(a?!GX(f,h.values[o],s):!s(f,h.values[o]))return h.values[o]=f,1}return 0},reconfigure:(h,m)=>{let f,p=m.config.address[i];if(p!=null){let E=ER(m,p);if(this.dependencies.every(g=>g instanceof pt?m.facet(g)===h.facet(g):g instanceof yn?m.field(g,!1)==h.field(g,!1):!0)||(a?GX(f=n(h),E,s):s(f=n(h),E)))return h.values[o]=E,0}else f=n(h);return h.values[o]=f,1}}}}function GX(t,e,r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1;return!0}function PD(t,e){let r=!1;for(let n of e)rT(t,n)&1&&(r=!0);return r}function A7e(t,e,r){let n=r.map(l=>t[l.id]),s=r.map(l=>l.type),i=n.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let c=[];for(let d=0;d<n.length;d++){let h=ER(l,n[d]);if(s[d]==2)for(let m of h)c.push(m);else c.push(h)}return e.combine(c)}return{create(l){for(let c of n)rT(l,c);return l.values[o]=a(l),1},update(l,c){if(!PD(l,i))return 0;let d=a(l);return e.compare(d,l.values[o])?0:(l.values[o]=d,1)},reconfigure(l,c){let d=PD(l,n),h=c.config.facets[e.id],m=c.facet(e);if(h&&!d&&MD(r,h))return l.values[o]=m,0;let f=a(l);return e.compare(f,m)?(l.values[o]=m,0):(l.values[o]=f,1)}}}const mR=pt.define({static:!0});class yn{constructor(e,r,n,s,i){this.id=e,this.createF=r,this.updateF=n,this.compareF=s,this.spec=i,this.provides=void 0}static define(e){let r=new yn(DD++,e.create,e.update,e.compare||((n,s)=>n===s),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(mR).find(n=>n.field==this);return((r==null?void 0:r.create)||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:n=>(n.values[r]=this.create(n),1),update:(n,s)=>{let i=n.values[r],o=this.updateF(i,s);return this.compareF(i,o)?0:(n.values[r]=o,1)},reconfigure:(n,s)=>{let i=n.facet(mR),o=s.facet(mR),a;return(a=i.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(n.values[r]=a.create(n),1):s.config.address[this.id]!=null?(n.values[r]=s.field(this),0):(n.values[r]=this.create(n),1)}}}init(e){return[this,mR.of({field:this,create:e})]}get extension(){return this}}const oh={lowest:4,low:3,default:2,high:1,highest:0};function tT(t){return e=>new VX(e,t)}const ya={highest:tT(oh.highest),high:tT(oh.high),default:tT(oh.default),low:tT(oh.low),lowest:tT(oh.lowest)};class VX{constructor(e,r){this.inner=e,this.prec=r}}class Ou{of(e){return new kD(this,e)}reconfigure(e){return Ou.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class kD{constructor(e,r){this.compartment=e,this.inner=r}}class pR{constructor(e,r,n,s,i,o){for(this.base=e,this.compartments=r,this.dynamicSlots=n,this.address=s,this.staticValues=i,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,n){let s=[],i=Object.create(null),o=new Map;for(let m of R7e(e,r,o))m instanceof yn?s.push(m):(i[m.facet.id]||(i[m.facet.id]=[])).push(m);let a=Object.create(null),l=[],c=[];for(let m of s)a[m.id]=c.length<<1,c.push(f=>m.slot(f));let d=n==null?void 0:n.config.facets;for(let m in i){let f=i[m],p=f[0].facet,E=d&&d[m]||[];if(f.every(g=>g.type==0))if(a[p.id]=l.length<<1|1,MD(E,f))l.push(n.facet(p));else{let g=p.combine(f.map(T=>T.value));l.push(n&&p.compare(g,n.facet(p))?n.facet(p):g)}else{for(let g of f)g.type==0?(a[g.id]=l.length<<1|1,l.push(g.value)):(a[g.id]=c.length<<1,c.push(T=>g.dynamicSlot(T)));a[p.id]=c.length<<1,c.push(g=>A7e(g,p,f))}}let h=c.map(m=>m(a));return new pR(e,o,h,a,l,i)}}function R7e(t,e,r){let n=[[],[],[],[],[]],s=new Map;function i(o,a){let l=s.get(o);if(l!=null){if(l<=a)return;let c=n[l].indexOf(o);c>-1&&n[l].splice(c,1),o instanceof kD&&r.delete(o.compartment)}if(s.set(o,a),Array.isArray(o))for(let c of o)i(c,a);else if(o instanceof kD){if(r.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;r.set(o.compartment,c),i(c,a)}else if(o instanceof VX)i(o.inner,o.prec);else if(o instanceof yn)n[a].push(o),o.provides&&i(o.provides,a);else if(o instanceof fR)n[a].push(o),o.facet.extensions&&i(o.facet.extensions,oh.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);i(c,a)}}return i(t,oh.default),n.reduce((o,a)=>o.concat(a))}function rT(t,e){if(e&1)return 2;let r=e>>1,n=t.status[r];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;t.status[r]=4;let s=t.computeSlot(t,t.config.dynamicSlots[r]);return t.status[r]=2|s}function ER(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const zX=pt.define(),UD=pt.define({combine:t=>t.some(e=>e),static:!0}),WX=pt.define({combine:t=>t.length?t[0]:void 0,static:!0}),YX=pt.define(),qX=pt.define(),KX=pt.define(),XX=pt.define({combine:t=>t.length?t[0]:!1});class pl{constructor(e,r){this.type=e,this.value=r}static define(){return new N7e}}class N7e{of(e){return new pl(this,e)}}class b7e{constructor(e){this.map=e}of(e){return new jt(this,e)}}class jt{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new jt(this.type,r)}is(e){return this.type==e}static define(e={}){return new b7e(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let n=[];for(let s of e){let i=s.map(r);i&&n.push(i)}return n}}jt.reconfigure=jt.define(),jt.appendConfig=jt.define();class Kn{constructor(e,r,n,s,i,o){this.startState=e,this.changes=r,this.selection=n,this.effects=s,this.annotations=i,this.scrollIntoView=o,this._doc=null,this._state=null,n&&$X(n,r.newLength),i.some(a=>a.type==Kn.time)||(this.annotations=i.concat(Kn.time.of(Date.now())))}static create(e,r,n,s,i,o){return new Kn(e,r,n,s,i,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(Kn.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}Kn.time=pl.define(),Kn.userEvent=pl.define(),Kn.addToHistory=pl.define(),Kn.remote=pl.define();function C7e(t,e){let r=[];for(let n=0,s=0;;){let i,o;if(n<t.length&&(s==e.length||e[s]>=t[n]))i=t[n++],o=t[n++];else if(s<e.length)i=e[s++],o=e[s++];else return r;!r.length||r[r.length-1]<i?r.push(i,o):r[r.length-1]<o&&(r[r.length-1]=o)}}function QX(t,e,r){var n;let s,i,o;return r?(s=e.changes,i=as.empty(e.changes.length),o=t.changes.compose(e.changes)):(s=e.changes.map(t.changes),i=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(s)),{changes:o,selection:e.selection?e.selection.map(i):(n=t.selection)===null||n===void 0?void 0:n.map(s),effects:jt.mapEffects(t.effects,s).concat(jt.mapEffects(e.effects,i)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function jD(t,e,r){let n=e.selection,s=xm(e.annotations);return e.userEvent&&(s=s.concat(Kn.userEvent.of(e.userEvent))),{changes:e.changes instanceof as?e.changes:as.of(e.changes||[],r,t.facet(WX)),selection:n&&(n instanceof Ve?n:Ve.single(n.anchor,n.head)),effects:xm(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function JX(t,e,r){let n=jD(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let i=1;i<e.length;i++){e[i].filter===!1&&(r=!1);let o=!!e[i].sequential;n=QX(n,jD(t,e[i],o?n.changes.newLength:t.doc.length),o)}let s=Kn.create(t,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return w7e(r?x7e(s):s)}function x7e(t){let e=t.startState,r=!0;for(let s of e.facet(YX)){let i=s(t);if(i===!1){r=!1;break}Array.isArray(i)&&(r=r===!0?i:C7e(r,i))}if(r!==!0){let s,i;if(r===!1)i=t.changes.invertedDesc,s=as.empty(e.doc.length);else{let o=t.changes.filter(r);s=o.changes,i=o.filtered.mapDesc(o.changes).invertedDesc}t=Kn.create(e,s,t.selection&&t.selection.map(i),jt.mapEffects(t.effects,i),t.annotations,t.scrollIntoView)}let n=e.facet(qX);for(let s=n.length-1;s>=0;s--){let i=n[s](t);i instanceof Kn?t=i:Array.isArray(i)&&i.length==1&&i[0]instanceof Kn?t=i[0]:t=JX(e,xm(i),!1)}return t}function w7e(t){let e=t.startState,r=e.facet(KX),n=t;for(let s=r.length-1;s>=0;s--){let i=r[s](t);i&&Object.keys(i).length&&(n=QX(n,jD(e,i,t.changes.newLength),!0))}return n==t?t:Kn.create(e,t.changes,t.selection,n.effects,n.annotations,n.scrollIntoView)}const O7e=[];function xm(t){return t==null?O7e:Array.isArray(t)?t:[t]}var Xn=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Xn||(Xn={}));const I7e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let BD;try{BD=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function _7e(t){if(BD)return BD.test(t);for(let e=0;e<t.length;e++){let r=t[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||I7e.test(r)))return!0}return!1}function L7e(t){return e=>{if(!/\S/.test(e))return Xn.Space;if(_7e(e))return Xn.Word;for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return Xn.Word;return Xn.Other}}class _r{constructor(e,r,n,s,i,o){this.config=e,this.doc=r,this.selection=n,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=i,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)rT(this,a<<1);this.computeSlot=null}field(e,r=!0){let n=this.config.address[e.id];if(n==null){if(r)throw new RangeError("Field is not present in this state");return}return rT(this,n),ER(this,n)}update(...e){return JX(this,e,!0)}applyTransaction(e){let r=this.config,{base:n,compartments:s}=r;for(let a of e.effects)a.is(Ou.reconfigure)?(r&&(s=new Map,r.compartments.forEach((l,c)=>s.set(c,l)),r=null),s.set(a.value.compartment,a.value.extension)):a.is(jt.reconfigure)?(r=null,n=a.value):a.is(jt.appendConfig)&&(r=null,n=xm(n).concat(a.value));let i;r?i=e.startState.values.slice():(r=pR.resolve(n,s,this),i=new _r(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(UD)?e.newSelection:e.newSelection.asSingle();new _r(r,e.newDoc,o,i,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:Ve.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,n=e(r.ranges[0]),s=this.changes(n.changes),i=[n.range],o=xm(n.effects);for(let a=1;a<r.ranges.length;a++){let l=e(r.ranges[a]),c=this.changes(l.changes),d=c.map(s);for(let m=0;m<a;m++)i[m]=i[m].map(d);let h=s.mapDesc(c,!0);i.push(l.range.map(h)),s=s.compose(d),o=jt.mapEffects(o,d).concat(jt.mapEffects(xm(l.effects),h))}return{changes:s,selection:Ve.create(i,r.mainIndex),effects:o}}changes(e=[]){return e instanceof as?e:as.of(e,this.doc.length,this.facet(_r.lineSeparator))}toText(e){return Ir.of(e.split(this.facet(_r.lineSeparator)||ID))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(rT(this,r),ER(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let s=e[n];s instanceof yn&&this.config.address[s.id]!=null&&(r[n]=s.spec.toJSON(this.field(e[n]),this))}return r}static fromJSON(e,r={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(n){for(let i in n)if(Object.prototype.hasOwnProperty.call(e,i)){let o=n[i],a=e[i];s.push(o.init(l=>o.spec.fromJSON(a,l)))}}return _r.create({doc:e.doc,selection:Ve.fromJSON(e.selection),extensions:r.extensions?s.concat([r.extensions]):s})}static create(e={}){let r=pR.resolve(e.extensions||[],new Map),n=e.doc instanceof Ir?e.doc:Ir.of((e.doc||"").split(r.staticFacet(_r.lineSeparator)||ID)),s=e.selection?e.selection instanceof Ve?e.selection:Ve.single(e.selection.anchor,e.selection.head):Ve.single(0);return $X(s,n.length),r.staticFacet(UD)||(s=s.asSingle()),new _r(r,n,s,r.dynamicSlots.map(()=>null),(i,o)=>o.create(i),null)}get tabSize(){return this.facet(_r.tabSize)}get lineBreak(){return this.facet(_r.lineSeparator)||`
`}get readOnly(){return this.facet(XX)}phrase(e,...r){for(let n of this.facet(_r.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(n,s)=>{if(s=="$")return"$";let i=+(s||1);return!i||i>r.length?n:r[i-1]})),e}languageDataAt(e,r,n=-1){let s=[];for(let i of this.facet(zX))for(let o of i(this,r,n))Object.prototype.hasOwnProperty.call(o,e)&&s.push(o[e]);return s}charCategorizer(e){return L7e(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:n,length:s}=this.doc.lineAt(e),i=this.charCategorizer(e),o=e-n,a=e-n;for(;o>0;){let l=Hs(r,o,!1);if(i(r.slice(l,o))!=Xn.Word)break;o=l}for(;a<s;){let l=Hs(r,a);if(i(r.slice(a,l))!=Xn.Word)break;a=l}return o==a?null:Ve.range(o+n,a+n)}}_r.allowMultipleSelections=UD,_r.tabSize=pt.define({combine:t=>t.length?t[0]:4}),_r.lineSeparator=WX,_r.readOnly=XX,_r.phrases=pt.define({compare(t,e){let r=Object.keys(t),n=Object.keys(e);return r.length==n.length&&r.every(s=>t[s]==e[s])}}),_r.languageData=zX,_r.changeFilter=YX,_r.transactionFilter=qX,_r.transactionExtender=KX,Ou.reconfigure=jt.define();function El(t,e,r={}){let n={};for(let s of t)for(let i of Object.keys(s)){let o=s[i],a=n[i];if(a===void 0)n[i]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(r,i))n[i]=r[i](a,o);else throw new Error("Config merge conflict for field "+i)}for(let s in e)n[s]===void 0&&(n[s]=e[s]);return n}class ah{eq(e){return this==e}range(e,r=e){return FD.create(e,r,this)}}ah.prototype.startSide=ah.prototype.endSide=0,ah.prototype.point=!1,ah.prototype.mapMode=qn.TrackDel;let FD=class SEe{constructor(e,r,n){this.from=e,this.to=r,this.value=n}static create(e,r,n){return new SEe(e,r,n)}};function HD(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class $D{constructor(e,r,n,s){this.from=e,this.to=r,this.value=n,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,r,n,s=0){let i=n?this.to:this.from;for(let o=s,a=i.length;;){if(o==a)return o;let l=o+a>>1,c=i[l]-e||(n?this.value[l].endSide:this.value[l].startSide)-r;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,r,n,s){for(let i=this.findIndex(r,-1e9,!0),o=this.findIndex(n,1e9,!1,i);i<o;i++)if(s(this.from[i]+e,this.to[i]+e,this.value[i])===!1)return!1}map(e,r){let n=[],s=[],i=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],d=this.from[l]+e,h=this.to[l]+e,m,f;if(d==h){let p=r.mapPos(d,c.startSide,c.mapMode);if(p==null||(m=f=p,c.startSide!=c.endSide&&(f=r.mapPos(d,c.endSide),f<m)))continue}else if(m=r.mapPos(d,c.startSide),f=r.mapPos(h,c.endSide),m>f||m==f&&c.startSide>0&&c.endSide<=0)continue;(f-m||c.endSide-c.startSide)<0||(o<0&&(o=m),c.point&&(a=Math.max(a,f-m)),n.push(c),s.push(m-o),i.push(f-o))}return{mapped:n.length?new $D(s,i,n,a):null,pos:o}}}class hr{constructor(e,r,n,s){this.chunkPos=e,this.chunk=r,this.nextLayer=n,this.maxPoint=s}static create(e,r,n,s){return new hr(e,r,n,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:n=!1,filterFrom:s=0,filterTo:i=this.length}=e,o=e.filter;if(r.length==0&&!o)return this;if(n&&(r=r.slice().sort(HD)),this.isEmpty)return r.length?hr.of(r):this;let a=new eQ(this,null,-1).goto(0),l=0,c=[],d=new Aa;for(;a.value||l<r.length;)if(l<r.length&&(a.from-r[l].from||a.startSide-r[l].value.startSide)>=0){let h=r[l++];d.addInner(h.from,h.to,h.value)||c.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==r.length||this.chunkEnd(a.chunkIndex)<r[l].from)&&(!o||s>this.chunkEnd(a.chunkIndex)||i<this.chunkPos[a.chunkIndex])&&d.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||s>a.to||i<a.from||o(a.from,a.to,a.value))&&(d.addInner(a.from,a.to,a.value)||c.push(FD.create(a.from,a.to,a.value))),a.next());return d.finishInner(this.nextLayer.isEmpty&&!c.length?hr.empty:this.nextLayer.update({add:c,filter:o,filterFrom:s,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],n=[],s=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)s=Math.max(s,l.maxPoint),r.push(l),n.push(e.mapPos(a));else if(c===!0){let{mapped:d,pos:h}=l.map(a,e);d&&(s=Math.max(s,d.maxPoint),r.push(d),n.push(h))}}let i=this.nextLayer.map(e);return r.length==0?i:new hr(n,r,i||hr.empty,s)}between(e,r,n){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let i=this.chunkPos[s],o=this.chunk[s];if(r>=i&&e<=i+o.length&&o.between(i,e-i,r-i,n)===!1)return}this.nextLayer.between(e,r,n)}}iter(e=0){return nT.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return nT.from(e).goto(r)}static compare(e,r,n,s,i=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=i),a=r.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=i),l=ZX(o,a,n),c=new sT(o,l,i),d=new sT(a,l,i);n.iterGaps((h,m,f)=>tQ(c,h,d,m,f,s)),n.empty&&n.length==0&&tQ(c,0,d,0,0,s)}static eq(e,r,n=0,s){s==null&&(s=999999999);let i=e.filter(d=>!d.isEmpty&&r.indexOf(d)<0),o=r.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(i.length!=o.length)return!1;if(!i.length)return!0;let a=ZX(i,o),l=new sT(i,a,0).goto(n),c=new sT(o,a,0).goto(n);for(;;){if(l.to!=c.to||!VD(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>s)return!0;l.next(),c.next()}}static spans(e,r,n,s,i=-1){let o=new sT(e,null,i).goto(r),a=r,l=o.openStart;for(;;){let c=Math.min(o.to,n);if(o.point){let d=o.activeForPoint(o.to),h=o.pointFrom<r?d.length+1:o.point.startSide<0?d.length:Math.min(d.length,l);s.point(a,c,o.point,d,h,o.pointRank),l=Math.min(o.openEnd(c),d.length)}else c>a&&(s.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>n)return l+(o.point&&o.to>n?1:0);a=o.to,o.next()}}static of(e,r=!1){let n=new Aa;for(let s of e instanceof FD?[e]:r?D7e(e):e)n.add(s.from,s.to,s.value);return n.finish()}static join(e){if(!e.length)return hr.empty;let r=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let s=e[n];s!=hr.empty;s=s.nextLayer)r=new hr(s.chunkPos,s.chunk,r,Math.max(s.maxPoint,r.maxPoint));return r}}hr.empty=new hr([],[],null,-1);function D7e(t){if(t.length>1)for(let e=t[0],r=1;r<t.length;r++){let n=t[r];if(HD(e,n)>0)return t.slice().sort(HD);e=n}return t}hr.empty.nextLayer=hr.empty;class Aa{finishChunk(e){this.chunks.push(new $D(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,n){this.addInner(e,r,n)||(this.nextLayer||(this.nextLayer=new Aa)).add(e,r,n)}addInner(e,r,n){let s=e-this.lastTo||n.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=r,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let n=r.value.length-1;return this.last=r.value[n],this.lastFrom=r.from[n]+e,this.lastTo=r.to[n]+e,!0}finish(){return this.finishInner(hr.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=hr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function ZX(t,e,r){let n=new Map;for(let i of t)for(let o=0;o<i.chunk.length;o++)i.chunk[o].maxPoint<=0&&n.set(i.chunk[o],i.chunkPos[o]);let s=new Set;for(let i of e)for(let o=0;o<i.chunk.length;o++){let a=n.get(i.chunk[o]);a!=null&&(r?r.mapPos(a):a)==i.chunkPos[o]&&!(r!=null&&r.touchesRange(a,a+i.chunk[o].length))&&s.add(i.chunk[o])}return s}class eQ{constructor(e,r,n,s=0){this.layer=e,this.skip=r,this.minPoint=n,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,n){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!n||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],n=e+r.from[this.rangeIndex];if(this.from=n,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class nT{constructor(e){this.heap=e}static from(e,r=null,n=-1){let s=[];for(let i=0;i<e.length;i++)for(let o=e[i];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&s.push(new eQ(o,r,n,i));return s.length==1?s[0]:new nT(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let n of this.heap)n.goto(e,r);for(let n=this.heap.length>>1;n>=0;n--)GD(this.heap,n);return this.next(),this}forward(e,r){for(let n of this.heap)n.forward(e,r);for(let n=this.heap.length>>1;n>=0;n--)GD(this.heap,n);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),GD(this.heap,0)}}}function GD(t,e){for(let r=t[e];;){let n=(e<<1)+1;if(n>=t.length)break;let s=t[n];if(n+1<t.length&&s.compare(t[n+1])>=0&&(s=t[n+1],n++),r.compare(s)<0)break;t[n]=r,t[e]=s,e=n}}class sT{constructor(e,r,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=nT.from(e,r,n)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){gR(this.active,e),gR(this.activeTo,e),gR(this.activeRank,e),this.minActive=rQ(this.active,this.activeTo)}addActive(e){let r=0,{value:n,to:s,rank:i}=this.cursor;for(;r<this.activeRank.length&&(i-this.activeRank[r]||s-this.activeTo[r])>0;)r++;TR(this.active,r,n),TR(this.activeTo,r,s),TR(this.activeRank,r,i),e&&TR(e,r,this.cursor.from),this.minActive=rQ(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),n&&gR(n,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let i=this.cursor.value;if(!i.point)this.addActive(n),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let s=n.length-1;s>=0&&n[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&r.push(this.active[n]);return r.reverse()}openEnd(e){let r=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)r++;return r}}function tQ(t,e,r,n,s,i){t.goto(e),r.goto(n);let o=n+s,a=n,l=n-e;for(;;){let c=t.to+l-r.to,d=c||t.endSide-r.endSide,h=d<0?t.to+l:r.to,m=Math.min(h,o);if(t.point||r.point?t.point&&r.point&&(t.point==r.point||t.point.eq(r.point))&&VD(t.activeForPoint(t.to),r.activeForPoint(r.to))||i.comparePoint(a,m,t.point,r.point):m>a&&!VD(t.active,r.active)&&i.compareRange(a,m,t.active,r.active),h>o)break;(c||t.openEnd!=r.openEnd)&&i.boundChange&&i.boundChange(h),a=h,d<=0&&t.next(),d>=0&&r.next()}}function VD(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r]&&!t[r].eq(e[r]))return!1;return!0}function gR(t,e){for(let r=e,n=t.length-1;r<n;r++)t[r]=t[r+1];t.pop()}function TR(t,e,r){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=r}function rQ(t,e){let r=-1,n=1e9;for(let s=0;s<e.length;s++)(e[s]-n||t[s].endSide-t[r].endSide)<0&&(r=s,n=e[s]);return r}function iT(t,e,r=t.length){let n=0;for(let s=0;s<r&&s<t.length;)t.charCodeAt(s)==9?(n+=e-n%e,s++):(n++,s=Hs(t,s));return n}function M7e(t,e,r,n){for(let s=0,i=0;;){if(i>=e)return s;if(s==t.length)break;i+=t.charCodeAt(s)==9?r-i%r:1,s=Hs(t,s)}return t.length}const zD="",nQ=typeof Symbol>"u"?"__"+zD:Symbol.for(zD),WD=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),sQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Iu{constructor(e,r){this.rules=[];let{finish:n}=r||{};function s(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function i(o,a,l,c){let d=[],h=/^@(\w+)\b/.exec(o[0]),m=h&&h[1]=="keyframes";if(h&&a==null)return l.push(o[0]+";");for(let f in a){let p=a[f];if(/&/.test(f))i(f.split(/,\s*/).map(E=>o.map(g=>E.replace(/&/,g))).reduce((E,g)=>E.concat(g)),p,l);else if(p&&typeof p=="object"){if(!h)throw new RangeError("The value of a property ("+f+") should be a primitive value.");i(s(f),p,d,m)}else p!=null&&d.push(f.replace(/_.*/,"").replace(/[A-Z]/g,E=>"-"+E.toLowerCase())+": "+p+";")}(d.length||m)&&l.push((n&&!h&&!c?o.map(n):o).join(", ")+" {"+d.join(" ")+"}")}for(let o in e)i(s(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=sQ[nQ]||1;return sQ[nQ]=e+1,zD+e.toString(36)}static mount(e,r,n){let s=e[WD],i=n&&n.nonce;s?i&&s.setNonce(i):s=new P7e(e,i),s.mount(Array.isArray(r)?r:[r],e)}}let iQ=new Map;class P7e{constructor(e,r){let n=e.ownerDocument||e,s=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let i=iQ.get(n);if(i)return e[WD]=i;this.sheet=new s.CSSStyleSheet,iQ.set(n,this)}else this.styleTag=n.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],e[WD]=this}mount(e,r){let n=this.sheet,s=0,i=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<i&&l>-1&&(this.modules.splice(l,1),i--,l=-1),l==-1){if(this.modules.splice(i++,0,a),n)for(let c=0;c<a.rules.length;c++)n.insertRule(a.rules[c],s++)}else{for(;i<l;)s+=this.modules[i++].rules.length;s+=a.rules.length,i++}}if(n)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=r.head||r;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}for(var _u={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},oT={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},k7e=typeof navigator<"u"&&/Mac/.test(navigator.platform),U7e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),$s=0;$s<10;$s++)_u[48+$s]=_u[96+$s]=String($s);for(var $s=1;$s<=24;$s++)_u[$s+111]="F"+$s;for(var $s=65;$s<=90;$s++)_u[$s]=String.fromCharCode($s+32),oT[$s]=String.fromCharCode($s);for(var YD in _u)oT.hasOwnProperty(YD)||(oT[YD]=_u[YD]);function j7e(t){var e=k7e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||U7e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?oT:_u)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function aT(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function qD(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function SR(t,e){if(!e.anchorNode)return!1;try{return qD(t,e.anchorNode)}catch{return!1}}function lT(t){return t.nodeType==3?ch(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function cT(t,e,r,n){return r?oQ(t,e,r,n,-1)||oQ(t,e,r,n,1):!1}function lh(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function vR(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function oQ(t,e,r,n,s){for(;;){if(t==r&&e==n)return!0;if(e==(s<0?0:gl(t))){if(t.nodeName=="DIV")return!1;let i=t.parentNode;if(!i||i.nodeType!=1)return!1;e=lh(t)+(s<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=s<0?gl(t):0}else return!1}}function gl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function yR(t,e){let r=e?t.left:t.right;return{left:r,right:r,top:t.top,bottom:t.bottom}}function B7e(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function aQ(t,e){let r=e.width/t.offsetWidth,n=e.height/t.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.width-t.offsetWidth)<1)&&(r=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-t.offsetHeight)<1)&&(n=1),{scaleX:r,scaleY:n}}function F7e(t,e,r,n,s,i,o,a){let l=t.ownerDocument,c=l.defaultView||window;for(let d=t,h=!1;d&&!h;)if(d.nodeType==1){let m,f=d==l.body,p=1,E=1;if(f)m=B7e(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(h=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let S=d.getBoundingClientRect();({scaleX:p,scaleY:E}=aQ(d,S)),m={left:S.left,right:S.left+d.clientWidth*p,top:S.top,bottom:S.top+d.clientHeight*E}}let g=0,T=0;if(s=="nearest")e.top<m.top?(T=e.top-(m.top+o),r>0&&e.bottom>m.bottom+T&&(T=e.bottom-m.bottom+o)):e.bottom>m.bottom&&(T=e.bottom-m.bottom+o,r<0&&e.top-T<m.top&&(T=e.top-(m.top+o)));else{let S=e.bottom-e.top,v=m.bottom-m.top;T=(s=="center"&&S<=v?e.top+S/2-v/2:s=="start"||s=="center"&&r<0?e.top-o:e.bottom-v+o)-m.top}if(n=="nearest"?e.left<m.left?(g=e.left-(m.left+i),r>0&&e.right>m.right+g&&(g=e.right-m.right+i)):e.right>m.right&&(g=e.right-m.right+i,r<0&&e.left<m.left+g&&(g=e.left-(m.left+i))):g=(n=="center"?e.left+(e.right-e.left)/2-(m.right-m.left)/2:n=="start"==a?e.left-i:e.right-(m.right-m.left)+i)-m.left,g||T)if(f)c.scrollBy(g,T);else{let S=0,v=0;if(T){let N=d.scrollTop;d.scrollTop+=T/E,v=(d.scrollTop-N)*E}if(g){let N=d.scrollLeft;d.scrollLeft+=g/p,S=(d.scrollLeft-N)*p}e={left:e.left-S,top:e.top-v,right:e.right-S,bottom:e.bottom-v},S&&Math.abs(S-g)<1&&(n="nearest"),v&&Math.abs(v-T)<1&&(s="nearest")}if(f)break;(e.top<m.top||e.bottom>m.bottom||e.left<m.left||e.right>m.right)&&(e={left:Math.max(e.left,m.left),right:Math.min(e.right,m.right),top:Math.max(e.top,m.top),bottom:Math.min(e.bottom,m.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function H7e(t){let e=t.ownerDocument,r,n;for(let s=t.parentNode;s&&!(s==e.body||r&&n);)if(s.nodeType==1)!n&&s.scrollHeight>s.clientHeight&&(n=s),!r&&s.scrollWidth>s.clientWidth&&(r=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:r,y:n}}class $7e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:n}=e;this.set(r,Math.min(e.anchorOffset,r?gl(r):0),n,Math.min(e.focusOffset,n?gl(n):0))}set(e,r,n,s){this.anchorNode=e,this.anchorOffset=r,this.focusNode=n,this.focusOffset=s}}let wm=null;function lQ(t){if(t.setActive)return t.setActive();if(wm)return t.focus(wm);let e=[];for(let r=t;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(t.focus(wm==null?{get preventScroll(){return wm={preventScroll:!0},!0}}:void 0),!wm){wm=!1;for(let r=0;r<e.length;){let n=e[r++],s=e[r++],i=e[r++];n.scrollTop!=s&&(n.scrollTop=s),n.scrollLeft!=i&&(n.scrollLeft=i)}}}let cQ;function ch(t,e,r=e){let n=cQ||(cQ=document.createRange());return n.setEnd(t,r),n.setStart(t,e),n}function Om(t,e,r,n){let s={key:e,code:e,keyCode:r,which:r,cancelable:!0};n&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=n);let i=new KeyboardEvent("keydown",s);i.synthetic=!0,t.dispatchEvent(i);let o=new KeyboardEvent("keyup",s);return o.synthetic=!0,t.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function G7e(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function uQ(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function V7e(t,e){let r=e.focusNode,n=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=n)return!1;for(n=Math.min(n,gl(r));;)if(n){if(r.nodeType!=1)return!1;let s=r.childNodes[n-1];s.contentEditable=="false"?n--:(r=s,n=gl(r))}else{if(r==t)return!0;n=lh(r),r=r.parentNode}}function dQ(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function hQ(t,e){for(let r=t,n=e;;){if(r.nodeType==3&&n>0)return{node:r,offset:n};if(r.nodeType==1&&n>0){if(r.contentEditable=="false")return null;r=r.childNodes[n-1],n=gl(r)}else if(r.parentNode&&!vR(r))n=lh(r),r=r.parentNode;else return null}}function fQ(t,e){for(let r=t,n=e;;){if(r.nodeType==3&&n<r.nodeValue.length)return{node:r,offset:n};if(r.nodeType==1&&n<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[n],n=0}else if(r.parentNode&&!vR(r))n=lh(r)+1,r=r.parentNode;else return null}}class ri{constructor(e,r,n=!0){this.node=e,this.offset=r,this.precise=n}static before(e,r){return new ri(e.parentNode,lh(e),r)}static after(e,r){return new ri(e.parentNode,lh(e)+1,r)}}const KD=[];class $r{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let n of this.children){if(n==e)return r;r+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.flags&2){let n=this.dom,s=null,i;for(let o of this.children){if(o.flags&7){if(!o.dom&&(i=s?s.nextSibling:n.firstChild)){let a=$r.get(i);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(i)}o.sync(e,r),o.flags&=-8}if(i=s?s.nextSibling:n.firstChild,r&&!r.written&&r.node==n&&i!=o.dom&&(r.written=!0),o.dom.parentNode==n)for(;i&&i!=o.dom;)i=mQ(i);else n.insertBefore(o.dom,i);s=o.dom}for(i=s?s.nextSibling:n.firstChild,i&&r&&r.node==n&&(r.written=!0);i;)i=mQ(i)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,r),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,r){let n;if(e==this.dom)n=this.dom.childNodes[r];else{let s=gl(e)==0?0:r==0?-1:1;for(;;){let i=e.parentNode;if(i==this.dom)break;s==0&&i.firstChild!=i.lastChild&&(e==i.firstChild?s=-1:s=1),e=i}s<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!$r.get(n);)n=n.nextSibling;if(!n)return this.length;for(let s=0,i=0;;s++){let o=this.children[s];if(o.dom==n)return i;i+=o.length+o.breakAfter}}domBoundsAround(e,r,n=0){let s=-1,i=-1,o=-1,a=-1;for(let l=0,c=n,d=n;l<this.children.length;l++){let h=this.children[l],m=c+h.length;if(c<e&&m>r)return h.domBoundsAround(e,r,c);if(m>=e&&s==-1&&(s=l,i=c),c>r&&h.dom.parentNode==this.dom){o=l,a=d;break}d=m,c=m+h.breakAfter}return{from:i,to:a<0?n+this.length:a,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.flags|=2),r.flags&1)return;r.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,n=KD){this.markDirty();for(let s=e;s<r;s++){let i=this.children[s];i.parent==this&&n.indexOf(i)<0&&i.destroy()}n.length<250?this.children.splice(e,r-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(r));for(let s=0;s<n.length;s++)n[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new pQ(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,n,s,i,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}$r.prototype.breakAfter=0;function mQ(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class pQ{constructor(e,r,n){this.children=e,this.pos=r,this.i=n,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function EQ(t,e,r,n,s,i,o,a,l){let{children:c}=t,d=c.length?c[e]:null,h=i.length?i[i.length-1]:null,m=h?h.breakAfter:o;if(!(e==n&&d&&!o&&!m&&i.length<2&&d.merge(r,s,i.length?h:null,r==0,a,l))){if(n<c.length){let f=c[n];f&&(s<f.length||f.breakAfter&&(h!=null&&h.breakAfter))?(e==n&&(f=f.split(s),s=0),!m&&h&&f.merge(0,s,h,!0,0,l)?i[i.length-1]=f:((s||f.children.length&&!f.children[0].length)&&f.merge(0,s,null,!1,0,l),i.push(f))):f!=null&&f.breakAfter&&(h?h.breakAfter=1:o=1),n++}for(d&&(d.breakAfter=o,r>0&&(!o&&i.length&&d.merge(r,d.length,i[0],!1,a,0)?d.breakAfter=i.shift().breakAfter:(r<d.length||d.children.length&&d.children[d.children.length-1].length==0)&&d.merge(r,d.length,null,!1,a,0),e++));e<n&&i.length;)if(c[n-1].become(i[i.length-1]))n--,i.pop(),l=i.length?0:a;else if(c[e].become(i[0]))e++,i.shift(),a=i.length?0:l;else break;!i.length&&e&&n<c.length&&!c[e-1].breakAfter&&c[n].merge(0,0,c[e-1],!1,a,l)&&e--,(e<n||i.length)&&t.replaceChildren(e,n,i)}}function gQ(t,e,r,n,s,i){let o=t.childCursor(),{i:a,off:l}=o.findPos(r,1),{i:c,off:d}=o.findPos(e,-1),h=e-r;for(let m of n)h+=m.length;t.length+=h,EQ(t,c,d,a,l,n,0,s,i)}let Fi=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},XD=typeof document<"u"?document:{documentElement:{style:{}}};const QD=/Edge\/(\d+)/.exec(Fi.userAgent),TQ=/MSIE \d/.test(Fi.userAgent),JD=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Fi.userAgent),AR=!!(TQ||JD||QD),SQ=!AR&&/gecko\/(\d+)/i.test(Fi.userAgent),ZD=!AR&&/Chrome\/(\d+)/.exec(Fi.userAgent),z7e="webkitFontSmoothing"in XD.documentElement.style,vQ=!AR&&/Apple Computer/.test(Fi.vendor),yQ=vQ&&(/Mobile\/\w+/.test(Fi.userAgent)||Fi.maxTouchPoints>2);var Tt={mac:yQ||/Mac/.test(Fi.platform),windows:/Win/.test(Fi.platform),linux:/Linux|X11/.test(Fi.platform),ie:AR,ie_version:TQ?XD.documentMode||6:JD?+JD[1]:QD?+QD[1]:0,gecko:SQ,gecko_version:SQ?+(/Firefox\/(\d+)/.exec(Fi.userAgent)||[0,0])[1]:0,chrome:!!ZD,chrome_version:ZD?+ZD[1]:0,ios:yQ,android:/Android\b/.test(Fi.userAgent),safari:vQ,webkit_version:z7e?+(/\bAppleWebKit\/(\d+)/.exec(Fi.userAgent)||[0,0])[1]:0,tabSize:XD.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const W7e=256;class Ra extends $r{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,n){return this.flags&8||n&&(!(n instanceof Ra)||this.length-(r-e)+n.length>W7e||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new Ra(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new ri(this.dom,e)}domBoundsAround(e,r,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return Y7e(this.dom,e,r)}}class pc extends $r{constructor(e,r=[],n=0){super(),this.mark=e,this.children=r,this.length=n;for(let s of r)s.setParent(this)}setAttrs(e){if(uQ(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,n,s,i,o){return n&&(!(n instanceof pc&&n.mark.eq(this.mark))||e&&i<=0||r<this.length&&o<=0)?!1:(gQ(this,e,r,n?n.children.slice():[],i-1,o-1),this.markDirty(),!0)}split(e){let r=[],n=0,s=-1,i=0;for(let a of this.children){let l=n+a.length;l>e&&r.push(n<e?a.split(e-n):a),s<0&&n>=e&&(s=i),n=l,i++}let o=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new pc(this.mark,r,o)}domAtPos(e){return AQ(this,e)}coordsAt(e,r){return NQ(this,e,r)}}function Y7e(t,e,r){let n=t.nodeValue.length;e>n&&(e=n);let s=e,i=e,o=0;e==0&&r<0||e==n&&r>=0?Tt.chrome||Tt.gecko||(e?(s--,o=1):i<n&&(i++,o=-1)):r<0?s--:i<n&&i++;let a=ch(t,s,i).getClientRects();if(!a.length)return null;let l=a[(o?o<0:r>=0)?0:a.length-1];return Tt.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?yR(l,o<0):l||null}class Lu extends $r{static create(e,r,n){return new Lu(e,r,n)}constructor(e,r,n){super(),this.widget=e,this.length=r,this.side=n,this.prevWidget=null}split(e){let r=Lu.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,r,n,s,i,o){return n&&(!(n instanceof Lu)||!this.widget.compare(n.widget)||e>0&&i<=0||r<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-r),!0)}become(e){return e instanceof Lu&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ir.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,n=r&&r.state.doc,s=this.posAtStart;return n?n.slice(s,s+this.length):Ir.empty}domAtPos(e){return(this.length?e==0:this.side>0)?ri.before(this.dom):ri.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let n=this.widget.coordsAt(this.dom,e,r);if(n)return n;let s=this.dom.getClientRects(),i=null;if(!s.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?s.length-1:0;i=s[a],!(e>0?a==0:a==s.length-1||i.top<i.bottom);a+=o?-1:1);return yR(i,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Im extends $r{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Im&&e.side==this.side}split(){return new Im(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?ri.before(this.dom):ri.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Ir.empty}get isHidden(){return!0}}Ra.prototype.children=Lu.prototype.children=Im.prototype.children=KD;function AQ(t,e){let r=t.dom,{children:n}=t,s=0;for(let i=0;s<n.length;s++){let o=n[s],a=i+o.length;if(!(a==i&&o.getSide()<=0)){if(e>i&&e<a&&o.dom.parentNode==r)return o.domAtPos(e-i);if(e<=i)break;i=a}}for(let i=s;i>0;i--){let o=n[i-1];if(o.dom.parentNode==r)return o.domAtPos(o.length)}for(let i=s;i<n.length;i++){let o=n[i];if(o.dom.parentNode==r)return o.domAtPos(0)}return new ri(r,0)}function RQ(t,e,r){let n,{children:s}=t;r>0&&e instanceof pc&&s.length&&(n=s[s.length-1])instanceof pc&&n.mark.eq(e.mark)?RQ(n,e.children[0],r-1):(s.push(e),e.setParent(t)),t.length+=e.length}function NQ(t,e,r){let n=null,s=-1,i=null,o=-1;function a(c,d){for(let h=0,m=0;h<c.children.length&&m<=d;h++){let f=c.children[h],p=m+f.length;p>=d&&(f.children.length?a(f,d-m):(!i||i.isHidden&&(r>0||K7e(i,f)))&&(p>d||m==p&&f.getSide()>0)?(i=f,o=d-m):(m<d||m==p&&f.getSide()<0&&!f.isHidden)&&(n=f,s=d-m)),m=p}}a(t,e);let l=(r<0?n:i)||n||i;return l?l.coordsAt(Math.max(0,l==n?s:o),r):q7e(t)}function q7e(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let r=lT(e);return r[r.length-1]||null}function K7e(t,e){let r=t.coordsAt(0,1),n=e.coordsAt(0,1);return r&&n&&n.top<r.bottom}function eM(t,e){for(let r in t)r=="class"&&e.class?e.class+=" "+t.class:r=="style"&&e.style?e.style+=";"+t.style:e[r]=t[r];return e}const bQ=Object.create(null);function RR(t,e,r){if(t==e)return!0;t||(t=bQ),e||(e=bQ);let n=Object.keys(t),s=Object.keys(e);if(n.length-(r&&n.indexOf(r)>-1?1:0)!=s.length-(r&&s.indexOf(r)>-1?1:0))return!1;for(let i of n)if(i!=r&&(s.indexOf(i)==-1||t[i]!==e[i]))return!1;return!0}function tM(t,e,r){let n=!1;if(e)for(let s in e)r&&s in r||(n=!0,s=="style"?t.style.cssText="":t.removeAttribute(s));if(r)for(let s in r)e&&e[s]==r[s]||(n=!0,s=="style"?t.style.cssText=r[s]:t.setAttribute(s,r[s]));return n}function X7e(t){let e=Object.create(null);for(let r=0;r<t.attributes.length;r++){let n=t.attributes[r];e[n.name]=n.value}return e}class Ec{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Ti=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Ti||(Ti={}));class Wt extends ah{constructor(e,r,n,s){super(),this.startSide=e,this.endSide=r,this.widget=n,this.spec=s}get heightRelevant(){return!1}static mark(e){return new uT(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return r+=n&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new Du(e,r,r,n,e.widget||null,!1)}static replace(e){let r=!!e.block,n,s;if(e.isBlockGap)n=-5e8,s=4e8;else{let{start:i,end:o}=CQ(e,r);n=(i?r?-3e8:-1:5e8)-1,s=(o?r?2e8:1:-6e8)+1}return new Du(e,n,s,r,e.widget||null,!0)}static line(e){return new dT(e)}static set(e,r=!1){return hr.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Wt.none=hr.empty;class uT extends Wt{constructor(e){let{start:r,end:n}=CQ(e);super(r?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var r,n;return this==e||e instanceof uT&&this.tagName==e.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&RR(this.attrs,e.attrs,"class")}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}uT.prototype.point=!1;class dT extends Wt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof dT&&this.spec.class==e.spec.class&&RR(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}dT.prototype.mapMode=qn.TrackBefore,dT.prototype.point=!0;class Du extends Wt{constructor(e,r,n,s,i,o){super(r,n,i,e),this.block=s,this.isReplace=o,this.mapMode=s?r<=0?qn.TrackBefore:qn.TrackAfter:qn.TrackDel}get type(){return this.startSide!=this.endSide?Ti.WidgetRange:this.startSide<=0?Ti.WidgetBefore:Ti.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Du&&Q7e(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}Du.prototype.point=!0;function CQ(t,e=!1){let{inclusiveStart:r,inclusiveEnd:n}=t;return r==null&&(r=t.inclusive),n==null&&(n=t.inclusive),{start:r??e,end:n??e}}function Q7e(t,e){return t==e||!!(t&&e&&t.compare(e))}function NR(t,e,r,n=0){let s=r.length-1;s>=0&&r[s]+n>=t?r[s]=Math.max(r[s],e):r.push(t,e)}class Qn extends $r{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,n,s,i,o){if(n){if(!(n instanceof Qn))return!1;this.dom||n.transferDOM(this)}return s&&this.setDeco(n?n.attrs:null),gQ(this,e,r,n?n.children.slice():[],i,o),!0}split(e){let r=new Qn;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:n,off:s}=this.childPos(e);s&&(r.append(this.children[n].split(s),0),this.children[n].merge(s,this.children[n].length,null,!1,0,0),n++);for(let i=n;i<this.children.length;i++)r.append(this.children[i],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){RR(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){RQ(this,e,r)}addLineDeco(e){let r=e.spec.attributes,n=e.spec.class;r&&(this.attrs=eM(r,this.attrs||{})),n&&(this.attrs=eM({class:n},this.attrs||{}))}domAtPos(e){return AQ(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,r){var n;this.dom?this.flags&4&&(uQ(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(tM(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let s=this.dom.lastChild;for(;s&&$r.get(s)instanceof pc;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((n=$r.get(s))===null||n===void 0?void 0:n.isEditable)==!1&&(!Tt.ios||!this.children.some(i=>i instanceof Ra))){let i=document.createElement("BR");i.cmIgnore=!0,this.dom.appendChild(i)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let n of this.children){if(!(n instanceof Ra)||/[^ -~]/.test(n.text))return null;let s=lT(n.dom);if(s.length!=1)return null;e+=s[0].width,r=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let n=NQ(this,e,r);if(!this.children.length&&n&&this.parent){let{heightOracle:s}=this.parent.view.viewState,i=n.bottom-n.top;if(Math.abs(i-s.lineHeight)<2&&s.textHeight<i){let o=(i-s.textHeight)/2;return{top:n.top+o,bottom:n.bottom-o,left:n.left,right:n.left}}}return n}become(e){return e instanceof Qn&&this.children.length==0&&e.children.length==0&&RR(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,r){for(let n=0,s=0;n<e.children.length;n++){let i=e.children[n],o=s+i.length;if(o>=r){if(i instanceof Qn)return i;if(o>r)break}s=o+i.breakAfter}return null}}class gc extends $r{constructor(e,r,n){super(),this.widget=e,this.length=r,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,r,n,s,i,o){return n&&(!(n instanceof gc)||!this.widget.compare(n.widget)||e>0&&i<=0||r<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?ri.before(this.dom):ri.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let n=new gc(this.widget,r,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return KD}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ir.empty}domBoundsAround(){return null}become(e){return e instanceof gc&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){let n=this.widget.coordsAt(this.dom,e,r);return n||(this.widget instanceof rM?null:yR(this.dom.getBoundingClientRect(),this.length?e==0:r<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:r,endSide:n}=this.deco;return r==n?!1:e<0?r<0:n>0}}class rM extends Ec{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class hT{constructor(e,r,n,s){this.doc=e,this.pos=r,this.end=n,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof gc&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Qn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(bR(new Im(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof gc)&&this.getLine()}buildText(e,r,n){for(;e>0;){if(this.textOff==this.text.length){let{value:i,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=i,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-n)),this.getLine().append(bR(new Ra(this.text.slice(this.textOff,this.textOff+s)),r),n),this.atCursorPos=!0,this.textOff+=s,e-=s,n=0}}span(e,r,n,s){this.buildText(r-e,n,s),this.pos=r,this.openStart<0&&(this.openStart=s)}point(e,r,n,s,i,o){if(this.disallowBlockEffectsFor[o]&&n instanceof Du){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=r-e;if(n instanceof Du)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new gc(n.widget||_m.block,a,n));else{let l=Lu.create(n.widget||_m.inline,a,a?0:n.startSide),c=this.atCursorPos&&!l.isEditable&&i<=s.length&&(e<r||n.startSide>0),d=!l.isEditable&&(e<r||i>s.length||n.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),c&&(h.append(bR(new Im(1),s),i),i=s.length+Math.max(0,i-s.length)),h.append(bR(l,s),i),this.atCursorPos=d,this.pendingBuffer=d?e<r||i>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=i)}static build(e,r,n,s,i){let o=new hT(e,r,n,i);return o.openEnd=hr.spans(s,r,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function bR(t,e){for(let r of e)t=new pc(r,[t],t.length);return t}class _m extends Ec{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}_m.inline=new _m("span"),_m.block=new _m("div");var Gr=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Gr||(Gr={}));const uh=Gr.LTR,nM=Gr.RTL;function xQ(t){let e=[];for(let r=0;r<t.length;r++)e.push(1<<+t[r]);return e}const J7e=xQ("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Z7e=xQ("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),sM=Object.create(null),Tl=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),r=t.charCodeAt(1);sM[e]=r,sM[r]=-e}function wQ(t){return t<=247?J7e[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Z7e[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const eze=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Mu{get dir(){return this.level%2?nM:uh}constructor(e,r,n){this.from=e,this.to=r,this.level=n}side(e,r){return this.dir==r==e?this.to:this.from}forward(e,r){return e==(this.dir==r)}static find(e,r,n,s){let i=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=r&&a.to>=r){if(a.level==n)return o;(i<0||(s!=0?s<0?a.from<r:a.to>r:e[i].level>a.level))&&(i=o)}}if(i<0)throw new RangeError("Index out of range");return i}}function OQ(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],s=e[r];if(n.from!=s.from||n.to!=s.to||n.direction!=s.direction||!OQ(n.inner,s.inner))return!1}return!0}const Vr=[];function tze(t,e,r,n,s){for(let i=0;i<=n.length;i++){let o=i?n[i-1].to:e,a=i<n.length?n[i].from:r,l=i?256:s;for(let c=o,d=l,h=l;c<a;c++){let m=wQ(t.charCodeAt(c));m==512?m=d:m==8&&h==4&&(m=16),Vr[c]=m==4?2:m,m&7&&(h=m),d=m}for(let c=o,d=l,h=l;c<a;c++){let m=Vr[c];if(m==128)c<a-1&&d==Vr[c+1]&&d&24?m=Vr[c]=d:Vr[c]=256;else if(m==64){let f=c+1;for(;f<a&&Vr[f]==64;)f++;let p=c&&d==8||f<r&&Vr[f]==8?h==1?1:8:256;for(let E=c;E<f;E++)Vr[E]=p;c=f-1}else m==8&&h==1&&(Vr[c]=1);d=m,m&7&&(h=m)}}}function rze(t,e,r,n,s){let i=s==1?2:1;for(let o=0,a=0,l=0;o<=n.length;o++){let c=o?n[o-1].to:e,d=o<n.length?n[o].from:r;for(let h=c,m,f,p;h<d;h++)if(f=sM[m=t.charCodeAt(h)])if(f<0){for(let E=a-3;E>=0;E-=3)if(Tl[E+1]==-f){let g=Tl[E+2],T=g&2?s:g&4?g&1?i:s:0;T&&(Vr[h]=Vr[Tl[E]]=T),a=E;break}}else{if(Tl.length==189)break;Tl[a++]=h,Tl[a++]=m,Tl[a++]=l}else if((p=Vr[h])==2||p==1){let E=p==s;l=E?0:1;for(let g=a-3;g>=0;g-=3){let T=Tl[g+2];if(T&2)break;if(E)Tl[g+2]|=2;else{if(T&4)break;Tl[g+2]|=4}}}}}function nze(t,e,r,n){for(let s=0,i=n;s<=r.length;s++){let o=s?r[s-1].to:t,a=s<r.length?r[s].from:e;for(let l=o;l<a;){let c=Vr[l];if(c==256){let d=l+1;for(;;)if(d==a){if(s==r.length)break;d=r[s++].to,a=s<r.length?r[s].from:e}else if(Vr[d]==256)d++;else break;let h=i==1,m=(d<e?Vr[d]:n)==1,f=h==m?h?1:2:n;for(let p=d,E=s,g=E?r[E-1].to:t;p>l;)p==g&&(p=r[--E].from,g=E?r[E-1].to:t),Vr[--p]=f;l=d}else i=c,l++}}}function iM(t,e,r,n,s,i,o){let a=n%2?2:1;if(n%2==s%2)for(let l=e,c=0;l<r;){let d=!0,h=!1;if(c==i.length||l<i[c].from){let E=Vr[l];E!=a&&(d=!1,h=E==16)}let m=!d&&a==1?[]:null,f=d?n:n+1,p=l;e:for(;;)if(c<i.length&&p==i[c].from){if(h)break e;let E=i[c];if(!d)for(let g=E.to,T=c+1;;){if(g==r)break e;if(T<i.length&&i[T].from==g)g=i[T++].to;else{if(Vr[g]==a)break e;break}}if(c++,m)m.push(E);else{E.from>l&&o.push(new Mu(l,E.from,f));let g=E.direction==uh!=!(f%2);oM(t,g?n+1:n,s,E.inner,E.from,E.to,o),l=E.to}p=E.to}else{if(p==r||(d?Vr[p]!=a:Vr[p]==a))break;p++}m?iM(t,l,p,n+1,s,m,o):l<p&&o.push(new Mu(l,p,f)),l=p}else for(let l=r,c=i.length;l>e;){let d=!0,h=!1;if(!c||l>i[c-1].to){let E=Vr[l-1];E!=a&&(d=!1,h=E==16)}let m=!d&&a==1?[]:null,f=d?n:n+1,p=l;e:for(;;)if(c&&p==i[c-1].to){if(h)break e;let E=i[--c];if(!d)for(let g=E.from,T=c;;){if(g==e)break e;if(T&&i[T-1].to==g)g=i[--T].from;else{if(Vr[g-1]==a)break e;break}}if(m)m.push(E);else{E.to<l&&o.push(new Mu(E.to,l,f));let g=E.direction==uh!=!(f%2);oM(t,g?n+1:n,s,E.inner,E.from,E.to,o),l=E.from}p=E.from}else{if(p==e||(d?Vr[p-1]!=a:Vr[p-1]==a))break;p--}m?iM(t,p,l,n+1,s,m,o):p<l&&o.push(new Mu(p,l,f)),l=p}}function oM(t,e,r,n,s,i,o){let a=e%2?2:1;tze(t,s,i,n,a),rze(t,s,i,n,a),nze(s,i,n,a),iM(t,s,i,e,r,n,o)}function sze(t,e,r){if(!t)return[new Mu(0,0,e==nM?1:0)];if(e==uh&&!r.length&&!eze.test(t))return IQ(t.length);if(r.length)for(;t.length>Vr.length;)Vr[Vr.length]=256;let n=[],s=e==uh?0:1;return oM(t,s,s,r,0,t.length,n),n}function IQ(t){return[new Mu(0,t,0)]}let _Q="";function ize(t,e,r,n,s){var i;let o=n.head-t.from,a=Mu.find(e,o,(i=n.bidiLevel)!==null&&i!==void 0?i:-1,n.assoc),l=e[a],c=l.side(s,r);if(o==c){let m=a+=s?1:-1;if(m<0||m>=e.length)return null;l=e[a=m],o=l.side(!s,r),c=l.side(s,r)}let d=Hs(t.text,o,l.forward(s,r));(d<l.from||d>l.to)&&(d=c),_Q=t.text.slice(Math.min(o,d),Math.max(o,d));let h=a==(s?e.length-1:0)?null:e[a+(s?1:-1)];return h&&d==c&&h.level+(s?0:1)<l.level?Ve.cursor(h.side(!s,r)+t.from,h.forward(s,r)?1:-1,h.level):Ve.cursor(d+t.from,l.forward(s,r)?-1:1,l.level)}function oze(t,e,r){for(let n=e;n<r;n++){let s=wQ(t.charCodeAt(n));if(s==1)return uh;if(s==2||s==4)return nM}return uh}const LQ=pt.define(),DQ=pt.define(),MQ=pt.define(),PQ=pt.define(),aM=pt.define(),kQ=pt.define(),UQ=pt.define(),lM=pt.define(),cM=pt.define(),jQ=pt.define({combine:t=>t.some(e=>e)}),BQ=pt.define({combine:t=>t.some(e=>e)}),FQ=pt.define();class Lm{constructor(e,r="nearest",n="nearest",s=5,i=5,o=!1){this.range=e,this.y=r,this.x=n,this.yMargin=s,this.xMargin=i,this.isSnapshot=o}map(e){return e.empty?this:new Lm(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Lm(Ve.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const CR=jt.define({map:(t,e)=>t.map(e)}),HQ=jt.define();function Si(t,e,r){let n=t.facet(PQ);n.length?n[0](e):window.onerror&&window.onerror(String(e),r,void 0,void 0,e)||(r?console.error(r+":",e):console.error(e))}const Tc=pt.define({combine:t=>t.length?t[0]:!0});let aze=0;const fT=pt.define();class kn{constructor(e,r,n,s,i){this.id=e,this.create=r,this.domEventHandlers=n,this.domEventObservers=s,this.extension=i(this)}static define(e,r){const{eventHandlers:n,eventObservers:s,provide:i,decorations:o}=r||{};return new kn(aze++,e,n,s,a=>{let l=[fT.of(a)];return o&&l.push(mT.of(c=>{let d=c.plugin(a);return d?o(d):Wt.none})),i&&l.push(i(a)),l})}static fromClass(e,r){return kn.define(n=>new e(n),r)}}class uM{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(n){if(Si(r.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){Si(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(n){Si(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const $Q=pt.define(),dM=pt.define(),mT=pt.define(),GQ=pt.define(),hM=pt.define(),VQ=pt.define();function zQ(t,e){let r=t.state.facet(VQ);if(!r.length)return r;let n=r.map(i=>i instanceof Function?i(t):i),s=[];return hr.spans(n,e.from,e.to,{point(){},span(i,o,a,l){let c=i-e.from,d=o-e.from,h=s;for(let m=a.length-1;m>=0;m--,l--){let f=a[m].spec.bidiIsolate,p;if(f==null&&(f=oze(e.text,c,d)),l>0&&h.length&&(p=h[h.length-1]).to==c&&p.direction==f)p.to=d,h=p.inner;else{let E={from:c,to:d,direction:f,inner:[]};h.push(E),h=E.inner}}}}),s}const WQ=pt.define();function fM(t){let e=0,r=0,n=0,s=0;for(let i of t.state.facet(WQ)){let o=i(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(r=Math.max(r,o.right)),o.top!=null&&(n=Math.max(n,o.top)),o.bottom!=null&&(s=Math.max(s,o.bottom)))}return{left:e,right:r,top:n,bottom:s}}const pT=pt.define();class Ho{constructor(e,r,n,s){this.fromA=e,this.toA=r,this.fromB=n,this.toB=s}join(e){return new Ho(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,n=this;for(;r>0;r--){let s=e[r-1];if(!(s.fromA>n.toA)){if(s.toA<n.fromA)break;n=n.join(s),e.splice(r-1,1)}}return e.splice(r,0,n),e}static extendWithRanges(e,r){if(r.length==0)return e;let n=[];for(let s=0,i=0,o=0,a=0;;s++){let l=s==e.length?null:e[s],c=o-a,d=l?l.fromB:1e9;for(;i<r.length&&r[i]<d;){let h=r[i],m=r[i+1],f=Math.max(a,h),p=Math.min(d,m);if(f<=p&&new Ho(f+c,p+c,f,p).addToSet(n),m>d)break;i+=2}if(!l)return n;new Ho(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),o=l.toA,a=l.toB}}}class xR{constructor(e,r,n){this.view=e,this.state=r,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=as.empty(this.startState.doc.length);for(let i of n)this.changes=this.changes.compose(i.changes);let s=[];this.changes.iterChangedRanges((i,o,a,l)=>s.push(new Ho(i,o,a,l))),this.changedRanges=s}static create(e,r,n){return new xR(e,r,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class YQ extends $r{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Wt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Qn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ho(0,0,0,e.state.doc.length)],0,null)}update(e){var r;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:c,toA:d})=>d<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?s=this.domChanged.newSel.head:!mze(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let i=s>-1?cze(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:d}=this.hasComposition;n=new Ho(c,d,e.changes.mapPos(c,-1),e.changes.mapPos(d,1)).addToSet(n.slice())}this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(Tt.ie||Tt.chrome)&&!i&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=hze(o,a,e.changes);return n=Ho.extendWithRanges(n,l),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,i),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r,n);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Tt.chrome||Tt.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||s.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof gc&&o.widget instanceof rM&&i.push(o.dom);s.updateGaps(i)}updateChildren(e,r,n){let s=n?n.range.addToSet(e.slice()):e,i=this.childCursor(r);for(let o=s.length-1;;o--){let a=o>=0?s[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:d,toB:h}=a,m,f,p,E;if(n&&n.range.fromB<h&&n.range.toB>d){let N=hT.build(this.view.state.doc,d,n.range.fromB,this.decorations,this.dynamicDecorationMap),C=hT.build(this.view.state.doc,n.range.toB,h,this.decorations,this.dynamicDecorationMap);f=N.breakAtStart,p=N.openStart,E=C.openEnd;let x=this.compositionView(n);C.breakAtStart?x.breakAfter=1:C.content.length&&x.merge(x.length,x.length,C.content[0],!1,C.openStart,0)&&(x.breakAfter=C.content[0].breakAfter,C.content.shift()),N.content.length&&x.merge(0,0,N.content[N.content.length-1],!0,0,N.openEnd)&&N.content.pop(),m=N.content.concat(x).concat(C.content)}else({content:m,breakAtStart:f,openStart:p,openEnd:E}=hT.build(this.view.state.doc,d,h,this.decorations,this.dynamicDecorationMap));let{i:g,off:T}=i.findPos(c,1),{i:S,off:v}=i.findPos(l,-1);EQ(this,S,v,g,T,m,f,p,E)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let r of e.transactions)for(let n of r.effects)n.is(HQ)&&(this.editContextFormatting=n.value)}compositionView(e){let r=new Ra(e.text.nodeValue);r.flags|=8;for(let{deco:s}of e.marks)r=new pc(s,[r],r.length);let n=new Qn;return n.append(r,0),n}fixCompositionDOM(e){let r=(i,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=$r.get(i);a&&a!=o&&(a.dom=null),o.setDOM(i)},n=this.childPos(e.range.fromB,1),s=this.children[n.i];r(e.line,s);for(let i=e.marks.length-1;i>=-1;i--)n=s.childPos(n.off,1),s=s.children[n.i],r(i>=0?e.marks[i].node:e.text,s)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,s=n==this.dom,i=!s&&!(this.view.state.facet(Tc)||this.dom.tabIndex>-1)&&SR(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(s||r||i))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Tt.gecko&&a.empty&&!this.hasComposition&&lze(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=c=new ri(h,0),o=!0}let d=this.view.observer.selectionRange;(o||!d.focusNode||(!cT(l.node,l.offset,d.anchorNode,d.anchorOffset)||!cT(c.node,c.offset,d.focusNode,d.focusOffset))&&!this.suppressWidgetCursorChange(d,a))&&(this.view.observer.ignore(()=>{Tt.android&&Tt.chrome&&this.dom.contains(d.focusNode)&&fze(d.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=aT(this.view.root);if(h)if(a.empty){if(Tt.gecko){let m=uze(l.node,l.offset);if(m&&m!=3){let f=(m==1?hQ:fQ)(l.node,l.offset);f&&(l=new ri(f.node,f.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(c.node,c.offset)}catch{}}else{let m=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),m.setEnd(c.node,c.offset),m.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(m)}i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new ri(d.anchorNode,d.anchorOffset),this.impreciseHead=c.precise?null:new ri(d.focusNode,d.focusOffset)}suppressWidgetCursorChange(e,r){return this.hasComposition&&r.empty&&cT(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==r.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,n=aT(e.root),{anchorNode:s,anchorOffset:i}=e.observer.selectionRange;if(!n||!r.empty||!r.assoc||!n.modify)return;let o=Qn.find(this,r.head);if(!o)return;let a=o.posAtStart;if(r.head==a||r.head==a+o.length)return;let l=this.coordsAt(r.head,-1),c=this.coordsAt(r.head,1);if(!l||!c||l.bottom>c.top)return;let d=this.domAtPos(r.head+r.assoc);n.collapse(d.node,d.offset),n.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=r.from&&n.collapse(s,i)}moveToLine(e){let r=this.dom,n;if(e.node!=r)return e;for(let s=e.offset;!n&&s<r.childNodes.length;s++){let i=$r.get(r.childNodes[s]);i instanceof Qn&&(n=i.domAtPos(0))}for(let s=e.offset-1;!n&&s>=0;s--){let i=$r.get(r.childNodes[s]);i instanceof Qn&&(n=i.domAtPos(i.length))}return n?new ri(n.node,n.offset,!0):e}nearest(e){for(let r=e;r;){let n=$r.get(r);if(n&&n.rootView==this)return n;r=r.parentNode}return null}posFromDOM(e,r){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,r)+n.posAtStart}domAtPos(e){let{i:r,off:n}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let s=this.children[r];if(n<s.length||s instanceof Qn)break;r++,n=0}return this.children[r].domAtPos(n)}coordsAt(e,r){let n=null,s=0;for(let i=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=i-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!n||a instanceof Qn&&!(n instanceof Qn&&r>=0)))n=a,s=c;else if(n&&c==e&&l==e&&a instanceof gc&&Math.abs(r)<2){if(a.deco.startSide<0)break;o&&(n=null)}i=c}return n?n.coordsAt(e-s,r):null}coordsForChar(e){let{i:r,off:n}=this.childPos(e,1),s=this.children[r];if(!(s instanceof Qn))return null;for(;s.children.length;){let{i:a,off:l}=s.childPos(n,1);for(;;a++){if(a==s.children.length)return null;if((s=s.children[a]).length)break}n=l}if(!(s instanceof Ra))return null;let i=Hs(s.text,n);if(i==n)return null;let o=ch(s.dom,n,i).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let r=[],{from:n,to:s}=e,i=this.view.contentDOM.clientWidth,o=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Gr.LTR;for(let c=0,d=0;d<this.children.length;d++){let h=this.children[d],m=c+h.length;if(m>s)break;if(c>=n){let f=h.dom.getBoundingClientRect();if(r.push(f.height),o){let p=h.dom.lastChild,E=p?lT(p):[];if(E.length){let g=E[E.length-1],T=l?g.right-f.left:f.right-g.left;T>a&&(a=T,this.minWidth=i,this.minWidthFrom=c,this.minWidthTo=m)}}}c=m+h.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?Gr.RTL:Gr.LTR}measureTextSize(){for(let i of this.children)if(i instanceof Qn){let o=i.measureTextSize();if(o)return o}let e=document.createElement("div"),r,n,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let i=lT(e.firstChild)[0];r=e.getBoundingClientRect().height,n=i?i.width/27:7,s=i?i.height:r,e.remove()}),{lineHeight:r,charWidth:n,textHeight:s}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new pQ(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let n=0,s=0;;s++){let i=s==r.viewports.length?null:r.viewports[s],o=i?i.from-1:this.length;if(o>n){let a=(r.lineBlockAt(o).bottom-r.lineBlockAt(n).top)/this.view.scaleY;e.push(Wt.replace({widget:new rM(a),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!i)break;n=i.to+1}return Wt.set(e)}updateDeco(){let e=1,r=this.view.state.facet(mT).map(i=>(this.dynamicDecorationMap[e++]=typeof i=="function")?i(this.view):i),n=!1,s=this.view.state.facet(GQ).map((i,o)=>{let a=typeof i=="function";return a&&(n=!0),a?i(this.view):i});for(s.length&&(this.dynamicDecorationMap[e++]=n,r.push(hr.join(s))),this.decorations=[this.editContextFormatting,...r,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(FQ))try{if(c(this.view,e.range,e))return!0}catch(d){Si(this.view.state,d,"scroll handler")}let{range:r}=e,n=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),s;if(!n)return;!r.empty&&(s=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(n={left:Math.min(n.left,s.left),top:Math.min(n.top,s.top),right:Math.max(n.right,s.right),bottom:Math.max(n.bottom,s.bottom)});let i=fM(this.view),o={left:n.left-i.left,top:n.top-i.top,right:n.right+i.right,bottom:n.bottom+i.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;F7e(this.view.scrollDOM,o,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Gr.LTR)}}function lze(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function qQ(t,e){let r=t.observer.selectionRange;if(!r.focusNode)return null;let n=hQ(r.focusNode,r.focusOffset),s=fQ(r.focusNode,r.focusOffset),i=n||s;if(s&&n&&s.node!=n.node){let a=$r.get(s.node);if(!a||a instanceof Ra&&a.text!=s.node.nodeValue)i=s;else if(t.docView.lastCompositionAfterCursor){let l=$r.get(n.node);!l||l instanceof Ra&&l.text!=n.node.nodeValue||(i=s)}}if(t.docView.lastCompositionAfterCursor=i!=n,!i)return null;let o=e-i.offset;return{from:o,to:o+i.node.nodeValue.length,node:i.node}}function cze(t,e,r){let n=qQ(t,r);if(!n)return null;let{node:s,from:i,to:o}=n,a=s.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(n.from,n.to)!=a)return null;let l=e.invertedDesc,c=new Ho(l.mapPos(i),l.mapPos(o),i,o),d=[];for(let h=s.parentNode;;h=h.parentNode){let m=$r.get(h);if(m instanceof pc)d.push({node:h,deco:m.mark});else{if(m instanceof Qn||h.nodeName=="DIV"&&h.parentNode==t.contentDOM)return{range:c,text:s,marks:d,line:h};if(h!=t.contentDOM)d.push({node:h,deco:new uT({inclusive:!0,attributes:X7e(h),tagName:h.tagName.toLowerCase()})});else return null}}}function uze(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let dze=class{constructor(){this.changes=[]}compareRange(e,r){NR(e,r,this.changes)}comparePoint(e,r){NR(e,r,this.changes)}boundChange(e){NR(e,e,this.changes)}};function hze(t,e,r){let n=new dze;return hr.compare(t,e,r,n),n.changes}function fze(t,e){for(let r=t;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function mze(t,e){let r=!1;return e&&t.iterChangedRanges((n,s)=>{n<e.to&&s>e.from&&(r=!0)}),r}function pze(t,e,r=1){let n=t.charCategorizer(e),s=t.doc.lineAt(e),i=e-s.from;if(s.length==0)return Ve.cursor(e);i==0?r=1:i==s.length&&(r=-1);let o=i,a=i;r<0?o=Hs(s.text,i,!1):a=Hs(s.text,i);let l=n(s.text.slice(o,a));for(;o>0;){let c=Hs(s.text,o,!1);if(n(s.text.slice(c,o))!=l)break;o=c}for(;a<s.length;){let c=Hs(s.text,a);if(n(s.text.slice(a,c))!=l)break;a=c}return Ve.range(o+s.from,a+s.from)}function Eze(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function gze(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function mM(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function KQ(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function XQ(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function pM(t,e,r){let n,s,i,o,a=!1,l,c,d,h;for(let p=t.firstChild;p;p=p.nextSibling){let E=lT(p);for(let g=0;g<E.length;g++){let T=E[g];s&&mM(s,T)&&(T=KQ(XQ(T,s.bottom),s.top));let S=Eze(e,T),v=gze(r,T);if(S==0&&v==0)return p.nodeType==3?QQ(p,e,r):pM(p,e,r);if(!n||o>v||o==v&&i>S){n=p,s=T,i=S,o=v;let N=v?r<T.top?-1:1:S?e<T.left?-1:1:0;a=!N||(N>0?g<E.length-1:g>0)}S==0?r>T.bottom&&(!d||d.bottom<T.bottom)?(l=p,d=T):r<T.top&&(!h||h.top>T.top)&&(c=p,h=T):d&&mM(d,T)?d=XQ(d,T.bottom):h&&mM(h,T)&&(h=KQ(h,T.top))}}if(d&&d.bottom>=r?(n=l,s=d):h&&h.top<=r&&(n=c,s=h),!n)return{node:t,offset:0};let m=Math.max(s.left,Math.min(s.right,e));if(n.nodeType==3)return QQ(n,m,r);if(a&&n.contentEditable!="false")return pM(n,m,r);let f=Array.prototype.indexOf.call(t.childNodes,n)+(e>=(s.left+s.right)/2?1:0);return{node:t,offset:f}}function QQ(t,e,r){let n=t.nodeValue.length,s=-1,i=1e9,o=0;for(let a=0;a<n;a++){let l=ch(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(d.top==d.bottom)continue;o||(o=e-d.left);let h=(d.top>r?d.top-r:r-d.bottom)-1;if(d.left-1<=e&&d.right+1>=e&&h<i){let m=e>=(d.left+d.right)/2,f=m;if((Tt.chrome||Tt.gecko)&&ch(t,a).getBoundingClientRect().left==d.right&&(f=!m),h<=0)return{node:t,offset:a+(f?1:0)};s=a+(f?1:0),i=h}}}return{node:t,offset:s>-1?s:o>0?t.nodeValue.length:0}}function JQ(t,e,r,n=-1){var s,i;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:d,y:h}=e,m=h-a;if(m<0)return 0;if(m>c)return t.state.doc.length;for(let N=t.viewState.heightOracle.textHeight/2,C=!1;l=t.elementAtHeight(m),l.type!=Ti.Text;)for(;m=n>0?l.bottom+N:l.top-N,!(m>=0&&m<=c);){if(C)return r?null:0;C=!0,n=-n}h=a+m;let f=l.from;if(f<t.viewport.from)return t.viewport.from==0?0:r?null:ZQ(t,o,l,d,h);if(f>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:r?null:ZQ(t,o,l,d,h);let p=t.dom.ownerDocument,E=t.root.elementFromPoint?t.root:p,g=E.elementFromPoint(d,h);g&&!t.contentDOM.contains(g)&&(g=null),g||(d=Math.max(o.left+1,Math.min(o.right-1,d)),g=E.elementFromPoint(d,h),g&&!t.contentDOM.contains(g)&&(g=null));let T,S=-1;if(g&&((s=t.docView.nearest(g))===null||s===void 0?void 0:s.isEditable)!=!1){if(p.caretPositionFromPoint){let N=p.caretPositionFromPoint(d,h);N&&({offsetNode:T,offset:S}=N)}else if(p.caretRangeFromPoint){let N=p.caretRangeFromPoint(d,h);N&&({startContainer:T,startOffset:S}=N,(!t.contentDOM.contains(T)||Tt.safari&&Tze(T,S,d)||Tt.chrome&&Sze(T,S,d))&&(T=void 0))}T&&(S=Math.min(gl(T),S))}if(!T||!t.docView.dom.contains(T)){let N=Qn.find(t.docView,f);if(!N)return m>l.top+l.height/2?l.to:l.from;({node:T,offset:S}=pM(N.dom,d,h))}let v=t.docView.nearest(T);if(!v)return null;if(v.isWidget&&((i=v.dom)===null||i===void 0?void 0:i.nodeType)==1){let N=v.dom.getBoundingClientRect();return e.y<N.top||e.y<=N.bottom&&e.x<=(N.left+N.right)/2?v.posAtStart:v.posAtEnd}else return v.localPosFromDOM(T,S)+v.posAtStart}function ZQ(t,e,r,n,s){let i=Math.round((n-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&r.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((s-r.top-(t.defaultLineHeight-a)*.5)/a);i+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(r.from,r.to);return r.from+M7e(o,i,t.state.tabSize)}function Tze(t,e,r){let n;if(t.nodeType!=3||e!=(n=t.nodeValue.length))return!1;for(let s=t.nextSibling;s;s=s.nextSibling)if(s.nodeType!=1||s.nodeName!="BR")return!1;return ch(t,n-1,n).getBoundingClientRect().left>r}function Sze(t,e,r){if(e!=0)return!1;for(let s=t;;){let i=s.parentNode;if(!i||i.nodeType!=1||i.firstChild!=s)return!1;if(i.classList.contains("cm-line"))break;s=i}let n=t.nodeType==1?t.getBoundingClientRect():ch(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return r-n.left>5}function EM(t,e,r){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){let s;for(let i of n.type){if(i.from>e)break;if(!(i.to<e)){if(i.from<e&&i.to>e)return i;(!s||i.type==Ti.Text&&(s.type!=i.type||(r<0?i.from<e:i.to>e)))&&(s=i)}}return s||n}return n}function vze(t,e,r,n){let s=EM(t,e.head,e.assoc||-1),i=!n||s.type!=Ti.Text||!(t.lineWrapping||s.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(i){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(s.from),l=t.posAtCoords({x:r==(a==Gr.LTR)?o.right-1:o.left+1,y:(i.top+i.bottom)/2});if(l!=null)return Ve.cursor(l,r?-1:1)}return Ve.cursor(r?s.to:s.from,r?-1:1)}function eJ(t,e,r,n){let s=t.state.doc.lineAt(e.head),i=t.bidiSpans(s),o=t.textDirectionAt(s.from);for(let a=e,l=null;;){let c=ize(s,i,o,a,r),d=_Q;if(!c){if(s.number==(r?t.state.doc.lines:1))return a;d=`
`,s=t.state.doc.line(s.number+(r?1:-1)),i=t.bidiSpans(s),c=t.visualLineSide(s,!r)}if(l){if(!l(d))return a}else{if(!n)return c;l=n(d)}a=c}}function yze(t,e,r){let n=t.state.charCategorizer(e),s=n(r);return i=>{let o=n(i);return s==Xn.Space&&(s=o),s==o}}function Aze(t,e,r,n){let s=e.head,i=r?1:-1;if(s==(r?t.state.doc.length:0))return Ve.cursor(s,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(s,e.assoc||-1),d=t.documentTop;if(c)o==null&&(o=c.left-l.left),a=i<0?c.top:c.bottom;else{let f=t.viewState.lineBlockAt(s);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(s-f.from))),a=(i<0?f.top:f.bottom)+d}let h=l.left+o,m=n??t.viewState.heightOracle.textHeight>>1;for(let f=0;;f+=10){let p=a+(m+f)*i,E=JQ(t,{x:h,y:p},!1,i);if(p<l.top||p>l.bottom||(i<0?E<s:E>s)){let g=t.docView.coordsForChar(E),T=!g||p<g.top?-1:1;return Ve.cursor(E,T,void 0,o)}}}function wR(t,e,r){for(;;){let n=0;for(let s of t)s.between(e-1,e+1,(i,o,a)=>{if(e>i&&e<o){let l=n||r||(e-i<o-e?-1:1);e=l<0?i:o,n=l}});if(!n)return e}}function gM(t,e,r){let n=wR(t.state.facet(hM).map(s=>s(t)),r.from,e.head>r.from?-1:1);return n==r.from?r:Ve.cursor(n,n<r.from?1:-1)}const ET="";class Rze{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(_r.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ET}readRange(e,r){if(!e)return this;let n=e.parentNode;for(let s=e;;){this.findPointBefore(n,s);let i=this.text.length;this.readNode(s);let o=s.nextSibling;if(o==r)break;let a=$r.get(s),l=$r.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:vR(s))||vR(o)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>i)&&this.lineBreak(),s=o}return this.findPointBefore(n,r),this}readTextNode(e){let r=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,r.length));for(let n=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let i=-1,o=1,a;if(this.lineSeparator?(i=r.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(a=s.exec(r))&&(i=a.index,o=a[0].length),this.append(r.slice(n,i<0?r.length:i)),i<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);n=i+o}}readNode(e){if(e.cmIgnore)return;let r=$r.get(e),n=r&&r.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let s=n.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==r&&(n.pos=this.text.length)}findPointInside(e,r){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(Nze(e,n.node,n.offset)?r:0))}}function Nze(t,e,r){for(;;){if(!e||r<gl(e))return!1;if(e==t)return!0;r=lh(e)+1,e=e.parentNode}}class tJ{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class bze{constructor(e,r,n,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=r>-1;let{impreciseHead:i,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,n,0))){let a=i||o?[]:wze(e),l=new Rze(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Oze(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=i&&i.node==a.focusNode&&i.offset==a.focusOffset||!qD(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!qD(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),d=e.viewport;if((Tt.ios||Tt.chrome)&&e.state.selection.main.empty&&l!=c&&(d.from>0||d.to<e.state.doc.length)){let h=Math.min(l,c),m=Math.max(l,c),f=d.from-h,p=d.to-m;(f==0||f==1||h==0)&&(p==0||p==-1||m==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=Ve.single(c,l)}}}function rJ(t,e){let r,{newSel:n}=e,s=t.state.selection.main,i=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=s.from,c=null;(i===8||Tt.android&&e.text.length<a-o)&&(l=s.to,c="end");let d=xze(t.state.doc.sliceString(o,a,ET),e.text,l-o,c);d&&(Tt.chrome&&i==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==ET+ET&&d.toB--,r={from:o+d.from,to:o+d.toA,insert:Ir.of(e.text.slice(d.from,d.toB).split(ET))})}else n&&(!t.hasFocus&&t.state.facet(Tc)||n.main.eq(s))&&(n=null);if(!r&&!n)return!1;if(!r&&e.typeOver&&!s.empty&&n&&n.main.empty?r={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,s.to)}:(Tt.mac||Tt.android)&&r&&r.from==r.to&&r.from==s.head-1&&/^\. ?$/.test(r.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(n&&r.insert.length==2&&(n=Ve.single(n.main.anchor-1,n.main.head-1)),r={from:r.from,to:r.to,insert:Ir.of([r.insert.toString().replace("."," ")])}):r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,s.to))}:Tt.chrome&&r&&r.from==r.to&&r.from==s.head&&r.insert.toString()==`
 `&&t.lineWrapping&&(n&&(n=Ve.single(n.main.anchor-1,n.main.head-1)),r={from:s.from,to:s.to,insert:Ir.of([" "])}),r)return TM(t,r,n,i);if(n&&!n.main.eq(s)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:n,scrollIntoView:o,userEvent:a}),!0}else return!1}function TM(t,e,r,n=-1){if(Tt.ios&&t.inputState.flushIOSKey(e))return!0;let s=t.state.selection.main;if(Tt.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&t.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Om(t.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&Om(t.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&Om(t.contentDOM,"Delete",46)))return!0;let i=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=Cze(t,e,r));return t.state.facet(kQ).some(l=>l(t,e.from,e.to,i,a))||t.dispatch(a()),!0}function Cze(t,e,r){let n,s=t.state,i=s.selection.main;if(e.from>=i.from&&e.to<=i.to&&e.to-e.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=i.from<e.from?s.sliceDoc(i.from,e.from):"",l=i.to>e.to?s.sliceDoc(e.to,i.to):"";n=s.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=s.changes(e),l=r&&r.main.to<=a.newLength?r.main:void 0;if(s.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=i.to&&e.to>=i.to-10){let c=t.state.sliceDoc(e.from,e.to),d,h=r&&qQ(t,r.main.head);if(h){let p=e.insert.length-(e.to-e.from);d={from:h.from,to:h.to-p}}else d=t.state.doc.lineAt(i.head);let m=i.to-e.to,f=i.to-i.from;n=s.changeByRange(p=>{if(p.from==i.from&&p.to==i.to)return{changes:a,range:l||p.map(a)};let E=p.to-m,g=E-c.length;if(p.to-p.from!=f||t.state.sliceDoc(g,E)!=c||p.to>=d.from&&p.from<=d.to)return{range:p};let T=s.changes({from:g,to:E,insert:e.insert}),S=p.to-i.to;return{changes:T,range:l?Ve.range(Math.max(0,l.anchor+S),Math.max(0,l.head+S)):p.map(T)}})}else n={changes:a,selection:l&&s.selection.replaceRange(l)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),s.update(n,{userEvent:o,scrollIntoView:!0})}function xze(t,e,r,n){let s=Math.min(t.length,e.length),i=0;for(;i<s&&t.charCodeAt(i)==e.charCodeAt(i);)i++;if(i==s&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(n=="end"){let l=Math.max(0,i-Math.min(o,a));r-=o+l-i}if(o<i&&t.length<e.length){let l=r<=i&&r>=o?i-r:0;i-=l,a=i+(a-o),o=i}else if(a<i){let l=r<=i&&r>=a?i-r:0;i-=l,o=i+(o-a),a=i}return{from:i,toA:o,toB:a}}function wze(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:i}=t.observer.selectionRange;return r&&(e.push(new tJ(r,n)),(s!=r||i!=n)&&e.push(new tJ(s,i))),e}function Oze(t,e){if(t.length==0)return null;let r=t[0].pos,n=t.length==2?t[1].pos:r;return r>-1&&n>-1?Ve.single(r+e,n+e):null}class Ize{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Tt.safari&&e.contentDOM.addEventListener("input",()=>null),Tt.gecko&&Wze(e.contentDOM.ownerDocument)}handleEvent(e){!jze(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,r){let n=this.handlers[e];if(n){for(let s of n.observers)s(this.view,r);for(let s of n.handlers){if(r.defaultPrevented)break;if(s(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=_ze(e),n=this.handlers,s=this.view.contentDOM;for(let i in r)if(i!="scroll"){let o=!r[i].handlers.length,a=n[i];a&&o!=!a.handlers.length&&(s.removeEventListener(i,this.handleEvent),a=null),a||s.addEventListener(i,this.handleEvent,{passive:o})}for(let i in n)i!="scroll"&&!r[i]&&s.removeEventListener(i,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&iJ.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Tt.android&&Tt.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return Tt.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=sJ.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||Lze.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let r=this.pendingIOSKey;return!r||r.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Om(this.view.contentDOM,r.key,r.keyCode,r instanceof KeyboardEvent?r:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Tt.safari&&!Tt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function nJ(t,e){return(r,n)=>{try{return e.call(t,n,r)}catch(s){Si(r.state,s)}}}function _ze(t){let e=Object.create(null);function r(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of t){let s=n.spec;if(s&&s.domEventHandlers)for(let i in s.domEventHandlers){let o=s.domEventHandlers[i];o&&r(i).handlers.push(nJ(n.value,o))}if(s&&s.domEventObservers)for(let i in s.domEventObservers){let o=s.domEventObservers[i];o&&r(i).observers.push(nJ(n.value,o))}}for(let n in Na)r(n).handlers.push(Na[n]);for(let n in $o)r(n).observers.push($o[n]);return e}const sJ=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Lze="dthko",iJ=[16,17,18,20,91,92,224,225],IR=6;function _R(t){return Math.max(0,t)*.7+8}function Dze(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class Mze{constructor(e,r,n,s){this.view=e,this.startEvent=r,this.style=n,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParents=H7e(e.contentDOM),this.atoms=e.state.facet(hM).map(o=>o(e));let i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(_r.allowMultipleSelections)&&Pze(e,r),this.dragging=Uze(e,r)&&mJ(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Dze(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,n=0,s=0,i=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:i,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=fM(this.view);e.clientX-l.left<=s+IR?r=-_R(s-e.clientX):e.clientX+l.right>=o-IR&&(r=_R(e.clientX-o)),e.clientY-l.top<=i+IR?n=-_R(i-e.clientY):e.clientY+l.bottom>=a-IR&&(n=_R(e.clientY-a)),this.setScrollSpeed(r,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:r}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),r&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=r,r=0),(e||r)&&this.view.win.scrollBy(e,r),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let r=null;for(let n=0;n<e.ranges.length;n++){let s=e.ranges[n],i=null;if(s.empty){let o=wR(this.atoms,s.from,0);o!=s.from&&(i=Ve.cursor(o,-1))}else{let o=wR(this.atoms,s.from,-1),a=wR(this.atoms,s.to,1);(o!=s.from||a!=s.to)&&(i=Ve.range(s.from==s.anchor?o:a,s.from==s.head?o:a))}i&&(r||(r=e.ranges.slice()),r[n]=i)}return r?Ve.create(r,e.mainIndex):e}select(e){let{view:r}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(r.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(r=>r.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Pze(t,e){let r=t.state.facet(LQ);return r.length?r[0](e):Tt.mac?e.metaKey:e.ctrlKey}function kze(t,e){let r=t.state.facet(DQ);return r.length?r[0](e):Tt.mac?!e.altKey:!e.ctrlKey}function Uze(t,e){let{main:r}=t.state.selection;if(r.empty)return!1;let n=aT(t.root);if(!n||n.rangeCount==0)return!0;let s=n.getRangeAt(0).getClientRects();for(let i=0;i<s.length;i++){let o=s[i];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function jze(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,n;r!=t.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(n=$r.get(r))&&n.ignoreEvent(e))return!1;return!0}const Na=Object.create(null),$o=Object.create(null),oJ=Tt.ie&&Tt.ie_version<15||Tt.ios&&Tt.webkit_version<604;function Bze(t){let e=t.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.remove(),aJ(t,r.value)},50)}function LR(t,e,r){for(let n of t.facet(e))r=n(r,t);return r}function aJ(t,e){e=LR(t.state,lM,e);let{state:r}=t,n,s=1,i=r.toText(e),o=i.lines==r.selection.ranges.length;if(SM!=null&&r.selection.ranges.every(l=>l.empty)&&SM==i.toString()){let l=-1;n=r.changeByRange(c=>{let d=r.doc.lineAt(c.from);if(d.from==l)return{range:c};l=d.from;let h=r.toText((o?i.line(s++).text:e)+r.lineBreak);return{changes:{from:d.from,insert:h},range:Ve.cursor(c.from+h.length)}})}else o?n=r.changeByRange(l=>{let c=i.line(s++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Ve.cursor(l.from+c.length)}}):n=r.replaceSelection(i);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}$o.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},Na.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1),$o.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},$o.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},Na.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let n of t.state.facet(MQ))if(r=n(t,e),r)break;if(!r&&e.button==0&&(r=$ze(t,e)),r){let n=!t.hasFocus;t.inputState.startMouseSelection(new Mze(t,e,r,n)),n&&t.observer.ignore(()=>{lQ(t.contentDOM);let i=t.root.activeElement;i&&!i.contains(t.contentDOM)&&i.blur()});let s=t.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}return!1};function lJ(t,e,r,n){if(n==1)return Ve.cursor(e,r);if(n==2)return pze(t.state,e,r);{let s=Qn.find(t.docView,e),i=t.state.doc.lineAt(s?s.posAtEnd:e),o=s?s.posAtStart:i.from,a=s?s.posAtEnd:i.to;return a<t.state.doc.length&&a==i.to&&a++,Ve.range(o,a)}}let cJ=(t,e,r)=>e>=r.top&&e<=r.bottom&&t>=r.left&&t<=r.right;function Fze(t,e,r,n){let s=Qn.find(t.docView,e);if(!s)return 1;let i=e-s.posAtStart;if(i==0)return 1;if(i==s.length)return-1;let o=s.coordsAt(i,-1);if(o&&cJ(r,n,o))return-1;let a=s.coordsAt(i,1);return a&&cJ(r,n,a)?1:o&&o.bottom>=n?-1:1}function uJ(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:Fze(t,r,e.clientX,e.clientY)}}const Hze=Tt.ie&&Tt.ie_version<=11;let dJ=null,hJ=0,fJ=0;function mJ(t){if(!Hze)return t.detail;let e=dJ,r=fJ;return dJ=t,fJ=Date.now(),hJ=!e||r>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(hJ+1)%3:1}function $ze(t,e){let r=uJ(t,e),n=mJ(e),s=t.state.selection;return{update(i){i.docChanged&&(r.pos=i.changes.mapPos(r.pos),s=s.map(i.changes))},get(i,o,a){let l=uJ(t,i),c,d=lJ(t,l.pos,l.bias,n);if(r.pos!=l.pos&&!o){let h=lJ(t,r.pos,r.bias,n),m=Math.min(h.from,d.from),f=Math.max(h.to,d.to);d=m<d.from?Ve.range(m,f):Ve.range(f,m)}return o?s.replaceRange(s.main.extend(d.from,d.to)):a&&n==1&&s.ranges.length>1&&(c=Gze(s,l.pos))?c:a?s.addRange(d):Ve.create([d])}}}function Gze(t,e){for(let r=0;r<t.ranges.length;r++){let{from:n,to:s}=t.ranges[r];if(n<=e&&s>=e)return Ve.create(t.ranges.slice(0,r).concat(t.ranges.slice(r+1)),t.mainIndex==r?0:t.mainIndex-(t.mainIndex>r?1:0))}return null}Na.dragstart=(t,e)=>{let{selection:{main:r}}=t.state;if(e.target.draggable){let s=t.docView.nearest(e.target);if(s&&s.isWidget){let i=s.posAtStart,o=i+s.length;(i>=r.to||o<=r.from)&&(r=Ve.range(i,o))}}let{inputState:n}=t;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",LR(t.state,cM,t.state.sliceDoc(r.from,r.to))),e.dataTransfer.effectAllowed="copyMove"),!1},Na.dragend=t=>(t.inputState.draggedContent=null,!1);function pJ(t,e,r,n){if(r=LR(t.state,lM,r),!r)return;let s=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:i}=t.inputState,o=n&&i&&kze(t,e)?{from:i.from,to:i.to}:null,a={from:s,insert:r},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(s,-1),head:l.mapPos(s,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Na.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let n=Array(r.length),s=0,i=()=>{++s==r.length&&pJ(t,e,n.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<r.length;o++){let a=new FileReader;a.onerror=i,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(n[o]=a.result),i()},a.readAsText(r[o])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return pJ(t,e,n,!0),!0}return!1},Na.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let r=oJ?null:e.clipboardData;return r?(aJ(t,r.getData("text/plain")||r.getData("text/uri-list")),!0):(Bze(t),!1)};function Vze(t,e){let r=t.dom.parentNode;if(!r)return;let n=r.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),t.focus()},50)}function zze(t){let e=[],r=[],n=!1;for(let s of t.selection.ranges)s.empty||(e.push(t.sliceDoc(s.from,s.to)),r.push(s));if(!e.length){let s=-1;for(let{from:i}of t.selection.ranges){let o=t.doc.lineAt(i);o.number>s&&(e.push(o.text),r.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),s=o.number}n=!0}return{text:LR(t,cM,e.join(t.lineBreak)),ranges:r,linewise:n}}let SM=null;Na.copy=Na.cut=(t,e)=>{let{text:r,ranges:n,linewise:s}=zze(t.state);if(!r&&!s)return!1;SM=s?r:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let i=oJ?null:e.clipboardData;return i?(i.clearData(),i.setData("text/plain",r),!0):(Vze(t,r),!1)};const EJ=pl.define();function gJ(t,e){let r=[];for(let n of t.facet(UQ)){let s=n(t,e);s&&r.push(s)}return r.length?t.update({effects:r,annotations:EJ.of(!0)}):null}function TJ(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let r=gJ(t.state,e);r?t.dispatch(r):t.update([])}},10)}$o.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),TJ(t)},$o.blur=t=>{t.observer.clearSelectionRange(),TJ(t)},$o.compositionstart=$o.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))},$o.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Tt.chrome&&Tt.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))},$o.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},Na.beforeinput=(t,e)=>{var r,n;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let i=(r=e.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"),o=e.getTargetRanges();if(i&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),c=t.posAtDOM(a.endContainer,a.endOffset);return TM(t,{from:l,to:c,insert:t.state.toText(i)},null),!0}}let s;if(Tt.chrome&&Tt.android&&(s=sJ.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Tt.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Tt.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>$o.compositionend(t,e),20),!1};const SJ=new Set;function Wze(t){SJ.has(t)||(SJ.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const vJ=["pre-wrap","normal","pre-line","break-spaces"];let Dm=!1;function yJ(){Dm=!1}class Yze{constructor(e){this.lineWrapping=e,this.doc=Ir.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,r){let n=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((r-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return vJ.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let n=0;n<e.length;n++){let s=e[n];s<0?n++:this.heightSamples[Math.floor(s*10)]||(r=!0,this.heightSamples[Math.floor(s*10)]=!0)}return r}refresh(e,r,n,s,i,o){let a=vJ.indexOf(e)>-1,l=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=r,this.charWidth=n,this.textHeight=s,this.lineLength=i,l){this.heightSamples={};for(let c=0;c<o.length;c++){let d=o[c];d<0?c++:this.heightSamples[Math.floor(d*10)]=!0}}return l}}class qze{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class Sl{constructor(e,r,n,s,i){this.from=e,this.length=r,this.top=n,this.height=s,this._content=i}get type(){return typeof this._content=="number"?Ti.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Du?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Sl(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var nn=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(nn||(nn={}));const DR=.001;class vi{constructor(e,r,n=2){this.length=e,this.height=r,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>DR&&(Dm=!0),this.height=e)}replace(e,r,n){return vi.of(n)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,n,s){let i=this,o=n.doc;for(let a=s.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:d,toB:h}=s[a],m=i.lineAt(l,nn.ByPosNoHeight,n.setDoc(r),0,0),f=m.to>=c?m:i.lineAt(c,nn.ByPosNoHeight,n,0,0);for(h+=f.to-c,c=f.to;a>0&&m.from<=s[a-1].toA;)l=s[a-1].fromA,d=s[a-1].fromB,a--,l<m.from&&(m=i.lineAt(l,nn.ByPosNoHeight,n,0,0));d+=m.from-l,l=m.from;let p=vM.build(n.setDoc(o),e,d,h);i=MR(i,i.replace(l,c,p))}return i.updateHeight(n,0)}static empty(){return new lo(0,0)}static of(e){if(e.length==1)return e[0];let r=0,n=e.length,s=0,i=0;for(;;)if(r==n)if(s>i*2){let a=e[r-1];a.break?e.splice(--r,1,a.left,null,a.right):e.splice(--r,1,a.left,a.right),n+=1+a.break,s-=a.size}else if(i>s*2){let a=e[n];a.break?e.splice(n,1,a.left,null,a.right):e.splice(n,1,a.left,a.right),n+=2+a.break,i-=a.size}else break;else if(s<i){let a=e[r++];a&&(s+=a.size)}else{let a=e[--n];a&&(i+=a.size)}let o=0;return e[r-1]==null?(o=1,r--):e[r]==null&&(o=1,n++),new Kze(vi.of(e.slice(0,r)),o,vi.of(e.slice(n)))}}function MR(t,e){return t==e?t:(t.constructor!=e.constructor&&(Dm=!0),e)}vi.prototype.size=1;class AJ extends vi{constructor(e,r,n){super(e,r),this.deco=n}blockAt(e,r,n,s){return new Sl(s,this.length,n,this.height,this.deco||0)}lineAt(e,r,n,s,i){return this.blockAt(0,n,s,i)}forEachLine(e,r,n,s,i,o){e<=i+this.length&&r>=i&&o(this.blockAt(0,n,s,i))}updateHeight(e,r=0,n=!1,s){return s&&s.from<=r&&s.more&&this.setHeight(s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class lo extends AJ{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,n,s){return new Sl(s,this.length,n,this.height,this.breaks)}replace(e,r,n){let s=n[0];return n.length==1&&(s instanceof lo||s instanceof Gs&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof Gs?s=new lo(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):vi.of(n)}updateHeight(e,r=0,n=!1,s){return s&&s.from<=r&&s.more?this.setHeight(s.heights[s.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Gs extends vi{constructor(e){super(e,0)}heightMetrics(e,r){let n=e.doc.lineAt(r).number,s=e.doc.lineAt(r+this.length).number,i=s-n+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*i);o=l/i,this.length>i+1&&(a=(this.height-l)/(this.length-i-1))}else o=this.height/i;return{firstLine:n,lastLine:s,perLine:o,perChar:a}}blockAt(e,r,n,s){let{firstLine:i,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s);if(r.lineWrapping){let c=s+(e<r.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),d=r.doc.lineAt(c),h=a+d.length*l,m=Math.max(n,e-h/2);return new Sl(d.from,d.length,m,h,0)}else{let c=Math.max(0,Math.min(o-i,Math.floor((e-n)/a))),{from:d,length:h}=r.doc.line(i+c);return new Sl(d,h,n+a*c,a,0)}}lineAt(e,r,n,s,i){if(r==nn.ByHeight)return this.blockAt(e,n,s,i);if(r==nn.ByPosNoHeight){let{from:f,to:p}=n.doc.lineAt(e);return new Sl(f,p-f,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i),c=n.doc.lineAt(e),d=a+c.length*l,h=c.number-o,m=s+a*h+l*(c.from-i-h);return new Sl(c.from,c.length,Math.max(s,Math.min(m,s+this.height-d)),d,0)}forEachLine(e,r,n,s,i,o){e=Math.max(e,i),r=Math.min(r,i+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(n,i);for(let d=e,h=s;d<=r;){let m=n.doc.lineAt(d);if(d==e){let p=m.number-a;h+=l*p+c*(e-i-p)}let f=l+c*m.length;o(new Sl(m.from,m.length,h,f,0)),h+=f,d=m.to+1}}replace(e,r,n){let s=this.length-r;if(s>0){let i=n[n.length-1];i instanceof Gs?n[n.length-1]=new Gs(i.length+s):n.push(null,new Gs(s-1))}if(e>0){let i=n[0];i instanceof Gs?n[0]=new Gs(e+i.length):n.unshift(new Gs(e-1),null)}return vi.of(n)}decomposeLeft(e,r){r.push(new Gs(e-1),null)}decomposeRight(e,r){r.push(null,new Gs(this.length-e-1))}updateHeight(e,r=0,n=!1,s){let i=r+this.length;if(s&&s.from<=r+this.length&&s.more){let o=[],a=Math.max(r,s.from),l=-1;for(s.from>r&&o.push(new Gs(s.from-r-1).updateHeight(e,r));a<=i&&s.more;){let d=e.doc.lineAt(a).length;o.length&&o.push(null);let h=s.heights[s.index++];l==-1?l=h:Math.abs(h-l)>=DR&&(l=-2);let m=new lo(d,h);m.outdated=!1,o.push(m),a+=d+1}a<=i&&o.push(null,new Gs(i-a).updateHeight(e,a));let c=vi.of(o);return(l<0||Math.abs(c.height-this.height)>=DR||Math.abs(l-this.heightMetrics(e,r).perLine)>=DR)&&(Dm=!0),MR(this,c)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Kze extends vi{constructor(e,r,n){super(e.length+r+n.length,e.height+n.height,r|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,r,n,s){let i=n+this.left.height;return e<i?this.left.blockAt(e,r,n,s):this.right.blockAt(e,r,i,s+this.left.length+this.break)}lineAt(e,r,n,s,i){let o=s+this.left.height,a=i+this.left.length+this.break,l=r==nn.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,r,n,s,i):this.right.lineAt(e,r,n,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let d=r==nn.ByPosNoHeight?nn.ByPosNoHeight:nn.ByPos;return l?c.join(this.right.lineAt(a,d,n,o,a)):this.left.lineAt(a,d,n,s,i).join(c)}forEachLine(e,r,n,s,i,o){let a=s+this.left.height,l=i+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,r,n,s,i,o),r>=l&&this.right.forEachLine(e,r,n,a,l,o);else{let c=this.lineAt(l,nn.ByPos,n,s,i);e<c.from&&this.left.forEachLine(e,c.from-1,n,s,i,o),c.to>=e&&c.from<=r&&o(c),r>c.to&&this.right.forEachLine(c.to+1,r,n,a,l,o)}}replace(e,r,n){let s=this.left.length+this.break;if(r<s)return this.balanced(this.left.replace(e,r,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,r-s,n));let i=[];e>0&&this.decomposeLeft(e,i);let o=i.length;for(let a of n)i.push(a);if(e>0&&RJ(i,o-1),r<this.length){let a=i.length;this.decomposeRight(r,i),RJ(i,a)}return vi.of(i)}decomposeLeft(e,r){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(n++,e>=n&&r.push(null)),e>n&&this.right.decomposeLeft(e-n,r)}decomposeRight(e,r){let n=this.left.length,s=n+this.break;if(e>=s)return this.right.decomposeRight(e-s,r);e<n&&this.left.decomposeRight(e,r),this.break&&e<s&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?vi.of(this.break?[e,null,r]:[e,r]):(this.left=MR(this.left,e),this.right=MR(this.right,r),this.setHeight(e.height+r.height),this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,n=!1,s){let{left:i,right:o}=this,a=r+i.length+this.break,l=null;return s&&s.from<=r+i.length&&s.more?l=i=i.updateHeight(e,r,n,s):i.updateHeight(e,r,n),s&&s.from<=a+o.length&&s.more?l=o=o.updateHeight(e,a,n,s):o.updateHeight(e,a,n),l?this.balanced(i,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function RJ(t,e){let r,n;t[e]==null&&(r=t[e-1])instanceof Gs&&(n=t[e+1])instanceof Gs&&t.splice(e-1,3,new Gs(r.length+1+n.length))}const Xze=5;class vM{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let n=Math.min(r,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof lo?s.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new lo(n-this.pos,-1)),this.writtenTo=n,r>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,n){if(e<r||n.heightRelevant){let s=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let o=r-e;n.block?this.addBlock(new AJ(o,s,n)):(o||i||s>=Xze)&&this.addLineDeco(s,i,o)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new lo(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let n=new Gs(r-e);return this.oracle.doc.lineAt(e).to==r&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof lo)return e;let r=new lo(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,n){let s=this.ensureLine();s.length+=n,s.collapsed+=n,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=r,this.writtenTo=this.pos=this.pos+n}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof lo)&&!this.isCovered?this.nodes.push(new lo(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let s of this.nodes)s instanceof lo&&s.updateHeight(this.oracle,n),n+=s?s.length:1;return this.nodes}static build(e,r,n,s){let i=new vM(n,e);return hr.spans(r,n,s,i,0),i.finish(n)}}function Qze(t,e,r){let n=new Jze;return hr.compare(t,e,r,n,0),n.changes}class Jze{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,n,s){(e<r||n&&n.heightRelevant||s&&s.heightRelevant)&&NR(e,r,this.changes,5)}}function Zze(t,e){let r=t.getBoundingClientRect(),n=t.ownerDocument,s=n.defaultView||window,i=Math.max(0,r.left),o=Math.min(s.innerWidth,r.right),a=Math.max(0,r.top),l=Math.min(s.innerHeight,r.bottom);for(let c=t.parentNode;c&&c!=n.body;)if(c.nodeType==1){let d=c,h=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&h.overflow!="visible"){let m=d.getBoundingClientRect();i=Math.max(i,m.left),o=Math.min(o,m.right),a=Math.max(a,m.top),l=Math.min(c==t.parentNode?s.innerHeight:l,m.bottom)}c=h.position=="absolute"||h.position=="fixed"?d.offsetParent:d.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:i-r.left,right:Math.max(i,o)-r.left,top:a-(r.top+e),bottom:Math.max(a,l)-(r.top+e)}}function eWe(t){let e=t.getBoundingClientRect(),r=t.ownerDocument.defaultView||window;return e.left<r.innerWidth&&e.right>0&&e.top<r.innerHeight&&e.bottom>0}function tWe(t,e){let r=t.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class yM{constructor(e,r,n,s){this.from=e,this.to=r,this.size=n,this.displaySize=s}static same(e,r){if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++){let s=e[n],i=r[n];if(s.from!=i.from||s.to!=i.to||s.size!=i.size)return!1}return!0}draw(e,r){return Wt.replace({widget:new rWe(this.displaySize*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class rWe extends Ec{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class NJ{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=bJ,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Gr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(dM).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new Yze(r),this.stateDeco=e.facet(mT).filter(n=>typeof n!="function"),this.heightMap=vi.empty().applyChanges(this.stateDeco,Ir.empty,this.heightOracle.setDoc(e.doc),[new Ho(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Wt.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let n=0;n<=1;n++){let s=n?r.head:r.anchor;if(!e.some(({from:i,to:o})=>s>=i&&s<=o)){let{from:i,to:o}=this.lineBlockAt(s);e.push(new PR(i,o))}}return this.viewports=e.sort((n,s)=>n.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?bJ:new AM(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(gT(e,this.scaler))})}update(e,r=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(mT).filter(d=>typeof d!="function");let s=e.changedRanges,i=Ho.extendWithRanges(s,Qze(n,this.stateDeco,e?e.changes:as.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);yJ(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),(this.heightMap.height!=o||Dm)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let l=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<l.from||r.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,r));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(BQ)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,n=window.getComputedStyle(r),s=this.heightOracle,i=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?Gr.RTL:Gr.LTR;let o=this.heightOracle.mustRefreshForWrapping(i),a=r.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,d=0;if(a.width&&a.height){let{scaleX:N,scaleY:C}=aQ(r,a);(N>.005&&Math.abs(this.scaleX-N)>.005||C>.005&&Math.abs(this.scaleY-C)>.005)&&(this.scaleX=N,this.scaleY=C,c|=16,o=l=!0)}let h=(parseInt(n.paddingTop)||0)*this.scaleY,m=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=m)&&(this.paddingTop=h,this.paddingBottom=m,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let f=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=dQ(e.scrollDOM);let p=(this.printing?tWe:Zze)(r,this.paddingTop),E=p.top-this.pixelViewport.top,g=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let T=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(T!=this.inView&&(this.inView=T,T&&(l=!0)),!this.inView&&!this.scrollTarget&&!eWe(e.dom))return 0;let S=a.width;if((this.contentDOMWidth!=S||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let N=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(N)&&(o=!0),o||s.lineWrapping&&Math.abs(S-this.contentDOMWidth)>s.charWidth){let{lineHeight:C,charWidth:x,textHeight:A}=e.docView.measureTextSize();o=C>0&&s.refresh(i,C,x,A,S/x,N),o&&(e.docView.minWidth=0,c|=16)}E>0&&g>0?d=Math.max(E,g):E<0&&g<0&&(d=Math.min(E,g)),yJ();for(let C of this.viewports){let x=C.from==this.viewport.from?N:e.docView.measureVisibleLineHeights(C);this.heightMap=(o?vi.empty().applyChanges(this.stateDeco,Ir.empty,this.heightOracle,[new Ho(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,o,new qze(C.from,x))}Dm&&(c|=2)}let v=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),c|=this.updateForViewport()),(c&2||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,i=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new PR(s.lineAt(o-n*1e3,nn.ByHeight,i,0,0).from,s.lineAt(a+(1-n)*1e3,nn.ByHeight,i,0,0).to);if(r){let{head:c}=r.range;if(c<l.from||c>l.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=s.lineAt(c,nn.ByPos,i,0,0),m;r.y=="center"?m=(h.top+h.bottom)/2-d/2:r.y=="start"||r.y=="nearest"&&c<l.from?m=h.top:m=h.bottom-d,l=new PR(s.lineAt(m-1e3/2,nn.ByHeight,i,0,0).from,s.lineAt(m+d+1e3/2,nn.ByHeight,i,0,0).to)}}return l}mapViewport(e,r){let n=r.mapPos(e.from,-1),s=r.mapPos(e.to,1);return new PR(this.heightMap.lineAt(n,nn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,nn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},n=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,nn.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(r,nn.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||s<=o-Math.max(10,Math.min(-n,250)))&&(r==this.state.doc.length||i>=a+Math.max(10,Math.min(n,250)))&&s>o-2*1e3&&i<a+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let n=[];for(let s of e)r.touchesRange(s.from,s.to)||n.push(new yM(r.mapPos(s.from),r.mapPos(s.to),s.size,s.displaySize));return n}ensureLineGaps(e,r){let n=this.heightOracle.lineWrapping,s=n?1e4:2e3,i=s>>1,o=s<<1;if(this.defaultTextDirection!=Gr.LTR&&!n)return[];let a=[],l=(d,h,m,f)=>{if(h-d<i)return;let p=this.state.selection.main,E=[p.from];p.empty||E.push(p.to);for(let T of E)if(T>d&&T<h){l(d,T-10,m,f),l(T+10,h,m,f);return}let g=sWe(e,T=>T.from>=m.from&&T.to<=m.to&&Math.abs(T.from-d)<i&&Math.abs(T.to-h)<i&&!E.some(S=>T.from<S&&T.to>S));if(!g){if(h<m.to&&r&&n&&r.visibleRanges.some(v=>v.from<=h&&v.to>=h)){let v=r.moveToLineBoundary(Ve.cursor(h),!1,!0).head;v>d&&(h=v)}let T=this.gapSize(m,d,h,f),S=n||T<2e6?T:2e6;g=new yM(d,h,T,S)}a.push(g)},c=d=>{if(d.length<o||d.type!=Ti.Text)return;let h=nWe(d.from,d.to,this.stateDeco);if(h.total<o)return;let m=this.scrollTarget?this.scrollTarget.range.head:null,f,p;if(n){let E=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,T;if(m!=null){let S=UR(h,m),v=((this.visibleBottom-this.visibleTop)/2+E)/d.height;g=S-v,T=S+v}else g=(this.visibleTop-d.top-E)/d.height,T=(this.visibleBottom-d.top+E)/d.height;f=kR(h,g),p=kR(h,T)}else{let E=h.total*this.heightOracle.charWidth,g=s*this.heightOracle.charWidth,T=0;if(E>2e6)for(let x of e)x.from>=d.from&&x.from<d.to&&x.size!=x.displaySize&&x.from*this.heightOracle.charWidth+T<this.pixelViewport.left&&(T=x.size-x.displaySize);let S=this.pixelViewport.left+T,v=this.pixelViewport.right+T,N,C;if(m!=null){let x=UR(h,m),A=((v-S)/2+g)/E;N=x-A,C=x+A}else N=(S-g)/E,C=(v+g)/E;f=kR(h,N),p=kR(h,C)}f>d.from&&l(d.from,f,d,h),p<d.to&&l(p,d.to,d,h)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(c):c(d);return a}gapSize(e,r,n,s){let i=UR(s,n)-UR(s,r);return this.heightOracle.lineWrapping?e.height*i:s.total*this.heightOracle.charWidth*i}updateLineGaps(e){yM.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Wt.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let r=this.stateDeco;this.lineGaps.length&&(r=r.concat(this.lineGapDeco));let n=[];hr.spans(r,this.viewport.from,this.viewport.to,{span(i,o){n.push({from:i,to:o})},point(){}},20);let s=0;if(n.length!=this.visibleRanges.length)s=12;else for(let i=0;i<n.length&&!(s&8);i++){let o=this.visibleRanges[i],a=n[i];(o.from!=a.from||o.to!=a.to)&&(s|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(s|=8))}return this.visibleRanges=n,s}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||gT(this.heightMap.lineAt(e,nn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(r=>r.top<=e&&r.bottom>=e)||gT(this.heightMap.lineAt(this.scaler.fromDOM(e),nn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return gT(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class PR{constructor(e,r){this.from=e,this.to=r}}function nWe(t,e,r){let n=[],s=t,i=0;return hr.spans(r,t,e,{span(){},point(o,a){o>s&&(n.push({from:s,to:o}),i+=o-s),s=a}},20),s<e&&(n.push({from:s,to:e}),i+=e-s),{total:i,ranges:n}}function kR({total:t,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let n=Math.floor(t*r);for(let s=0;;s++){let{from:i,to:o}=e[s],a=o-i;if(n<=a)return i+n;n-=a}}function UR(t,e){let r=0;for(let{from:n,to:s}of t.ranges){if(e<=s){r+=e-n;break}r+=s-n}return r/t.total}function sWe(t,e){for(let r of t)if(e(r))return r}const bJ={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class AM{constructor(e,r,n){let s=0,i=0,o=0;this.viewports=n.map(({from:a,to:l})=>{let c=r.lineAt(a,nn.ByPos,e,0,0).top,d=r.lineAt(l,nn.ByPos,e,0,0).bottom;return s+=d-c,{from:a,to:l,top:c,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(r.height-s);for(let a of this.viewports)a.domTop=o+(a.top-i)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),i=a.bottom}toDOM(e){for(let r=0,n=0,s=0;;r++){let i=r<this.viewports.length?this.viewports[r]:null;if(!i||e<i.top)return s+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,s=i.domBottom}}fromDOM(e){for(let r=0,n=0,s=0;;r++){let i=r<this.viewports.length?this.viewports[r]:null;if(!i||e<i.domTop)return n+(e-s)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,s=i.domBottom}}eq(e){return e instanceof AM?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((r,n)=>r.from==e.viewports[n].from&&r.to==e.viewports[n].to):!1}}function gT(t,e){if(e.scale==1)return t;let r=e.toDOM(t.top),n=e.toDOM(t.bottom);return new Sl(t.from,t.length,r,n-r,Array.isArray(t._content)?t._content.map(s=>gT(s,e)):t._content)}const jR=pt.define({combine:t=>t.join(" ")}),RM=pt.define({combine:t=>t.indexOf(!0)>-1}),NM=Iu.newName(),CJ=Iu.newName(),xJ=Iu.newName(),wJ={"&light":"."+CJ,"&dark":"."+xJ};function bM(t,e,r){return new Iu(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,s=>{if(s=="&")return t;if(!r||!r[s])throw new RangeError(`Unsupported selector: ${s}`);return r[s]}):t+" "+n}})}const iWe=bM("."+NM,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},wJ),oWe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},CM=Tt.ie&&Tt.ie_version<=11;class aWe{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new $7e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let n of r)this.queue.push(n);(Tt.ie&&Tt.ie_version<=11||Tt.ios&&e.composing)&&r.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Tt.chrome&&Tt.chrome_version<126)&&(this.editContext=new cWe(e),e.state.facet(Tc)&&(e.contentDOM.editContext=this.editContext.editContext)),CM&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,n)=>r!=e[n]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,s=this.selectionRange;if(n.state.facet(Tc)?n.root.activeElement!=this.dom:!SR(this.dom,s))return;let i=s.anchorNode&&n.docView.nearest(s.anchorNode);if(i&&i.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(Tt.ie&&Tt.ie_version<=11||Tt.android&&Tt.chrome)&&!n.state.selection.main.empty&&s.focusNode&&cT(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=aT(e.root);if(!r)return!1;let n=Tt.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&lWe(this.view,r)||r;if(!n||this.selectionRange.eq(n))return!1;let s=SR(this.dom,n);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&V7e(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let n=this.dom;n;)if(n.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=r)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,oWe),CM&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),CM&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var n;if(!this.delayedAndroidKey){let s=()=>{let i=this.delayedAndroidKey;i&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=i.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&i.force&&Om(this.dom,i.key,i.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,n=-1,s=!1;for(let i of e){let o=this.readMutation(i);o&&(o.typeOver&&(s=!0),r==-1?{from:r,to:n}=o:(r=Math.min(o.from,r),n=Math.max(o.to,n)))}return{from:r,to:n,typeOver:s}}readChange(){let{from:e,to:r,typeOver:n}=this.processRecords(),s=this.selectionChanged&&SR(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new bze(this.view,e,r,n);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let n=this.view.state,s=rJ(this.view,r);return this.view.state==n&&(r.domChanged||r.newSel&&!r.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.flags|=4),e.type=="childList"){let n=OJ(r,e.previousSibling||e.target.previousSibling,-1),s=OJ(r,e.nextSibling||e.target.nextSibling,1);return{from:n?r.posAfter(n):r.posAtStart,to:s?r.posBefore(s):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Tc)!=e.state.facet(Tc)&&(e.view.contentDOM.editContext=e.state.facet(Tc)?this.editContext.editContext:null))}destroy(){var e,r,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function OJ(t,e,r){for(;e;){let n=$r.get(e);if(n&&n.parent==t)return n;let s=e.parentNode;e=s!=t.dom?s:r>0?e.nextSibling:e.previousSibling}return null}function IJ(t,e){let r=e.startContainer,n=e.startOffset,s=e.endContainer,i=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return cT(o.node,o.offset,s,i)&&([r,n,s,i]=[s,i,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:i}}function lWe(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return IJ(t,s)}let r=null;function n(s){s.preventDefault(),s.stopImmediatePropagation(),r=s.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),r?IJ(t,r):null}class cWe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let r=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let s=e.state.selection.main,{anchor:i,head:o}=s,a=this.toEditorPos(n.updateRangeStart),l=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:a,drifted:!1});let c={from:a,to:l,insert:Ir.of(n.text.split(`
`))};if(c.from==this.from&&i<this.from?c.from=i:c.to==this.to&&i>this.to&&(c.to=i),c.from==c.to&&!c.insert.length){let d=Ve.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));d.main.eq(s)||e.dispatch({selection:d,userEvent:"select"});return}if((Tt.mac||Tt.android)&&c.from==o-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:a,to:l,insert:Ir.of([n.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let d=this.to-this.from+(c.to-c.from+c.insert.length);TM(e,c,Ve.single(this.toEditorPos(n.selectionStart,d),this.toEditorPos(n.selectionEnd,d)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=n=>{let s=[],i=null;for(let o=this.toEditorPos(n.rangeStart),a=this.toEditorPos(n.rangeEnd);o<a;o++){let l=e.coordsForChar(o);i=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||i||new DOMRect,s.push(i)}r.updateCharacterBounds(n.rangeStart,s)},this.handlers.textformatupdate=n=>{let s=[];for(let i of n.getTextFormats()){let o=i.underlineStyle,a=i.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(i.rangeStart),c=this.toEditorPos(i.rangeEnd);if(l<c){let d=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;s.push(Wt.mark({attributes:{style:d}}).range(l,c))}}}e.dispatch({effects:HQ.of(Wt.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)r.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let s=aT(n.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let r=0,n=!1,s=this.pendingContextChange;return e.changes.iterChanges((i,o,a,l,c)=>{if(n)return;let d=c.length-(o-i);if(s&&o>=s.to)if(s.from==i&&s.to==o&&s.insert.eq(c)){s=this.pendingContextChange=null,r+=d,this.to+=d;return}else s=null,this.revertPending(e.state);if(i+=r,o+=r,o<=this.from)this.from+=d,this.to+=d;else if(i<this.to){if(i<this.from||o>this.to||this.to-this.from+c.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(i),this.toContextPos(o),c.toString()),this.to+=d}r+=d}),s&&!n&&this.revertPending(e.state),!n}update(e){let r=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||r)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:r}=e.selection.main;this.from=Math.max(0,r-1e4),this.to=Math.min(e.doc.length,r+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let r=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(r.from),this.toContextPos(r.from+r.insert.length),e.doc.sliceString(r.from,r.to))}setSelection(e){let{main:r}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,r.anchor))),s=this.toContextPos(r.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(n,s)}rangeIsValid(e){let{head:r}=e.selection.main;return!(this.from>0&&r-this.from<500||this.to<e.doc.length&&this.to-r<500||this.to-this.from>1e4*3)}toEditorPos(e,r=this.to-this.from){e=Math.min(e,r);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let r=this.composing;return r&&r.drifted?r.contextBase+(e-r.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ot{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var r;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(s=>s.forEach(i=>n(i,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||G7e(e.parent)||document,this.viewState=new NJ(e.state||_r.create(e)),e.scrollTo&&e.scrollTo.is(CR)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(fT).map(s=>new uM(s));for(let s of this.plugins)s.update(this);this.observer=new aWe(this),this.inputState=new Ize(this),this.inputState.ensureHandlers(this.plugins),this.docView=new YQ(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((r=document.fonts)===null||r===void 0)&&r.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let r=e.length==1&&e[0]instanceof Kn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,n=!1,s,i=this.state;for(let m of e){if(m.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=m.state}if(this.destroyed){this.viewState.state=i;return}let o=this.hasFocus,a=0,l=null;e.some(m=>m.annotation(EJ))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=gJ(i,o),l||(a=1));let c=this.observer.delayedAndroidKey,d=null;if(c?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(d=null)):this.observer.clear(),i.facet(_r.phrases)!=this.state.facet(_r.phrases))return this.setState(i);s=xR.create(this,i,e),s.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let m of e){if(h&&(h=h.map(m.changes)),m.scrollIntoView){let{main:f}=m.state.selection;h=new Lm(f.empty?f:Ve.cursor(f.head,f.head>f.anchor?-1:1))}for(let f of m.effects)f.is(CR)&&(h=f.value.clip(this.state))}this.viewState.update(s,h),this.bidiCache=BR.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),r=this.docView.update(s),this.state.facet(pT)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(m=>m.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(jR)!=s.state.facet(jR)&&(this.viewState.mustMeasureContent=!0),(r||n||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!s.empty)for(let m of this.state.facet(aM))try{m(s)}catch(f){Si(this.state,f,"update listener")}(l||d)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),d&&!rJ(this,d)&&c.force&&Om(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new NJ(e),this.plugins=e.facet(fT).map(n=>new uM(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new YQ(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(fT),n=e.state.facet(fT);if(r!=n){let s=[];for(let i of n){let o=r.indexOf(i);if(o<0)s.push(new uM(i));else{let a=this.plugins[o];a.mustUpdate=e,s.push(a)}}for(let i of this.plugins)i.mustUpdate!=e&&i.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);r!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let r=e.value;if(r&&r.docViewUpdate)try{r.docViewUpdate(this)}catch(n){Si(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,n=this.scrollDOM,s=n.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:o}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(dQ(n))i=-1,o=this.viewState.heightMap.height;else{let f=this.viewState.scrollAnchorAt(s);i=f.from,o=f.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let d=c.map(f=>{try{return f.read(this)}catch(p){return Si(this.state,p),_J}}),h=xR.create(this,this.state,[]),m=!1;h.flags|=l,r?r.flags|=l:r=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),m=this.docView.update(h),m&&this.docViewUpdate());for(let f=0;f<c.length;f++)if(d[f]!=_J)try{let p=c[f];p.write&&p.write(d[f],this)}catch(p){Si(this.state,p)}if(m&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let p=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-o;if(p>1||p<-1){s=s+p,n.scrollTop=s/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let a of this.state.facet(aM))a(r)}get themeClasses(){return NM+" "+(this.state.facet(RM)?xJ:CJ)+" "+this.state.facet(jR)}updateAttrs(){let e=LJ(this,$Q,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Tc)?"true":"false",class:"cm-content",style:`${Tt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),LJ(this,dM,r);let n=this.observer.ignore(()=>{let s=tM(this.contentDOM,this.contentAttrs,r),i=tM(this.dom,this.editorAttrs,e);return s||i});return this.editorAttrs=e,this.contentAttrs=r,n}showAnnouncements(e){let r=!0;for(let n of e)for(let s of n.effects)if(s.is(ot.announce)){r&&(this.announceDOM.textContent=""),r=!1;let i=this.announceDOM.appendChild(document.createElement("div"));i.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(pT);let e=this.state.facet(ot.cspNonce);Iu.mount(this.root,this.styleModules.concat(iWe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.spec!=e)&&this.pluginMap.set(e,r=this.plugins.find(n=>n.spec==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,n){return gM(this,e,eJ(this,e,r,n))}moveByGroup(e,r){return gM(this,e,eJ(this,e,r,n=>yze(this,e.head,n)))}visualLineSide(e,r){let n=this.bidiSpans(e),s=this.textDirectionAt(e.from),i=n[r?n.length-1:0];return Ve.cursor(i.side(r,s)+e.from,i.forward(!r,s)?1:-1)}moveToLineBoundary(e,r,n=!0){return vze(this,e,r,n)}moveVertically(e,r,n){return gM(this,e,Aze(this,e,r,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),JQ(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let n=this.docView.coordsAt(e,r);if(!n||n.left==n.right)return n;let s=this.state.doc.lineAt(e),i=this.bidiSpans(s),o=i[Mu.find(i,e-s.from,-1,r)];return yR(n,o.dir==Gr.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(jQ)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>uWe)return IQ(e.length);let r=this.textDirectionAt(e.from),n;for(let i of this.bidiCache)if(i.from==e.from&&i.dir==r&&(i.fresh||OQ(i.isolates,n=zQ(this,e))))return i.order;n||(n=zQ(this,e));let s=sze(e.text,r,n);return this.bidiCache.push(new BR(e.from,e.to,r,n,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Tt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{lQ(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return CR.of(new Lm(typeof e=="number"?Ve.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return CR.of(new Lm(Ve.cursor(n.from),"start","start",n.top-e,r,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return kn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return kn.define(()=>({}),{eventObservers:e})}static theme(e,r){let n=Iu.newName(),s=[jR.of(n),pT.of(bM(`.${n}`,e))];return r&&r.dark&&s.push(RM.of(!0)),s}static baseTheme(e){return ya.lowest(pT.of(bM("."+NM,e,wJ)))}static findFromDOM(e){var r;let n=e.querySelector(".cm-content"),s=n&&$r.get(n)||$r.get(e);return((r=s==null?void 0:s.rootView)===null||r===void 0?void 0:r.view)||null}}ot.styleModule=pT,ot.inputHandler=kQ,ot.clipboardInputFilter=lM,ot.clipboardOutputFilter=cM,ot.scrollHandler=FQ,ot.focusChangeEffect=UQ,ot.perLineTextDirection=jQ,ot.exceptionSink=PQ,ot.updateListener=aM,ot.editable=Tc,ot.mouseSelectionStyle=MQ,ot.dragMovesSelection=DQ,ot.clickAddsSelectionRange=LQ,ot.decorations=mT,ot.outerDecorations=GQ,ot.atomicRanges=hM,ot.bidiIsolatedRanges=VQ,ot.scrollMargins=WQ,ot.darkTheme=RM,ot.cspNonce=pt.define({combine:t=>t.length?t[0]:""}),ot.contentAttributes=dM,ot.editorAttributes=$Q,ot.lineWrapping=ot.contentAttributes.of({class:"cm-lineWrapping"}),ot.announce=jt.define();const uWe=4096,_J={};class BR{constructor(e,r,n,s,i,o){this.from=e,this.to=r,this.dir=n,this.isolates=s,this.fresh=i,this.order=o}static update(e,r){if(r.empty&&!e.some(i=>i.fresh))return e;let n=[],s=e.length?e[e.length-1].dir:Gr.LTR;for(let i=Math.max(0,e.length-10);i<e.length;i++){let o=e[i];o.dir==s&&!r.touchesRange(o.from,o.to)&&n.push(new BR(r.mapPos(o.from,1),r.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return n}}function LJ(t,e,r){for(let n=t.state.facet(e),s=n.length-1;s>=0;s--){let i=n[s],o=typeof i=="function"?i(t):i;o&&eM(o,r)}return r}const dWe=Tt.mac?"mac":Tt.windows?"win":Tt.linux?"linux":"key";function hWe(t,e){const r=t.split(/-(?!$)/);let n=r[r.length-1];n=="Space"&&(n=" ");let s,i,o,a;for(let l=0;l<r.length-1;++l){const c=r[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))s=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return s&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function FR(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r!==!1&&e.shiftKey&&(t="Shift-"+t),t}const fWe=ya.default(ot.domEventHandlers({keydown(t,e){return PJ(MJ(e.state),t,e,"editor")}})),ba=pt.define({enables:fWe}),DJ=new WeakMap;function MJ(t){let e=t.facet(ba),r=DJ.get(e);return r||DJ.set(e,r=pWe(e.reduce((n,s)=>n.concat(s),[]))),r}function dh(t,e,r){return PJ(MJ(t.state),e,t,r)}let Pu=null;const mWe=4e3;function pWe(t,e=dWe){let r=Object.create(null),n=Object.create(null),s=(o,a)=>{let l=n[o];if(l==null)n[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},i=(o,a,l,c,d)=>{var h,m;let f=r[o]||(r[o]=Object.create(null)),p=a.split(/ (?!$)/).map(T=>hWe(T,e));for(let T=1;T<p.length;T++){let S=p.slice(0,T).join(" ");s(S,!0),f[S]||(f[S]={preventDefault:!0,stopPropagation:!1,run:[v=>{let N=Pu={view:v,prefix:S,scope:o};return setTimeout(()=>{Pu==N&&(Pu=null)},mWe),!0}]})}let E=p.join(" ");s(E,!1);let g=f[E]||(f[E]={preventDefault:!1,stopPropagation:!1,run:((m=(h=f._any)===null||h===void 0?void 0:h.run)===null||m===void 0?void 0:m.slice())||[]});l&&g.run.push(l),c&&(g.preventDefault=!0),d&&(g.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let d=r[c]||(r[c]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=o;for(let m in d)d[m].run.push(f=>h(f,xM))}let l=o[e]||o.key;if(l)for(let c of a)i(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&i(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return r}let xM=null;function PJ(t,e,r,n){xM=e;let s=j7e(e),i=Bi(s,0),o=fl(i)==s.length&&s!=" ",a="",l=!1,c=!1,d=!1;Pu&&Pu.view==r&&Pu.scope==n&&(a=Pu.prefix+" ",iJ.indexOf(e.keyCode)<0&&(c=!0,Pu=null));let h=new Set,m=g=>{if(g){for(let T of g.run)if(!h.has(T)&&(h.add(T),T(r)))return g.stopPropagation&&(d=!0),!0;g.preventDefault&&(g.stopPropagation&&(d=!0),c=!0)}return!1},f=t[n],p,E;return f&&(m(f[a+FR(s,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Tt.windows&&e.ctrlKey&&e.altKey)&&(p=_u[e.keyCode])&&p!=s?(m(f[a+FR(p,e,!0)])||e.shiftKey&&(E=oT[e.keyCode])!=s&&E!=p&&m(f[a+FR(E,e,!1)]))&&(l=!0):o&&e.shiftKey&&m(f[a+FR(s,e,!0)])&&(l=!0),!l&&m(f._any)&&(l=!0)),c&&(l=!0),l&&d&&e.stopPropagation(),xM=null,l}class TT{constructor(e,r,n,s,i){this.className=e,this.left=r,this.top=n,this.width=s,this.height=i}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,n){if(n.empty){let s=e.coordsAtPos(n.head,n.assoc||1);if(!s)return[];let i=kJ(e);return[new TT(r,s.left-i.left,s.top-i.top,null,s.bottom-s.top)]}else return EWe(e,r,n)}}function kJ(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Gr.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function UJ(t,e,r,n){let s=t.coordsAtPos(e,r*2);if(!s)return n;let i=t.dom.getBoundingClientRect(),o=(s.top+s.bottom)/2,a=t.posAtCoords({x:i.left+1,y:o}),l=t.posAtCoords({x:i.right-1,y:o});return a==null||l==null?n:{from:Math.max(n.from,Math.min(a,l)),to:Math.min(n.to,Math.max(a,l))}}function EWe(t,e,r){if(r.to<=t.viewport.from||r.from>=t.viewport.to)return[];let n=Math.max(r.from,t.viewport.from),s=Math.min(r.to,t.viewport.to),i=t.textDirection==Gr.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=kJ(t),c=o.querySelector(".cm-line"),d=c&&window.getComputedStyle(c),h=a.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),m=a.right-(d?parseInt(d.paddingRight):0),f=EM(t,n,1),p=EM(t,s,-1),E=f.type==Ti.Text?f:null,g=p.type==Ti.Text?p:null;if(E&&(t.lineWrapping||f.widgetLineBreaks)&&(E=UJ(t,n,1,E)),g&&(t.lineWrapping||p.widgetLineBreaks)&&(g=UJ(t,s,-1,g)),E&&g&&E.from==g.from&&E.to==g.to)return S(v(r.from,r.to,E));{let C=E?v(r.from,null,E):N(f,!1),x=g?v(null,r.to,g):N(p,!0),A=[];return(E||f).to<(g||p).from-(E&&g?1:0)||f.widgetLineBreaks>1&&C.bottom+t.defaultLineHeight/2<x.top?A.push(T(h,C.bottom,m,x.top)):C.bottom<x.top&&t.elementAtHeight((C.bottom+x.top)/2).type==Ti.Text&&(C.bottom=x.top=(C.bottom+x.top)/2),S(C).concat(A).concat(S(x))}function T(C,x,A,b){return new TT(e,C-l.left,x-l.top,A-C,b-x)}function S({top:C,bottom:x,horizontal:A}){let b=[];for(let _=0;_<A.length;_+=2)b.push(T(A[_],C,A[_+1],x));return b}function v(C,x,A){let b=1e9,_=-1e9,U=[];function j(I,F,W,Y,k){let V=t.coordsAtPos(I,I==A.to?-2:2),re=t.coordsAtPos(W,W==A.from?2:-2);!V||!re||(b=Math.min(V.top,re.top,b),_=Math.max(V.bottom,re.bottom,_),k==Gr.LTR?U.push(i&&F?h:V.left,i&&Y?m:re.right):U.push(!i&&Y?h:re.left,!i&&F?m:V.right))}let L=C??A.from,P=x??A.to;for(let I of t.visibleRanges)if(I.to>L&&I.from<P)for(let F=Math.max(I.from,L),W=Math.min(I.to,P);;){let Y=t.state.doc.lineAt(F);for(let k of t.bidiSpans(Y)){let V=k.from+Y.from,re=k.to+Y.from;if(V>=W)break;re>F&&j(Math.max(V,F),C==null&&V<=L,Math.min(re,W),x==null&&re>=P,k.dir)}if(F=Y.to+1,F>=W)break}return U.length==0&&j(L,C==null,P,x==null,t.textDirection),{top:b,bottom:_,horizontal:U}}function N(C,x){let A=a.top+(x?C.top:C.bottom);return{top:A,bottom:A,horizontal:[]}}}function gWe(t,e){return t.constructor==e.constructor&&t.eq(e)}class TWe{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(HR)!=e.state.facet(HR)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let r=0,n=e.facet(HR);for(;r<n.length&&n[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,n)=>!gWe(r,this.drawn[n]))){let r=this.dom.firstChild,n=0;for(let s of e)s.update&&r&&s.constructor&&this.drawn[n].constructor&&s.update(r,this.drawn[n])?(r=r.nextSibling,n++):this.dom.insertBefore(s.draw(),r);for(;r;){let s=r.nextSibling;r.remove(),r=s}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const HR=pt.define();function jJ(t){return[kn.define(e=>new TWe(e,t)),HR.of(t)]}const Mm=pt.define({combine(t){return El(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function BJ(t={}){return[Mm.of(t),SWe,vWe,yWe,BQ.of(!0)]}function FJ(t){return t.facet(Mm)}function HJ(t){return t.startState.facet(Mm)!=t.state.facet(Mm)}const SWe=jJ({above:!0,markers(t){let{state:e}=t,r=e.facet(Mm),n=[];for(let s of e.selection.ranges){let i=s==e.selection.main;if(s.empty||r.drawRangeCursor){let o=i?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=s.empty?s:Ve.cursor(s.head,s.head>s.anchor?-1:1);for(let l of TT.forRange(t,o,a))n.push(l)}}return n},update(t,e){t.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=HJ(t);return r&&$J(t.state,e),t.docChanged||t.selectionSet||r},mount(t,e){$J(e.state,t)},class:"cm-cursorLayer"});function $J(t,e){e.style.animationDuration=t.facet(Mm).cursorBlinkRate+"ms"}const vWe=jJ({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:TT.forRange(t,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||HJ(t)},class:"cm-selectionLayer"}),yWe=ya.highest(ot.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}}));function GJ(t,e,r,n,s){e.lastIndex=0;for(let i=t.iterRange(r,n),o=r,a;!i.next().done;o+=i.value.length)if(!i.lineBreak)for(;a=e.exec(i.value);)s(o+a.index,a)}function AWe(t,e){let r=t.visibleRanges;if(r.length==1&&r[0].from==t.viewport.from&&r[0].to==t.viewport.to)return r;let n=[];for(let{from:s,to:i}of r)s=Math.max(t.state.doc.lineAt(s).from,s-e),i=Math.min(t.state.doc.lineAt(i).to,i+e),n.length&&n[n.length-1].to>=s?n[n.length-1].to=i:n.push({from:s,to:i});return n}class RWe{constructor(e){const{regexp:r,decoration:n,decorate:s,boundary:i,maxLength:o=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,s)this.addMatch=(a,l,c,d)=>s(d,c,c+a[0].length,a,l);else if(typeof n=="function")this.addMatch=(a,l,c,d)=>{let h=n(a,l,c);h&&d(c,c+a[0].length,h)};else if(n)this.addMatch=(a,l,c,d)=>d(c,c+a[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=i,this.maxLength=o}createDeco(e){let r=new Aa,n=r.add.bind(r);for(let{from:s,to:i}of AWe(e,this.maxLength))GJ(e.state.doc,this.regexp,s,i,(o,a)=>this.addMatch(a,e,o,n));return r.finish()}updateDeco(e,r){let n=1e9,s=-1;return e.docChanged&&e.changes.iterChanges((i,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(n=Math.min(a,n),s=Math.max(l,s))}),e.viewportMoved||s-n>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,r.map(e.changes),n,s):r}updateRange(e,r,n,s){for(let i of e.visibleRanges){let o=Math.max(i.from,n),a=Math.min(i.to,s);if(a>=o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,d=Math.max(i.from,l.from),h=Math.min(i.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){d=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){h=a;break}}let m=[],f,p=(E,g,T)=>m.push(T.range(E,g));if(l==c)for(this.regexp.lastIndex=d-l.from;(f=this.regexp.exec(l.text))&&f.index<h-l.from;)this.addMatch(f,e,f.index+l.from,p);else GJ(e.state.doc,this.regexp,d,h,(E,g)=>this.addMatch(g,e,E,p));r=r.update({filterFrom:d,filterTo:h,filter:(E,g)=>E<d||g>h,add:m})}}return r}}const wM=/x/.unicode!=null?"gu":"g",NWe=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,wM),bWe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let OM=null;function CWe(){var t;if(OM==null&&typeof document<"u"&&document.body){let e=document.body.style;OM=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return OM||!1}const $R=pt.define({combine(t){let e=El(t,{render:null,specialChars:NWe,addSpecialChars:null});return(e.replaceTabs=!CWe())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,wM)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,wM)),e}});function IM(t={}){return[$R.of(t),xWe()]}let VJ=null;function xWe(){return VJ||(VJ=kn.fromClass(class{constructor(t){this.view=t,this.decorations=Wt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet($R)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new RWe({regexp:t.specialChars,decoration:(e,r,n)=>{let{doc:s}=r.state,i=Bi(e[0],0);if(i==9){let o=s.lineAt(n),a=r.state.tabSize,l=iT(o.text,a,n-o.from);return Wt.replace({widget:new _We((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[i]||(this.decorationCache[i]=Wt.replace({widget:new IWe(t,i)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet($R);t.startState.facet($R)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const wWe="";function OWe(t){return t>=32?wWe:t==10?"":String.fromCharCode(9216+t)}class IWe extends Ec{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=OWe(this.code),n=e.state.phrase("Control character")+" "+(bWe[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,n,r);if(s)return s;let i=document.createElement("span");return i.textContent=r,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class _We extends Ec{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function GR(){return DWe}const LWe=Wt.line({class:"cm-activeLine"}),DWe=kn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,r=[];for(let n of t.state.selection.ranges){let s=t.lineBlockAt(n.head);s.from>e&&(r.push(LWe.range(s.from)),e=s.from)}return Wt.set(r)}},{decorations:t=>t.decorations}),ST="-10000px";class zJ{constructor(e,r,n,s){this.facet=r,this.createTooltipView=n,this.removeTooltipView=s,this.input=e.state.facet(r),this.tooltips=this.input.filter(o=>o);let i=null;this.tooltipViews=this.tooltips.map(o=>i=n(o,i))}update(e,r){var n;let s=e.state.facet(this.facet),i=s.filter(l=>l);if(s===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=r?[]:null;for(let l=0;l<i.length;l++){let c=i[l],d=-1;if(c){for(let h=0;h<this.tooltips.length;h++){let m=this.tooltips[h];m&&m.create==c.create&&(d=h)}if(d<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let h=o[l]=this.tooltipViews[d];a&&(a[l]=r[d]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(n=l.destroy)===null||n===void 0||n.call(l));return r&&(a.forEach((l,c)=>r[c]=l),r.length=a.length),this.input=s,this.tooltips=i,this.tooltipViews=o,!0}}function MWe(t={}){return VR.of(t)}function PWe(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const VR=pt.define({combine:t=>{var e,r,n;return{position:Tt.ios?"absolute":((e=t.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=t.find(s=>s.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((n=t.find(s=>s.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||PWe}}}),WJ=new WeakMap,_M=kn.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(VR);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new zJ(t,zR,(r,n)=>this.createTooltip(r,n),r=>{this.resizeObserver&&this.resizeObserver.unobserve(r.dom),r.dom.remove()}),this.above=this.manager.tooltips.map(r=>!!r.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let r=e||t.geometryChanged,n=t.state.facet(VR);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;r=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(t,e){let r=t.create(this.view),n=e?e.dom:null;if(r.dom.classList.add("cm-tooltip"),t.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let s=document.createElement("div");s.className="cm-tooltip-arrow",r.dom.appendChild(s)}return r.dom.style.position=this.position,r.dom.style.top=ST,r.dom.style.left="0px",this.container.insertBefore(r.dom,n),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var t,e,r;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(t=n.destroy)===null||t===void 0||t.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.intersectionObserver)===null||r===void 0||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(Tt.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==ST&&i.style.left=="0px"){let o=i.getBoundingClientRect();r=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(r||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(t=i.width/this.parent.offsetWidth,e=i.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),s=fM(this.view);return{visible:{left:n.left+s.left,top:n.top+s.top,right:n.right-s.right,bottom:n.bottom-s.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((i,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(VR).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:r,space:n,scaleX:s,scaleY:i}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:d}=c,h=t.pos[a],m=t.size[a];if(!h||l.clip!==!1&&(h.bottom<=Math.max(r.top,n.top)||h.top>=Math.min(r.bottom,n.bottom)||h.right<Math.max(r.left,n.left)-.1||h.left>Math.min(r.right,n.right)+.1)){d.style.top=ST;continue}let f=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,E=m.right-m.left,g=(e=WJ.get(c))!==null&&e!==void 0?e:m.bottom-m.top,T=c.offset||UWe,S=this.view.textDirection==Gr.LTR,v=m.width>n.right-n.left?S?n.left:n.right-m.width:S?Math.max(n.left,Math.min(h.left-(f?14:0)+T.x,n.right-E)):Math.min(Math.max(n.left,h.left-E+(f?14:0)-T.x),n.right-E),N=this.above[a];!l.strictSide&&(N?h.top-g-p-T.y<n.top:h.bottom+g+p+T.y>n.bottom)&&N==n.bottom-h.bottom>h.top-n.top&&(N=this.above[a]=!N);let C=(N?h.top-n.top:n.bottom-h.bottom)-p;if(C<g&&c.resize!==!1){if(C<this.view.defaultLineHeight){d.style.top=ST;continue}WJ.set(c,g),d.style.height=(g=C)/i+"px"}else d.style.height&&(d.style.height="");let x=N?h.top-g-p-T.y:h.bottom+p+T.y,A=v+E;if(c.overlap!==!0)for(let b of o)b.left<A&&b.right>v&&b.top<x+g&&b.bottom>x&&(x=N?b.top-g-2-p:b.bottom+p+2);if(this.position=="absolute"?(d.style.top=(x-t.parent.top)/i+"px",YJ(d,(v-t.parent.left)/s)):(d.style.top=x/i+"px",YJ(d,v/s)),f){let b=h.left+(S?T.x:-T.x)-(v+14-7);f.style.left=b/s+"px"}c.overlap!==!0&&o.push({left:v,top:x,right:A,bottom:x+g}),d.classList.toggle("cm-tooltip-above",N),d.classList.toggle("cm-tooltip-below",!N),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=ST}},{eventObservers:{scroll(){this.maybeMeasure()}}});function YJ(t,e){let r=parseInt(t.style.left,10);(isNaN(r)||Math.abs(e-r)>1)&&(t.style.left=e+"px")}const kWe=ot.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),UWe={x:0,y:0},zR=pt.define({enables:[_M,kWe]}),WR=pt.define({combine:t=>t.reduce((e,r)=>e.concat(r),[])});class YR{static create(e){return new YR(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new zJ(e,WR,(r,n)=>this.createHostedView(r,n),r=>r.dom.remove())}createHostedView(e,r){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,r?r.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let n of this.manager.tooltipViews){let s=n[e];if(s!==void 0){if(r===void 0)r=s;else if(r!==s)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const jWe=zR.compute([WR],t=>{let e=t.facet(WR);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var n;return(n=r.end)!==null&&n!==void 0?n:r.pos})),create:YR.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class BWe{constructor(e,r,n,s,i){this.view=e,this.source=r,this.field=n,this.setHover=s,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,n=e.docView.nearest(r.target);if(!n)return;let s,i=1;if(n instanceof Lu)s=n.posAtStart;else{if(s=e.posAtCoords(r),s==null)return;let a=e.coordsAtPos(s);if(!a||r.y<a.top||r.y>a.bottom||r.x<a.left-e.defaultCharacterWidth||r.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(s)).find(d=>d.from<=s&&d.to>=s),c=l&&l.dir==Gr.RTL?-1:1;i=r.x<a.left?-c:c}let o=this.source(e,s,i);if(o!=null&&o.then){let a=this.pending={pos:s};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>Si(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(_M),r=e?e.manager.tooltips.findIndex(n=>n.create==YR.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:s,tooltip:i}=this;if(s.length&&i&&!FWe(i.dom,e)||this.pending){let{pos:o}=s[0]||this.pending,a=(n=(r=s[0])===null||r===void 0?void 0:r.end)!==null&&n!==void 0?n:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!HWe(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let r=n=>{e.removeEventListener("mouseleave",r),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const qR=4;function FWe(t,e){let{left:r,right:n,top:s,bottom:i}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();s=Math.min(a.top,s),i=Math.max(a.bottom,i)}return e.clientX>=r-qR&&e.clientX<=n+qR&&e.clientY>=s-qR&&e.clientY<=i+qR}function HWe(t,e,r,n,s,i){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>n||o.right<n||o.top>s||Math.min(o.bottom,a)<s)return!1;let l=t.posAtCoords({x:n,y:s},!1);return l>=e&&l<=r}function $We(t,e={}){let r=jt.define(),n=yn.define({create(){return[]},update(s,i){if(s.length&&(e.hideOnChange&&(i.docChanged||i.selection)?s=[]:e.hideOn&&(s=s.filter(o=>!e.hideOn(i,o))),i.docChanged)){let o=[];for(let a of s){let l=i.changes.mapPos(a.pos,-1,qn.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=i.changes.mapPos(c.end)),o.push(c)}}s=o}for(let o of i.effects)o.is(r)&&(s=o.value),o.is(GWe)&&(s=[]);return s},provide:s=>WR.from(s)});return{active:n,extension:[n,kn.define(s=>new BWe(s,t,n,r,e.hoverTime||300)),jWe]}}function qJ(t,e){let r=t.plugin(_M);if(!r)return null;let n=r.manager.tooltips.indexOf(e);return n<0?null:r.manager.tooltipViews[n]}const GWe=jt.define(),KJ=pt.define({combine(t){let e,r;for(let n of t)e=e||n.topContainer,r=r||n.bottomContainer;return{topContainer:e,bottomContainer:r}}});function vT(t,e){let r=t.plugin(XJ),n=r?r.specs.indexOf(e):-1;return n>-1?r.panels[n]:null}const XJ=kn.fromClass(class{constructor(t){this.input=t.state.facet(ku),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(t));let e=t.state.facet(KJ);this.top=new KR(t,!0,e.topContainer),this.bottom=new KR(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(t){let e=t.state.facet(KJ);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new KR(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new KR(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=t.state.facet(ku);if(r!=this.input){let n=r.filter(l=>l),s=[],i=[],o=[],a=[];for(let l of n){let c=this.specs.indexOf(l),d;c<0?(d=l(t.view),a.push(d)):(d=this.panels[c],d.update&&d.update(t)),s.push(d),(d.top?i:o).push(d)}this.specs=n,this.panels=s,this.top.sync(i),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let n of this.panels)n.update&&n.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>ot.scrollMargins.of(e=>{let r=e.plugin(t);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});let KR=class{constructor(e,r,n){this.view=e,this.top=r,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=QJ(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=QJ(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}};function QJ(t){let e=t.nextSibling;return t.remove(),e}const ku=pt.define({enables:XJ});class Go extends ah{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Go.prototype.elementClass="",Go.prototype.toDOM=void 0,Go.prototype.mapMode=qn.TrackBefore,Go.prototype.startSide=Go.prototype.endSide=-1,Go.prototype.point=!0;const XR=pt.define(),VWe=pt.define(),zWe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>hr.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},yT=pt.define();function QR(t){return[ZJ(),yT.of(Object.assign(Object.assign({},zWe),t))]}const JJ=pt.define({combine:t=>t.some(e=>e)});function ZJ(t){return[WWe]}const WWe=kn.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(yT).map(e=>new tZ(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(JJ),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,r=t.view.viewport,n=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(n<(r.to-r.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(JJ)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let r=hr.iter(this.view.state.facet(XR),this.view.viewport.from),n=[],s=this.gutters.map(i=>new YWe(i,this.view.viewport,-this.view.documentPadding.top));for(let i of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(i.type)){let o=!0;for(let a of i.type)if(a.type==Ti.Text&&o){LM(r,n,a.from);for(let l of s)l.line(this.view,a,n);o=!1}else if(a.widget)for(let l of s)l.widget(this.view,a)}else if(i.type==Ti.Text){LM(r,n,i.from);for(let o of s)o.line(this.view,i,n)}else if(i.widget)for(let o of s)o.widget(this.view,i);for(let i of s)i.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(yT),r=t.state.facet(yT),n=t.docChanged||t.heightChanged||t.viewportChanged||!hr.eq(t.startState.facet(XR),t.state.facet(XR),t.view.viewport.from,t.view.viewport.to);if(e==r)for(let s of this.gutters)s.update(t)&&(n=!0);else{n=!0;let s=[];for(let i of r){let o=e.indexOf(i);o<0?s.push(new tZ(this.view,i)):(this.gutters[o].update(t),s.push(this.gutters[o]))}for(let i of this.gutters)i.dom.remove(),s.indexOf(i)<0&&i.destroy();for(let i of s)this.dom.appendChild(i.dom);this.gutters=s}return n}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>ot.scrollMargins.of(e=>{let r=e.plugin(t);return!r||r.gutters.length==0||!r.fixed?null:e.textDirection==Gr.LTR?{left:r.dom.offsetWidth*e.scaleX}:{right:r.dom.offsetWidth*e.scaleX}})});function eZ(t){return Array.isArray(t)?t:[t]}function LM(t,e,r){for(;t.value&&t.from<=r;)t.from==r&&e.push(t.value),t.next()}class YWe{constructor(e,r,n){this.gutter=e,this.height=n,this.i=0,this.cursor=hr.iter(e.markers,r.from)}addElement(e,r,n){let{gutter:s}=this,i=(r.top-this.height)/e.scaleY,o=r.height/e.scaleY;if(this.i==s.elements.length){let a=new rZ(e,o,i,n);s.elements.push(a),s.dom.appendChild(a.dom)}else s.elements[this.i].update(e,o,i,n);this.height=r.bottom,this.i++}line(e,r,n){let s=[];LM(this.cursor,s,r.from),n.length&&(s=s.concat(n));let i=this.gutter.config.lineMarker(e,r,s);i&&s.unshift(i);let o=this.gutter;s.length==0&&!o.config.renderEmptyElements||this.addElement(e,r,s)}widget(e,r){let n=this.gutter.config.widgetMarker(e,r.widget,r),s=n?[n]:null;for(let i of e.state.facet(VWe)){let o=i(e,r.widget,r);o&&(s||(s=[])).push(o)}s&&this.addElement(e,r,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class tZ{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in r.domEventHandlers)this.dom.addEventListener(n,s=>{let i=s.target,o;if(i!=this.dom&&this.dom.contains(i)){for(;i.parentNode!=this.dom;)i=i.parentNode;let l=i.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=s.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);r.domEventHandlers[n](e,a,s)&&s.preventDefault()});this.markers=eZ(r.markers(e)),r.initialSpacer&&(this.spacer=new rZ(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=eZ(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let n=e.view.viewport;return!hr.eq(this.markers,r,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class rZ{constructor(e,r,n,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,n,s)}update(e,r,n,s){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),qWe(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,r){let n="cm-gutterElement",s=this.dom.firstChild;for(let i=0,o=0;;){let a=o,l=i<r.length?r[i++]:null,c=!1;if(l){let d=l.elementClass;d&&(n+=" "+d);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,c=!0;break}}else a=this.markers.length;for(;o<a;){let d=this.markers[o++];if(d.toDOM){d.destroy(s);let h=s.nextSibling;s.remove(),s=h}}if(!l)break;l.toDOM&&(c?s=s.nextSibling:this.dom.insertBefore(l.toDOM(e),s)),c&&o++}this.dom.className=n,this.markers=r}destroy(){this.setMarkers(null,[])}}function qWe(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].compare(e[r]))return!1;return!0}const KWe=pt.define(),XWe=pt.define(),Pm=pt.define({combine(t){return El(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let n=Object.assign({},e);for(let s in r){let i=n[s],o=r[s];n[s]=i?(a,l,c)=>i(a,l,c)||o(a,l,c):o}return n}})}});class DM extends Go{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function MM(t,e){return t.state.facet(Pm).formatNumber(e,t.state)}const QWe=yT.compute([Pm],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(KWe)},lineMarker(e,r,n){return n.some(s=>s.toDOM)?null:new DM(MM(e,e.state.doc.lineAt(r.from).number))},widgetMarker:(e,r,n)=>{for(let s of e.state.facet(XWe)){let i=s(e,r,n);if(i)return i}return null},lineMarkerChange:e=>e.startState.facet(Pm)!=e.state.facet(Pm),initialSpacer(e){return new DM(MM(e,sZ(e.state.doc.lines)))},updateSpacer(e,r){let n=MM(r.view,sZ(r.view.state.doc.lines));return n==e.number?e:new DM(n)},domEventHandlers:t.facet(Pm).domEventHandlers}));function nZ(t={}){return[Pm.of(t),ZJ(),QWe]}function sZ(t){let e=9;for(;e<t;)e=e*10+9;return e}const JWe=new class extends Go{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},ZWe=XR.compute(["selection"],t=>{let e=[],r=-1;for(let n of t.selection.ranges){let s=t.doc.lineAt(n.head).from;s>r&&(r=s,e.push(JWe.range(s)))}return hr.of(e)});function iZ(){return ZWe}const oZ=pt.define({combine:t=>(e,r)=>{t.forEach(n=>{n(e,r)})}});pt.define({combine:t=>e=>{t.forEach(r=>{r(e)})}});const PM=(t,e=300)=>[oZ.of(aK(t||(()=>{}),e)),ot.updateListener.of(({view:r,docChanged:n})=>{if(n){const s=r.state.sliceDoc(0);r.state.facet(oZ)(s,r)}})],aZ=async t=>{try{return JSON.stringify(JSON.parse(t),null,2)}catch{return t}},eYe=t=>y.useMemo(()=>t?eye(t)?t.toString():JSON.stringify(t,(r,n)=>typeof n=="bigint"?n.toString():n):"",[t]),lZ=1024;let tYe=0;class kM{constructor(e,r){this.from=e,this.to=r}}class or{constructor(e={}){this.id=tYe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Hi.match(e)),r=>{let n=e(r);return n===void 0?null:[this,n]}}}or.closedBy=new or({deserialize:t=>t.split(" ")}),or.openedBy=new or({deserialize:t=>t.split(" ")}),or.group=new or({deserialize:t=>t.split(" ")}),or.isolate=new or({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),or.contextHash=new or({perNode:!0}),or.lookAhead=new or({perNode:!0}),or.mounted=new or({perNode:!0});class JR{constructor(e,r,n){this.tree=e,this.overlay=r,this.parser=n}static get(e){return e&&e.props&&e.props[or.mounted.id]}}const rYe=Object.create(null);class Hi{constructor(e,r,n,s=0){this.name=e,this.props=r,this.id=n,this.flags=s}static define(e){let r=e.props&&e.props.length?Object.create(null):rYe,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new Hi(e.name||"",r,e.id,n);if(e.props){for(let i of e.props)if(Array.isArray(i)||(i=i(s)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[i[0].id]=i[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(or.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let n in e)for(let s of n.split(" "))r[s]=e[n];return n=>{for(let s=n.prop(or.group),i=-1;i<(s?s.length:0);i++){let o=r[i<0?n.name:s[i]];if(o)return o}}}}Hi.none=new Hi("",Object.create(null),0,8);class UM{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let n of this.types){let s=null;for(let i of e){let o=i(n);o&&(s||(s=Object.assign({},n.props)),s[o[0].id]=o[1])}r.push(s?new Hi(n.name,s,n.id,n.flags):n)}return new UM(r)}}const ZR=new WeakMap,cZ=new WeakMap;var Ns;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Ns||(Ns={}));class Jn{constructor(e,r,n,s,i){if(this.type=e,this.children=r,this.positions=n,this.length=s,this.props=null,i&&i.length){this.props=Object.create(null);for(let[o,a]of i)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=JR.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let n of this.children){let s=n.toString();s&&(r&&(r+=","),r+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new FM(this.topNode,e)}cursorAt(e,r=0,n=0){let s=ZR.get(this)||this.topNode,i=new FM(s);return i.moveTo(e,r),ZR.set(this,i._tree),i}get topNode(){return new Vo(this,0,0,null)}resolve(e,r=0){let n=AT(ZR.get(this)||this.topNode,e,r,!1);return ZR.set(this,n),n}resolveInner(e,r=0){let n=AT(cZ.get(this)||this.topNode,e,r,!0);return cZ.set(this,n),n}resolveStack(e,r=0){return iYe(this,e,r)}iterate(e){let{enter:r,leave:n,from:s=0,to:i=this.length}=e,o=e.mode||0,a=(o&Ns.IncludeAnonymous)>0;for(let l=this.cursor(o|Ns.IncludeAnonymous);;){let c=!1;if(l.from<=i&&l.to>=s&&(!a&&l.type.isAnonymous||r(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&n&&(a||!l.type.isAnonymous)&&n(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:$M(Hi.none,this.children,this.positions,0,this.children.length,0,this.length,(r,n,s)=>new Jn(this.type,r,n,s,this.propValues),e.makeTree||((r,n,s)=>new Jn(Hi.none,r,n,s)))}static build(e){return oYe(e)}}Jn.empty=new Jn(Hi.none,[],[],0);class jM{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new jM(this.buffer,this.index)}}class Uu{constructor(e,r,n){this.buffer=e,this.length=r,this.set=n}get type(){return Hi.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],n=this.buffer[e+3],s=this.set.types[r],i=s.name;if(/\W/.test(i)&&!s.isError&&(i=JSON.stringify(i)),e+=4,n==e)return i;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return i+"("+o.join(",")+")"}findChild(e,r,n,s,i){let{buffer:o}=this,a=-1;for(let l=e;l!=r&&!(uZ(i,s,o[l+1],o[l+2])&&(a=l,n>0));l=o[l+3]);return a}slice(e,r,n){let s=this.buffer,i=new Uint16Array(r-e),o=0;for(let a=e,l=0;a<r;){i[l++]=s[a++],i[l++]=s[a++]-n;let c=i[l++]=s[a++]-n;i[l++]=s[a++]-e,o=Math.max(o,c)}return new Uu(i,o,this.set)}}function uZ(t,e,r,n){switch(t){case-2:return r<e;case-1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function AT(t,e,r,n){for(var s;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let o=!n&&t instanceof Vo&&t.index<0?null:t.parent;if(!o)return t;t=o}let i=n?0:Ns.IgnoreOverlays;if(n)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof Vo&&o.index<0&&((s=a.enter(e,r,i))===null||s===void 0?void 0:s.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,r,i);if(!o)return t;t=o}}class dZ{cursor(e=0){return new FM(this,e)}getChild(e,r=null,n=null){let s=hZ(this,e,r,n);return s.length?s[0]:null}getChildren(e,r=null,n=null){return hZ(this,e,r,n)}resolve(e,r=0){return AT(this,e,r,!1)}resolveInner(e,r=0){return AT(this,e,r,!0)}matchContext(e){return BM(this.parent,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),n=this;for(;r;){let s=r.lastChild;if(!s||s.to!=r.to)break;s.type.isError&&s.from==s.to?(n=r,r=s.prevSibling):r=s}return n}get node(){return this}get next(){return this.parent}}class Vo extends dZ{constructor(e,r,n,s){super(),this._tree=e,this.from=r,this.index=n,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,n,s,i=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=r>0?a.length:-1;e!=c;e+=r){let d=a[e],h=l[e]+o.from;if(uZ(s,n,h,h+d.length)){if(d instanceof Uu){if(i&Ns.ExcludeBuffers)continue;let m=d.findChild(0,d.buffer.length,r,n-h,s);if(m>-1)return new ju(new nYe(o,d,e,h),null,m)}else if(i&Ns.IncludeAnonymous||!d.type.isAnonymous||HM(d)){let m;if(!(i&Ns.IgnoreMounts)&&(m=JR.get(d))&&!m.overlay)return new Vo(m.tree,h,e,o);let f=new Vo(d,h,e,o);return i&Ns.IncludeAnonymous||!f.type.isAnonymous?f:f.nextChild(r<0?d.children.length-1:0,r,n,s)}}}if(i&Ns.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+r:e=r<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,n=0){let s;if(!(n&Ns.IgnoreOverlays)&&(s=JR.get(this._tree))&&s.overlay){let i=e-this.from;for(let{from:o,to:a}of s.overlay)if((r>0?o<=i:o<i)&&(r<0?a>=i:a>i))return new Vo(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function hZ(t,e,r,n){let s=t.cursor(),i=[];if(!s.firstChild())return i;if(r!=null){for(let o=!1;!o;)if(o=s.type.is(r),!s.nextSibling())return i}for(;;){if(n!=null&&s.type.is(n))return i;if(s.type.is(e)&&i.push(s.node),!s.nextSibling())return n==null?i:[]}}function BM(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class nYe{constructor(e,r,n,s){this.parent=e,this.buffer=r,this.index=n,this.start=s}}class ju extends dZ{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,n){super(),this.context=e,this._parent=r,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,r,n){let{buffer:s}=this.context,i=s.findChild(this.index+4,s.buffer[this.index+3],e,r-this.context.start,n);return i<0?null:new ju(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,n=0){if(n&Ns.ExcludeBuffers)return null;let{buffer:s}=this.context,i=s.findChild(this.index+4,s.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return i<0?null:new ju(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ju(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new ju(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:n}=this.context,s=this.index+4,i=n.buffer[this.index+3];if(i>s){let o=n.buffer[this.index+1];e.push(n.slice(s,i,o)),r.push(0)}return new Jn(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function fZ(t){if(!t.length)return null;let e=0,r=t[0];for(let i=1;i<t.length;i++){let o=t[i];(o.from>r.from||o.to<r.to)&&(r=o,e=i)}let n=r instanceof Vo&&r.index<0?null:r.parent,s=t.slice();return n?s[e]=n:s.splice(e,1),new sYe(s,r)}class sYe{constructor(e,r){this.heads=e,this.node=r}get next(){return fZ(this.heads)}}function iYe(t,e,r){let n=t.resolveInner(e,r),s=null;for(let i=n instanceof Vo?n:n.context.parent;i;i=i.parent)if(i.index<0){let o=i.parent;(s||(s=[n])).push(o.resolve(e,r)),i=o}else{let o=JR.get(i.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Vo(o.tree,o.overlay[0].from+i.from,-1,i);(s||(s=[n])).push(AT(a,e,r,!1))}}return s?fZ(s):n}class FM{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Vo)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:n,buffer:s}=this.buffer;return this.type=r||s.set.types[s.buffer[e]],this.from=n+s.buffer[e+1],this.to=n+s.buffer[e+2],!0}yield(e){return e?e instanceof Vo?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,n,this.mode));let{buffer:s}=this.buffer,i=s.findChild(this.index+4,s.buffer[this.index+3],e,r-this.buffer.start,n);return i<0?!1:(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,n=this.mode){return this.buffer?n&Ns.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ns.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ns.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,n=this.stack.length-1;if(e<0){let s=n<0?0:this.stack[n]+4;if(this.index!=s)return this.yieldBuf(r.findChild(s,this.index,-1,0,4))}else{let s=r.buffer[this.index+3];if(s<(n<0?r.buffer.length:r.buffer[this.stack[n]+3]))return this.yieldBuf(s)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,n,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let i=0;i<this.index;i++)if(s.buffer.buffer[i+3]<this.index)return!1;({index:r,parent:n}=s)}else({index:r,_parent:n}=this._tree);for(;n;{index:r,_parent:n}=n)if(r>-1)for(let i=r+e,o=e<0?-1:n._tree.children.length;i!=o;i+=e){let a=n._tree.children[i];if(this.mode&Ns.IncludeAnonymous||a instanceof Uu||!a.type.isAnonymous||HM(a))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,n=0;if(e&&e.context==this.buffer)e:for(let s=this.index,i=this.stack.length;i>=0;){for(let o=e;o;o=o._parent)if(o.index==s){if(s==this.index)return o;r=o,n=i+1;break e}s=this.stack[--i]}for(let s=n;s<this.stack.length;s++)r=new ju(this.buffer,r,this.stack[s]);return this.bufferNode=new ju(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let n=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&r&&r(this),s=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,s=!0}}}matchContext(e){if(!this.buffer)return BM(this.node.parent,e);let{buffer:r}=this.buffer,{types:n}=r.set;for(let s=e.length-1,i=this.stack.length-1;s>=0;i--){if(i<0)return BM(this._tree,e,s);let o=n[r.buffer[this.stack[i]]];if(!o.isAnonymous){if(e[s]&&e[s]!=o.name)return!1;s--}}return!0}}function HM(t){return t.children.some(e=>e instanceof Uu||!e.type.isAnonymous||HM(e))}function oYe(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:s=lZ,reused:i=[],minRepeatType:o=n.types.length}=t,a=Array.isArray(r)?new jM(r,r.length):r,l=n.types,c=0,d=0;function h(C,x,A,b,_,U){let{id:j,start:L,end:P,size:I}=a,F=d,W=c;for(;I<0;)if(a.next(),I==-1){let K=i[j];A.push(K),b.push(L-C);return}else if(I==-3){c=j;return}else if(I==-4){d=j;return}else throw new RangeError(`Unrecognized record size: ${I}`);let Y=l[j],k,V,re=L-C;if(P-L<=s&&(V=g(a.pos-x,_))){let K=new Uint16Array(V.size-V.skip),B=a.pos-V.size,X=K.length;for(;a.pos>B;)X=T(V.start,K,X);k=new Uu(K,P-V.start,n),re=V.start-C}else{let K=a.pos-I;a.next();let B=[],X=[],J=j>=o?j:-1,Z=0,Ee=P;for(;a.pos>K;)J>=0&&a.id==J&&a.size>=0?(a.end<=Ee-s&&(p(B,X,L,Z,a.end,Ee,J,F,W),Z=B.length,Ee=a.end),a.next()):U>2500?m(L,K,B,X):h(L,K,B,X,J,U+1);if(J>=0&&Z>0&&Z<B.length&&p(B,X,L,Z,L,Ee,J,F,W),B.reverse(),X.reverse(),J>-1&&Z>0){let se=f(Y,W);k=$M(Y,B,X,0,B.length,0,P-L,se,se)}else k=E(Y,B,X,P-L,F-P,W)}A.push(k),b.push(re)}function m(C,x,A,b){let _=[],U=0,j=-1;for(;a.pos>x;){let{id:L,start:P,end:I,size:F}=a;if(F>4)a.next();else{if(j>-1&&P<j)break;j<0&&(j=I-s),_.push(L,P,I),U++,a.next()}}if(U){let L=new Uint16Array(U*4),P=_[_.length-2];for(let I=_.length-3,F=0;I>=0;I-=3)L[F++]=_[I],L[F++]=_[I+1]-P,L[F++]=_[I+2]-P,L[F++]=F;A.push(new Uu(L,_[2]-P,n)),b.push(P-C)}}function f(C,x){return(A,b,_)=>{let U=0,j=A.length-1,L,P;if(j>=0&&(L=A[j])instanceof Jn){if(!j&&L.type==C&&L.length==_)return L;(P=L.prop(or.lookAhead))&&(U=b[j]+L.length+P)}return E(C,A,b,_,U,x)}}function p(C,x,A,b,_,U,j,L,P){let I=[],F=[];for(;C.length>b;)I.push(C.pop()),F.push(x.pop()+A-_);C.push(E(n.types[j],I,F,U-_,L-U,P)),x.push(_-A)}function E(C,x,A,b,_,U,j){if(U){let L=[or.contextHash,U];j=j?[L].concat(j):[L]}if(_>25){let L=[or.lookAhead,_];j=j?[L].concat(j):[L]}return new Jn(C,x,A,b,j)}function g(C,x){let A=a.fork(),b=0,_=0,U=0,j=A.end-s,L={size:0,start:0,skip:0};e:for(let P=A.pos-C;A.pos>P;){let I=A.size;if(A.id==x&&I>=0){L.size=b,L.start=_,L.skip=U,U+=4,b+=4,A.next();continue}let F=A.pos-I;if(I<0||F<P||A.start<j)break;let W=A.id>=o?4:0,Y=A.start;for(A.next();A.pos>F;){if(A.size<0)if(A.size==-3)W+=4;else break e;else A.id>=o&&(W+=4);A.next()}_=Y,b+=I,U+=W}return(x<0||b==C)&&(L.size=b,L.start=_,L.skip=U),L.size>4?L:void 0}function T(C,x,A){let{id:b,start:_,end:U,size:j}=a;if(a.next(),j>=0&&b<o){let L=A;if(j>4){let P=a.pos-(j-4);for(;a.pos>P;)A=T(C,x,A)}x[--A]=L,x[--A]=U-C,x[--A]=_-C,x[--A]=b}else j==-3?c=b:j==-4&&(d=b);return A}let S=[],v=[];for(;a.pos>0;)h(t.start||0,t.bufferStart||0,S,v,-1,0);let N=(e=t.length)!==null&&e!==void 0?e:S.length?v[0]+S[0].length:0;return new Jn(l[t.topID],S.reverse(),v.reverse(),N)}const mZ=new WeakMap;function eN(t,e){if(!t.isAnonymous||e instanceof Uu||e.type!=t)return 1;let r=mZ.get(e);if(r==null){r=1;for(let n of e.children){if(n.type!=t||!(n instanceof Jn)){r=1;break}r+=eN(t,n)}mZ.set(e,r)}return r}function $M(t,e,r,n,s,i,o,a,l){let c=0;for(let p=n;p<s;p++)c+=eN(t,e[p]);let d=Math.ceil(c*1.5/8),h=[],m=[];function f(p,E,g,T,S){for(let v=g;v<T;){let N=v,C=E[v],x=eN(t,p[v]);for(v++;v<T;v++){let A=eN(t,p[v]);if(x+A>=d)break;x+=A}if(v==N+1){if(x>d){let A=p[N];f(A.children,A.positions,0,A.children.length,E[N]+S);continue}h.push(p[N])}else{let A=E[v-1]+p[v-1].length-C;h.push($M(t,p,E,N,v,C,A,null,l))}m.push(C+S-i)}}return f(e,r,n,s,0),(a||l)(h,m,o)}class hh{constructor(e,r,n,s,i=!1,o=!1){this.from=e,this.to=r,this.tree=n,this.offset=s,this.open=(i?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],n=!1){let s=[new hh(0,e.length,e,0,!1,n)];for(let i of r)i.to>e.length&&s.push(i);return s}static applyChanges(e,r,n=128){if(!r.length)return e;let s=[],i=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let d=a<r.length?r[a]:null,h=d?d.fromA:1e9;if(h-l>=n)for(;o&&o.from<h;){let m=o;if(l>=m.from||h<=m.to||c){let f=Math.max(m.from,l)-c,p=Math.min(m.to,h)-c;m=f>=p?null:new hh(f,p,m.tree,m.offset+c,a>0,!!d)}if(m&&s.push(m),o.to>h)break;o=i<e.length?e[i++]:null}if(!d)break;l=d.toA,c=d.toA-d.toB}return s}}class pZ{startParse(e,r,n){return typeof e=="string"&&(e=new aYe(e)),n=n?n.length?n.map(s=>new kM(s.from,s.to)):[new kM(0,0)]:[new kM(0,e.length)],this.createParse(e,r||[],n)}parse(e,r,n){let s=this.startParse(e,r,n);for(;;){let i=s.advance();if(i)return i}}}class aYe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}new or({perNode:!0});let lYe=0;class zo{constructor(e,r,n,s){this.name=e,this.set=r,this.base=n,this.modified=s,this.id=lYe++}toString(){let{name:e}=this;for(let r of this.modified)r.name&&(e=`${r.name}(${e})`);return e}static define(e,r){let n=typeof e=="string"?e:"?";if(e instanceof zo&&(r=e),r!=null&&r.base)throw new Error("Can not derive from a modified tag");let s=new zo(n,[],null,[]);if(s.set.push(s),r)for(let i of r.set)s.set.push(i);return s}static defineModifier(e){let r=new tN(e);return n=>n.modified.indexOf(r)>-1?n:tN.get(n.base||n,n.modified.concat(r).sort((s,i)=>s.id-i.id))}}let cYe=0;class tN{constructor(e){this.name=e,this.instances=[],this.id=cYe++}static get(e,r){if(!r.length)return e;let n=r[0].instances.find(a=>a.base==e&&uYe(r,a.modified));if(n)return n;let s=[],i=new zo(e.name,s,e,r);for(let a of r)a.instances.push(i);let o=dYe(r);for(let a of e.set)if(!a.modified.length)for(let l of o)s.push(tN.get(a,l));return i}}function uYe(t,e){return t.length==e.length&&t.every((r,n)=>r==e[n])}function dYe(t){let e=[[]];for(let r=0;r<t.length;r++)for(let n=0,s=e.length;n<s;n++)e.push(e[n].concat(t[r]));return e.sort((r,n)=>n.length-r.length)}function GM(t){let e=Object.create(null);for(let r in t){let n=t[r];Array.isArray(n)||(n=[n]);for(let s of r.split(" "))if(s){let i=[],o=2,a=s;for(let h=0;;){if(a=="..."&&h>0&&h+3==s.length){o=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!m)throw new RangeError("Invalid path: "+s);if(i.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),h+=m[0].length,h==s.length)break;let f=s[h++];if(h==s.length&&f=="!"){o=0;break}if(f!="/")throw new RangeError("Invalid path: "+s);a=s.slice(h)}let l=i.length-1,c=i[l];if(!c)throw new RangeError("Invalid path: "+s);let d=new rN(n,o,l>0?i.slice(0,l):null);e[c]=d.sort(e[c])}}return EZ.add(e)}const EZ=new or;class rN{constructor(e,r,n,s){this.tags=e,this.mode=r,this.context=n,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}rN.empty=new rN([],2,null);function gZ(t,e){let r=Object.create(null);for(let i of t)if(!Array.isArray(i.tag))r[i.tag.id]=i.class;else for(let o of i.tag)r[o.id]=i.class;let{scope:n,all:s=null}=e||{};return{style:i=>{let o=s;for(let a of i)for(let l of a.set){let c=r[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:n}}function hYe(t,e){let r=null;for(let n of t){let s=n.style(e);s&&(r=r?r+" "+s:s)}return r}function fYe(t,e,r,n=0,s=t.length){let i=new mYe(n,Array.isArray(e)?e:[e],r);i.highlightRange(t.cursor(),n,s,"",i.highlighters),i.flush(s)}class mYe{constructor(e,r,n){this.at=e,this.highlighters=r,this.span=n,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,n,s,i){let{type:o,from:a,to:l}=e;if(a>=n||l<=r)return;o.isTop&&(i=this.highlighters.filter(f=>!f.scope||f.scope(o)));let c=s,d=pYe(e)||rN.empty,h=hYe(i,d.tags);if(h&&(c&&(c+=" "),c+=h,d.mode==1&&(s+=(s?" ":"")+h)),this.startSpan(Math.max(r,a),c),d.opaque)return;let m=e.tree&&e.tree.prop(or.mounted);if(m&&m.overlay){let f=e.node.enter(m.overlay[0].from+a,1),p=this.highlighters.filter(g=>!g.scope||g.scope(m.tree.type)),E=e.firstChild();for(let g=0,T=a;;g++){let S=g<m.overlay.length?m.overlay[g]:null,v=S?S.from+a:l,N=Math.max(r,T),C=Math.min(n,v);if(N<C&&E)for(;e.from<C&&(this.highlightRange(e,N,C,s,i),this.startSpan(Math.min(C,e.to),c),!(e.to>=v||!e.nextSibling())););if(!S||v>n)break;T=S.to+a,T>r&&(this.highlightRange(f.cursor(),Math.max(r,S.from+a),Math.min(n,T),"",p),this.startSpan(Math.min(n,T),c))}E&&e.parent()}else if(e.firstChild()){m&&(s="");do if(!(e.to<=r)){if(e.from>=n)break;this.highlightRange(e,r,n,s,i),this.startSpan(Math.min(n,e.to),c)}while(e.nextSibling());e.parent()}}}function pYe(t){let e=t.type.prop(EZ);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const mt=zo.define,nN=mt(),Bu=mt(),TZ=mt(Bu),SZ=mt(Bu),Fu=mt(),sN=mt(Fu),VM=mt(Fu),vl=mt(),fh=mt(vl),yl=mt(),Al=mt(),zM=mt(),RT=mt(zM),iN=mt(),me={comment:nN,lineComment:mt(nN),blockComment:mt(nN),docComment:mt(nN),name:Bu,variableName:mt(Bu),typeName:TZ,tagName:mt(TZ),propertyName:SZ,attributeName:mt(SZ),className:mt(Bu),labelName:mt(Bu),namespace:mt(Bu),macroName:mt(Bu),literal:Fu,string:sN,docString:mt(sN),character:mt(sN),attributeValue:mt(sN),number:VM,integer:mt(VM),float:mt(VM),bool:mt(Fu),regexp:mt(Fu),escape:mt(Fu),color:mt(Fu),url:mt(Fu),keyword:yl,self:mt(yl),null:mt(yl),atom:mt(yl),unit:mt(yl),modifier:mt(yl),operatorKeyword:mt(yl),controlKeyword:mt(yl),definitionKeyword:mt(yl),moduleKeyword:mt(yl),operator:Al,derefOperator:mt(Al),arithmeticOperator:mt(Al),logicOperator:mt(Al),bitwiseOperator:mt(Al),compareOperator:mt(Al),updateOperator:mt(Al),definitionOperator:mt(Al),typeOperator:mt(Al),controlOperator:mt(Al),punctuation:zM,separator:mt(zM),bracket:RT,angleBracket:mt(RT),squareBracket:mt(RT),paren:mt(RT),brace:mt(RT),content:vl,heading:fh,heading1:mt(fh),heading2:mt(fh),heading3:mt(fh),heading4:mt(fh),heading5:mt(fh),heading6:mt(fh),contentSeparator:mt(vl),list:mt(vl),quote:mt(vl),emphasis:mt(vl),strong:mt(vl),link:mt(vl),monospace:mt(vl),strikethrough:mt(vl),inserted:mt(),deleted:mt(),changed:mt(),invalid:mt(),meta:iN,documentMeta:mt(iN),annotation:mt(iN),processingInstruction:mt(iN),definition:zo.defineModifier("definition"),constant:zo.defineModifier("constant"),function:zo.defineModifier("function"),standard:zo.defineModifier("standard"),local:zo.defineModifier("local"),special:zo.defineModifier("special")};for(let t in me){let e=me[t];e instanceof zo&&(e.name=t)}gZ([{tag:me.link,class:"tok-link"},{tag:me.heading,class:"tok-heading"},{tag:me.emphasis,class:"tok-emphasis"},{tag:me.strong,class:"tok-strong"},{tag:me.keyword,class:"tok-keyword"},{tag:me.atom,class:"tok-atom"},{tag:me.bool,class:"tok-bool"},{tag:me.url,class:"tok-url"},{tag:me.labelName,class:"tok-labelName"},{tag:me.inserted,class:"tok-inserted"},{tag:me.deleted,class:"tok-deleted"},{tag:me.literal,class:"tok-literal"},{tag:me.string,class:"tok-string"},{tag:me.number,class:"tok-number"},{tag:[me.regexp,me.escape,me.special(me.string)],class:"tok-string2"},{tag:me.variableName,class:"tok-variableName"},{tag:me.local(me.variableName),class:"tok-variableName tok-local"},{tag:me.definition(me.variableName),class:"tok-variableName tok-definition"},{tag:me.special(me.variableName),class:"tok-variableName2"},{tag:me.definition(me.propertyName),class:"tok-propertyName tok-definition"},{tag:me.typeName,class:"tok-typeName"},{tag:me.namespace,class:"tok-namespace"},{tag:me.className,class:"tok-className"},{tag:me.macroName,class:"tok-macroName"},{tag:me.propertyName,class:"tok-propertyName"},{tag:me.operator,class:"tok-operator"},{tag:me.comment,class:"tok-comment"},{tag:me.meta,class:"tok-meta"},{tag:me.invalid,class:"tok-invalid"},{tag:me.punctuation,class:"tok-punctuation"}]);var WM;const km=new or;function EYe(t){return pt.define({combine:t?e=>e.concat(t):void 0})}const gYe=new or;class Wo{constructor(e,r,n=[],s=""){this.data=e,this.name=s,_r.prototype.hasOwnProperty("tree")||Object.defineProperty(_r.prototype,"tree",{get(){return bs(this)}}),this.parser=r,this.extension=[Hu.of(this),_r.languageData.of((i,o,a)=>{let l=vZ(i,o,a),c=l.type.prop(km);if(!c)return[];let d=i.facet(c),h=l.type.prop(gYe);if(h){let m=l.resolve(o-l.from,a);for(let f of h)if(f.test(m,i)){let p=i.facet(f.facet);return f.type=="replace"?p:p.concat(d)}}return d})].concat(n)}isActiveAt(e,r,n=-1){return vZ(e,r,n).type.prop(km)==this.data}findRegions(e){let r=e.facet(Hu);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let n=[],s=(i,o)=>{if(i.prop(km)==this.data){n.push({from:o,to:o+i.length});return}let a=i.prop(or.mounted);if(a){if(a.tree.prop(km)==this.data){if(a.overlay)for(let l of a.overlay)n.push({from:l.from+o,to:l.to+o});else n.push({from:o,to:o+i.length});return}else if(a.overlay){let l=n.length;if(s(a.tree,a.overlay[0].from+o),n.length>l)return}}for(let l=0;l<i.children.length;l++){let c=i.children[l];c instanceof Jn&&s(c,i.positions[l]+o)}};return s(bs(e),0),n}get allowsNesting(){return!0}}Wo.setState=jt.define();function vZ(t,e,r){let n=t.facet(Hu),s=bs(t).topNode;if(!n||n.allowsNesting)for(let i=s;i;i=i.enter(e,r,Ns.ExcludeBuffers))i.type.isTop&&(s=i);return s}class NT extends Wo{constructor(e,r,n){super(e,r,[],n),this.parser=r}static define(e){let r=EYe(e.languageData);return new NT(r,e.parser.configure({props:[km.add(n=>n.isTop?r:void 0)]}),e.name)}configure(e,r){return new NT(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function bs(t){let e=t.field(Wo.state,!1);return e?e.tree:Jn.empty}function yZ(t,e,r=50){var n;let s=(n=t.field(Wo.state,!1))===null||n===void 0?void 0:n.context;if(!s)return null;let i=s.viewport;s.updateViewport({from:0,to:e});let o=s.isDone(e)||s.work(r,e)?s.tree:null;return s.updateViewport(i),o}class TYe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let n=this.cursorPos-this.string.length;return e<n||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-n,r-n)}}let bT=null;class oN{constructor(e,r,n=[],s,i,o,a,l){this.parser=e,this.state=r,this.fragments=n,this.tree=s,this.treeLen=i,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,r,n){return new oN(e,r,[],Jn.empty,0,n,[],null)}startParse(){return this.parser.startParse(new TYe(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=Jn.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(hh.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(hh.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=bT;bT=this;try{return e()}finally{bT=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=AZ(e,r.from,r.to);return e}changes(e,r){let{fragments:n,tree:s,treeLen:i,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,d,h,m)=>l.push({fromA:c,toA:d,fromB:h,toB:m})),n=hh.applyChanges(n,l),s=Jn.empty,i=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let d=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);d<h&&a.push({from:d,to:h})}}}return new oN(this.parser,r,n,s,i,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:s,to:i}=this.skipped[n];s<e.to&&i>e.from&&(this.fragments=AZ(this.fragments,s,i),this.skipped.splice(n--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends pZ{createParse(r,n,s){let i=s[0].from,o=s[s.length-1].to;return{parsedPos:i,advance(){let l=bT;if(l){for(let c of s)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Jn(Hi.none,[],[],o-i)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return bT}}function AZ(t,e,r){return hh.applyChanges(t,[{fromA:e,toA:r,fromB:e,toB:r}])}class Um{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,n)||r.takeTree(),new Um(r)}static init(e){let r=Math.min(3e3,e.doc.length),n=oN.create(e.facet(Hu).parser,e,{from:0,to:r});return n.work(20,r)||n.takeTree(),new Um(n)}}Wo.state=yn.define({create:Um.init,update(t,e){for(let r of e.effects)if(r.is(Wo.setState))return r.value;return e.startState.facet(Hu)!=e.state.facet(Hu)?Um.init(e.state):t.apply(e)}});let RZ=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(RZ=t=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const YM=typeof navigator<"u"&&(!((WM=navigator.scheduling)===null||WM===void 0)&&WM.isInputPending)?()=>navigator.scheduling.isInputPending():null,SYe=kn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(Wo.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(Wo.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=RZ(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:s}}=this.view,i=n.field(Wo.state);if(i.tree==i.context.tree&&i.context.isDone(s+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!YM?Math.max(25,e.timeRemaining()-5):1e9),a=i.context.treeLen<s&&n.doc.length>s+1e3,l=i.context.work(()=>YM&&YM()||Date.now()>o,s+(a?0:1e5));this.chunkBudget-=Date.now()-r,(l||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:Wo.setState.of(new Um(i.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>Si(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Hu=pt.define({combine(t){return t.length?t[0]:null},enables:t=>[Wo.state,SYe,ot.contentAttributes.compute([t],e=>{let r=e.facet(t);return r&&r.name?{"data-language":r.name}:{}})]});class NZ{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}const vYe=pt.define(),jm=pt.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Bm(t){let e=t.facet(jm);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function aN(t,e){let r="",n=t.tabSize,s=t.facet(jm)[0];if(s=="	"){for(;e>=n;)r+="	",e-=n;s=" "}for(let i=0;i<e;i++)r+=s;return r}function bZ(t,e){t instanceof _r&&(t=new lN(t));for(let n of t.state.facet(vYe)){let s=n(t,e);if(s!==void 0)return s}let r=bs(t.state);return r.length>=e?yYe(t,r,e):null}class lN{constructor(e,r={}){this.state=e,this.options=r,this.unit=Bm(e)}lineAt(e,r=1){let n=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:i}=this.options;return s!=null&&s>=n.from&&s<=n.to?i&&s==e?{text:"",from:e}:(r<0?s<e:s<=e)?{text:n.text.slice(s-n.from),from:s}:{text:n.text.slice(0,s-n.from),from:n.from}:n}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:s}=this.lineAt(e,r);return n.slice(e-s,Math.min(n.length,e+100-s))}column(e,r=1){let{text:n,from:s}=this.lineAt(e,r),i=this.countColumn(n,e-s),o=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return o>-1&&(i+=o-this.countColumn(n,n.search(/\S|$/))),i}countColumn(e,r=e.length){return iT(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:n,from:s}=this.lineAt(e,r),i=this.options.overrideIndentation;if(i){let o=i(s);if(o>-1)return o}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const qM=new or;function yYe(t,e,r){let n=e.resolveStack(r),s=e.resolveInner(r,-1).resolve(r,0).enterUnfinishedNodesBefore(r);if(s!=n.node){let i=[];for(let o=s;o&&!(o.from==n.node.from&&o.type==n.node.type);o=o.parent)i.push(o);for(let o=i.length-1;o>=0;o--)n={node:i[o],next:n}}return CZ(n,t,r)}function CZ(t,e,r){for(let n=t;n;n=n.next){let s=RYe(n.node);if(s)return s(KM.create(e,r,n))}return 0}function AYe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function RYe(t){let e=t.type.prop(qM);if(e)return e;let r=t.firstChild,n;if(r&&(n=r.type.prop(or.closedBy))){let s=t.lastChild,i=s&&n.indexOf(s.name)>-1;return o=>xYe(o,!0,1,void 0,i&&!AYe(o)?s.from:void 0)}return t.parent==null?NYe:null}function NYe(){return 0}class KM extends lN{constructor(e,r,n){super(e.state,e.options),this.base=e,this.pos=r,this.context=n}get node(){return this.context.node}static create(e,r,n){return new KM(e,r,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(r.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(bYe(n,e))break;r=this.state.doc.lineAt(n.from)}return this.lineIndent(r.from)}continue(){return CZ(this.context.next,this.base,this.pos)}}function bYe(t,e){for(let r=e;r;r=r.parent)if(t==r)return!0;return!1}function CYe(t){let e=t.node,r=e.childAfter(e.from),n=e.lastChild;if(!r)return null;let s=t.options.simulateBreak,i=t.state.doc.lineAt(r.from),o=s==null||s<=i.from?i.to:Math.min(i.to,s);for(let a=r.to;;){let l=e.childAfter(a);if(!l||l==n)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(i.text.slice(r.to-i.from))[0].length;return{from:r.from,to:r.to+c}}a=l.to}}function xYe(t,e,r,n,s){let i=t.textAfter,o=i.match(/^\s*/)[0].length,a=n&&i.slice(o,o+n.length)==n||s==t.pos+o,l=CYe(t);return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*r)}function XM({except:t,units:e=1}={}){return r=>{let n=t&&t.test(r.textAfter);return r.baseIndent+(n?0:e*r.unit)}}const wYe=pt.define(),QM=new or;function OYe(t){let e=t.firstChild,r=t.lastChild;return e&&e.to<r.from?{from:e.to,to:r.type.isError?t.to:r.from}:null}function IYe(t,e,r){let n=bs(t);if(n.length<r)return null;let s=n.resolveStack(r,1),i=null;for(let o=s;o;o=o.next){let a=o.node;if(a.to<=r||a.from>r)continue;if(i&&a.from<e)break;let l=a.type.prop(QM);if(l&&(a.to<n.length-50||n.length==t.doc.length||!_Ye(a))){let c=l(a,t);c&&c.from<=r&&c.from>=e&&c.to>r&&(i=c)}}return i}function _Ye(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function cN(t,e,r){for(let n of t.facet(wYe)){let s=n(t,e,r);if(s)return s}return IYe(t,e,r)}function xZ(t,e){let r=e.mapPos(t.from,1),n=e.mapPos(t.to,-1);return r>=n?void 0:{from:r,to:n}}const uN=jt.define({map:xZ}),CT=jt.define({map:xZ});function wZ(t){let e=[];for(let{head:r}of t.state.selection.ranges)e.some(n=>n.from<=r&&n.to>=r)||e.push(t.lineBlockAt(r));return e}const mh=yn.define({create(){return Wt.none},update(t,e){t=t.map(e.changes);for(let r of e.effects)if(r.is(uN)&&!LYe(t,r.value.from,r.value.to)){let{preparePlaceholder:n}=e.state.facet(LZ),s=n?Wt.replace({widget:new UYe(n(e.state,r.value))}):PZ;t=t.update({add:[s.range(r.value.from,r.value.to)]})}else r.is(CT)&&(t=t.update({filter:(n,s)=>r.value.from!=n||r.value.to!=s,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:n}=e.selection.main;t.between(n,n,(s,i)=>{s<n&&i>n&&(r=!0)}),r&&(t=t.update({filterFrom:n,filterTo:n,filter:(s,i)=>i<=n||s>=n}))}return t},provide:t=>ot.decorations.from(t),toJSON(t,e){let r=[];return t.between(0,e.doc.length,(n,s)=>{r.push(n,s)}),r},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<t.length;){let n=t[r++],s=t[r++];if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid JSON for fold state");e.push(PZ.range(n,s))}return Wt.set(e,!0)}});function dN(t,e,r){var n;let s=null;return(n=t.field(mh,!1))===null||n===void 0||n.between(e,r,(i,o)=>{(!s||s.from>i)&&(s={from:i,to:o})}),s}function LYe(t,e,r){let n=!1;return t.between(e,e,(s,i)=>{s==e&&i==r&&(n=!0)}),n}function OZ(t,e){return t.field(mh,!1)?e:e.concat(jt.appendConfig.of(DZ()))}const IZ=t=>{for(let e of wZ(t)){let r=cN(t.state,e.from,e.to);if(r)return t.dispatch({effects:OZ(t.state,[uN.of(r),_Z(t,r)])}),!0}return!1},DYe=t=>{if(!t.state.field(mh,!1))return!1;let e=[];for(let r of wZ(t)){let n=dN(t.state,r.from,r.to);n&&e.push(CT.of(n),_Z(t,n,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function _Z(t,e,r=!0){let n=t.state.doc.lineAt(e.from).number,s=t.state.doc.lineAt(e.to).number;return ot.announce.of(`${t.state.phrase(r?"Folded lines":"Unfolded lines")} ${n} ${t.state.phrase("to")} ${s}.`)}const MYe=t=>{let{state:e}=t,r=[];for(let n=0;n<e.doc.length;){let s=t.lineBlockAt(n),i=cN(e,s.from,s.to);i&&r.push(uN.of(i)),n=(i?t.lineBlockAt(i.to):s).to+1}return r.length&&t.dispatch({effects:OZ(t.state,r)}),!!r.length},PYe=t=>{let e=t.state.field(mh,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,t.state.doc.length,(n,s)=>{r.push(CT.of({from:n,to:s}))}),t.dispatch({effects:r}),!0},kYe={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},LZ=pt.define({combine(t){return El(t,kYe)}});function DZ(t){return[mh,BYe]}function MZ(t,e){let{state:r}=t,n=r.facet(LZ),s=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=dN(t.state,a.from,a.to);l&&t.dispatch({effects:CT.of(l)}),o.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,s,e);let i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",r.phrase("folded code")),i.title=r.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=s,i}const PZ=Wt.replace({widget:new class extends Ec{toDOM(t){return MZ(t,null)}}});class UYe extends Ec{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return MZ(e,this.value)}}const jYe={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class JM extends Go{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function kZ(t={}){let e=Object.assign(Object.assign({},jYe),t),r=new JM(e,!0),n=new JM(e,!1),s=kn.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Hu)!=o.state.facet(Hu)||o.startState.field(mh,!1)!=o.state.field(mh,!1)||bs(o.startState)!=bs(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new Aa;for(let l of o.viewportLineBlocks){let c=dN(o.state,l.from,l.to)?n:cN(o.state,l.from,l.to)?r:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:i}=e;return[s,QR({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(s))===null||a===void 0?void 0:a.markers)||hr.empty},initialSpacer(){return new JM(e,!1)},domEventHandlers:Object.assign(Object.assign({},i),{click:(o,a,l)=>{if(i.click&&i.click(o,a,l))return!0;let c=dN(o.state,a.from,a.to);if(c)return o.dispatch({effects:CT.of(c)}),!0;let d=cN(o.state,a.from,a.to);return d?(o.dispatch({effects:uN.of(d)}),!0):!1}})}),DZ()]}const BYe=ot.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Sc{constructor(e,r){this.specs=e;let n;function s(a){let l=Iu.newName();return(n||(n=Object.create(null)))["."+l]=a,l}const i=typeof r.all=="string"?r.all:r.all?s(r.all):void 0,o=r.scope;this.scope=o instanceof Wo?a=>a.prop(km)==o.data:o?a=>a==o:void 0,this.style=gZ(e.map(a=>({tag:a.tag,class:a.class||s(Object.assign({},a,{tag:null}))})),{all:i}).style,this.module=n?new Iu(n):null,this.themeType=r.themeType}static define(e,r){return new Sc(e,r||{})}}const ZM=pt.define(),UZ=pt.define({combine(t){return t.length?[t[0]]:null}});function eP(t){let e=t.facet(ZM);return e.length?e:t.facet(UZ)}function $u(t,e){let r=[HYe],n;return t instanceof Sc&&(t.module&&r.push(ot.styleModule.of(t.module)),n=t.themeType),e!=null&&e.fallback?r.push(UZ.of(t)):n?r.push(ZM.computeN([ot.darkTheme],s=>s.facet(ot.darkTheme)==(n=="dark")?[t]:[])):r.push(ZM.of(t)),r}class FYe{constructor(e){this.markCache=Object.create(null),this.tree=bs(e.state),this.decorations=this.buildDeco(e,eP(e.state)),this.decoratedTo=e.viewport.to}update(e){let r=bs(e.state),n=eP(e.state),s=n!=eP(e.startState),{viewport:i}=e.view,o=e.changes.mapPos(this.decoratedTo,1);r.length<i.to&&!s&&r.type==this.tree.type&&o>=i.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(r!=this.tree||e.viewportChanged||s)&&(this.tree=r,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=i.to)}buildDeco(e,r){if(!r||!this.tree.length)return Wt.none;let n=new Aa;for(let{from:s,to:i}of e.visibleRanges)fYe(this.tree,r,(o,a,l)=>{n.add(o,a,this.markCache[l]||(this.markCache[l]=Wt.mark({class:l})))},s,i);return n.finish()}}const HYe=ya.high(kn.fromClass(FYe,{decorations:t=>t.decorations})),tP=Sc.define([{tag:me.meta,color:"#404740"},{tag:me.link,textDecoration:"underline"},{tag:me.heading,textDecoration:"underline",fontWeight:"bold"},{tag:me.emphasis,fontStyle:"italic"},{tag:me.strong,fontWeight:"bold"},{tag:me.strikethrough,textDecoration:"line-through"},{tag:me.keyword,color:"#708"},{tag:[me.atom,me.bool,me.url,me.contentSeparator,me.labelName],color:"#219"},{tag:[me.literal,me.inserted],color:"#164"},{tag:[me.string,me.deleted],color:"#a11"},{tag:[me.regexp,me.escape,me.special(me.string)],color:"#e40"},{tag:me.definition(me.variableName),color:"#00f"},{tag:me.local(me.variableName),color:"#30a"},{tag:[me.typeName,me.namespace],color:"#085"},{tag:me.className,color:"#167"},{tag:[me.special(me.variableName),me.macroName],color:"#256"},{tag:me.definition(me.propertyName),color:"#00c"},{tag:me.comment,color:"#940"},{tag:me.invalid,color:"#f00"}]),$Ye=1e4,GYe="()[]{}",VYe=new or;function rP(t,e,r){let n=t.prop(e<0?or.openedBy:or.closedBy);if(n)return n;if(t.name.length==1){let s=r.indexOf(t.name);if(s>-1&&s%2==(e<0?1:0))return[r[s+e]]}return null}function nP(t){let e=t.type.prop(VYe);return e?e(t.node):t}function Gu(t,e,r,n={}){let s=n.maxScanDistance||$Ye,i=n.brackets||GYe,o=bs(t),a=o.resolveInner(e,r);for(let l=a;l;l=l.parent){let c=rP(l.type,r,i);if(c&&l.from<l.to){let d=nP(l);if(d&&(r>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return zYe(t,e,r,l,d,c,i)}}return WYe(t,e,r,o,a.type,s,i)}function zYe(t,e,r,n,s,i,o){let a=n.parent,l={from:s.from,to:s.to},c=0,d=a==null?void 0:a.cursor();if(d&&(r<0?d.childBefore(n.from):d.childAfter(n.to)))do if(r<0?d.to<=n.from:d.from>=n.to){if(c==0&&i.indexOf(d.type.name)>-1&&d.from<d.to){let h=nP(d);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(rP(d.type,r,o))c++;else if(rP(d.type,-r,o)){if(c==0){let h=nP(d);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}c--}}while(r<0?d.prevSibling():d.nextSibling());return{start:l,matched:!1}}function WYe(t,e,r,n,s,i,o){let a=r<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=r>0)return null;let c={from:r<0?e-1:e,to:r>0?e+1:e},d=t.doc.iterRange(e,r>0?t.doc.length:0),h=0;for(let m=0;!d.next().done&&m<=i;){let f=d.value;r<0&&(m+=f.length);let p=e+m*r;for(let E=r>0?0:f.length-1,g=r>0?f.length:-1;E!=g;E+=r){let T=o.indexOf(f[E]);if(!(T<0||n.resolveInner(p+E,1).type!=s))if(T%2==0==r>0)h++;else{if(h==1)return{start:c,end:{from:p+E,to:p+E+1},matched:T>>1==l>>1};h--}}r>0&&(m+=f.length)}return d.done?{start:c,matched:!1}:null}function jZ(t,e,r,n=0,s=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let i=s;for(let o=n;o<e;o++)t.charCodeAt(o)==9?i+=r-i%r:i++;return i}class YYe{constructor(e,r,n,s){this.string=e,this.tabSize=r,this.indentUnit=n,this.overrideIndent=s,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let r=this.string.charAt(this.pos),n;if(typeof e=="string"?n=r==e:n=r&&(e instanceof RegExp?e.test(r):e(r)),n)return++this.pos,r}eatWhile(e){let r=this.pos;for(;this.eat(e););return this.pos>r}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let r=this.string.indexOf(e,this.pos);if(r>-1)return this.pos=r,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=jZ(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:jZ(this.string,null,this.tabSize)}match(e,r,n){if(typeof e=="string"){let s=o=>n?o.toLowerCase():o,i=this.string.substr(this.pos,e.length);return s(i)==s(e)?(r!==!1&&(this.pos+=e.length),!0):null}else{let s=this.string.slice(this.pos).match(e);return s&&s.index>0?null:(s&&r!==!1&&(this.pos+=s[0].length),s)}}current(){return this.string.slice(this.start,this.pos)}}const qYe=Object.create(null),BZ=[Hi.none],FZ=[],HZ=Object.create(null),KYe=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])KYe[t]=XYe(qYe,e);function sP(t,e){FZ.indexOf(t)>-1||(FZ.push(t),console.warn(e))}function XYe(t,e){let r=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let d=t[c]||me[c];d?typeof d=="function"?l.length?l=l.map(d):sP(c,`Modifier ${c} used at start of tag`):l.length?sP(c,`Tag ${c} used as modifier`):l=Array.isArray(d)?d:[d]:sP(c,`Unknown highlighting tag ${c}`)}for(let c of l)r.push(c)}if(!r.length)return 0;let n=e.replace(/ /g,"_"),s=n+" "+r.map(a=>a.id),i=HZ[s];if(i)return i.id;let o=HZ[s]=Hi.define({id:BZ.length,name:n,props:[GM({[n]:r})]});return BZ.push(o),o.id}Gr.RTL,Gr.LTR;class $Z{constructor(e,r,n,s){this.state=e,this.pos=r,this.explicit=n,this.view=s,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let r=bs(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),n=Math.max(r.from,this.pos-250),s=r.text.slice(n-r.from,this.pos-r.from),i=s.search(WZ(e,!1));return i<0?null:{from:n+i,to:this.pos,text:s.slice(i)}}get aborted(){return this.abortListeners==null}addEventListener(e,r,n){e=="abort"&&this.abortListeners&&(this.abortListeners.push(r),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function GZ(t){let e=Object.keys(t).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function QYe(t){let e=Object.create(null),r=Object.create(null);for(let{label:s}of t){e[s[0]]=!0;for(let i=1;i<s.length;i++)r[s[i]]=!0}let n=GZ(e)+GZ(r)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function VZ(t){let e=t.map(s=>typeof s=="string"?{label:s}:s),[r,n]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:QYe(e);return s=>{let i=s.matchBefore(n);return i||s.explicit?{from:i?i.from:s.pos,options:e,validFor:r}:null}}function JYe(t,e){return r=>{for(let n=bs(r.state).resolveInner(r.pos,-1);n;n=n.parent){if(t.indexOf(n.name)>-1)return null;if(n.type.isTop)break}return e(r)}}class zZ{constructor(e,r,n,s){this.completion=e,this.source=r,this.match=n,this.score=s}}function ph(t){return t.selection.main.from}function WZ(t,e){var r;let{source:n}=t,s=e&&n[0]!="^",i=n[n.length-1]!="$";return!s&&!i?t:new RegExp(`${s?"^":""}(?:${n})${i?"$":""}`,(r=t.flags)!==null&&r!==void 0?r:t.ignoreCase?"i":"")}const iP=pl.define();function ZYe(t,e,r,n){let{main:s}=t.selection,i=r-s.from,o=n-s.from;return Object.assign(Object.assign({},t.changeByRange(a=>{if(a!=s&&r!=n&&t.sliceDoc(a.from+i,a.from+o)!=t.sliceDoc(r,n))return{range:a};let l=t.toText(e);return{changes:{from:a.from+i,to:n==s.from?a.to:a.from+o,insert:l},range:Ve.cursor(a.from+i+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const YZ=new WeakMap;function eqe(t){if(!Array.isArray(t))return t;let e=YZ.get(t);return e||YZ.set(t,e=VZ(t)),e}const hN=jt.define(),xT=jt.define();class tqe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let n=Bi(e,r),s=fl(n);this.chars.push(n);let i=e.slice(r,r+s),o=i.toUpperCase();this.folded.push(Bi(o==i?i.toLowerCase():o,0)),r+=s}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:r,folded:n,any:s,precise:i,byWord:o}=this;if(r.length==1){let S=Bi(e,0),v=fl(S),N=v==e.length?0:-100;if(S!=r[0])if(S==n[0])N+=-200;else return null;return this.ret(N,[0,v])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=r.length,c=0;if(a<0){for(let S=0,v=Math.min(e.length,200);S<v&&c<l;){let N=Bi(e,S);(N==r[c]||N==n[c])&&(s[c++]=S),S+=fl(N)}if(c<l)return null}let d=0,h=0,m=!1,f=0,p=-1,E=-1,g=/[a-z]/.test(e),T=!0;for(let S=0,v=Math.min(e.length,200),N=0;S<v&&h<l;){let C=Bi(e,S);a<0&&(d<l&&C==r[d]&&(i[d++]=S),f<l&&(C==r[f]||C==n[f]?(f==0&&(p=S),E=S+1,f++):f=0));let x,A=C<255?C>=48&&C<=57||C>=97&&C<=122?2:C>=65&&C<=90?1:0:(x=OD(C))!=x.toLowerCase()?1:x!=x.toUpperCase()?2:0;(!S||A==1&&g||N==0&&A!=0)&&(r[h]==C||n[h]==C&&(m=!0)?o[h++]=S:o.length&&(T=!1)),N=A,S+=fl(C)}return h==l&&o[0]==0&&T?this.result(-100+(m?-200:0),o,e):f==l&&p==0?this.ret(-200-e.length+(E==e.length?0:-100),[0,E]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):f==l?this.ret(-900-e.length,[p,E]):h==l?this.result(-100+(m?-200:0)+-700+(T?0:-1100),o,e):r.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,r,n){let s=[],i=0;for(let o of r){let a=o+(this.astral?fl(Bi(n,o)):1);i&&s[i-1]==o?s[i-1]=a:(s[i++]=o,s[i++]=a)}return this.ret(e-n.length,s)}}class rqe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let r=e.slice(0,this.pattern.length),n=r==this.pattern?0:r.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,r.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const Cs=pt.define({combine(t){return El(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:nqe,filterStrict:!1,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>n=>qZ(e(n),r(n)),optionClass:(e,r)=>n=>qZ(e(n),r(n)),addToOptions:(e,r)=>e.concat(r),filterStrict:(e,r)=>e||r})}});function qZ(t,e){return t?e?t+" "+e:t:e}function nqe(t,e,r,n,s,i){let o=t.textDirection==Gr.RTL,a=o,l=!1,c="top",d,h,m=e.left-s.left,f=s.right-e.right,p=n.right-n.left,E=n.bottom-n.top;if(a&&m<Math.min(p,f)?a=!1:!a&&f<Math.min(p,m)&&(a=!0),p<=(a?m:f))d=Math.max(s.top,Math.min(r.top,s.bottom-E))-e.top,h=Math.min(400,a?m:f);else{l=!0,h=Math.min(400,(o?e.right:s.right-e.left)-30);let S=s.bottom-e.bottom;S>=E||S>e.top?d=r.bottom-e.top:(c="bottom",d=e.bottom-r.top)}let g=(e.bottom-e.top)/i.offsetHeight,T=(e.right-e.left)/i.offsetWidth;return{style:`${c}: ${d/g}px; max-width: ${h/T}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function sqe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(r){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),r.type&&n.classList.add(...r.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(r,n,s,i){let o=document.createElement("span");o.className="cm-completionLabel";let a=r.displayLabel||r.label,l=0;for(let c=0;c<i.length;){let d=i[c++],h=i[c++];d>l&&o.appendChild(document.createTextNode(a.slice(l,d)));let m=o.appendChild(document.createElement("span"));m.appendChild(document.createTextNode(a.slice(d,h))),m.className="cm-completionMatchedText",l=h}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(r){if(!r.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=r.detail,n},position:80}),e.sort((r,n)=>r.position-n.position).map(r=>r.render)}function oP(t,e,r){if(t<=r)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let s=Math.floor(e/r);return{from:s*r,to:(s+1)*r}}let n=Math.floor((t-e)/r);return{from:t-(n+1)*r,to:t-n*r}}class iqe{constructor(e,r,n){this.view=e,this.stateField=r,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let s=e.state.field(r),{options:i,selected:o}=s.open,a=e.state.facet(Cs);this.optionContent=sqe(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=oP(i.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(r).open;for(let d=l.target,h;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(h=/-(\d+)$/.exec(d.id))&&+h[1]<c.length){this.applyCompletion(e,c[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Cs).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:xT.of(null)})}),this.showOptions(i,s.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let n=e.state.field(this.stateField),s=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=s){let{options:i,selected:o,disabled:a}=n.open;(!s.open||s.open.options!=i)&&(this.range=oP(i.length,o,e.state.facet(Cs).maxRenderedOptions),this.showOptions(i,n.id)),this.updateSel(),a!=((r=s.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of r.split(" "))n&&this.dom.classList.add(n);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=oP(r.options.length,r.selected,this.view.state.facet(Cs).maxRenderedOptions),this.showOptions(r.options,e.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:n}=r.options[r.selected],{info:s}=n;if(!s)return;let i=typeof s=="string"?document.createTextNode(s):s(n);if(!i)return;"then"in i?i.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,n)}).catch(o=>Si(this.view.state,o,"completion info")):this.addInfoPane(i,n)}}addInfoPane(e,r){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:s,destroy:i}=e;n.appendChild(s),this.infoDestroy=i||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let n=this.list.firstChild,s=this.range.from;n;n=n.nextSibling,s++)n.nodeName!="LI"||!n.id?s--:s==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),r=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return r&&aqe(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),i=this.space;if(!i){let o=this.dom.ownerDocument.documentElement;i={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return s.top>Math.min(i.bottom,r.bottom)-10||s.bottom<Math.max(i.top,r.top)+10?null:this.view.state.facet(Cs).positionInfo(this.view,r,s,n,i,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,n){const s=document.createElement("ul");s.id=r,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions")),s.addEventListener("mousedown",o=>{o.target==s&&o.preventDefault()});let i=null;for(let o=n.from;o<n.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let m=typeof c=="string"?c:c.name;if(m!=i&&(o>n.from||n.from==0))if(i=m,typeof c!="string"&&c.header)s.appendChild(c.header(c));else{let f=s.appendChild(document.createElement("completion-section"));f.textContent=m}}const d=s.appendChild(document.createElement("li"));d.id=r+"-"+o,d.setAttribute("role","option");let h=this.optionClass(a);h&&(d.className=h);for(let m of this.optionContent){let f=m(a,this.view.state,this.view,l);f&&d.appendChild(f)}}return n.from&&s.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function oqe(t,e){return r=>new iqe(r,t,e)}function aqe(t,e){let r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),s=r.height/t.offsetHeight;n.top<r.top?t.scrollTop-=(r.top-n.top)/s:n.bottom>r.bottom&&(t.scrollTop+=(n.bottom-r.bottom)/s)}function KZ(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function lqe(t,e){let r=[],n=null,s=c=>{r.push(c);let{section:d}=c.completion;if(d){n||(n=[]);let h=typeof d=="string"?d:d.name;n.some(m=>m.name==h)||n.push(typeof d=="string"?{name:h}:d)}},i=e.facet(Cs);for(let c of t)if(c.hasResult()){let d=c.result.getMatch;if(c.result.filter===!1)for(let h of c.result.options)s(new zZ(h,c.source,d?d(h):[],1e9-r.length));else{let h=e.sliceDoc(c.from,c.to),m,f=i.filterStrict?new rqe(h):new tqe(h);for(let p of c.result.options)if(m=f.match(p.label)){let E=p.displayLabel?d?d(p,m.matched):[]:m.matched;s(new zZ(p,c.source,E,m.score+(p.boost||0)))}}}if(n){let c=Object.create(null),d=0,h=(m,f)=>{var p,E;return((p=m.rank)!==null&&p!==void 0?p:1e9)-((E=f.rank)!==null&&E!==void 0?E:1e9)||(m.name<f.name?-1:1)};for(let m of n.sort(h))d-=1e5,c[m.name]=d;for(let m of r){let{section:f}=m.completion;f&&(m.score+=c[typeof f=="string"?f:f.name])}}let o=[],a=null,l=i.compareCompletions;for(let c of r.sort((d,h)=>h.score-d.score||l(d.completion,h.completion))){let d=c.completion;!a||a.label!=d.label||a.detail!=d.detail||a.type!=null&&d.type!=null&&a.type!=d.type||a.apply!=d.apply||a.boost!=d.boost?o.push(c):KZ(c.completion)>KZ(a)&&(o[o.length-1]=c),a=c.completion}return o}class Fm{constructor(e,r,n,s,i,o){this.options=e,this.attrs=r,this.tooltip=n,this.timestamp=s,this.selected=i,this.disabled=o}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new Fm(this.options,XZ(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,n,s,i,o){if(s&&!o&&e.some(c=>c.isPending))return s.setDisabled();let a=lqe(e,r);if(!a.length)return s&&e.some(c=>c.isPending)?s.setDisabled():null;let l=r.facet(Cs).selectOnOpen?0:-1;if(s&&s.selected!=l&&s.selected!=-1){let c=s.options[s.selected].completion;for(let d=0;d<a.length;d++)if(a[d].completion==c){l=d;break}}return new Fm(a,XZ(n,l),{pos:e.reduce((c,d)=>d.hasResult()?Math.min(c,d.from):c,1e8),create:mqe,above:i.aboveCursor},s?s.timestamp:Date.now(),l,!1)}map(e){return new Fm(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Fm(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class fN{constructor(e,r,n){this.active=e,this.id=r,this.open=n}static start(){return new fN(hqe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,n=r.facet(Cs),i=(n.override||r.languageDataAt("autocomplete",ph(r)).map(eqe)).map(l=>(this.active.find(d=>d.source==l)||new Yo(l,this.active.some(d=>d.state!=0)?1:0)).update(e,n));i.length==this.active.length&&i.every((l,c)=>l==this.active[c])&&(i=this.active);let o=this.open,a=e.effects.some(l=>l.is(aP));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||i.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!cqe(i,this.active)||a?o=Fm.build(i,r,this.id,o,n,a):o&&o.disabled&&!i.some(l=>l.isPending)&&(o=null),!o&&i.every(l=>!l.isPending)&&i.some(l=>l.hasResult())&&(i=i.map(l=>l.hasResult()?new Yo(l.source,0):l));for(let l of e.effects)l.is(JZ)&&(o=o&&o.setSelected(l.value,this.id));return i==this.active&&o==this.open?this:new fN(i,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?uqe:dqe}}function cqe(t,e){if(t==e)return!0;for(let r=0,n=0;;){for(;r<t.length&&!t[r].hasResult();)r++;for(;n<e.length&&!e[n].hasResult();)n++;let s=r==t.length,i=n==e.length;if(s||i)return s==i;if(t[r++].result!=e[n++].result)return!1}}const uqe={"aria-autocomplete":"list"},dqe={};function XZ(t,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(r["aria-activedescendant"]=t+"-"+e),r}const hqe=[];function QZ(t,e){if(t.isUserEvent("input.complete")){let n=t.annotation(iP);if(n&&e.activateOnCompletion(n))return 12}let r=t.isUserEvent("input.type");return r&&e.activateOnTyping?5:r?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Yo{constructor(e,r,n=!1){this.source=e,this.state=r,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(e,r){let n=QZ(e,r),s=this;(n&8||n&16&&this.touches(e))&&(s=new Yo(s.source,0)),n&4&&s.state==0&&(s=new Yo(this.source,1)),s=s.updateFor(e,n);for(let i of e.effects)if(i.is(hN))s=new Yo(s.source,1,i.value);else if(i.is(xT))s=new Yo(s.source,0);else if(i.is(aP))for(let o of i.value)o.source==s.source&&(s=o);return s}updateFor(e,r){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(ph(e.state))}}class Hm extends Yo{constructor(e,r,n,s,i,o){super(e,3,r),this.limit=n,this.result=s,this.from=i,this.to=o}hasResult(){return!0}updateFor(e,r){var n;if(!(r&3))return this.map(e.changes);let s=this.result;s.map&&!e.changes.empty&&(s=s.map(s,e.changes));let i=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=ph(e.state);if(a>o||!s||r&2&&(ph(e.startState)==this.from||a<this.limit))return new Yo(this.source,r&4?1:0);let l=e.changes.mapPos(this.limit);return fqe(s.validFor,e.state,i,o)?new Hm(this.source,this.explicit,l,s,i,o):s.update&&(s=s.update(s,i,o,new $Z(e.state,a,!1)))?new Hm(this.source,this.explicit,l,s,s.from,(n=s.to)!==null&&n!==void 0?n:ph(e.state)):new Yo(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Hm(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Yo(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function fqe(t,e,r,n){if(!t)return!1;let s=e.sliceDoc(r,n);return typeof t=="function"?t(s,r,n,e):WZ(t,!0).test(s)}const aP=jt.define({map(t,e){return t.map(r=>r.map(e))}}),JZ=jt.define(),yi=yn.define({create(){return fN.start()},update(t,e){return t.update(e)},provide:t=>[zR.from(t,e=>e.tooltip),ot.contentAttributes.from(t,e=>e.attrs)]});function lP(t,e){const r=e.completion.apply||e.completion.label;let n=t.state.field(yi).active.find(s=>s.source==e.source);return n instanceof Hm?(typeof r=="string"?t.dispatch(Object.assign(Object.assign({},ZYe(t.state,r,n.from,n.to)),{annotations:iP.of(e.completion)})):r(t,e.completion,n.from,n.to),!0):!1}const mqe=oqe(yi,lP);function qo(t,e="option"){return r=>{let n=r.state.field(yi,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<r.state.facet(Cs).interactionDelay)return!1;let s=1,i;e=="page"&&(i=qJ(r,n.open.tooltip))&&(s=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:o}=n.open.options,a=n.open.selected>-1?n.open.selected+s*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),r.dispatch({effects:JZ.of(a)}),!0}}const mN=t=>{let e=t.state.field(yi,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Cs).interactionDelay?!1:lP(t,e.open.options[e.open.selected])},$m=t=>t.state.field(yi,!1)?(t.dispatch({effects:hN.of(!0)}),!0):!1,cP=t=>{let e=t.state.field(yi,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(t.dispatch({effects:xT.of(null)}),!0)};class pqe{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const Eqe=50,gqe=1e3,Tqe=kn.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(yi).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(yi),r=t.state.facet(Cs);if(!t.selectionSet&&!t.docChanged&&t.startState.field(yi)==e)return;let n=t.transactions.some(i=>{let o=QZ(i,r);return o&8||(i.selection||i.docChanged)&&!(o&3)});for(let i=0;i<this.running.length;i++){let o=this.running[i];if(n||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>Eqe&&Date.now()-o.time>gqe){for(let a of o.context.abortListeners)try{a()}catch(l){Si(this.view.state,l)}o.context.abortListeners=null,this.running.splice(i--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(i=>i.effects.some(o=>o.is(hN)))&&(this.pendingStart=!0);let s=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(i=>i.isPending&&!this.running.some(o=>o.active.source==i.source))?setTimeout(()=>this.startUpdate(),s):-1,this.composing!=0)for(let i of t.transactions)i.isUserEvent("input.type")?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(yi);for(let r of e.active)r.isPending&&!this.running.some(n=>n.active.source==r.source)&&this.startQuery(r);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Cs).updateSyncTime))}startQuery(t){let{state:e}=this.view,r=ph(e),n=new $Z(e,r,t.explicit,this.view),s=new pqe(t,n);this.running.push(s),Promise.resolve(t.source(n)).then(i=>{s.context.aborted||(s.done=i||null,this.scheduleAccept())},i=>{this.view.dispatch({effects:xT.of(null)}),Si(this.view.state,i)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Cs).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(Cs),n=this.view.state.field(yi);for(let s=0;s<this.running.length;s++){let i=this.running[s];if(i.done===void 0)continue;if(this.running.splice(s--,1),i.done){let a=ph(i.updates.length?i.updates[0].startState:this.view.state),l=Math.min(a,i.done.from+(i.active.explicit?0:1)),c=new Hm(i.active.source,i.active.explicit,l,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:a);for(let d of i.updates)c=c.update(d,r);if(c.hasResult()){e.push(c);continue}}let o=n.active.find(a=>a.source==i.active.source);if(o&&o.isPending)if(i.done==null){let a=new Yo(i.active.source,0);for(let l of i.updates)a=a.update(l,r);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:aP.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(yi,!1);if(e&&e.tooltip&&this.view.state.facet(Cs).closeOnBlur){let r=e.open&&qJ(this.view,e.open.tooltip);(!r||!r.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:xT.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:hN.of(!1)}),20),this.composing=0}}}),Sqe=typeof navigator=="object"&&/Win/.test(navigator.platform),vqe=ya.highest(ot.domEventHandlers({keydown(t,e){let r=e.state.field(yi,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||t.key.length>1||t.ctrlKey&&!(Sqe&&t.altKey)||t.metaKey)return!1;let n=r.open.options[r.open.selected],s=r.active.find(o=>o.source==n.source),i=n.completion.commitCharacters||s.result.commitCharacters;return i&&i.indexOf(t.key)>-1&&lP(e,n),!1}})),ZZ=ot.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class yqe{constructor(e,r,n,s){this.field=e,this.line=r,this.from=n,this.to=s}}class uP{constructor(e,r,n){this.field=e,this.from=r,this.to=n}map(e){let r=e.mapPos(this.from,-1,qn.TrackDel),n=e.mapPos(this.to,1,qn.TrackDel);return r==null||n==null?null:new uP(this.field,r,n)}}class dP{constructor(e,r){this.lines=e,this.fieldPositions=r}instantiate(e,r){let n=[],s=[r],i=e.doc.lineAt(r),o=/^\s*/.exec(i.text)[0];for(let l of this.lines){if(n.length){let c=o,d=/^\t*/.exec(l)[0].length;for(let h=0;h<d;h++)c+=e.facet(jm);s.push(r+c.length-d),l=c+l.slice(d)}n.push(l),r+=l.length+1}let a=this.fieldPositions.map(l=>new uP(l.field,s[l.line]+l.from,s[l.line]+l.to));return{text:n,ranges:a}}static parse(e){let r=[],n=[],s=[],i;for(let o of e.split(/\r\n?|\n/)){for(;i=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=i[1]?+i[1]:null,l=i[2]||i[3]||"",c=-1,d=l.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<r.length;h++)(a!=null?r[h].seq==a:d&&r[h].name==d)&&(c=h);if(c<0){let h=0;for(;h<r.length&&(a==null||r[h].seq!=null&&r[h].seq<a);)h++;r.splice(h,0,{seq:a,name:d}),c=h;for(let m of s)m.field>=c&&m.field++}s.push(new yqe(c,n.length,i.index,i.index+d.length)),o=o.slice(0,i.index)+l+o.slice(i.index+i[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let d of s)d.line==n.length&&d.from>c&&(d.from--,d.to--);return l}),n.push(o)}return new dP(n,s)}}let Aqe=Wt.widget({widget:new class extends Ec{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),Rqe=Wt.mark({class:"cm-snippetField"});class Gm{constructor(e,r){this.ranges=e,this.active=r,this.deco=Wt.set(e.map(n=>(n.from==n.to?Aqe:Rqe).range(n.from,n.to)))}map(e){let r=[];for(let n of this.ranges){let s=n.map(e);if(!s)return null;r.push(s)}return new Gm(r,this.active)}selectionInsideField(e){return e.ranges.every(r=>this.ranges.some(n=>n.field==this.active&&n.from<=r.from&&n.to>=r.to))}}const wT=jt.define({map(t,e){return t&&t.map(e)}}),Nqe=jt.define(),OT=yn.define({create(){return null},update(t,e){for(let r of e.effects){if(r.is(wT))return r.value;if(r.is(Nqe)&&t)return new Gm(t.ranges,r.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>ot.decorations.from(t,e=>e?e.deco:Wt.none)});function hP(t,e){return Ve.create(t.filter(r=>r.field==e).map(r=>Ve.range(r.from,r.to)))}function bqe(t){let e=dP.parse(t);return(r,n,s,i)=>{let{text:o,ranges:a}=e.instantiate(r.state,s),{main:l}=r.state.selection,c={changes:{from:s,to:i==l.from?l.to:i,insert:Ir.of(o)},scrollIntoView:!0,annotations:n?[iP.of(n),Kn.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=hP(a,0)),a.some(d=>d.field>0)){let d=new Gm(a,0),h=c.effects=[wT.of(d)];r.state.field(OT,!1)===void 0&&h.push(jt.appendConfig.of([OT,xqe,Oqe,ZZ]))}r.dispatch(r.state.update(c))}}function eee(t){return({state:e,dispatch:r})=>{let n=e.field(OT,!1);if(!n||t<0&&n.active==0)return!1;let s=n.active+t,i=t>0&&!n.ranges.some(o=>o.field==s+t);return r(e.update({selection:hP(n.ranges,s),effects:wT.of(i?null:new Gm(n.ranges,s)),scrollIntoView:!0})),!0}}const tee=({state:t,dispatch:e})=>t.field(OT,!1)?(e(t.update({effects:wT.of(null)})),!0):!1,ree=eee(1),nee=eee(-1),Cqe=[{key:"Tab",run:ree,shift:nee},{key:"Escape",run:tee}],fP=pt.define({combine(t){return t.length?t[0]:Cqe}}),xqe=ya.highest(ba.compute([fP],t=>t.facet(fP)));function wqe(t,e){return Object.assign(Object.assign({},e),{apply:bqe(t)})}const Oqe=ot.domEventHandlers({mousedown(t,e){let r=e.state.field(OT,!1),n;if(!r||(n=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let s=r.ranges.find(i=>i.from<=n&&i.to>=n);return!s||s.field==r.active?!1:(e.dispatch({selection:hP(r.ranges,s.field),effects:wT.of(r.ranges.some(i=>i.field>s.field)?new Gm(r.ranges,s.field):null),scrollIntoView:!0}),!0)}}),IT={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Eh=jt.define({map(t,e){let r=e.mapPos(t,-1,qn.TrackAfter);return r??void 0}}),mP=new class extends ah{};mP.startSide=1,mP.endSide=-1;const see=yn.define({create(){return hr.empty},update(t,e){if(t=t.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:n=>n>=r.from&&n<=r.to})}for(let r of e.effects)r.is(Eh)&&(t=t.update({add:[mP.range(r.value,r.value+1)]}));return t}});function iee(){return[_qe,see]}const pP="()[]{}<>";function oee(t){for(let e=0;e<pP.length;e+=2)if(pP.charCodeAt(e)==t)return pP.charAt(e+1);return OD(t<128?t:t+1)}function aee(t,e){return t.languageDataAt("closeBrackets",e)[0]||IT}const Iqe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),_qe=ot.inputHandler.of((t,e,r,n)=>{if((Iqe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let s=t.state.selection.main;if(n.length>2||n.length==2&&fl(Bi(n,0))==1||e!=s.from||r!=s.to)return!1;let i=Dqe(t.state,n);return i?(t.dispatch(i),!0):!1}),Lqe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=aee(t,t.selection.main.head).brackets||IT.brackets,s=null,i=t.changeByRange(o=>{if(o.empty){let a=Mqe(t.doc,o.head);for(let l of n)if(l==a&&pN(t.doc,o.head)==oee(Bi(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:Ve.cursor(o.head-l.length)}}return{range:s=o}});return s||e(t.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!s};function Dqe(t,e){let r=aee(t,t.selection.main.head),n=r.brackets||IT.brackets;for(let s of n){let i=oee(Bi(s,0));if(e==s)return i==s?Uqe(t,s,n.indexOf(s+s+s)>-1,r):Pqe(t,s,i,r.before||IT.before);if(e==i&&lee(t,t.selection.main.from))return kqe(t,s,i)}return null}function lee(t,e){let r=!1;return t.field(see).between(0,t.doc.length,n=>{n==e&&(r=!0)}),r}function pN(t,e){let r=t.sliceString(e,e+2);return r.slice(0,fl(Bi(r,0)))}function Mqe(t,e){let r=t.sliceString(e-2,e);return fl(Bi(r,0))==r.length?r:r.slice(1)}function Pqe(t,e,r,n){let s=null,i=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:r,from:o.to}],effects:Eh.of(o.to+e.length),range:Ve.range(o.anchor+e.length,o.head+e.length)};let a=pN(t.doc,o.head);return!a||/\s/.test(a)||n.indexOf(a)>-1?{changes:{insert:e+r,from:o.head},effects:Eh.of(o.head+e.length),range:Ve.cursor(o.head+e.length)}:{range:s=o}});return s?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function kqe(t,e,r){let n=null,s=t.changeByRange(i=>i.empty&&pN(t.doc,i.head)==r?{changes:{from:i.head,to:i.head+r.length,insert:r},range:Ve.cursor(i.head+r.length)}:n={range:i});return n?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Uqe(t,e,r,n){let s=n.stringPrefixes||IT.stringPrefixes,i=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Eh.of(a.to+e.length),range:Ve.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=pN(t.doc,l),d;if(c==e){if(cee(t,l))return{changes:{insert:e+e,from:l},effects:Eh.of(l+e.length),range:Ve.cursor(l+e.length)};if(lee(t,l)){let m=r&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+m.length,insert:m},range:Ve.cursor(l+m.length)}}}else{if(r&&t.sliceDoc(l-2*e.length,l)==e+e&&(d=uee(t,l-2*e.length,s))>-1&&cee(t,d))return{changes:{insert:e+e+e+e,from:l},effects:Eh.of(l+e.length),range:Ve.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=Xn.Word&&uee(t,l,s)>-1&&!jqe(t,l,e,s))return{changes:{insert:e+e,from:l},effects:Eh.of(l+e.length),range:Ve.cursor(l+e.length)}}return{range:i=a}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function cee(t,e){let r=bs(t).resolveInner(e+1);return r.parent&&r.from==e}function jqe(t,e,r,n){let s=bs(t).resolveInner(e,-1),i=n.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(s.from,Math.min(s.to,s.from+r.length+i)),l=a.indexOf(r);if(!l||l>-1&&n.indexOf(a.slice(0,l))>-1){let d=s.firstChild;for(;d&&d.from==s.from&&d.to-d.from>r.length+l;){if(t.sliceDoc(d.to-r.length,d.to)==r)return!1;d=d.firstChild}return!0}let c=s.to==e&&s.parent;if(!c)break;s=c}return!1}function uee(t,e,r){let n=t.charCategorizer(e);if(n(t.sliceDoc(e-1,e))!=Xn.Word)return e;for(let s of r){let i=e-s.length;if(t.sliceDoc(i,e)==s&&n(t.sliceDoc(i-1,i))!=Xn.Word)return i}return-1}function Bqe(t={}){return[vqe,yi,Cs.of(t),Tqe,Hqe,ZZ]}const Fqe=[{key:"Ctrl-Space",run:$m},{mac:"Alt-`",run:$m},{key:"Escape",run:cP},{key:"ArrowDown",run:qo(!0)},{key:"ArrowUp",run:qo(!1)},{key:"PageDown",run:qo(!0,"page")},{key:"PageUp",run:qo(!1,"page")},{key:"Enter",run:mN}],Hqe=ya.highest(ba.computeN([Cs],t=>t.facet(Cs).defaultKeymap?[Fqe]:[]));function $qe(t){let e=t.field(yi,!1);return e&&e.active.some(r=>r.isPending)?"pending":e&&e.active.some(r=>r.state!=0)?"active":null}const EP=t=>{let{state:e}=t,r=e.doc.lineAt(e.selection.main.from),n=gP(t.state,r.from);return n.line?Gqe(t):n.block?Wqe(t):!1};function _T(t,e){return({state:r,dispatch:n})=>{if(r.readOnly)return!1;let s=t(e,r);return s?(n(r.update(s)),!0):!1}}const Gqe=_T(TP,0),Vqe=_T(TP,1),zqe=_T(TP,2),dee=_T(hee,0),Wqe=_T((t,e)=>hee(t,e,qqe(e)),0);function gP(t,e){let r=t.languageDataAt("commentTokens",e,1);return r.length?r[0]:{}}const LT=50;function Yqe(t,{open:e,close:r},n,s){let i=t.sliceDoc(n-LT,n),o=t.sliceDoc(s,s+LT),a=/\s*$/.exec(i)[0].length,l=/^\s*/.exec(o)[0].length,c=i.length-a;if(i.slice(c-e.length,c)==e&&o.slice(l,l+r.length)==r)return{open:{pos:n-a,margin:a&&1},close:{pos:s+l,margin:l&&1}};let d,h;s-n<=2*LT?d=h=t.sliceDoc(n,s):(d=t.sliceDoc(n,n+LT),h=t.sliceDoc(s-LT,s));let m=/^\s*/.exec(d)[0].length,f=/\s*$/.exec(h)[0].length,p=h.length-f-r.length;return d.slice(m,m+e.length)==e&&h.slice(p,p+r.length)==r?{open:{pos:n+m+e.length,margin:/\s/.test(d.charAt(m+e.length))?1:0},close:{pos:s-f-r.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function qqe(t){let e=[];for(let r of t.selection.ranges){let n=t.doc.lineAt(r.from),s=r.to<=n.to?n:t.doc.lineAt(r.to);s.from>n.from&&s.from==r.to&&(s=r.to==n.to+1?n:t.doc.lineAt(r.to-1));let i=e.length-1;i>=0&&e[i].to>n.from?e[i].to=s.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:s.to})}return e}function hee(t,e,r=e.selection.ranges){let n=r.map(i=>gP(e,i.from).block);if(!n.every(i=>i))return null;let s=r.map((i,o)=>Yqe(e,n[o],i.from,i.to));if(t!=2&&!s.every(i=>i))return{changes:e.changes(r.map((i,o)=>s[o]?[]:[{from:i.from,insert:n[o].open+" "},{from:i.to,insert:" "+n[o].close}]))};if(t!=1&&s.some(i=>i)){let i=[];for(let o=0,a;o<s.length;o++)if(a=s[o]){let l=n[o],{open:c,close:d}=a;i.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:d.pos-d.margin,to:d.pos+l.close.length})}return{changes:i}}return null}function TP(t,e,r=e.selection.ranges){let n=[],s=-1;for(let{from:i,to:o}of r){let a=n.length,l=1e9,c=gP(e,i).line;if(c){for(let d=i;d<=o;){let h=e.doc.lineAt(d);if(h.from>s&&(i==o||o>h.from)){s=h.from;let m=/^\s*/.exec(h.text)[0].length,f=m==h.length,p=h.text.slice(m,m+c.length)==c?m:-1;m<h.text.length&&m<l&&(l=m),n.push({line:h,comment:p,token:c,indent:m,empty:f,single:!1})}d=h.to+1}if(l<1e9)for(let d=a;d<n.length;d++)n[d].indent<n[d].line.text.length&&(n[d].indent=l);n.length==a+1&&(n[a].single=!0)}}if(t!=2&&n.some(i=>i.comment<0&&(!i.empty||i.single))){let i=[];for(let{line:a,token:l,indent:c,empty:d,single:h}of n)(h||!d)&&i.push({from:a.from+c,insert:l+" "});let o=e.changes(i);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&n.some(i=>i.comment>=0)){let i=[];for(let{line:o,comment:a,token:l}of n)if(a>=0){let c=o.from+a,d=c+l.length;o.text[d-o.from]==" "&&d++,i.push({from:c,to:d})}return{changes:i}}return null}const SP=pl.define(),Kqe=pl.define(),Xqe=pt.define(),fee=pt.define({combine(t){return El(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(n,s)=>e(n,s)||r(n,s)})}}),mee=yn.define({create(){return Rl.empty},update(t,e){let r=e.state.facet(fee),n=e.annotation(SP);if(n){let l=$i.fromTransaction(e,n.selection),c=n.side,d=c==0?t.undone:t.done;return l?d=TN(d,d.length,r.minDepth,l):d=gee(d,e.startState.selection),new Rl(c==0?n.rest:d,c==0?d:n.rest)}let s=e.annotation(Kqe);if((s=="full"||s=="before")&&(t=t.isolate()),e.annotation(Kn.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let i=$i.fromTransaction(e),o=e.annotation(Kn.time),a=e.annotation(Kn.userEvent);return i?t=t.addChanges(i,o,a,r,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,r.newGroupDelay)),(s=="full"||s=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Rl(t.done.map($i.fromJSON),t.undone.map($i.fromJSON))}});function vP(t={}){return[mee,fee.of(t),ot.domEventHandlers({beforeinput(e,r){let n=e.inputType=="historyUndo"?gN:e.inputType=="historyRedo"?Vm:null;return n?(e.preventDefault(),n(r)):!1}})]}function EN(t,e){return function({state:r,dispatch:n}){if(!e&&r.readOnly)return!1;let s=r.field(mee,!1);if(!s)return!1;let i=s.pop(t,r,e);return i?(n(i),!0):!1}}const gN=EN(0,!1),Vm=EN(1,!1),pee=EN(0,!0),Qqe=EN(1,!0);class $i{constructor(e,r,n,s,i){this.changes=e,this.effects=r,this.mapped=n,this.startSelection=s,this.selectionsAfter=i}setSelAfter(e){return new $i(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new $i(e.changes&&as.fromJSON(e.changes),[],e.mapped&&ml.fromJSON(e.mapped),e.startSelection&&Ve.fromJSON(e.startSelection),e.selectionsAfter.map(Ve.fromJSON))}static fromTransaction(e,r){let n=Ko;for(let s of e.startState.facet(Xqe)){let i=s(e);i.length&&(n=n.concat(i))}return!n.length&&e.changes.empty?null:new $i(e.changes.invert(e.startState.doc),n,void 0,r||e.startState.selection,Ko)}static selection(e){return new $i(void 0,Ko,void 0,void 0,e)}}function TN(t,e,r,n){let s=e+1>r+20?e-r-1:0,i=t.slice(s,e);return i.push(n),i}function Jqe(t,e){let r=[],n=!1;return t.iterChangedRanges((s,i)=>r.push(s,i)),e.iterChangedRanges((s,i,o,a)=>{for(let l=0;l<r.length;){let c=r[l++],d=r[l++];a>=c&&o<=d&&(n=!0)}}),n}function Zqe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((r,n)=>r.empty!=e.ranges[n].empty).length===0}function Eee(t,e){return t.length?e.length?t.concat(e):t:e}const Ko=[],eKe=200;function gee(t,e){if(t.length){let r=t[t.length-1],n=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-eKe));return n.length&&n[n.length-1].eq(e)?t:(n.push(e),TN(t,t.length-1,1e9,r.setSelAfter(n)))}else return[$i.selection([e])]}function tKe(t){let e=t[t.length-1],r=t.slice();return r[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function yP(t,e){if(!t.length)return t;let r=t.length,n=Ko;for(;r;){let s=rKe(t[r-1],e,n);if(s.changes&&!s.changes.empty||s.effects.length){let i=t.slice(0,r);return i[r-1]=s,i}else e=s.mapped,r--,n=s.selectionsAfter}return n.length?[$i.selection(n)]:Ko}function rKe(t,e,r){let n=Eee(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):Ko,r);if(!t.changes)return $i.selection(n);let s=t.changes.map(e),i=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(i):i;return new $i(s,jt.mapEffects(t.effects,e),o,t.startSelection.map(i),n)}const nKe=/^(input\.type|delete)($|\.)/;class Rl{constructor(e,r,n=0,s=void 0){this.done=e,this.undone=r,this.prevTime=n,this.prevUserEvent=s}isolate(){return this.prevTime?new Rl(this.done,this.undone):this}addChanges(e,r,n,s,i){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!n||nKe.test(n))&&(!a.selectionsAfter.length&&r-this.prevTime<s.newGroupDelay&&s.joinToEvent(i,Jqe(a.changes,e.changes))||n=="input.type.compose")?o=TN(o,o.length-1,s.minDepth,new $i(e.changes.compose(a.changes),Eee(jt.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,Ko)):o=TN(o,o.length,s.minDepth,e),new Rl(o,Ko,r,n)}addSelection(e,r,n,s){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:Ko;return i.length>0&&r-this.prevTime<s&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&Zqe(i[i.length-1],e)?this:new Rl(gee(this.done,e),this.undone,r,n)}addMapping(e){return new Rl(yP(this.done,e),yP(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,n){let s=e==0?this.done:this.undone;if(s.length==0)return null;let i=s[s.length-1],o=i.selectionsAfter[0]||r.selection;if(n&&i.selectionsAfter.length)return r.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:SP.of({side:e,rest:tKe(s),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let a=s.length==1?Ko:s.slice(0,s.length-1);return i.mapped&&(a=yP(a,i.mapped)),r.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:SP.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Rl.empty=new Rl(Ko,Ko);const AP=[{key:"Mod-z",run:gN,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Vm,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Vm,preventDefault:!0},{key:"Mod-u",run:pee,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Qqe,preventDefault:!0}];function zm(t,e){return Ve.create(t.ranges.map(e),t.mainIndex)}function Nl(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ca({state:t,dispatch:e},r){let n=zm(t.selection,r);return n.eq(t.selection,!0)?!1:(e(Nl(t,n)),!0)}function SN(t,e){return Ve.cursor(e?t.to:t.from)}function RP(t,e){return Ca(t,r=>r.empty?t.moveByChar(r,e):SN(r,e))}function ni(t){return t.textDirectionAt(t.state.selection.main.head)==Gr.LTR}const DT=t=>RP(t,!ni(t)),vN=t=>RP(t,ni(t)),sKe=t=>RP(t,!1);function Tee(t,e){return Ca(t,r=>r.empty?t.moveByGroup(r,e):SN(r,e))}const See=t=>Tee(t,!ni(t)),vee=t=>Tee(t,ni(t));function iKe(t,e,r){if(e.type.prop(r))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function yN(t,e,r){let n=bs(t).resolveInner(e.head),s=r?or.closedBy:or.openedBy;for(let l=e.head;;){let c=r?n.childAfter(l):n.childBefore(l);if(!c)break;iKe(t,c,s)?n=c:l=r?c.to:c.from}let i=n.type.prop(s),o,a;return i&&(o=r?Gu(t,n.from,1):Gu(t,n.to,-1))&&o.matched?a=r?o.end.to:o.end.from:a=r?n.to:n.from,Ve.cursor(a,r?-1:1)}const oKe=t=>Ca(t,e=>yN(t.state,e,!ni(t))),aKe=t=>Ca(t,e=>yN(t.state,e,ni(t)));function yee(t,e){return Ca(t,r=>{if(!r.empty)return SN(r,e);let n=t.moveVertically(r,e);return n.head!=r.head?n:t.moveToLineBoundary(r,e)})}const AN=t=>yee(t,!1),RN=t=>yee(t,!0);function Aee(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,n=0,s;if(e){for(let i of t.state.facet(ot.scrollMargins)){let o=i(t);o!=null&&o.top&&(r=Math.max(o==null?void 0:o.top,r)),o!=null&&o.bottom&&(n=Math.max(o==null?void 0:o.bottom,n))}s=t.scrollDOM.clientHeight-r-n}else s=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:n,selfScroll:e,height:Math.max(t.defaultLineHeight,s-5)}}function Ree(t,e){let r=Aee(t),{state:n}=t,s=zm(n.selection,o=>o.empty?t.moveVertically(o,e,r.height):SN(o,e));if(s.eq(n.selection))return!1;let i;if(r.selfScroll){let o=t.coordsAtPos(n.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+r.marginTop,c=a.bottom-r.marginBottom;o&&o.top>l&&o.bottom<c&&(i=ot.scrollIntoView(s.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(Nl(n,s),{effects:i}),!0}const MT=t=>Ree(t,!1),Wm=t=>Ree(t,!0);function Vu(t,e,r){let n=t.lineBlockAt(e.head),s=t.moveToLineBoundary(e,r);if(s.head==e.head&&s.head!=(r?n.to:n.from)&&(s=t.moveToLineBoundary(e,r,!1)),!r&&s.head==n.from&&n.length){let i=/^\s*/.exec(t.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;i&&e.head!=n.from+i&&(s=Ve.cursor(n.from+i))}return s}const NN=t=>Ca(t,e=>Vu(t,e,!0)),bN=t=>Ca(t,e=>Vu(t,e,!1)),lKe=t=>Ca(t,e=>Vu(t,e,!ni(t))),cKe=t=>Ca(t,e=>Vu(t,e,ni(t))),Nee=t=>Ca(t,e=>Ve.cursor(t.lineBlockAt(e.head).from,1)),bee=t=>Ca(t,e=>Ve.cursor(t.lineBlockAt(e.head).to,-1));function uKe(t,e,r){let n=!1,s=zm(t.selection,i=>{let o=Gu(t,i.head,-1)||Gu(t,i.head,1)||i.head>0&&Gu(t,i.head-1,1)||i.head<t.doc.length&&Gu(t,i.head+1,-1);if(!o||!o.end)return i;n=!0;let a=o.start.from==i.head?o.end.to:o.end.from;return Ve.cursor(a)});return n?(e(Nl(t,s)),!0):!1}const Cee=({state:t,dispatch:e})=>uKe(t,e);function Xo(t,e){let r=zm(t.state.selection,n=>{let s=e(n);return Ve.range(n.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return r.eq(t.state.selection)?!1:(t.dispatch(Nl(t.state,r)),!0)}function xee(t,e){return Xo(t,r=>t.moveByChar(r,e))}const CN=t=>xee(t,!ni(t)),xN=t=>xee(t,ni(t));function wee(t,e){return Xo(t,r=>t.moveByGroup(r,e))}const Oee=t=>wee(t,!ni(t)),Iee=t=>wee(t,ni(t)),dKe=t=>Xo(t,e=>yN(t.state,e,!ni(t))),hKe=t=>Xo(t,e=>yN(t.state,e,ni(t)));function _ee(t,e){return Xo(t,r=>t.moveVertically(r,e))}const wN=t=>_ee(t,!1),ON=t=>_ee(t,!0);function Lee(t,e){return Xo(t,r=>t.moveVertically(r,e,Aee(t).height))}const IN=t=>Lee(t,!1),_N=t=>Lee(t,!0),NP=t=>Xo(t,e=>Vu(t,e,!0)),bP=t=>Xo(t,e=>Vu(t,e,!1)),fKe=t=>Xo(t,e=>Vu(t,e,!ni(t))),mKe=t=>Xo(t,e=>Vu(t,e,ni(t))),Dee=t=>Xo(t,e=>Ve.cursor(t.lineBlockAt(e.head).from)),Mee=t=>Xo(t,e=>Ve.cursor(t.lineBlockAt(e.head).to)),LN=({state:t,dispatch:e})=>(e(Nl(t,{anchor:0})),!0),DN=({state:t,dispatch:e})=>(e(Nl(t,{anchor:t.doc.length})),!0),MN=({state:t,dispatch:e})=>(e(Nl(t,{anchor:t.selection.main.anchor,head:0})),!0),PN=({state:t,dispatch:e})=>(e(Nl(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Pee=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),kee=({state:t,dispatch:e})=>{let r=BN(t).map(({from:n,to:s})=>Ve.range(n,Math.min(s+1,t.doc.length)));return e(t.update({selection:Ve.create(r),userEvent:"select"})),!0},pKe=({state:t,dispatch:e})=>{let r=zm(t.selection,n=>{let s=bs(t),i=s.resolveStack(n.from,1);if(n.empty){let o=s.resolveStack(n.from,-1);o.node.from>=i.node.from&&o.node.to<=i.node.to&&(i=o)}for(let o=i;o;o=o.next){let{node:a}=o;if((a.from<n.from&&a.to>=n.to||a.to>n.to&&a.from<=n.from)&&o.next)return Ve.range(a.to,a.from)}return n});return r.eq(t.selection)?!1:(e(Nl(t,r)),!0)},EKe=({state:t,dispatch:e})=>{let r=t.selection,n=null;return r.ranges.length>1?n=Ve.create([r.main]):r.main.empty||(n=Ve.create([Ve.cursor(r.main.head)])),n?(e(Nl(t,n)),!0):!1};function Ym(t,e){if(t.state.readOnly)return!1;let r="delete.selection",{state:n}=t,s=n.changeByRange(i=>{let{from:o,to:a}=i;if(o==a){let l=e(i);l<o?(r="delete.backward",l=kN(t,l,!1)):l>o&&(r="delete.forward",l=kN(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=kN(t,o,!1),a=kN(t,a,!0);return o==a?{range:i}:{changes:{from:o,to:a},range:Ve.cursor(o,o<i.head?-1:1)}});return s.changes.empty?!1:(t.dispatch(n.update(s,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?ot.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function kN(t,e,r){if(t instanceof ot)for(let n of t.state.facet(ot.atomicRanges).map(s=>s(t)))n.between(e,e,(s,i)=>{s<e&&i>e&&(e=r?i:s)});return e}const Uee=(t,e,r)=>Ym(t,n=>{let s=n.from,{state:i}=t,o=i.doc.lineAt(s),a,l;if(r&&!e&&s>o.from&&s<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,s-o.from))){if(a[a.length-1]=="	")return s-1;let c=iT(a,i.tabSize),d=c%Bm(i)||Bm(i);for(let h=0;h<d&&a[a.length-1-h]==" ";h++)s--;l=s}else l=Hs(o.text,s-o.from,e,e)+o.from,l==s&&o.number!=(e?i.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,s-o.from))&&(l=Hs(o.text,l-o.from,!1,!1)+o.from);return l}),qm=t=>Uee(t,!1,!0),UN=t=>Uee(t,!0,!1),jee=(t,e)=>Ym(t,r=>{let n=r.head,{state:s}=t,i=s.doc.lineAt(n),o=s.charCategorizer(n);for(let a=null;;){if(n==(e?i.to:i.from)){n==r.head&&i.number!=(e?s.doc.lines:1)&&(n+=e?1:-1);break}let l=Hs(i.text,n-i.from,e)+i.from,c=i.text.slice(Math.min(n,l)-i.from,Math.max(n,l)-i.from),d=o(c);if(a!=null&&d!=a)break;(c!=" "||n!=r.head)&&(a=d),n=l}return n}),jN=t=>jee(t,!1),Bee=t=>jee(t,!0),CP=t=>Ym(t,e=>{let r=t.lineBlockAt(e.head).to;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),gKe=t=>Ym(t,e=>{let r=t.lineBlockAt(e.head).from;return e.head>r?r:Math.max(0,e.head-1)}),TKe=t=>Ym(t,e=>{let r=t.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),SKe=t=>Ym(t,e=>{let r=t.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),xP=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:Ir.of(["",""])},range:Ve.cursor(n.from)}));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},Fee=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>{if(!n.empty||n.from==0||n.from==t.doc.length)return{range:n};let s=n.from,i=t.doc.lineAt(s),o=s==i.from?s-1:Hs(i.text,s-i.from,!1)+i.from,a=s==i.to?s+1:Hs(i.text,s-i.from,!0)+i.from;return{changes:{from:o,to:a,insert:t.doc.slice(s,a).append(t.doc.slice(o,s))},range:Ve.cursor(a)}});return r.changes.empty?!1:(e(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function BN(t){let e=[],r=-1;for(let n of t.selection.ranges){let s=t.doc.lineAt(n.from),i=t.doc.lineAt(n.to);if(!n.empty&&n.to==i.from&&(i=t.doc.lineAt(n.to-1)),r>=s.number){let o=e[e.length-1];o.to=i.to,o.ranges.push(n)}else e.push({from:s.from,to:i.to,ranges:[n]});r=i.number+1}return e}function Hee(t,e,r){if(t.readOnly)return!1;let n=[],s=[];for(let i of BN(t)){if(r?i.to==t.doc.length:i.from==0)continue;let o=t.doc.lineAt(r?i.to+1:i.from-1),a=o.length+1;if(r){n.push({from:i.to,to:o.to},{from:i.from,insert:o.text+t.lineBreak});for(let l of i.ranges)s.push(Ve.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{n.push({from:o.from,to:i.from},{from:i.to,insert:t.lineBreak+o.text});for(let l of i.ranges)s.push(Ve.range(l.anchor-a,l.head-a))}}return n.length?(e(t.update({changes:n,scrollIntoView:!0,selection:Ve.create(s,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const $ee=({state:t,dispatch:e})=>Hee(t,e,!1),Gee=({state:t,dispatch:e})=>Hee(t,e,!0);function Vee(t,e,r){if(t.readOnly)return!1;let n=[];for(let s of BN(t))r?n.push({from:s.from,insert:t.doc.slice(s.from,s.to)+t.lineBreak}):n.push({from:s.to,insert:t.lineBreak+t.doc.slice(s.from,s.to)});return e(t.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const zee=({state:t,dispatch:e})=>Vee(t,e,!1),Wee=({state:t,dispatch:e})=>Vee(t,e,!0),Yee=t=>{if(t.state.readOnly)return!1;let{state:e}=t,r=e.changes(BN(e).map(({from:s,to:i})=>(s>0?s--:i<e.doc.length&&i++,{from:s,to:i}))),n=zm(e.selection,s=>{let i;if(t.lineWrapping){let o=t.lineBlockAt(s.head),a=t.coordsAtPos(s.head,s.assoc||1);a&&(i=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(s,!0,i)}).map(r);return t.dispatch({changes:r,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function vKe(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=bs(t).resolveInner(e),n=r.childBefore(e),s=r.childAfter(e),i;return n&&s&&n.to<=e&&s.from>=e&&(i=n.type.prop(or.closedBy))&&i.indexOf(s.name)>-1&&t.doc.lineAt(n.to).from==t.doc.lineAt(s.from).from&&!/\S/.test(t.sliceDoc(n.to,s.from))?{from:n.to,to:s.from}:null}const PT=qee(!1),yKe=qee(!0);function qee(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let n=e.changeByRange(s=>{let{from:i,to:o}=s,a=e.doc.lineAt(i),l=!t&&i==o&&vKe(e,i);t&&(i=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new lN(e,{simulateBreak:i,simulateDoubleBreak:!!l}),d=bZ(c,i);for(d==null&&(d=iT(/^\s*/.exec(e.doc.lineAt(i).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:i,to:o}=l:i>a.from&&i<a.from+100&&!/\S/.test(a.text.slice(0,i))&&(i=a.from);let h=["",aN(e,d)];return l&&h.push(aN(e,c.lineIndent(a.from,-1))),{changes:{from:i,to:o,insert:Ir.of(h)},range:Ve.cursor(i+1+h[1].length)}});return r(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function wP(t,e){let r=-1;return t.changeByRange(n=>{let s=[];for(let o=n.from;o<=n.to;){let a=t.doc.lineAt(o);a.number>r&&(n.empty||n.to>a.from)&&(e(a,s,n),r=a.number),o=a.to+1}let i=t.changes(s);return{changes:s,range:Ve.range(i.mapPos(n.anchor,1),i.mapPos(n.head,1))}})}const Kee=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=Object.create(null),n=new lN(t,{overrideIndentation:i=>{let o=r[i];return o??-1}}),s=wP(t,(i,o,a)=>{let l=bZ(n,i.from);if(l==null)return;/\S/.test(i.text)||(l=0);let c=/^\s*/.exec(i.text)[0],d=aN(t,l);(c!=d||a.from<i.from+c.length)&&(r[i.from]=l,o.push({from:i.from,to:i.from+c.length,insert:d}))});return s.changes.empty||e(t.update(s,{userEvent:"indent"})),!0},kT=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(wP(t,(r,n)=>{n.push({from:r.from,insert:t.facet(jm)})}),{userEvent:"input.indent"})),!0),UT=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(wP(t,(r,n)=>{let s=/^\s*/.exec(r.text)[0];if(!s)return;let i=iT(s,t.tabSize),o=0,a=aN(t,Math.max(0,i-Bm(t)));for(;o<s.length&&o<a.length&&s.charCodeAt(o)==a.charCodeAt(o);)o++;n.push({from:r.from+o,to:r.from+s.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),AKe=t=>(t.setTabFocusMode(),!0),RKe=[{key:"Ctrl-b",run:DT,shift:CN,preventDefault:!0},{key:"Ctrl-f",run:vN,shift:xN},{key:"Ctrl-p",run:AN,shift:wN},{key:"Ctrl-n",run:RN,shift:ON},{key:"Ctrl-a",run:Nee,shift:Dee},{key:"Ctrl-e",run:bee,shift:Mee},{key:"Ctrl-d",run:UN},{key:"Ctrl-h",run:qm},{key:"Ctrl-k",run:CP},{key:"Ctrl-Alt-h",run:jN},{key:"Ctrl-o",run:xP},{key:"Ctrl-t",run:Fee},{key:"Ctrl-v",run:Wm}],NKe=[{key:"ArrowLeft",run:DT,shift:CN,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:See,shift:Oee,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:lKe,shift:fKe,preventDefault:!0},{key:"ArrowRight",run:vN,shift:xN,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:vee,shift:Iee,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cKe,shift:mKe,preventDefault:!0},{key:"ArrowUp",run:AN,shift:wN,preventDefault:!0},{mac:"Cmd-ArrowUp",run:LN,shift:MN},{mac:"Ctrl-ArrowUp",run:MT,shift:IN},{key:"ArrowDown",run:RN,shift:ON,preventDefault:!0},{mac:"Cmd-ArrowDown",run:DN,shift:PN},{mac:"Ctrl-ArrowDown",run:Wm,shift:_N},{key:"PageUp",run:MT,shift:IN},{key:"PageDown",run:Wm,shift:_N},{key:"Home",run:bN,shift:bP,preventDefault:!0},{key:"Mod-Home",run:LN,shift:MN},{key:"End",run:NN,shift:NP,preventDefault:!0},{key:"Mod-End",run:DN,shift:PN},{key:"Enter",run:PT,shift:PT},{key:"Mod-a",run:Pee},{key:"Backspace",run:qm,shift:qm},{key:"Delete",run:UN},{key:"Mod-Backspace",mac:"Alt-Backspace",run:jN},{key:"Mod-Delete",mac:"Alt-Delete",run:Bee},{mac:"Mod-Backspace",run:TKe},{mac:"Mod-Delete",run:SKe}].concat(RKe.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),OP=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:oKe,shift:dKe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:aKe,shift:hKe},{key:"Alt-ArrowUp",run:$ee},{key:"Shift-Alt-ArrowUp",run:zee},{key:"Alt-ArrowDown",run:Gee},{key:"Shift-Alt-ArrowDown",run:Wee},{key:"Escape",run:EKe},{key:"Mod-Enter",run:yKe},{key:"Alt-l",mac:"Ctrl-l",run:kee},{key:"Mod-i",run:pKe,preventDefault:!0},{key:"Mod-[",run:UT},{key:"Mod-]",run:kT},{key:"Mod-Alt-\\",run:Kee},{key:"Shift-Mod-k",run:Yee},{key:"Shift-Mod-\\",run:Cee},{key:"Mod-/",run:EP},{key:"Alt-A",run:dee},{key:"Ctrl-m",mac:"Shift-Alt-m",run:AKe}].concat(NKe),IP={key:"Tab",run:kT,shift:UT};var Xee={};class FN{constructor(e,r,n,s,i,o,a,l,c,d=0,h){this.p=e,this.stack=r,this.state=n,this.reducePos=s,this.pos=i,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=d,this.parent=h}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,n=0){let s=e.parser.context;return new FN(e,[],r,n,n,0,[],0,s?new Qee(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let n=e>>19,s=e&65535,{parser:i}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=i.dynamicPrecedence(s);if(a&&(this.score+=a),n==0){this.pushState(i.getGoto(this.state,s,!0),this.reducePos),s<i.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(s,this.reducePos);return}let l=this.stack.length-(n-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,d=this.reducePos-c;d>=2e3&&!(!((r=this.p.parser.nodeSet.types[s])===null||r===void 0)&&r.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=d));let h=l?this.stack[l-1]:0,m=this.bufferBase+this.buffer.length-h;if(s<i.minRepeatTerm||e&131072){let f=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,c,f,m+4,!0)}if(e&262144)this.state=this.stack[l];else{let f=this.stack[l-3];this.state=i.getGoto(f,s,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(s,c)}storeNode(e,r,n,s=4,i=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(r==n)return;if(o.buffer[a-2]>=r){o.buffer[a-2]=n;return}}}if(!i||this.pos==n)this.buffer.push(e,r,n,s);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>n;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>n;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,s>4&&(s-=4)}this.buffer[o]=e,this.buffer[o+1]=r,this.buffer[o+2]=n,this.buffer[o+3]=s}}shift(e,r,n,s){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=s,this.shiftContext(r,n),r<=this.p.parser.maxNode&&this.buffer.push(r,n,s,4);else{let i=e,{parser:o}=this.p;(s>this.pos||r<=o.maxNode)&&(this.pos=s,o.stateFlag(i,1)||(this.reducePos=s)),this.pushState(i,n),this.shiftContext(r,n),r<=o.maxNode&&this.buffer.push(r,n,s,4)}}apply(e,r,n,s){e&65536?this.reduce(e):this.shift(e,r,n,s)}useNode(e,r){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(r,s),this.buffer.push(n,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let n=e.buffer.slice(r),s=e.bufferBase+r;for(;e&&s==e.bufferBase;)e=e.parent;return new FN(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,n?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new bKe(this);;){let n=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(n==0)return!1;if(!(n&65536))return!0;r.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let s=[];for(let i=0,o;i<r.length;i+=2)(o=r[i+1])!=this.state&&this.p.parser.hasAction(o,e)&&s.push(r[i],o);if(this.stack.length<120)for(let i=0;s.length<8&&i<r.length;i+=2){let o=r[i+1];s.some((a,l)=>l&1&&a==o)||s.push(r[i],o)}r=s}let n=[];for(let s=0;s<r.length&&n.length<4;s+=2){let i=r[s+1];if(i==this.state)continue;let o=this.split();o.pushState(i,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(r[s],this.pos),o.reducePos=this.pos,o.score-=200,n.push(o)}return n}forceReduce(){let{parser:e}=this.p,r=e.stateSlot(this.state,5);if(!(r&65536))return!1;if(!e.validAction(this.state,r)){let n=r>>19,s=r&65535,i=this.stack.length-n*3;if(i<0||e.getGoto(this.stack[i],s,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;r=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:e}=this.p,r=[],n=(s,i)=>{if(!r.includes(s))return r.push(s),e.allActions(s,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-i;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=n(o,i+1);if(a!=null)return a}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new Qee(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Qee{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}}class bKe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=s}}class HN{constructor(e,r,n){this.stack=e,this.pos=r,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new HN(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new HN(this.stack,this.pos,this.index)}}function $N(t,e=Uint16Array){if(typeof t!="string")return t;let r=null;for(let n=0,s=0;n<t.length;){let i=0;for(;;){let o=t.charCodeAt(n++),a=!1;if(o==126){i=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),i+=l,a)break;i*=46}r?r[s++]=i:r=new e(i)}return r}class GN{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Jee=new GN;class CKe{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Jee,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let n=this.range,s=this.rangeIndex,i=this.pos+e;for(;i<n.from;){if(!s)return null;let o=this.ranges[--s];i-=n.from-o.to,n=o}for(;r<0?i>n.to:i>=n.to;){if(s==this.ranges.length-1)return null;let o=this.ranges[++s];i+=o.from-n.to,n=o}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,n,s;if(r>=0&&r<this.chunk.length)n=this.pos+e,s=this.chunk.charCodeAt(r);else{let i=this.resolveOffset(e,1);if(i==null)return-1;if(n=i,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=n;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-n)),s=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),s}acceptToken(e,r=0){let n=r?this.resolveOffset(r,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,r){this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=Jee,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let n="";for(let s of this.ranges){if(s.from>=r)break;s.to>e&&(n+=this.input.read(Math.max(s.from,e),Math.min(s.to,r)))}return n}}class Km{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:n}=r.p;wKe(this.data,e,r,this.id,n.data,n.tokenPrecTable)}}Km.prototype.contextual=Km.prototype.fallback=Km.prototype.extend=!1,Km.prototype.fallback=Km.prototype.extend=!1;class xKe{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function wKe(t,e,r,n,s,i){let o=0,a=1<<n,{dialect:l}=r.p.parser;e:for(;a&t[o];){let c=t[o+1];for(let f=o+3;f<c;f+=2)if((t[f+1]&a)>0){let p=t[f];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||OKe(p,e.token.value,s,i))){e.acceptToken(p);break}}let d=e.next,h=0,m=t[o+2];if(e.next<0&&m>h&&t[c+m*3-3]==65535){o=t[c+m*3-1];continue e}for(;h<m;){let f=h+m>>1,p=c+f+(f<<1),E=t[p],g=t[p+1]||65536;if(d<E)m=f;else if(d>=g)h=f+1;else{o=t[p+2],e.advance();continue e}}break}}function Zee(t,e,r){for(let n=e,s;(s=t[n])!=65535;n++)if(s==r)return n-e;return-1}function OKe(t,e,r,n){let s=Zee(r,n,e);return s<0||Zee(r,n,t)<s}const co=typeof process<"u"&&Xee&&/\bparse\b/.test(Xee.LOG);let _P=null;function ete(t,e,r){let n=t.cursor(Ns.IncludeAnonymous);for(n.moveTo(e);;)if(!(r<0?n.childBefore(e):n.childAfter(e)))for(;;){if((r<0?n.to<e:n.from>e)&&!n.type.isError)return r<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(t.length,Math.max(n.from+1,e+25));if(r<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return r<0?0:t.length}}class IKe{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?ete(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?ete(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let n=this.trees[r],s=this.index[r];if(s==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=n.children[s],o=this.start[r]+n.positions[s];if(o>e)return this.nextStart=o,null;if(i instanceof Jn){if(o==e){if(o<this.safeFrom)return null;let a=o+i.length;if(a<=this.safeTo){let l=i.prop(or.lookAhead);if(!l||a+l<this.fragment.to)return i}}this.index[r]++,o+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(o),this.index.push(0))}else this.index[r]++,this.nextStart=o+i.length}}}class _Ke{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new GN)}getActions(e){let r=0,n=null,{parser:s}=e.p,{tokenizers:i}=s,o=s.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<i.length;c++){if(!(1<<c&o))continue;let d=i[c],h=this.tokens[c];if(!(n&&!d.fallback)&&((d.contextual||h.start!=e.pos||h.mask!=o||h.context!=a)&&(this.updateCachedToken(h,d,e),h.mask=o,h.context=a),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let m=r;if(h.extended>-1&&(r=this.addActions(e,h.extended,h.end,r)),r=this.addActions(e,h.value,h.end,r),!d.extend&&(n=h,r>m))break}}for(;this.actions.length>r;)this.actions.pop();return l&&e.setLookAhead(l),!n&&e.pos==this.stream.end&&(n=new GN,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,r=this.addActions(e,n.value,n.end,r)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new GN,{pos:n,p:s}=e;return r.start=n,r.end=Math.min(n+1,s.stream.end),r.value=n==s.stream.end?s.parser.eofTerm:0,r}updateCachedToken(e,r,n){let s=this.stream.clipPos(n.pos);if(r.token(this.stream.reset(s,e),n),e.value>-1){let{parser:i}=n.p;for(let o=0;o<i.specialized.length;o++)if(i.specialized[o]==e.value){let a=i.specializers[o](this.stream.read(e.start,e.end),n);if(a>=0&&n.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,r,n,s){for(let i=0;i<s;i+=3)if(this.actions[i]==e)return s;return this.actions[s++]=e,this.actions[s++]=r,this.actions[s++]=n,s}addActions(e,r,n,s){let{state:i}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(i,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=vc(a,c+2);else{s==0&&a[c+1]==2&&(s=this.putAction(vc(a,c+2),r,n,s));break}a[c]==r&&(s=this.putAction(vc(a,c+1),r,n,s))}return s}}class LKe{constructor(e,r,n,s){this.parser=e,this.input=r,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new CKe(r,s),this.tokens=new _Ke(e,this.stream),this.topTerm=e.top[1];let{from:i}=s[0];this.stacks=[FN.start(this,e.top[0],i)],this.fragments=n.length&&this.stream.end-i>e.bufferLength*4?new IKe(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,n=this.stacks=[],s,i;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>r)n.push(a);else{if(this.advanceStack(a,n,e))continue;{s||(s=[],i=[]),s.push(a);let l=this.tokens.getMainToken(a);i.push(l.value,l.end)}}break}}if(!n.length){let o=s&&MKe(s);if(o)return co&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw co&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&s){let o=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,i,n);if(o)return co&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(n.length>o)for(n.sort((a,l)=>l.score-a.score);n.length>o;)n.pop();n.some(a=>a.reducePos>r)&&this.recovering--}else if(n.length>1){e:for(let o=0;o<n.length-1;o++){let a=n[o];for(let l=o+1;l<n.length;l++){let c=n[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)n.splice(l--,1);else{n.splice(o--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let o=1;o<n.length;o++)n[o].pos<this.minStackPos&&(this.minStackPos=n[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,n){let s=e.pos,{parser:i}=this,o=co?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,d=c?e.curContext.hash:0;for(let h=this.fragments.nodeAt(s);h;){let m=this.parser.nodeSet.types[h.type.id]==h.type?i.getGoto(e.state,h.type.id):-1;if(m>-1&&h.length&&(!c||(h.prop(or.contextHash)||0)==d))return e.useNode(h,m),co&&console.log(o+this.stackID(e)+` (via reuse of ${i.getName(h.type.id)})`),!0;if(!(h instanceof Jn)||h.children.length==0||h.positions[0]>0)break;let f=h.children[0];if(f instanceof Jn&&h.positions[0]==0)h=f;else break}}let a=i.stateSlot(e.state,4);if(a>0)return e.reduce(a),co&&console.log(o+this.stackID(e)+` (via always-reduce ${i.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let d=l[c++],h=l[c++],m=l[c++],f=c==l.length||!n,p=f?e:e.split(),E=this.tokens.mainToken;if(p.apply(d,h,E?E.start:p.pos,m),co&&console.log(o+this.stackID(p)+` (via ${d&65536?`reduce of ${i.getName(d&65535)}`:"shift"} for ${i.getName(h)} @ ${s}${p==e?"":", split"})`),f)return!0;p.pos>s?r.push(p):n.push(p)}return!1}advanceFully(e,r){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return tte(e,r),!0}}runRecovery(e,r,n){let s=null,i=!1;for(let o=0;o<e.length;o++){let a=e[o],l=r[o<<1],c=r[(o<<1)+1],d=co?this.stackID(a)+" -> ":"";if(a.deadEnd&&(i||(i=!0,a.restart(),co&&console.log(d+this.stackID(a)+" (restarted)"),this.advanceFully(a,n))))continue;let h=a.split(),m=d;for(let f=0;h.forceReduce()&&f<10&&(co&&console.log(m+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,n));f++)co&&(m=this.stackID(h)+" -> ");for(let f of a.recoverByInsert(l))co&&console.log(d+this.stackID(f)+" (via recover-insert)"),this.advanceFully(f,n);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),co&&console.log(d+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),tte(a,n)):(!s||s.score<a.score)&&(s=a)}return s}stackToTree(e){return e.close(),Jn.build({buffer:HN.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=(_P||(_P=new WeakMap)).get(e);return r||_P.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}}function tte(t,e){for(let r=0;r<e.length;r++){let n=e[r];if(n.pos==t.pos&&n.sameState(t)){e[r].score<t.score&&(e[r]=t);return}}e.push(t)}class DKe{constructor(e,r,n){this.source=e,this.flags=r,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}class jT extends pZ{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let a=0;a<e.repeatNodeCount;a++)r.push("");let n=Object.keys(e.topRules).map(a=>e.topRules[a][1]),s=[];for(let a=0;a<r.length;a++)s.push([]);function i(a,l,c){s[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=or[l]);for(let c=1;c<a.length;){let d=a[c++];if(d>=0)i(d,l,a[c++]);else{let h=a[c+-d];for(let m=-d;m>0;m--)i(a[c++],l,h);c++}}}this.nodeSet=new UM(r.map((a,l)=>Hi.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:s[l],top:n.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=lZ;let o=$N(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(rte),this.states=$N(e.states,Uint32Array),this.data=$N(e.stateData),this.goto=$N(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Km(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,n){let s=new LKe(this,e,r,n);for(let i of this.wrappers)s=i(s,e,r,n);return s}getGoto(e,r,n=!1){let s=this.goto;if(r>=s[0])return-1;for(let i=s[r+1];;){let o=s[i++],a=o&1,l=s[i++];if(a&&n)return l;for(let c=i+(o>>1);i<c;i++)if(s[i]==e)return l;if(a)return-1}}hasAction(e,r){let n=this.data;for(let s=0;s<2;s++)for(let i=this.stateSlot(e,s?2:1),o;;i+=3){if((o=n[i])==65535)if(n[i+1]==1)o=n[i=vc(n,i+2)];else{if(n[i+1]==2)return vc(n,i+2);break}if(o==r||o==0)return vc(n,i+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){return!!this.allActions(e,n=>n==r?!0:null)}allActions(e,r){let n=this.stateSlot(e,4),s=n?r(n):void 0;for(let i=this.stateSlot(e,1);s==null;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=vc(this.data,i+2);else break;s=r(vc(this.data,i+1))}return s}nextStates(e){let r=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=vc(this.data,n+2);else break;if(!(this.data[n+2]&1)){let s=this.data[n+1];r.some((i,o)=>o&1&&i==s)||r.push(this.data[n],s)}}return r}configure(e){let r=Object.assign(Object.create(jT.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=n}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(n=>{let s=e.tokenizers.find(i=>i.from==n);return s?s.to:n})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((n,s)=>{let i=e.specializers.find(a=>a.from==n.external);if(!i)return n;let o=Object.assign(Object.assign({},n),{external:i.to});return r.specializers[s]=rte(o),o})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),n=r.map(()=>!1);if(e)for(let i of e.split(" ")){let o=r.indexOf(i);o>=0&&(n[o]=!0)}let s=null;for(let i=0;i<r.length;i++)if(!n[i])for(let o=this.dialects[r[i]],a;(a=this.data[o++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[a]=1;return new DKe(e,n,s)}static deserialize(e){return new jT(e)}}function vc(t,e){return t[e]|t[e+1]<<16}function MKe(t){let e=null;for(let r of t){let n=r.p.stoppedAt;(r.pos==r.p.stream.end||n!=null&&r.pos>n)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function rte(t){if(t.external){let e=t.extend?1:0;return(r,n)=>t.external(r,n)<<1|e}return t.get}const PKe=GM({String:me.string,Number:me.number,"True False":me.bool,PropertyName:me.propertyName,Null:me.null,", :":me.separator,"[ ]":me.squareBracket,"{ }":me.brace}),kKe=jT.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[PKe],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),UKe=()=>t=>{try{JSON.parse(t.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const r=jKe(e,t.state.doc);return[{from:r,message:e.message,severity:"error",to:r}]}return[]};function jKe(t,e){let r;return(r=t.message.match(/at position (\d+)/))?Math.min(+r[1],e.length):(r=t.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+r[1]).from+ +r[2]-1,e.length):0}const BKe=NT.define({name:"json",parser:kKe.configure({props:[qM.add({Object:XM({except:/^\s*\}/}),Array:XM({except:/^\s*\]/})}),QM.add({"Object Array":OYe})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function FKe(){return new NZ(BKe)}function zr(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var s=r[n];typeof s=="string"?t.setAttribute(n,s):s!=null&&(t[n]=s)}e++}for(;e<arguments.length;e++)nte(t,arguments[e]);return t}function nte(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)nte(t,e[r]);else throw new RangeError("Unsupported child node: "+e)}class ste{constructor(e,r,n){this.from=e,this.to=r,this.diagnostic=n}}class gh{constructor(e,r,n){this.diagnostics=e,this.panel=r,this.selected=n}static init(e,r,n){let s=n.facet(bl).markerFilter;s&&(e=s(e,n));let i=e.slice().sort((d,h)=>d.from-h.from||d.to-h.to),o=new Aa,a=[],l=0;for(let d=0;;){let h=d==i.length?null:i[d];if(!h&&!a.length)break;let m,f;for(a.length?(m=l,f=a.reduce((E,g)=>Math.min(E,g.to),h&&h.from>m?h.from:1e8)):(m=h.from,f=h.to,a.push(h),d++);d<i.length;){let E=i[d];if(E.from==m&&(E.to>E.from||E.to==m))a.push(E),d++,f=Math.min(E.to,f);else{f=Math.min(E.from,f);break}}let p=fte(a);if(a.some(E=>E.from==E.to||E.from==E.to-1&&n.doc.lineAt(E.from).to==E.from))o.add(m,m,Wt.widget({widget:new KKe(p),diagnostics:a.slice()}));else{let E=a.reduce((g,T)=>T.markClass?g+" "+T.markClass:g,"");o.add(m,f,Wt.mark({class:"cm-lintRange cm-lintRange-"+p+E,diagnostics:a.slice(),inclusiveEnd:a.some(g=>g.to>f)}))}l=f;for(let E=0;E<a.length;E++)a[E].to<=l&&a.splice(E--,1)}let c=o.finish();return new gh(c,r,Xm(c))}}function Xm(t,e=null,r=0){let n=null;return t.between(r,1e9,(s,i,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!n)n=new ste(s,i,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new ste(n.from,i,n.diagnostic)}}),n}function ite(t,e){let r=e.pos,n=e.end||r,s=t.state.facet(bl).hideOn(t,r,n);if(s!=null)return s;let i=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(VN))||t.changes.touchesRange(i.from,Math.max(i.to,n)))}function ote(t,e){return t.field(uo,!1)?e:e.concat(jt.appendConfig.of(Ete))}function HKe(t,e){return{effects:ote(t,[VN.of(e)])}}const VN=jt.define(),LP=jt.define(),ate=jt.define(),uo=yn.define({create(){return new gh(Wt.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let r=t.diagnostics.map(e.changes),n=null,s=t.panel;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);n=Xm(r,t.selected.diagnostic,i)||Xm(r,null,i)}!r.size&&s&&e.state.facet(bl).autoPanel&&(s=null),t=new gh(r,s,n)}for(let r of e.effects)if(r.is(VN)){let n=e.state.facet(bl).autoPanel?r.value.length?BT.open:null:t.panel;t=gh.init(r.value,n,e.state)}else r.is(LP)?t=new gh(t.diagnostics,r.value?BT.open:null,t.selected):r.is(ate)&&(t=new gh(t.diagnostics,t.panel,r.value));return t},provide:t=>[ku.from(t,e=>e.panel),ot.decorations.from(t,e=>e.diagnostics)]}),$Ke=Wt.mark({class:"cm-lintRange cm-lintRange-active"});function GKe(t,e,r){let{diagnostics:n}=t.state.field(uo),s,i=-1,o=-1;n.between(e-(r<0?1:0),e+(r>0?1:0),(l,c,{spec:d})=>{if(e>=l&&e<=c&&(l==c||(e>l||r>0)&&(e<c||r<0)))return s=d.diagnostics,i=l,o=c,!1});let a=t.state.facet(bl).tooltipFilter;return s&&a&&(s=a(s,t.state)),s?{pos:i,end:o,above:t.state.doc.lineAt(i).to<o,create(){return{dom:lte(t,s)}}}:null}function lte(t,e){return zr("ul",{class:"cm-tooltip-lint"},e.map(r=>dte(t,r,!1)))}const VKe=t=>{let e=t.state.field(uo,!1);(!e||!e.panel)&&t.dispatch({effects:ote(t.state,[LP.of(!0)])});let r=vT(t,BT.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},cte=t=>{let e=t.state.field(uo,!1);return!e||!e.panel?!1:(t.dispatch({effects:LP.of(!1)}),!0)},zKe=t=>{let e=t.state.field(uo,!1);if(!e)return!1;let r=t.state.selection.main,n=e.diagnostics.iter(r.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==r.from&&n.to==r.to)?!1:(t.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},WKe=kn.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(bl);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let t=Date.now();if(t<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:e}=this.view,{sources:r}=e.facet(bl);r.length&&YKe(r.map(n=>Promise.resolve(n(this.view))),n=>{this.view.state.doc==e.doc&&this.view.dispatch(HKe(this.view.state,n.reduce((s,i)=>s.concat(i))))},n=>{Si(this.view.state,n)})}}update(t){let e=t.state.facet(bl);(t.docChanged||e!=t.startState.facet(bl)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function YKe(t,e,r){let n=[],s=-1;for(let i of t)i.then(o=>{n.push(o),clearTimeout(s),n.length==t.length?e(n):s=setTimeout(()=>e(n),200)},r)}const bl=pt.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},El(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,r)=>e?r?n=>e(n)||r(n):e:r}))}});function qKe(t,e={}){return[bl.of({source:t,config:e}),WKe,Ete]}function ute(t){let e=[];if(t)e:for(let{name:r}of t){for(let n=0;n<r.length;n++){let s=r[n];if(/[a-zA-Z]/.test(s)&&!e.some(i=>i.toLowerCase()==s.toLowerCase())){e.push(s);continue e}}e.push("")}return e}function dte(t,e,r){var n;let s=r?ute(e.actions):[];return zr("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},zr("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((i,o)=>{let a=!1,l=m=>{if(m.preventDefault(),a)return;a=!0;let f=Xm(t.state.field(uo).diagnostics,e);f&&i.apply(t,f.from,f.to)},{name:c}=i,d=s[o]?c.indexOf(s[o]):-1,h=d<0?c:[c.slice(0,d),zr("u",c.slice(d,d+1)),c.slice(d+1)];return zr("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${d<0?"":` (access key "${s[o]})"`}.`},h)}),e.source&&zr("div",{class:"cm-diagnosticSource"},e.source))}class KKe extends Ec{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return zr("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class hte{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=dte(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class BT{constructor(e){this.view=e,this.items=[];let r=s=>{if(s.keyCode==27)cte(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:i}=this.items[this.selectedIndex],o=ute(i.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==s.keyCode){let l=Xm(this.view.state.field(uo).diagnostics,i);l&&i.actions[a].apply(e,l.from,l.to)}}else return;s.preventDefault()},n=s=>{for(let i=0;i<this.items.length;i++)this.items[i].dom.contains(s.target)&&this.moveSelection(i)};this.list=zr("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:n}),this.dom=zr("div",{class:"cm-panel-lint"},this.list,zr("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>cte(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(uo).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(uo),n=0,s=!1,i=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let d of c.diagnostics){if(o.has(d))continue;o.add(d);let h=-1,m;for(let f=n;f<this.items.length;f++)if(this.items[f].diagnostic==d){h=f;break}h<0?(m=new hte(this.view,d),this.items.splice(n,0,m),s=!0):(m=this.items[h],h>n&&(this.items.splice(n,h-n),s=!0)),r&&m.diagnostic==r.diagnostic?m.dom.hasAttribute("aria-selected")||(m.dom.setAttribute("aria-selected","true"),i=m):m.dom.hasAttribute("aria-selected")&&m.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new hte(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let e=this.list.firstChild;function r(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)r();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(uo),n=Xm(r.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:ate.of(n)})}static open(e){return new BT(e)}}function zN(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function WN(t){return zN(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const XKe=ot.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:WN("#d11")},".cm-lintRange-warning":{backgroundImage:WN("orange")},".cm-lintRange-info":{backgroundImage:WN("#999")},".cm-lintRange-hint":{backgroundImage:WN("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function QKe(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function fte(t){let e="hint",r=1;for(let n of t){let s=QKe(n.severity);s>r&&(r=s,e=n.severity)}return e}class mte extends Go{constructor(e){super(),this.diagnostics=e,this.severity=fte(e)}toDOM(e){let r=document.createElement("div");r.className="cm-lint-marker cm-lint-marker-"+this.severity;let n=this.diagnostics,s=e.state.facet(YN).tooltipFilter;return s&&(n=s(n,e.state)),n.length&&(r.onmouseover=()=>ZKe(e,r,n)),r}}function JKe(t,e){let r=n=>{let s=e.getBoundingClientRect();if(!(n.clientX>s.left-10&&n.clientX<s.right+10&&n.clientY>s.top-10&&n.clientY<s.bottom+10)){for(let i=n.target;i;i=i.parentNode)if(i.nodeType==1&&i.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",r),t.state.field(pte)&&t.dispatch({effects:MP.of(null)})}};window.addEventListener("mousemove",r)}function ZKe(t,e,r){function n(){let o=t.elementAtHeight(e.getBoundingClientRect().top+5-t.documentTop);t.coordsAtPos(o.from)&&t.dispatch({effects:MP.of({pos:o.from,above:!1,clip:!1,create(){return{dom:lte(t,r),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,JKe(t,e)}let{hoverTime:s}=t.state.facet(YN),i=setTimeout(n,s);e.onmouseout=()=>{clearTimeout(i),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(i),i=setTimeout(n,s)}}function eXe(t,e){let r=Object.create(null);for(let s of e){let i=t.lineAt(s.from);(r[i.from]||(r[i.from]=[])).push(s)}let n=[];for(let s in r)n.push(new mte(r[s]).range(+s));return hr.of(n,!0)}const tXe=QR({class:"cm-gutter-lint",markers:t=>t.state.field(DP),widgetMarker:(t,e,r)=>{let n=[];return t.state.field(DP).between(r.from,r.to,(s,i,o)=>{s>r.from&&s<r.to&&n.push(...o.diagnostics)}),n.length?new mte(n):null}}),DP=yn.define({create(){return hr.empty},update(t,e){t=t.map(e.changes);let r=e.state.facet(YN).markerFilter;for(let n of e.effects)if(n.is(VN)){let s=n.value;r&&(s=r(s||[],e.state)),t=eXe(e.state.doc,s.slice(0))}return t}}),MP=jt.define(),pte=yn.define({create(){return null},update(t,e){return t&&e.docChanged&&(t=ite(e,t)?null:Object.assign(Object.assign({},t),{pos:e.changes.mapPos(t.pos)})),e.effects.reduce((r,n)=>n.is(MP)?n.value:r,t)},provide:t=>zR.from(t)}),rXe=ot.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:zN('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:zN('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:zN('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),Ete=[uo,ot.decorations.compute([uo],t=>{let{selected:e,panel:r}=t.field(uo);return!e||!r||e.from==e.to?Wt.none:Wt.set([$Ke.range(e.from,e.to)])}),$We(GKe,{hideOn:ite}),XKe],YN=pt.define({combine(t){return El(t,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function nXe(t={}){return[YN.of(t),DP,tXe,rXe,pte]}const gte=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class FT{constructor(e,r,n=0,s=e.length,i,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,s),this.bufferStart=n,this.normalize=i?a=>i(gte(a)):gte,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Bi(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=OD(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=fl(e);let s=this.normalize(r);if(s.length)for(let i=0,o=n;;i++){let a=s.charCodeAt(i),l=this.match(a,o,this.bufferPos+this.bufferStart);if(i==s.length-1){if(l)return this.value=l,this;break}o==n&&i<r.length&&r.charCodeAt(i)==a&&o++}}}match(e,r,n){let s=null;for(let i=0;i<this.matches.length;i+=2){let o=this.matches[i],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?s={from:this.matches[i+1],to:n}:(this.matches[i]++,a=!0)),a||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?s={from:r,to:n}:this.matches.push(1,r)),s&&this.test&&!this.test(s.from,s.to,this.buffer,this.bufferStart)&&(s=null),s}}typeof Symbol<"u"&&(FT.prototype[Symbol.iterator]=function(){return this});const Tte={from:-1,to:-1,match:/.*/.exec("")},PP="gm"+(/x/.unicode==null?"":"u");class kP{constructor(e,r,n,s=0,i=e.length){if(this.text=e,this.to=i,this.curLine="",this.done=!1,this.value=Tte,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new Ste(e,r,n,s,i);this.re=new RegExp(r,PP+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.iter=e.iter();let o=e.lineAt(s);this.curLineStart=o.from,this.matchPos=qN(e,s),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let n=this.curLineStart+r.index,s=n+r[0].length;if(this.matchPos=qN(this.text,s+(n==s?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<s||n>this.value.to)&&(!this.test||this.test(n,s,r)))return this.value={from:n,to:s,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const UP=new WeakMap;class Qm{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,n){let s=UP.get(e);if(!s||s.from>=n||s.to<=r){let a=new Qm(r,e.sliceString(r,n));return UP.set(e,a),a}if(s.from==r&&s.to==n)return s;let{text:i,from:o}=s;return o>r&&(i=e.sliceString(r,o)+i,o=r),s.to<n&&(i+=e.sliceString(s.to,n)),UP.set(e,new Qm(o,i)),new Qm(r,i.slice(r-o,n-o))}}class Ste{constructor(e,r,n,s,i){this.text=e,this.to=i,this.done=!1,this.value=Tte,this.matchPos=qN(e,s),this.re=new RegExp(r,PP+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.flat=Qm.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let n=this.flat.from+r.index,s=n+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,s,r)))return this.value={from:n,to:s,match:r},this.matchPos=qN(this.text,s+(n==s?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Qm.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(kP.prototype[Symbol.iterator]=Ste.prototype[Symbol.iterator]=function(){return this});function sXe(t){try{return new RegExp(t,PP),!0}catch{return!1}}function qN(t,e){if(e>=t.length)return e;let r=t.lineAt(e),n;for(;e<r.to&&(n=r.text.charCodeAt(e-r.from))>=56320&&n<57344;)e++;return e}function jP(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),r=zr("input",{class:"cm-textfield",name:"line",value:e}),n=zr("form",{class:"cm-gotoLine",onkeydown:i=>{i.keyCode==27?(i.preventDefault(),t.dispatch({effects:HT.of(!1)}),t.focus()):i.keyCode==13&&(i.preventDefault(),s())},onsubmit:i=>{i.preventDefault(),s()}},zr("label",t.state.phrase("Go to line"),": ",r)," ",zr("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),zr("button",{name:"close",onclick:()=>{t.dispatch({effects:HT.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},[""]));function s(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!i)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,c,d,h]=i,m=d?+d.slice(1):0,f=c?+c:a.number;if(c&&h){let g=f/100;l&&(g=g*(l=="-"?-1:1)+a.number/o.doc.lines),f=Math.round(o.doc.lines*g)}else c&&l&&(f=f*(l=="-"?-1:1)+a.number);let p=o.doc.line(Math.max(1,Math.min(o.doc.lines,f))),E=Ve.cursor(p.from+Math.max(0,Math.min(m,p.length)));t.dispatch({effects:[HT.of(!1),ot.scrollIntoView(E.from,{y:"center"})],selection:E}),t.focus()}return{dom:n}}const HT=jt.define(),vte=yn.define({create(){return!0},update(t,e){for(let r of e.effects)r.is(HT)&&(t=r.value);return t},provide:t=>ku.from(t,e=>e?jP:null)}),iXe=t=>{let e=vT(t,jP);if(!e){let r=[HT.of(!0)];t.state.field(vte,!1)==null&&r.push(jt.appendConfig.of([vte,oXe])),t.dispatch({effects:r}),e=vT(t,jP)}return e&&e.dom.querySelector("input").select(),!0},oXe=ot.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),aXe=({state:t,dispatch:e})=>{let{selection:r}=t,n=Ve.create(r.ranges.map(s=>t.wordAt(s.head)||Ve.cursor(s.head)),r.mainIndex);return n.eq(r)?!1:(e(t.update({selection:n})),!0)};function lXe(t,e){let{main:r,ranges:n}=t.selection,s=t.wordAt(r.head),i=s&&s.from==r.from&&s.to==r.to;for(let o=!1,a=new FT(t.doc,e,n[n.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new FT(t.doc,e,0,Math.max(0,n[n.length-1].from-1)),o=!0}else{if(o&&n.some(l=>l.from==a.value.from))continue;if(i){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const cXe=({state:t,dispatch:e})=>{let{ranges:r}=t.selection;if(r.some(i=>i.from===i.to))return aXe({state:t,dispatch:e});let n=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some(i=>t.sliceDoc(i.from,i.to)!=n))return!1;let s=lXe(t,n);return s?(e(t.update({selection:t.selection.addRange(Ve.range(s.from,s.to),!1),effects:ot.scrollIntoView(s.to)})),!0):!1},Jm=pt.define({combine(t){return El(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new TXe(e),scrollToMatch:e=>ot.scrollIntoView(e)})}});class BP{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||sXe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new fXe(this):new dXe(this)}getCursor(e,r=0,n){let s=e.doc?e:_r.create({doc:e});return n==null&&(n=s.doc.length),this.regexp?ep(this,s,r,n):Zm(this,s,r,n)}}class yte{constructor(e){this.spec=e}}function Zm(t,e,r,n){return new FT(e.doc,t.unquoted,r,n,t.caseSensitive?void 0:s=>s.toLowerCase(),t.wholeWord?uXe(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function uXe(t,e){return(r,n,s,i)=>((i>r||i+s.length<n)&&(i=Math.max(0,r-2),s=t.sliceString(i,Math.min(t.length,n+2))),(e(KN(s,r-i))!=Xn.Word||e(XN(s,r-i))!=Xn.Word)&&(e(XN(s,n-i))!=Xn.Word||e(KN(s,n-i))!=Xn.Word))}class dXe extends yte{constructor(e){super(e)}nextMatch(e,r,n){let s=Zm(this.spec,e,n,e.doc.length).nextOverlapping();if(s.done){let i=Math.min(e.doc.length,r+this.spec.unquoted.length);s=Zm(this.spec,e,0,i).nextOverlapping()}return s.done||s.value.from==r&&s.value.to==n?null:s.value}prevMatchInRange(e,r,n){for(let s=n;;){let i=Math.max(r,s-1e4-this.spec.unquoted.length),o=Zm(this.spec,e,i,s),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(i==r)return null;s-=1e4}}prevMatch(e,r,n){let s=this.prevMatchInRange(e,0,r);return s||(s=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),s&&(s.from!=r||s.to!=n)?s:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let n=Zm(this.spec,e,0,e.doc.length),s=[];for(;!n.next().done;){if(s.length>=r)return null;s.push(n.value)}return s}highlight(e,r,n,s){let i=Zm(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!i.next().done;)s(i.value.from,i.value.to)}}function ep(t,e,r,n){return new kP(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?hXe(e.charCategorizer(e.selection.main.head)):void 0},r,n)}function KN(t,e){return t.slice(Hs(t,e,!1),e)}function XN(t,e){return t.slice(e,Hs(t,e))}function hXe(t){return(e,r,n)=>!n[0].length||(t(KN(n.input,n.index))!=Xn.Word||t(XN(n.input,n.index))!=Xn.Word)&&(t(XN(n.input,n.index+n[0].length))!=Xn.Word||t(KN(n.input,n.index+n[0].length))!=Xn.Word)}class fXe extends yte{nextMatch(e,r,n){let s=ep(this.spec,e,n,e.doc.length).next();return s.done&&(s=ep(this.spec,e,0,r).next()),s.done?null:s.value}prevMatchInRange(e,r,n){for(let s=1;;s++){let i=Math.max(r,n-s*1e4),o=ep(this.spec,e,i,n),a=null;for(;!o.next().done;)a=o.value;if(a&&(i==r||a.from>i+10))return a;if(i==r)return null}}prevMatch(e,r,n){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(r,n)=>{if(n=="&")return e.match[0];if(n=="$")return"$";for(let s=n.length;s>0;s--){let i=+n.slice(0,s);if(i>0&&i<e.match.length)return e.match[i]+n.slice(s)}return r})}matchAll(e,r){let n=ep(this.spec,e,0,e.doc.length),s=[];for(;!n.next().done;){if(s.length>=r)return null;s.push(n.value)}return s}highlight(e,r,n,s){let i=ep(this.spec,e,Math.max(0,r-250),Math.min(n+250,e.doc.length));for(;!i.next().done;)s(i.value.from,i.value.to)}}const zu=jt.define(),FP=jt.define(),Wu=yn.define({create(t){return new HP(GP(t).create(),null)},update(t,e){for(let r of e.effects)r.is(zu)?t=new HP(r.value.create(),t.panel):r.is(FP)&&(t=new HP(t.query,r.value?$P:null));return t},provide:t=>ku.from(t,e=>e.panel)});class HP{constructor(e,r){this.query=e,this.panel=r}}const mXe=Wt.mark({class:"cm-searchMatch"}),pXe=Wt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),EXe=kn.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Wu))}update(t){let e=t.state.field(Wu);(e!=t.startState.field(Wu)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Wt.none;let{view:r}=this,n=new Aa;for(let s=0,i=r.visibleRanges,o=i.length;s<o;s++){let{from:a,to:l}=i[s];for(;s<o-1&&l>i[s+1].from-2*250;)l=i[++s].to;t.highlight(r.state,a,l,(c,d)=>{let h=r.state.selection.ranges.some(m=>m.from==c&&m.to==d);n.add(c,d,h?pXe:mXe)})}return n.finish()}},{decorations:t=>t.decorations});function $T(t){return e=>{let r=e.state.field(Wu,!1);return r&&r.query.spec.valid?t(e,r):Ote(e)}}const Ate=$T((t,{query:e})=>{let{to:r}=t.state.selection.main,n=e.nextMatch(t.state,r,r);if(!n)return!1;let s=Ve.single(n.from,n.to),i=t.state.facet(Jm);return t.dispatch({selection:s,effects:[VP(t,n),i.scrollToMatch(s.main,t)],userEvent:"select.search"}),wte(t),!0}),Rte=$T((t,{query:e})=>{let{state:r}=t,{from:n}=r.selection.main,s=e.prevMatch(r,n,n);if(!s)return!1;let i=Ve.single(s.from,s.to),o=t.state.facet(Jm);return t.dispatch({selection:i,effects:[VP(t,s),o.scrollToMatch(i.main,t)],userEvent:"select.search"}),wte(t),!0}),Nte=$T((t,{query:e})=>{let r=e.matchAll(t.state,1e3);return!r||!r.length?!1:(t.dispatch({selection:Ve.create(r.map(n=>Ve.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),gXe=({state:t,dispatch:e})=>{let r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:n,to:s}=r.main,i=[],o=0;for(let a=new FT(t.doc,t.sliceDoc(n,s));!a.next().done;){if(i.length>1e3)return!1;a.value.from==n&&(o=i.length),i.push(Ve.range(a.value.from,a.value.to))}return e(t.update({selection:Ve.create(i,o),userEvent:"select.search.matches"})),!0},bte=$T((t,{query:e})=>{let{state:r}=t,{from:n,to:s}=r.selection.main;if(r.readOnly)return!1;let i=e.nextMatch(r,n,n);if(!i)return!1;let o=i,a=[],l,c,d=[];o.from==n&&o.to==s&&(c=r.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(r,o.from,o.to),d.push(ot.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(n).number)+".")));let h=t.state.changes(a);return o&&(l=Ve.single(o.from,o.to).map(h),d.push(VP(t,o)),d.push(r.facet(Jm).scrollToMatch(l.main,t))),t.dispatch({changes:h,selection:l,effects:d,userEvent:"input.replace"}),!0}),Cte=$T((t,{query:e})=>{if(t.state.readOnly)return!1;let r=e.matchAll(t.state,1e9).map(s=>{let{from:i,to:o}=s;return{from:i,to:o,insert:e.getReplacement(s)}});if(!r.length)return!1;let n=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:ot.announce.of(n),userEvent:"input.replace.all"}),!0});function $P(t){return t.state.facet(Jm).createPanel(t)}function GP(t,e){var r,n,s,i,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=t.facet(Jm);return new BP({search:((r=e==null?void 0:e.literal)!==null&&r!==void 0?r:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(n=e==null?void 0:e.caseSensitive)!==null&&n!==void 0?n:c.caseSensitive,literal:(s=e==null?void 0:e.literal)!==null&&s!==void 0?s:c.literal,regexp:(i=e==null?void 0:e.regexp)!==null&&i!==void 0?i:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function xte(t){let e=vT(t,$P);return e&&e.dom.querySelector("[main-field]")}function wte(t){let e=xte(t);e&&e==t.root.activeElement&&e.select()}const Ote=t=>{let e=t.state.field(Wu,!1);if(e&&e.panel){let r=xte(t);if(r&&r!=t.root.activeElement){let n=GP(t.state,e.query.spec);n.valid&&t.dispatch({effects:zu.of(n)}),r.focus(),r.select()}}else t.dispatch({effects:[FP.of(!0),e?zu.of(GP(t.state,e.query.spec)):jt.appendConfig.of(vXe)]});return!0},Ite=t=>{let e=t.state.field(Wu,!1);if(!e||!e.panel)return!1;let r=vT(t,$P);return r&&r.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:FP.of(!1)}),!0};class TXe{constructor(e){this.view=e;let r=this.query=e.state.field(Wu).query.spec;this.commit=this.commit.bind(this),this.searchField=zr("input",{value:r.search,placeholder:ho(e,"Find"),"aria-label":ho(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=zr("input",{value:r.replace,placeholder:ho(e,"Replace"),"aria-label":ho(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=zr("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=zr("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=zr("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function n(s,i,o){return zr("button",{class:"cm-button",name:s,onclick:i,type:"button"},o)}this.dom=zr("div",{onkeydown:s=>this.keydown(s),class:"cm-search"},[this.searchField,n("next",()=>Ate(e),[ho(e,"next")]),n("prev",()=>Rte(e),[ho(e,"previous")]),n("select",()=>Nte(e),[ho(e,"all")]),zr("label",null,[this.caseField,ho(e,"match case")]),zr("label",null,[this.reField,ho(e,"regexp")]),zr("label",null,[this.wordField,ho(e,"by word")]),...e.state.readOnly?[]:[zr("br"),this.replaceField,n("replace",()=>bte(e),[ho(e,"replace")]),n("replaceAll",()=>Cte(e),[ho(e,"replace all")])],zr("button",{name:"close",onclick:()=>Ite(e),"aria-label":ho(e,"close"),type:"button"},[""])])}commit(){let e=new BP({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:zu.of(e)}))}keydown(e){dh(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Rte:Ate)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),bte(this.view))}update(e){for(let r of e.transactions)for(let n of r.effects)n.is(zu)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Jm).top}}function ho(t,e){return t.state.phrase(e)}const QN=30,JN=/[\s\.,:;?!]/;function VP(t,{from:e,to:r}){let n=t.state.doc.lineAt(e),s=t.state.doc.lineAt(r).to,i=Math.max(n.from,e-QN),o=Math.min(s,r+QN),a=t.state.sliceDoc(i,o);if(i!=n.from){for(let l=0;l<QN;l++)if(!JN.test(a[l+1])&&JN.test(a[l])){a=a.slice(l);break}}if(o!=s){for(let l=a.length-1;l>a.length-QN;l--)if(!JN.test(a[l-1])&&JN.test(a[l])){a=a.slice(0,l);break}}return ot.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${n.number}.`)}const SXe=ot.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),vXe=[Wu,ya.low(EXe),SXe],yXe=[IM(),vP(),BJ(),$u(tP,{fallback:!0}),ba.of([...OP,...AP])],AXe=ot.baseTheme({"#json-editor &":{},"#json-editor & .cm-scroller":{paddingRight:"12px",flexGrow:1,"&:focus":{outline:"none"}},"#json-editor & .cm-tooltip-lint":{display:"flex",alignItems:"center",borderRadius:"0.375rem",minHeight:"26px",border:"none !important",padding:"3px 6px 3px 8px !important",fontSize:"12.8px",lineHeight:"1rem"},"#json-editor & .cm-tooltip-below":{borderRadius:"0.375rem",border:"none !important"},"#json-editor & .cm-diagnostic":{paddingLeft:"20px !important",backgroundRepeat:"no-repeat",backgroundPositionX:"2px",backgroundPositionY:"center"},"#json-editor & .cm-diagnostic-error":{backgroundImage:`url("data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='16' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M12 8C12 10.2091 10.2091 12 8 12C5.79086 12 4 10.2091 4 8C4 5.79086 5.79086 4 8 4C10.2091 4 12 5.79086 12 8Z' fill='%23d11'/%3E %3C/svg%3E")`,border:"none !important"},"#json-editor & .cm-content":{fontFamily:"var(--editor-font)",fontSize:"14.2px",cursor:"text",padding:"12px 0"},"#json-editor &.cm-focused":{outline:"none !important"},"#json-editor & .cm-gutters":{fontFamily:"var(--editor-font)",border:"none"},"#json-editor & .cm-activeLine":{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"},"#json-editor & .cm-lineNumbers .cm-activeLineGutter":{borderTopLeftRadius:"0.375rem",borderBottomLeftRadius:"0.375rem"},"#json-editor & .cm-lineNumbers .cm-gutterElement":{fontSize:"12.8px",padding:"0","&:not(:first-child)":{padding:"4px 0 0"}},"#json-editor & .cm-gutter-lint":{width:"12px"},"#json-editor & .cm-gutter-lint .cm-gutterElement":{display:"flex",alignItems:"center",justifyContent:"center",padding:"0px",marginLeft:"auto",marginRight:"-4px","z-index":1,background:"transparent"},"#json-editor &  .cm-lintPoint-error.cm-lintPoint:after":{marginLeft:"3px",marginTop:"2px"},"#json-editor & .cm-foldGutter .cm-gutterElement":{display:"flex",alignItems:"center","& > div":{minWidth:"20px",minHeight:"20px",cursor:"pointer","&:hover":{background:"var(--fold-gutter-hover, #f5f5f014)",borderRadius:"0.25rem"}}},"#json-editor & .cm-line":{minHeight:"24px !important",lineHeight:"24px !important",paddingLeft:"0px"},"#json-editor & .cm-gutter":{overflow:"visible"},"#json-editor & .cm-lint-marker-error":{backgroundColor:"#d11",borderRadius:"50%",width:"0.5rem !important",height:"0.5rem !important",content:"'' !important"},"body & .cm-tooltip-lint, :host & .cm-tooltip-lint":{display:"flex",backgroundColor:"var(--tooltip-background, #21252b)",alignItems:"center",borderRadius:"0.375rem",minHeight:"26px",border:"none !important",padding:"3px 6px 3px 8px !important",fontSize:"12.8px",lineHeight:"1rem"},"body & .cm-tooltip-below, :host & .cm-tooltip-below":{borderRadius:"0.375rem",border:"none !important"},"body & .cm-diagnostic, :host & .cm-diagnostic":{paddingLeft:"20px !important",backgroundRepeat:"no-repeat",backgroundPositionX:"2px",backgroundPositionY:"center"},"body & .cm-diagnostic-error, :host & .cm-diagnostic-error":{backgroundImage:`url("data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='16' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M12 8C12 10.2091 10.2091 12 8 12C5.79086 12 4 10.2091 4 8C4 5.79086 5.79086 4 8 4C10.2091 4 12 5.79086 12 8Z' fill='%23d11'/%3E %3C/svg%3E")`,border:"none !important"}}),RXe="#ffffff",NXe="#56b6c2",bXe="#61afef",CXe="#c678dd",xXe="#21252b",zP="#FBFBFA",wXe=[AXe,ot.theme({"#json-editor &":{color:"var(--cursor, #abb2bf)",background:"var(--editor-background, #030711)"},"#json-editor & .cm-content":{caretColor:"var(--cursor, #abb2bf)"},"#json-editor & .cm-cursor, #json-editor & .cm-dropCursor":{borderLeftColor:"var(--cursor, #abb2bf)"},"#json-editor &.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, #json-editor & .cm-content ::selection":{background:"var(--selection, #3e4451)"},"#json-editor & .cm-panels":{background:xXe,color:"var(--cursor, #abb2bf)"},"#json-editor & .cm-panels.cm-panels-top":{borderBottom:"2px solid black"},"#json-editor & .cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},"#json-editor & .cm-activeLine":{background:"var(--highlight-background, #f5f5f014)"},"#json-editor & .cm-gutters":{background:"var(--editor-background, #030711)",color:"var(--line-number, #7d8799)",border:"none"},"#json-editor & .cm-activeLineGutter":{background:"var(--highlight-background, #f5f5f014)"},"#json-editor & .cm-foldPlaceholder":{background:"transparent",border:"none",color:"#ddd"},"#json-editor & .cm-tooltip":{border:"none",color:"#373530",background:zP},"#json-editor & .cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},"#json-editor & .cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:zP,borderBottomColor:zP},"#json-editor & .cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{background:"var(--highlight-background, #f5f5f014)",color:"var(--cursor, #abb2bf)"}}})],OXe=Sc.define([{tag:me.keyword,color:CXe},{tag:[me.name,me.deleted,me.character,me.propertyName,me.macroName],color:"var(--property-name, #e06c75)"},{tag:[me.function(me.variableName),me.labelName],color:bXe},{tag:[me.color,me.constant(me.name),me.standard(me.name)],color:"var(--boolean-value, #d19a66)"},{tag:[me.definition(me.name),me.separator],color:"var(--cursor, #abb2bf)"},{tag:[me.typeName,me.className,me.number,me.changed,me.annotation,me.modifier,me.self,me.namespace],color:"var(--number-color, #e5c07b)"},{tag:[me.operator,me.operatorKeyword,me.url,me.escape,me.regexp,me.link,me.special(me.string)],color:NXe},{tag:[me.meta,me.comment],color:"var(--line-number, #7d8799)"},{tag:me.strong,fontWeight:"bold"},{tag:me.emphasis,fontStyle:"italic"},{tag:me.strikethrough,textDecoration:"line-through"},{tag:me.link,color:"var(--line-number, #7d8799)",textDecoration:"underline"},{tag:me.heading,fontWeight:"bold",color:"var(--property-name, #e06c75)"},{tag:[me.atom,me.bool,me.special(me.variableName)],color:"var(--boolean-value, #d19a66)"},{tag:[me.processingInstruction,me.string,me.inserted],color:"var(--string-value, #98c379)"},{tag:me.invalid,color:RXe}]),IXe=[wXe,$u(OXe)],_Xe=new Ou,WP=({value:t,className:e,readOnly:r=!1,watchValue:n,onChange:s,onFocused:i,tooltipParent:o,setEditor:a,...l})=>{const[c,d]=y.useState(null),h=y.useRef(null),m=eYe(t),f=y.useMemo(()=>[GR(),iZ(),nXe(),nZ(),FKe(),ba.of([IP]),_r.readOnly.of(!!r),qKe(UKe()),MWe({parent:o}),iee(),kZ({markerDOM:p=>{const E=document.createElement("div");return E.className="flex items-center justify-center",E.innerHTML=`
              <svg style="width: 0.75rem; height: 0.75rem;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5.67195 6.0625L18.3386 6.0625C19.0935 6.0625 19.5762 6.86698 19.221 7.53309L12.8876 19.4081C12.5112 20.114 11.4994 20.114 11.1229 19.4081L4.78959 7.53309C4.43434 6.86698 4.91703 6.0625 5.67195 6.0625Z" fill="currentColor"></path>
              </svg>
            `,E.style.transform=p?"":"rotate(-90deg)",E},domEventHandlers:{click:(p,E,g)=>(g.stopPropagation(),!1)}}),IM(),vP(),$u(tP,{fallback:!0}),ba.of([...OP,...AP]),PM(s?p=>{if(p==="")return s(null);try{s(JSON.parse(p))}catch{s(p)}}:void 0,0),_Xe.of(IXe)],[]);return y.useEffect(()=>{!c||!n||(async()=>{const p=await aZ(m),E=c.state.update({changes:{from:0,to:c.state.doc.length,insert:p},scrollIntoView:r,selection:r?{anchor:0,head:0}:void 0});c.dispatch(E)})()},[m]),y.useEffect(()=>((async()=>{const p=await aZ(m),E=new ot({doc:p,extensions:f,parent:h.current,scrollTo:ot.scrollIntoView(0)});E.focus(),i==null||i(),E.dispatch({selection:r?{anchor:0,head:0}:{anchor:p.length,head:p.length}}),d(E),a==null||a(E)})(),()=>{c==null||c.destroy()}),[]),u.jsx("div",{tabIndex:0,ref:h,id:"json-editor",className:z(e,"relative h-full w-full [&>div]:h-full"),...l})},_te=({className:t,children:e,onBlur:r})=>{const{refs:n,floatingStyles:s}=Vy({placement:"bottom-start",middleware:[YV(),KV(),qV({padding:{bottom:kr(1),left:kr(1),right:kr(1),top:kr(2)},crossAxis:!0})],whileElementsMounted:GV});return u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:n.setReference}),u.jsx("div",{ref:n.setFloating,style:s,className:z("z-popover",t),onBlur:r,children:e})]})},YP=kr(30.125),LXe=kr(56.25),yc=({row:t,column:e,onRowChange:r,dbEnum:n,hasDefault:s,onClose:i})=>{const{theme:o}=Is(),[a,l]=y.useState(null),[c,d]=y.useState(void 0),[h,m]=y.useState(t.values[e.key]),f=y.useRef(null),p=navigator.platform.toUpperCase().indexOf("MAC")>=0,E=y.useMemo(()=>e.key,[e.key]),g=S=>v=>{var b;const N=c??((b=f.current)==null?void 0:b.offsetWidth)??YP,C=v.pageX,x=_=>{const U=N-C+_.pageX;d(Math.min(Math.max(U,YP),LXe))},A=()=>{document.removeEventListener("mousemove",x)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",A,{once:!0})},T=y.useCallback((S,v)=>{r(Nr(t,{[E]:S}),v)},[E,r,t]);return u.jsx(_te,{className:"ml-[-1px] mt-[-1px]",onBlur:()=>{T(h,!1)},children:u.jsx("div",{className:"flex w-fit shadow-md",children:u.jsxs("div",{className:"bg-popover relative",style:{width:c},ref:f,children:[n&&u.jsxs("div",{className:"flex items-center border border-b-0 px-2",children:[u.jsxs("div",{className:"text-muted-foreground",children:[n.name,":"]}),u.jsx("div",{className:"ml-2 flex items-center gap-2 overflow-auto py-2",children:n.values.map(S=>u.jsx(Le,{className:"text-muted-foreground h-7 px-2 font-mono font-normal",variant:"outline",onClick:()=>{if(!h)a==null||a.dispatch({changes:{from:0,to:a.state.doc.length,insert:JSON.stringify([S],null,2)}});else if(Array.isArray(h)){const v=[...h,S];a==null||a.dispatch({changes:{from:0,to:a.state.doc.length,insert:JSON.stringify(v,null,2)}})}a==null||a.dispatch({selection:{anchor:a.state.doc.length,head:a.state.doc.length}}),a==null||a.focus()},children:S},S))})]}),n&&u.jsx(CD,{className:"text-border border-x px-1",dasharray:"0.75"}),u.jsx(WP,{className:z("text-popover-foreground bg-popover !h-fit rounded-none border-x [&>div]:max-h-[28.125rem] [&>div]:min-h-36 [&>div]:w-full [&>div]:min-w-[30rem] [&>div]:max-w-[56.25rem]",!n&&"border-t"),value:h??void 0,theme:o,setEditor:l,onChange:S=>{m(S)},tooltipParent:wn.getState().shadowRoot??document.body,onFocused:()=>{var S;d(((S=f.current)==null?void 0:S.offsetWidth)??YP)},onKeyDown:S=>{S.key==="Enter"&&(S.preventDefault(),S.stopPropagation(),(S.ctrlKey||S.metaKey)&&T(h,!0))}}),u.jsx("div",{className:"z-popover absolute inset-y-0 right-[-0.25rem] flex w-2 cursor-col-resize items-center justify-center",onMouseDown:S=>{S.preventDefault(),S.stopPropagation(),g()(S)},children:u.jsx("div",{className:"bg-border flex h-4 w-3 items-center justify-center rounded-sm",children:u.jsx(l0,{className:"size-2.5"})})}),u.jsx(CD,{className:"text-border border-x px-1",dasharray:"0.75"}),u.jsxs("div",{className:"flex border border-t-0 p-1",children:[u.jsxs(Le,{className:"text-muted-foreground h-8 px-2 font-sans font-normal",variant:"outline",size:"sm",onClick:()=>{T(null,!0)},children:[u.jsx("span",{children:"Set"}),u.jsx("span",{className:"font-mono",children:"NULL"})]}),t.type==="CREATE"&&s&&u.jsxs(Le,{className:"text-muted-foreground ml-2 h-8 px-2 font-sans font-normal",variant:"outline",size:"sm",onClick:()=>{r(Nr(t,{[e.key]:{_type:"DEFAULT"}}),!0)},children:[u.jsx("span",{children:"Set"}),u.jsx("span",{className:"font-mono",children:"DEFAULT"})]}),u.jsxs(Le,{className:"text-muted-foreground ml-auto h-8 pl-2 pr-1.5 font-sans font-normal",variant:"outline",size:"sm",onClick:()=>{i(!1,!1)},children:[u.jsx("span",{children:"Cancel"}),u.jsx("span",{className:"font-mono",children:u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-[3px] font-mono text-xs leading-3",children:"Esc"})})]}),u.jsxs(Le,{className:"text-muted-foreground ml-2 h-8 pl-2 pr-1.5 font-sans font-normal",variant:"outline",size:"sm",onClick:()=>{T(h,!0)},children:[u.jsx("span",{children:"Save"}),u.jsx("span",{className:"font-mono",children:p?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(ci,{className:"size-3.5 p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(za,{className:"size-3.5 p-px"})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Ctrl+Enter"})})]})]})]})})})},DXe=ot.baseTheme({"#text-editor &":{},"#text-editor & .cm-scroller":{paddingLeft:"12px",paddingRight:"12px",flexGrow:1,"&:focus":{outline:"none"}},"#text-editor & .cm-tooltip-lint":{display:"flex",alignItems:"center",borderRadius:"0.375rem",minHeight:"26px",border:"none !important",padding:"3px 6px 3px 8px !important",fontSize:"12.8px",lineHeight:"1rem"},"#text-editor & .cm-content ::selection":{background:"transparent !important"},"#text-editor & .cm-tooltip-below":{borderRadius:"0.375rem",border:"none !important"},"#text-editor & .cm-diagnostic":{paddingLeft:"20px !important",backgroundRepeat:"no-repeat",backgroundPositionX:"2px",backgroundPositionY:"center"},"#text-editor & .cm-diagnostic-error":{backgroundImage:`url("data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='16' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M12 8C12 10.2091 10.2091 12 8 12C5.79086 12 4 10.2091 4 8C4 5.79086 5.79086 4 8 4C10.2091 4 12 5.79086 12 8Z' fill='%23d11'/%3E %3C/svg%3E")`,border:"none !important"},"#text-editor & .cm-content":{fontFamily:"Menlo",fontSize:"14.2px",cursor:"text",padding:"12px 0"},"#text-editor &.cm-focused":{outline:"none !important"},"#text-editor & .cm-gutters":{fontFamily:"Menlo",border:"none"},"#text-editor & .cm-activeLine":{borderRadius:"0.375rem"},"#text-editor & .cm-gutter:first-child .cm-activeLineGutter":{borderTopLeftRadius:"0.375rem",borderBottomLeftRadius:"0.375rem"},"#text-editor & .cm-lineNumbers .cm-gutterElement":{fontSize:"12.8px",padding:"0","&:not(:first-child)":{padding:"4px 0 0"}},"#text-editor & .cm-gutter-lint .cm-gutterElement":{display:"flex",alignItems:"center",justifyContent:"center"},"#text-editor & .cm-foldGutter .cm-gutterElement":{display:"flex",alignItems:"center","& > div":{minWidth:"20px",minHeight:"20px",cursor:"pointer","&:hover":{background:"var(--fold-gutter-hover, #f5f5f014)",borderRadius:"0.25rem"}}},"#text-editor & .cm-line":{minHeight:"24px !important",lineHeight:"24px !important"},"#text-editor & .cm-gutter":{overflow:"visible"},"#text-editor & .cm-lint-marker-error":{backgroundColor:"#d11",borderRadius:"50%",width:"0.5rem !important",height:"0.5rem !important",content:"'' !important"},"body & .cm-tooltip-lint":{display:"flex",alignItems:"center",borderRadius:"0.375rem",minHeight:"26px",border:"none !important",padding:"3px 6px 3px 8px !important",fontSize:"12.8px",lineHeight:"1rem"},"body & .cm-tooltip-below":{borderRadius:"0.375rem",border:"none !important"},"body & .cm-diagnostic":{paddingLeft:"20px !important",backgroundRepeat:"no-repeat",backgroundPositionX:"2px",backgroundPositionY:"center"},"body & .cm-diagnostic-error":{backgroundImage:`url("data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='16' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M12 8C12 10.2091 10.2091 12 8 12C5.79086 12 4 10.2091 4 8C4 5.79086 5.79086 4 8 4C10.2091 4 12 5.79086 12 8Z' fill='%23d11'/%3E %3C/svg%3E")`,border:"none !important"}}),MXe="#ffffff",PXe="#56b6c2",kXe="#61afef",UXe="#c678dd",jXe="#21252b",qP="#FBFBFA",BXe=[DXe,ot.theme({"#text-editor &":{color:"var(--cursor, #abb2bf)",background:"var(--editor-background, #030711)"},"#text-editor & .cm-content":{caretColor:"var(--cursor, #abb2bf)"},"#text-editor & .cm-cursor, #text-editor & .cm-dropCursor":{borderLeftColor:"var(--cursor, #abb2bf)"},"#text-editor &.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, #text-editor & .cm-content ::selection":{background:"var(--selection, #3e4451)"},"#text-editor & .cm-panels":{background:jXe,color:"var(--cursor, #abb2bf)"},"#text-editor & .cm-panels.cm-panels-top":{borderBottom:"2px solid black"},"#text-editor & .cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},"#text-editor & .cm-activeLine":{background:"var(--highlight-background, #f5f5f014)"},"#text-editor & .cm-gutters":{background:"var(--editor-background, #030711)",color:"var(--line-number, #7d8799)",border:"none"},"#text-editor & .cm-activeLineGutter":{background:"var(--highlight-background, #f5f5f014)"},"#text-editor & .cm-foldPlaceholder":{background:"transparent",border:"none",color:"#ddd"},"#text-editor & .cm-tooltip":{border:"none",color:"#373530",background:qP},"#text-editor & .cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},"#text-editor & .cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:qP,borderBottomColor:qP},"#text-editor & .cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{background:"var(--highlight-background, #f5f5f014)",color:"var(--cursor, #abb2bf)"}}})],FXe=Sc.define([{tag:me.keyword,color:UXe},{tag:[me.name,me.deleted,me.character,me.propertyName,me.macroName],color:"var(--property-name, #e06c75)"},{tag:[me.function(me.variableName),me.labelName],color:kXe},{tag:[me.color,me.constant(me.name),me.standard(me.name)],color:"var(--boolean-value, #d19a66)"},{tag:[me.definition(me.name),me.separator],color:"var(--cursor, #abb2bf)"},{tag:[me.typeName,me.className,me.number,me.changed,me.annotation,me.modifier,me.self,me.namespace],color:"var(--number-color, #e5c07b)"},{tag:[me.operator,me.operatorKeyword,me.url,me.escape,me.regexp,me.link,me.special(me.string)],color:PXe},{tag:[me.meta,me.comment],color:"var(--line-number, #7d8799)"},{tag:me.strong,fontWeight:"bold"},{tag:me.emphasis,fontStyle:"italic"},{tag:me.strikethrough,textDecoration:"line-through"},{tag:me.link,color:"var(--line-number, #7d8799)",textDecoration:"underline"},{tag:me.heading,fontWeight:"bold",color:"var(--property-name, #e06c75)"},{tag:[me.atom,me.bool,me.special(me.variableName)],color:"var(--boolean-value, #d19a66)"},{tag:[me.processingInstruction,me.string,me.inserted],color:"var(--string-value, #98c379)"},{tag:me.invalid,color:MXe}]),HXe=[BXe,$u(FXe)],$Xe=new Ou,GXe=({value:t="",className:e,onChange:r,onFocused:n,...s})=>{const[,i]=y.useState(null),o=y.useRef(null),a=y.useMemo(()=>[GR(),ba.of([IP]),yXe,PM(r,0),$Xe.of(HXe)],[]);return y.useEffect(()=>{const l=String(t),c=new ot({doc:l,extensions:a,parent:o.current,scrollTo:ot.scrollIntoView(0)});return c.focus(),n==null||n(),c.dispatch({selection:{anchor:l.length,head:l.length}}),i(c),()=>{c.destroy()}},[]),u.jsx("div",{tabIndex:0,ref:o,id:"text-editor",className:z(e,"relative h-full w-full [&>div]:h-full"),...s})},KP=kr(30.125),VXe=kr(56.25),Lte=({column:t,row:e,onRowChange:r,onClose:n,hasDefault:s})=>{const{theme:i}=Is(),o=y.useRef(null),[a,l]=y.useState(void 0),[c,d]=y.useState(e.values[t.key]),h=navigator.platform.toUpperCase().indexOf("MAC")>=0,m=p=>E=>{var N;const g=a??((N=o.current)==null?void 0:N.offsetWidth)??KP,T=E.pageX,S=C=>{const x=g-T+C.pageX;l(Math.min(Math.max(x,KP),VXe))},v=()=>{document.removeEventListener("mousemove",S)};document.addEventListener("mousemove",S),document.addEventListener("mouseup",v,{once:!0})},f=y.useCallback((p,E)=>{const g=p===""?null:p;r(Nr(e,{[t.key]:g}),E)},[r,e]);return u.jsx(_te,{className:"ml-[-1px] mt-[-1px]",onBlur:()=>{f(c,!1)},children:u.jsx("div",{className:"flex w-fit shadow-md",children:u.jsxs("div",{className:"bg-popover relative",style:{width:a},ref:o,children:[u.jsx(GXe,{className:"text-popover-foreground !h-fit rounded-none border border-b-0 [&>div]:max-h-[28.125rem] [&>div]:min-h-36 [&>div]:w-full [&>div]:min-w-[30rem] [&>div]:max-w-[56.25rem]",value:c??void 0,theme:i,onChange:p=>{d(p)},onFocused:()=>{var p;l(((p=o.current)==null?void 0:p.offsetWidth)??KP)},onKeyDown:p=>{p.key==="Enter"&&(p.preventDefault(),p.stopPropagation(),(p.ctrlKey||p.metaKey)&&f(c,!0))}}),u.jsx("div",{className:"z-popover absolute inset-y-0 right-[-0.25rem] flex w-2 cursor-col-resize items-center justify-center",onMouseDown:p=>{p.preventDefault(),p.stopPropagation(),m()(p)},children:u.jsx("div",{className:"bg-border flex h-4 w-3 items-center justify-center rounded-sm",children:u.jsx(l0,{className:"size-2.5"})})}),u.jsx(CD,{className:"text-border border-x px-1",dasharray:"0.75"}),u.jsxs("div",{className:"flex border border-t-0 p-1",children:[u.jsxs(Le,{className:"text-muted-foreground h-8 px-2 font-sans font-normal",variant:"outline",size:"sm",onClick:()=>{f(null,!0)},children:[u.jsx("span",{children:"Set"}),u.jsx("span",{className:"font-mono",children:"NULL"})]}),e.type==="CREATE"&&s&&u.jsxs(Le,{className:"text-muted-foreground ml-2 h-8 px-2 font-sans font-normal",variant:"outline",size:"sm",onClick:()=>{r(Nr(e,{[t.key]:{_type:"DEFAULT"}}),!0)},children:[u.jsx("span",{children:"Set"}),u.jsx("span",{className:"font-mono",children:"DEFAULT"})]}),u.jsxs(Le,{className:"text-muted-foreground ml-auto h-8 pl-2 pr-1.5 font-sans font-normal",variant:"outline",size:"sm",onClick:()=>{n(!1,!1)},children:[u.jsx("span",{children:"Cancel"}),u.jsx("span",{className:"font-mono",children:u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Esc"})})]}),u.jsxs(Le,{className:"text-muted-foreground ml-2 h-8 pl-2 pr-1.5 font-sans font-normal",variant:"outline",size:"sm",onClick:()=>{f(c,!0)},children:[u.jsx("span",{children:"Save"}),u.jsx("span",{className:"font-mono",children:h?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(ci,{className:"size-3.5 p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(za,{className:"size-3.5 p-px"})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Ctrl+Enter"})})]})]})]})})})},ZN=t=>({column:e})=>{const r=Me(s=>{var i;return(i=s.currentTable)==null?void 0:i.sort}),n=y.useMemo(()=>(r==null?void 0:r.type)==="DESC"&&(r==null?void 0:r.column)===e.name?u.jsx(dLe,{className:"ml-2 size-3.5 min-w-[0.875rem]"}):(r==null?void 0:r.type)==="ASC"&&(r==null?void 0:r.column)===e.name?u.jsx(fLe,{className:"ml-2 size-3.5 min-w-[0.875rem]"}):u.jsx(gLe,{className:"ml-2 size-3.5 min-w-[0.875rem]"}),[r,e.name]);return u.jsx(u.Fragment,{children:u.jsxs("div",{className:z("flex w-full items-center font-sans"),style:{fontWeight:550},children:[u.jsxs("div",{className:"w-full truncate",style:{color:"color-mix(in srgb, var(--muted-foreground), transparent 40%)"},children:[u.jsx("span",{className:"text-muted-foreground",children:e.name}),(t==null?void 0:t.type)&&u.jsx("span",{className:"ml-1 font-mono text-[0.625rem]",style:{color:"color-mix(in srgb, var(--muted-foreground), transparent 40%)"},children:t==null?void 0:t.type})]}),e.sortable&&n]})})},zXe=({tabIndex:t,expanded:e,onCellExpand:r,column:n})=>{function s(i){(i.key===" "||i.key==="Enter")&&(i.preventDefault(),r())}return u.jsx("div",{className:"grid h-full",style:{placeItems:"center start"},children:u.jsx(Le,{className:z("bg-table-cell-relation-button font-table text-table-cell-relation-button-foreground ml-2 h-6 cursor-pointer px-1 text-xs",e&&"bg-primary text-primary-foreground"),tabIndex:t,onClick:r,onKeyDown:s,children:n.name})})};function Dte({name:t,type:e}){const r=["number","boolean","string"].includes(e)?120:250,n=t.length*nK;return r<n?n:r}const WXe=({relation:t,record:e,table:r})=>{const n=it(({dialect:E})=>{if(!E)throw new Error("No dialect");return E}),{getTypeParamsString:s}=y.useMemo(()=>cr(n),[n]),{prepareSelect:i}=gn(),{setCurrentSchemaName:o,setCurrentTable:a,setFiltersVisible:l}=sr(),[c,d]=y.useState([]),[h,m]=y.useState(!0),f=y.useMemo(()=>Object.values(r.columns).map(E=>{const g=Dte(E),T=E.name.length*nK,S=g<T?T:g;return{key:E.name,name:E.name,width:S,resizable:!0,minWidth:sK,headerCellClass:"bg-background border-border text-muted-foreground",cellClass:"bg-background border-border text-foreground",renderHeaderCell:ZN({type:E.type+s(E.type,E.typeParams)}),renderCell:lK}})??[],[r]),p=()=>{const{refColumns:E,columns:g}=t;o(r.schema),a({id:r.id,name:r.name,type:r.type,schema:r.schema,columnSettings:{},pagination:{limit:50,offset:0},records:[],sort:null,createdRecords:[],editedFields:[],filters:g.map((T,S)=>{const v=e.values[T],N=E[S];return{id:`${r.id}-${S}`,column:N,type:v===null?Je.isNull:Je.equals,value:v===null?void 0:String(v)}})}),l(!0)};return y.useEffect(()=>{const{refColumns:E,columns:g}=t;m(!0),(async()=>{try{const S=await i({schema:r.schema,table:r.name,columns:Object.keys(r.columns),where:{and:g.map((v,N)=>({op:[E[N],Je.equals,e.values[v]]}))},orderBy:E.map(v=>({column:v,type:"ASC"})),limit:50,offset:0}).execute();d(S.map(v=>({id:Ii(),type:"DEFAULT",expandedColumnName:null,values:v})))}catch(T){ds(T,!1)}finally{m(!1)}})()},[]),u.jsxs("div",{id:"relation-rdg-table",className:"bg-background flex h-[16.75rem] w-full flex-col border",children:[u.jsx(sg,{rows:c,columns:f,className:"overscroll-contain border-b",rowKeyGetter:()=>Ii(),rowClass:()=>"relation-rdg-row",style:{blockSize:260},enableVirtualization:!1,renderers:{noRowsFallback:YXe(h)}}),u.jsx("div",{className:"flex h-10 w-full items-center space-x-2 px-2 py-[0.3125rem]",children:u.jsx(Le,{variant:"secondary",className:"h-7 px-2 font-sans text-sm",onClick:()=>{rt("relations_view_open_in_subview"),p()},children:"Open in sub view"})})]})},YXe=t=>u.jsx("div",{className:"text-muted-foreground absolute flex h-full w-full flex-col items-center justify-center font-mono tracking-tight",children:t?u.jsx("slot",{name:"relation-table-loader",children:u.jsx(jn,{})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{children:"No rows"}),"limit ",50," offset ",0]})}),qXe=t=>({row:e})=>u.jsx(Le,{variant:"ghost",className:"text-muted-foreground absolute h-5 w-5 rounded-full p-0",onClick:r=>{r.stopPropagation(),t(e.id)},"aria-label":"Remove row",children:u.jsx(Ji,{className:"h-4 w-4"})}),KXe=({onChange:t,...e})=>{const r=y.useRef(!1),n=s=>{t(s,r.current)};return u.jsx(Po,{"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],disabled:e.disabled,checked:e.checked,tabIndex:e.tabIndex,className:z("!bg-background",!1),onClick:s=>{r.current=s.nativeEvent.shiftKey},onCheckedChange:s=>{!!s?e["aria-label"]==="Select All"?rt("table_select_all_rows"):rt("table_select_row"):e["aria-label"]==="Select All"?rt("table_deselect_all_rows"):rt("table_deselect_row"),n(!!s)}})},XXe=(t,e)=>u.jsx(GG,{className:z(e.row.type==="RELATION"?"hover:bg-table-row":""),...e},t),QXe=()=>{const t=ht(o=>o.readonlyMode),e=Me(o=>{var a,l;return((l=(a=o.currentTable)==null?void 0:a.pagination)==null?void 0:l.limit)||50}),r=Me(o=>{var a,l;return((l=(a=o.currentTable)==null?void 0:a.pagination)==null?void 0:l.offset)||0}),n=it(o=>{if(!o.dialect)throw new Error("Dialect is not set");return o.dialect}),s=Me(o=>o.loadingRecords),i=Me(o=>{var a;return(a=o.currentTable)==null?void 0:a.recordsErrorResult});if(i){const o=()=>{const{setCurrentPage:a}=Me.getState().actions,{createSnippet:l,selectSnippet:c}=Vn.getState().actions,d=l("Failed select query",i.statement.endsWith(";")?i.statement:`${i.statement};`);c(d),a("sql-runner")};return u.jsx("div",{className:"absolute flex h-full w-full items-center justify-center",children:u.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[u.jsxs("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex min-w-[25rem] max-w-[37.5rem] flex-col items-center justify-between overflow-auto border text-sm",children:[u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable w-full whitespace-pre p-3",dangerouslySetInnerHTML:{__html:os(Ps(i.statement,n))}}),u.jsxs("div",{className:"w-full border-t py-3",children:[u.jsx("div",{className:"mb-2 px-3 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-3",children:i.error.message})]})]}),!t&&!0&&!0&&!0&&u.jsx(Le,{className:"ml-auto h-8 w-fit px-3",variant:"outline",onClick:o,children:"Open in SQL"})]})})}return s?u.jsx("div",{}):u.jsxs("div",{className:"text-muted-foreground absolute flex h-full w-full flex-col items-center justify-center font-mono tracking-tight",children:[u.jsx("div",{children:"No rows"}),"limit ",e," offset ",r]})},JXe=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(null);return[y.useCallback(async(i,o,a)=>{e(!0);try{const l=await i();return o==null||o(l),l}catch(l){l instanceof Error&&(n(l),a==null||a(l))}finally{e(!1)}},[]),t,r]},Mte=({open:t,onOpenChange:e,results:r})=>{const n=ht(d=>d.readonlyMode),s=it(d=>{if(!d.dialect)throw new Error("Dialect is not set");return d.dialect}),{setCurrentPage:i,discardChanges:o}=sr(),{createSnippet:a,selectSnippet:l}=Sn(),c=async()=>{const d=r.filter(({statement:m,error:f})=>m&&f).map(({statement:m})=>m!=null&&m.endsWith(";")?m:`${m};`).join(`
`),h=a("Failed statements",d);l(h),i("sql-runner"),e(!1),o()};return u.jsx(Ea,{open:t,onOpenChange:e,children:u.jsxs(Mo,{className:"text-foreground @sm:max-w-[37.5rem] flex max-h-[90%] flex-col px-0",onMouseEnter:d=>{d.stopPropagation()},closeBtn:!1,children:[u.jsxs("div",{className:"space-y-2 overflow-auto pr-6",children:[r.map(({statement:d,error:h},m)=>u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex size-12 items-center justify-center",children:h?h?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-red-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z",fill:"currentColor",strokeWidth:"0"})}):u.jsx("div",{className:"bg-border size-3 rounded-full"}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-green-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",strokeWidth:"0"})})}),u.jsxs("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full flex-col items-center overflow-auto border text-sm",children:[d&&u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable w-full whitespace-pre p-3",dangerouslySetInnerHTML:{__html:os(Ps(d,s))}}),h&&u.jsxs("div",{className:z("w-full py-3",d&&"border-t"),children:[u.jsx("div",{className:"mb-2 px-3 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-3",children:h.message})]})]})]},m)),u.jsx("div",{className:z("from-background sticky bottom-0 !m-0 h-2 bg-gradient-to-t",!1)})]}),u.jsxs(el,{className:"px-6",children:[u.jsx(Le,{size:"sm",variant:"outline",onClick:()=>e(!1),children:"Close"}),!n&&!0&&!0&&!0&&r.filter(({statement:d,error:h})=>d&&h).length>0&&u.jsx(Le,{size:"sm",variant:"outline",onClick:c,children:"Open failed in SQL"})]})]})})},Pte=({open:t,onOpenChange:e,entityName:r,handler:n,primaryColumns:s,getWhereStatement:i,onOpenInSQL:o,action:a})=>{const l=ht(c=>c.readonlyMode);return u.jsx(Ea,{open:t,onOpenChange:e,children:u.jsxs(Mo,{className:"text-foreground @sm:max-w-[26.5625rem] gap-0",children:[u.jsx(tc,{className:"mb-8",children:u.jsx(rc,{children:"Warning"})}),u.jsxs("div",{className:"inline-block",children:[u.jsx("code",{className:"bg-muted rounded-md border p-1 py-0.5",children:r})," ","table has"," ",s.map((c,d)=>u.jsxs(y.Fragment,{children:[u.jsx("code",{className:"bg-muted rounded-md border p-1 py-0.5",children:c}),s.length>1&&d!==s.length-1&&", "]},c))," ","nullable primary ",s.length>1?"keys":"key",u.jsx("br",{}),u.jsx("br",{}),u.jsx("div",{className:"[&>pre>code]:!rounded-md [&>pre>code]:!p-2",dangerouslySetInnerHTML:{__html:Fl(i(s))}}),u.jsx("br",{}),"Executing this ",a.toUpperCase()," statement may lead to unexpected results"]}),u.jsxs(el,{className:"mt-10",children:[u.jsxs(Le,{variant:"secondary",onClick:()=>{rt("toolbar_save_changes"),n()},children:[a.capitalise()," anyway"]}),!l&&!0&&!0&&!0&&u.jsx(Le,{variant:"default",onClick:()=>o(s),children:"Open in SQL"})]})]})})},kte=({open:t,onOpenChange:e,entityName:r,uniqueColumns:n,getWhereStatement:s,onOpenInSQL:i,handler:o,action:a})=>{const l=ht(c=>c.readonlyMode);return u.jsx(Ea,{open:t,onOpenChange:e,children:u.jsxs(Mo,{className:"text-foreground @sm:max-w-[26.5625rem] gap-0",children:[u.jsx(tc,{className:"mb-8",children:u.jsx(rc,{children:"Warning"})}),u.jsxs("div",{className:"inline-block",children:["For tables without primary keys Drizzle Studio executes UPDATE and DELETE statements by relying on unique constraints",u.jsx("br",{}),u.jsx("br",{}),u.jsx("code",{className:"bg-muted rounded-md border p-1 py-0.5",children:r})," ","table has"," ",n.map((c,d)=>u.jsxs(u.Fragment,{children:[u.jsx("code",{className:"bg-muted rounded-md border p-1 py-0.5",children:c}),n.length>1&&d!==n.length-1&&", "]},c))," ","nullable unique"," ",n.length>1?"constraints":"constraint",u.jsx("br",{}),u.jsx("br",{}),u.jsx("div",{className:"[&>pre>code]:!rounded-md [&>pre>code]:!p-2",dangerouslySetInnerHTML:{__html:Fl(s(n))}}),u.jsx("br",{}),"Executing this ",a.toUpperCase()," statement may lead to unexpected results"]}),u.jsxs(el,{className:"mt-10",children:[u.jsxs(Le,{variant:"secondary",onClick:()=>{rt(a==="update"?"toolbar_save_changes":"toolbar_delete_rows"),o()},children:[a.capitalise()," anyway"]}),!l&&!0&&!0&&!0&&u.jsx(Le,{variant:"default",onClick:()=>i(n),children:"Open in SQL"})]})]})})},Ute=({entity:t,className:e,withText:r,dropdownAlign:n})=>{const s=ht(E=>E.readonlyMode),i=Me(E=>E.customRelations),o=Me(E=>{var g;return Dp(Gh(["width"]),((g=E.currentTable)==null?void 0:g.columnSettings)||{})},Pr),{setColumnsVisibility:a}=sr(),l=it(E=>E.schemas),[c,d]=y.useState(""),[h,m]=y.useState(!1),f=y.useMemo(()=>uj(l,i||void 0).filter(E=>E.schema===t.schema&&E.table===t.name),[l,t]),p=y.useMemo(()=>{const E=Object.values(t.columns).map(T=>{var S;return{name:T.name,type:"column",visible:!((S=o[T.name])!=null&&S.hidden)}})||[],g=f.map(T=>{var S;return{name:T.name,type:"relation",visible:!((S=o[T.name])!=null&&S.hidden)}})||[];return E.concat(g||[])},[t.columns,f,c,o]);return u.jsxs(Bs,{onOpenChange:E=>{rt("toolbar_toggle_columns_view"),d(""),m(E)},children:[u.jsx(Fs,{asChild:!0,children:u.jsxs(Le,{isActive:h,variant:"outline",size:"sm",className:z("!font-toolbar @[1200px]:px-3 relative h-8 px-[0.4375rem]",!1,s&&"@[1100px]:px-3",e),"aria-label":"Toggle columns view",children:[p.some(E=>!E.visible)&&u.jsx(e2,{className:"absolute -right-1.5 -top-1.5 flex h-4 w-4 justify-center rounded-full p-0",children:"!"}),u.jsx(Fje,{className:"h-4 w-4"}),u.jsx("p",{className:z("@[1200px]:block hidden",!1,r&&"block",s&&"@[1100px]:block"),children:"Columns"})]})}),u.jsxs(As,{align:n,className:"min-w-[13.75rem] p-0",style:{},children:[u.jsxs(KW,{className:"flex items-center justify-between pl-4",children:[u.jsx("span",{className:"text-xs",children:"Toggle columns"}),u.jsx(Le,{className:"h-8 text-xs",size:"sm",variant:"link",onClick:()=>{const E=p.every(T=>T.visible);Hr(()=>{E?(rt("columns_view_hide_all_columns"),a(!1,p.map(T=>T.name))):(rt("columns_view_show_all_columns"),a(!0,p.map(T=>T.name)))})},children:p.every(E=>E.visible)?"Deselect All":"Select All"})]}),u.jsx(cm,{className:"m-0"}),u.jsx(_n,{multiSelect:!0,asList:!0,maxVisibleItems:12,value:p.filter(E=>E.visible).map(E=>E.name),options:p.map(E=>E.name),optionLabel:E=>E,optionValue:E=>E,onChange:E=>{Hr(()=>{E.length>p.filter(T=>T.visible).map(T=>T.name).length&&rt("columns_view_show_column"),E.length<p.filter(T=>T.visible).map(T=>T.name).length&&(rt("columns_view_hide_column"),a(!1,p.map(T=>T.name))),a(!0,E)})}})]})]})},ZXe=({selectedRecords:t,entity:e})=>{const{prepareDeleteRecords:r,setCurrentPage:n,discardChanges:s}=sr(),{createSnippet:i,selectSnippet:o}=Sn(),{toast:a}=xV(),[l,c]=y.useState(!1),[d,h]=y.useState(!1),[m,f]=y.useState(!1),p=jh(e),E=Object.values(e.columns).filter(A=>A.isUnique).map(A=>A.name),g=A=>{p.length===0?E.length>0?t.some(_=>E.every(U=>_.values[U]===null))?h(!0):c(A):a({description:"Please add a primary key column to your table to update or delete rows",withCloseButton:!0,isError:!0}):t.some(_=>p.every(U=>_.values[U]===null))?f(!0):c(A)},T=t.length>1?"records":"record",[S,v]=y.useState(null),N=()=>{const A=i(`Delete ${e.name} records`,S==null?void 0:S.statement);o(A),n("sql-runner"),s()},C=()=>{try{v({status:"pending"});const A=r();A.execute().then(()=>{v({status:"success",statement:A.statement}),rt("toolbar_delete_rows"),c(!1),f(!1),h(!1)}).catch(b=>{v({status:"failure",statement:A.statement,error:b}),ds(b,!1)})}catch(A){v({status:"failure",error:A}),ds(A,!1)}},x=y.useCallback(()=>S!=null&&S.statement?os(S.statement):"",[S==null?void 0:S.statement]);return u.jsxs(u.Fragment,{children:[u.jsx(Pte,{open:m,onOpenChange:f,entityName:e.name,getWhereStatement:x,onOpenInSQL:N,handler:C,primaryColumns:p,action:"delete"}),u.jsx(kte,{open:d,onOpenChange:h,entityName:e.name,getWhereStatement:x,onOpenInSQL:N,handler:C,uniqueColumns:E,action:"delete"}),u.jsxs(Ea,{open:l,onOpenChange:g,children:[u.jsx(Sg,{asChild:!0,children:u.jsxs(Le,{variant:"destructive",size:"sm",className:z("!font-toolbar h-8 whitespace-nowrap px-2 @lg:px-3",!1),isLoading:(S==null?void 0:S.status)==="pending",children:[u.jsx(LO,{className:z("h-4 w-4 @lg:hidden")}),u.jsx("p",{className:z("hidden @lg:block"),children:`Delete ${t.length} ${T}`})]})}),u.jsxs(Mo,{className:"text-foreground gap-12 @sm:max-w-[26.5625rem]",onMouseEnter:A=>{A.stopPropagation()},closeBtn:!1,children:[u.jsxs(tc,{className:"space-y-2",children:[u.jsx(rc,{children:`Confirm deletion of ${T}`}),u.jsxs(vg,{children:["You are about to ",u.jsx("b",{children:"permanently"})," delete the selected"," ",T," from the dataset."]})]}),u.jsxs(el,{children:[u.jsx(Le,{type:"reset",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),u.jsxs(Le,{type:"submit",variant:"destructive",onClick:C,isLoading:(S==null?void 0:S.status)==="pending",children:["Delete ",T]})]})]})]}),u.jsx(Mte,{open:(S==null?void 0:S.status)==="failure",onOpenChange:A=>{A||v(null)},results:S?[S]:[]})]})},jte=({className:t,withText:e=!1})=>{const r=ht(a=>a.readonlyMode),n=Me(a=>a.filtersVisible),s=Me(a=>{var l;return((l=a.currentTable)==null?void 0:l.filters)||[]}),{setFiltersVisible:i}=sr(),o=y.useMemo(()=>!!s.filter(a=>typeof a.value<"u").length,[s]);return u.jsxs(Le,{variant:"outline",size:"sm",isActive:n,className:z("!font-toolbar relative h-8 px-[0.4375rem] @[1200px]:px-3",!1,r&&"@[1100px]:px-3",t),onClick:()=>{rt("toolbar_toggle_filters"),i(!n)},"aria-label":"Toggle filters",children:[o&&u.jsx(e2,{className:"absolute -right-1.5 -top-1.5 flex h-4 w-4 justify-center rounded-full p-0",children:"!"}),u.jsx(Bje,{}),u.jsx("p",{className:z("hidden @[1200px]:block",!1,e&&"block",r&&"@[1100px]:block"),children:"Filters"})]})},eQe=({entity:t,filter:e,setFilter:r,removeFilters:n,onApply:s,index:i})=>{const o=it(C=>{if(!C.dialect)throw new Error("Dialect is not set");return C.dialect}),{setPagination:a}=sr(),[l,c]=y.useState(typeof e.value=="string"?e.value:""),[d,h]=y.useState(!1),m=C=>{c(C),r({...e,value:C===""?void 0:C})},f=C=>{if(a({limit:50,offset:0}),c(C),C==="NULL"){if(e.type===Je.equals){E(Je.isNull);return}if(e.type===Je.notEquals){E(Je.isNotNull);return}}if(C==="EMPTY STRING"){r({...e,value:""});return}r({...e,value:C})},p=C=>{r({...e,column:C})},E=C=>{if(C===Je.isNull||C===Je.isNotNull){r({...e,type:C,value:null});return}if(e.value===null||e.value===void 0||e.value===""||l==="EMPTY STRING"){c(""),r({...e,type:C,value:void 0});return}r({...e,type:C})},g=Object.keys(Je).filter(C=>o==="postgresql"?!0:C!=="ilike"),T=C=>{switch(C){case Je.ilike:return"ilike";case Je.like:return"like";case Je.notLike:return"not like";case Je.equals:return"equals";case Je.notEquals:return"not equals";case Je.greaterThan:return"greater";case Je.lessThan:return"less";case Je.greaterThanOrEquals:return"gte";case Je.lessThanOrEquals:return"lte";case Je.isNull:return"is null";case Je.isNotNull:return"is not null";default:return C}},S=C=>{switch(C){case Je.ilike:return"ilike";case Je.like:return"like";case Je.notLike:return"not like";case Je.equals:return"equals";case Je.notEquals:return"not equals";case Je.greaterThan:return"greater";case Je.lessThan:return"less";case Je.greaterThanOrEquals:return"greater or equals";case Je.lessThanOrEquals:return"less or equals";case Je.in:return"in";case Je.isNull:return"is null";case Je.isNotNull:return"is not null";default:return C}},v=C=>{switch(C){case Je.ilike:return u.jsx("p",{className:"text-[0.625rem]",children:"ILIKE"});case Je.like:return u.jsx("p",{className:"text-[0.625rem]",children:"LIKE"});case Je.notLike:return u.jsx("p",{className:"text-[0.625rem]",children:"NOT LIKE"});case Je.in:return u.jsx("p",{className:"text-[0.625rem]",children:"IN"});case Je.isNull:return u.jsx("p",{className:"text-[0.625rem]",children:"IS NULL"});case Je.isNotNull:return u.jsx("p",{className:"text-[0.625rem]",children:"IS NOT NULL"});default:return u.jsx("p",{children:C})}},N=()=>{Hr(()=>{n(e.id)})};return u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Le,{className:"!bg-filters-button text-foreground h-fit border-0 p-1 text-sm font-normal",onClick:N,"aria-label":"Remove filter",children:u.jsx(Ji,{className:"h-3 w-3"})}),u.jsx("div",{className:"bg-filters-button w-16 rounded-md py-1 text-center text-sm",children:i===0?"where":"and"}),u.jsx(_n,{className:"!bg-filters-button hover:!bg-filters-button !text-foreground h-7 min-w-[7.5rem] border-none px-2",options:Object.values(t.columns),optionLabel:C=>C.name,optionValue:C=>C.name,value:e.column,onChange:C=>p(C),icon:u.jsx(yd,{className:z("size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0}),placeholder:"Column",searchPlaceholder:"Search column",noResultsText:"No columns found"}),u.jsxs(Bs,{children:[u.jsx(Fs,{asChild:!0,children:u.jsxs(Le,{className:"!bg-filters-button text-foreground flex h-7 w-[7.5rem] justify-between px-2 text-sm font-normal",children:[T(e.type),u.jsx(yd,{className:z("size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0})]})}),u.jsx(As,{children:g.map(C=>{const x=v(Je[C]);return u.jsxs(zt,{className:"flex cursor-pointer justify-between",onClick:()=>E(Je[C]),children:[u.jsx("p",{className:"mr-3",children:S(Je[C])}),u.jsx("div",{className:"bg-filters-button text-muted-foreground flex h-[1.125rem] min-w-[1.5625rem] items-center justify-center rounded-sm px-1 font-mono leading-normal",children:x})]},C)})})]}),e.type!==Je.isNull&&e.type!==Je.isNotNull&&u.jsxs("div",{children:[u.jsx(Lr,{"aria-label":"Filter value",value:l,className:z("bg-filters-button h-7 w-[12.5rem] border-none",l==="EMPTY STRING"&&"text-muted-foreground"),onKeyDown:C=>{C.key==="Enter"&&s()},onFocus:()=>{h(!0),l==="EMPTY STRING"&&[Je.equals,Je.notEquals].includes(e.type)&&m("")},onBlur:()=>{h(!1)},onChange:C=>m(C.target.value)}),d&&l===""&&[Je.equals,Je.notEquals].includes(e.type)&&u.jsx("div",{className:"bg-popover text-popover-foreground fixed z-10 rounded-md border p-1",children:["NULL","EMPTY STRING"].map(C=>u.jsx("div",{className:"font-table hover:bg-accent cursor-pointer rounded-sm px-2 py-1.5 text-xs !outline-none transition-colors ",onMouseDown:()=>f(C),children:C},`filter-option-${C}`))})]})]})},tQe=({entity:t})=>{var A;const e=ht(b=>b.readonlyMode),r=it(b=>b.dialect),n=Me(b=>{var _;return(_=b.currentTable)==null?void 0:_.id}),s=Me(b=>{var _;return((_=b.currentTable)==null?void 0:_.filters)||[]}),i=Me(b=>{var _;return((_=b.currentTable)==null?void 0:_.pagination)||{limit:50,offset:0}}),{setFiltersVisible:o,setCurrentPage:a,setFilters:l,removeFilters:c}=sr(),{createSnippet:d,selectSnippet:h}=Sn(),m=y.useRef(null),[f,p]=y.useState([]),E=y.useMemo(()=>!Pr(f.filter(b=>typeof b.value<"u"||[Je.isNull,Je.isNotNull].includes(b.type)),s.filter(b=>typeof b.value<"u"||[Je.isNull,Je.isNotNull].includes(b.type))),[f,s]);y.useLayoutEffect(()=>{var _;const b=s;b.length?p(b):(rt("filters_add_filter"),p([{id:Ii(),column:(_=Object.values(t.columns)[0])==null?void 0:_.name,type:Je.equals,value:void 0}]))},[n]);const g=()=>{var b;rt("filters_add_filter"),S({id:Ii(),column:(b=Object.values(t.columns)[0])==null?void 0:b.name,type:Je.equals,value:void 0})},T=async()=>{Hr(()=>{const _=f.map(P=>{if(P.type===Je.in){const W=P.value.split(",").filter(Boolean).map(Y=>isNaN(Number(Y))?`'${Y}'`:Number(Y))||[];return`${P.column} IN (${W.join(", ")})`}if(typeof P.value=="string")return`${P.column} ${P.type} '${P.value}'`;const I=typeof P.value>"u"?"'<value>'":P.value;return`${P.column} ${P.type} ${I}`}),U=r==="postgresql"?'"':"`",j=`SELECT * FROM ${U}${t.name}${U} WHERE ${_.join(" AND ")} LIMIT ${i.limit};`,L=d("Filtered records",j);h(L),a("sql-runner")})},S=b=>{const _=f.findIndex(U=>U.id===b.id);p(_===-1?[...f,b]:f.map(U=>U.id===b.id?b:U))},v=b=>{if(f.length===1&&o(!1),b!==void 0){rt("filters_remove_filter"),p(f.filter(_=>_.id!==b)),c(b);return}rt("filters_clear_filters"),p([]),l([])},N=y.useCallback(()=>{if(!E)return;rt("filters_apply_filters"),Hr(()=>{l(f)})},[f,E]),C=()=>{Hr(()=>{rt("filters_clear_filters"),o(!1),v()})},x=y.useMemo(()=>f.map((b,_)=>u.jsx(eQe,{entity:t,filter:b,index:_,setFilter:S,removeFilters:v,onApply:N},`${n}-${b.id}`)),[f,N]);return u.jsxs("div",{className:z("flex w-fit gap-3"),children:[u.jsx("div",{className:"grid gap-3",children:x}),u.jsx("div",{className:"bg-border flex min-w-[0.0625rem]"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{ref:m,className:z("opacity-100 transition-opacity duration-150 ease-in-out",!E&&"opacity-0"),children:u.jsx(Le,{className:z("h-7 whitespace-nowrap px-3 text-sm font-normal"),onClick:N,children:"Apply"})}),u.jsxs("div",{className:"flex h-fit items-center gap-3 transition-all duration-150 ease-in-out",style:{transform:`translateX(-${E?0:(((A=m.current)==null?void 0:A.clientWidth)||0)+12}px)`},children:[u.jsxs(Le,{className:"!bg-filters-button text-foreground h-7 whitespace-nowrap px-3 text-sm font-normal",onClick:g,children:[u.jsx(hf,{className:"mr-1 h-4 w-4"}),"Add filter"]}),!e&&!0&&!0&&!0&&u.jsx(Le,{className:"!bg-filters-button text-foreground h-7 whitespace-nowrap px-3 text-sm font-normal",onClick:T,children:"Open in SQL"}),u.jsx(Le,{size:"sm",variant:"link",className:"h-7 whitespace-nowrap p-0",onClick:C,children:"Clear filters"})]})]})]})},Bte=()=>{const t=it(h=>h.schemas),e=Me(h=>h.history),r=Me(h=>h.currentTable),n=Me(h=>h.filterViews),{setHistory:s,setCurrentTable:i,setCurrentSchemaName:o}=sr(),[a,l]=y.useState(!1),c=y.useMemo(()=>{const h=e.findIndex(m=>m.historyId===(r==null?void 0:r.historyId));return h===-1||h===0?null:e[h-1]},[e,r==null?void 0:r.historyId]),d=y.useMemo(()=>{const h=e.findIndex(m=>m.historyId===(r==null?void 0:r.historyId));return h===-1||h===e.length-1?null:e[h+1]},[e,r==null?void 0:r.historyId]);return y.useEffect(()=>{var h;if(r)if(typeof r.historyId>"u"){const m=Ii();i({...r,historyId:m}),s([{historyId:m,...r},...e])}else r.historyId===((h=e[0])==null?void 0:h.historyId)?s([r,...e.slice(1)]):e.length===0&&r.historyId&&s([r])},[r]),u.jsxs("div",{className:"flex",children:[u.jsxs("div",{className:"flex",children:[u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Le,{className:z("-mr-px h-8 w-8 rounded-r-none p-0",!1),variant:"outline",size:"sm",disabled:!d,onClick:()=>{if(!d)return;Hr(()=>{var m;rt("toolbar_go_back_history"),o((m=t[d==null?void 0:d.schema])==null?void 0:m.name),i(d)})},"aria-label":"Go back",children:u.jsx(zL,{})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"Go back"})]})}),u.jsx("div",{className:z("z-10 w-px")}),u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Le,{className:z("-ml-px size-8 rounded-l-none p-0",!1),variant:"outline",size:"sm",disabled:!c,onClick:()=>{if(!c)return;rt("toolbar_go_forward_history"),Hr(()=>{var m;o((m=t[c==null?void 0:c.schema])==null?void 0:m.name),i(c)})},"aria-label":"Go forward",children:u.jsx(WL,{})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"Go forward"})]})})]}),u.jsxs(Bs,{onOpenChange:h=>{rt("toolbar_toggle_history"),l(h)},children:[u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,onFocus:h=>{h.preventDefault()},children:u.jsx(Fs,{asChild:!0,children:u.jsx(Le,{variant:"outline",size:"sm",className:z("ml-2 flex h-8 w-8 p-0",!1),isActive:a,disabled:e.length===0,"aria-label":"History",children:u.jsx(RLe,{className:"size-4",absoluteStrokeWidth:!0,strokeWidth:1.25})})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"History"})]})}),u.jsx(As,{align:"start",className:"min-w-[13.75rem] max-w-[18.75rem] p-0",children:u.jsx(_n,{options:e,value:r==null?void 0:r.historyId,asList:!0,withoutSearch:!0,optionLabel:h=>{var f,p;let m=`${h.schema}.${h.name}`;return h.id.startsWith("filter-view")&&(m=m+"  "+(((p=(f=n[m])==null?void 0:f.find(E=>E.id===h.id))==null?void 0:p.name)||"Unknown filter view")),u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex h-5 min-w-[1.25rem] items-center justify-center",children:u.jsx(gz,{className:"!size-4"})}),u.jsx("p",{className:"truncate",children:m})]})},optionValue:h=>h.historyId||h.id,onChange:h=>{const m=e.find(p=>p.historyId===h);if(!m)return;Hr(()=>{var p;o((p=t[m.schema])==null?void 0:p.name),i(m)})}})})]})]})};var Fte={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((r,n)=>{t.exports=n()})(pr,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},s,i=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,a={},l=0,c={};function d(b){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var U=C(_);U.chunkSize=parseInt(U.chunkSize),_.step||_.chunk||(U.chunkSize=null),this._handle=new E(U),(this._handle.streamer=this)._config=U}).call(this,b),this.parseChunk=function(_,U){var j=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<j){let P=this._config.newline;P||(L=this._config.quoteChar||'"',P=this._handle.guessLineEndings(_,L)),_=[..._.split(P).slice(j)].join(P)}this.isFirstChunk&&A(this._config.beforeFirstChunk)&&(L=this._config.beforeFirstChunk(_))!==void 0&&(_=L),this.isFirstChunk=!1,this._halted=!1;var j=this._partialLine+_,L=(this._partialLine="",this._handle.parse(j,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(_=L.meta.cursor,j=(this._finished||(this._partialLine=j.substring(_-this._baseIndex),this._baseIndex=_),L&&L.data&&(this._rowCount+=L.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:L,workerId:c.WORKER_ID,finished:j});else if(A(this._config.chunk)&&!U){if(this._config.chunk(L,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=L=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(L.data),this._completeResults.errors=this._completeResults.errors.concat(L.errors),this._completeResults.meta=L.meta),this._completed||!j||!A(this._config.complete)||L&&L.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),j||L&&L.meta.paused||this._nextChunk(),L}this._halted=!0},this._sendError=function(_){A(this._config.error)?this._config.error(_):o&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:_,finished:!1})}}function h(b){var _;(b=b||{}).chunkSize||(b.chunkSize=c.RemoteChunkSize),d.call(this,b),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(U){this._input=U,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),i||(_.onload=x(this._chunkLoaded,this),_.onerror=x(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var U,j=this._config.downloadRequestHeaders;for(U in j)_.setRequestHeader(U,j[U])}var L;this._config.chunkSize&&(L=this._start+this._config.chunkSize-1,_.setRequestHeader("Range","bytes="+this._start+"-"+L));try{_.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}i&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize||_.responseText.length,this._finished=!this._config.chunkSize||this._start>=(U=>(U=U.getResponseHeader("Content-Range"))!==null?parseInt(U.substring(U.lastIndexOf("/")+1)):-1)(_),this.parseChunk(_.responseText)))},this._chunkError=function(U){U=_.statusText||U,this._sendError(new Error(U))}}function m(b){(b=b||{}).chunkSize||(b.chunkSize=c.LocalChunkSize),d.call(this,b);var _,U,j=typeof FileReader<"u";this.stream=function(L){this._input=L,U=L.slice||L.webkitSlice||L.mozSlice,j?((_=new FileReader).onload=x(this._chunkLoaded,this),_.onerror=x(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var L=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),L=U.call(L,this._start,P)),_.readAsText(L,this._config.encoding));j||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(L){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(L.target.result)},this._chunkError=function(){this._sendError(_.error)}}function f(b){var _;d.call(this,b=b||{}),this.stream=function(U){return _=U,this._nextChunk()},this._nextChunk=function(){var U,j;if(!this._finished)return U=this._config.chunkSize,_=U?(j=_.substring(0,U),_.substring(U)):(j=_,""),this._finished=!_,this.parseChunk(j)}}function p(b){d.call(this,b=b||{});var _=[],U=!0,j=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(L){this._input=L,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){j&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):U=!0},this._streamData=x(function(L){try{_.push(typeof L=="string"?L:L.toString(this._config.encoding)),U&&(U=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(P){this._streamError(P)}},this),this._streamError=x(function(L){this._streamCleanUp(),this._sendError(L)},this),this._streamEnd=x(function(){this._streamCleanUp(),j=!0,this._streamData("")},this),this._streamCleanUp=x(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function E(b){var _,U,j,L,P=Math.pow(2,53),I=-P,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Y=this,k=0,V=0,re=!1,K=!1,B=[],X={data:[],errors:[],meta:{}};function J(ie){return b.skipEmptyLines==="greedy"?ie.join("").trim()==="":ie.length===1&&ie[0].length===0}function Z(){if(X&&j&&(se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),j=!1),b.skipEmptyLines&&(X.data=X.data.filter(function(_e){return!J(_e)})),Ee()){let _e=function(fe,je){A(b.transformHeader)&&(fe=b.transformHeader(fe,je)),B.push(fe)};if(X)if(Array.isArray(X.data[0])){for(var ie=0;Ee()&&ie<X.data.length;ie++)X.data[ie].forEach(_e);X.data.splice(0,1)}else X.data.forEach(_e)}function Te(_e,fe){for(var je=b.header?{}:[],H=0;H<_e.length;H++){var Ce=H,be=_e[H],be=((ce,Q)=>(Ae=>(b.dynamicTypingFunction&&b.dynamicTyping[Ae]===void 0&&(b.dynamicTyping[Ae]=b.dynamicTypingFunction(Ae)),(b.dynamicTyping[Ae]||b.dynamicTyping)===!0))(ce)?Q==="true"||Q==="TRUE"||Q!=="false"&&Q!=="FALSE"&&((Ae=>{if(F.test(Ae)&&(Ae=parseFloat(Ae),I<Ae&&Ae<P))return 1})(Q)?parseFloat(Q):W.test(Q)?new Date(Q):Q===""?null:Q):Q)(Ce=b.header?H>=B.length?"__parsed_extra":B[H]:Ce,be=b.transform?b.transform(be,Ce):be);Ce==="__parsed_extra"?(je[Ce]=je[Ce]||[],je[Ce].push(be)):je[Ce]=be}return b.header&&(H>B.length?se("FieldMismatch","TooManyFields","Too many fields: expected "+B.length+" fields but parsed "+H,V+fe):H<B.length&&se("FieldMismatch","TooFewFields","Too few fields: expected "+B.length+" fields but parsed "+H,V+fe)),je}var ve;X&&(b.header||b.dynamicTyping||b.transform)&&(ve=1,!X.data.length||Array.isArray(X.data[0])?(X.data=X.data.map(Te),ve=X.data.length):X.data=Te(X.data,0),b.header&&X.meta&&(X.meta.fields=B),V+=ve)}function Ee(){return b.header&&B.length===0}function se(ie,Te,ve,_e){ie={type:ie,code:Te,message:ve},_e!==void 0&&(ie.row=_e),X.errors.push(ie)}A(b.step)&&(L=b.step,b.step=function(ie){X=ie,Ee()?Z():(Z(),X.data.length!==0&&(k+=ie.data.length,b.preview&&k>b.preview?U.abort():(X.data=X.data[0],L(X,Y))))}),this.parse=function(ie,Te,ve){var _e=b.quoteChar||'"',_e=(b.newline||(b.newline=this.guessLineEndings(ie,_e)),j=!1,b.delimiter?A(b.delimiter)&&(b.delimiter=b.delimiter(ie),X.meta.delimiter=b.delimiter):((_e=((fe,je,H,Ce,be)=>{var ce,Q,Ae,te;be=be||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var ae=0;ae<be.length;ae++){for(var le,we=be[ae],Ie=0,ue=0,pe=0,he=(Ae=void 0,new T({comments:Ce,delimiter:we,newline:je,preview:10}).parse(fe)),Ne=0;Ne<he.data.length;Ne++)H&&J(he.data[Ne])?pe++:(le=he.data[Ne].length,ue+=le,Ae===void 0?Ae=le:0<le&&(Ie+=Math.abs(le-Ae),Ae=le));0<he.data.length&&(ue/=he.data.length-pe),(Q===void 0||Ie<=Q)&&(te===void 0||te<ue)&&1.99<ue&&(Q=Ie,ce=we,te=ue)}return{successful:!!(b.delimiter=ce),bestDelimiter:ce}})(ie,b.newline,b.skipEmptyLines,b.comments,b.delimitersToGuess)).successful?b.delimiter=_e.bestDelimiter:(j=!0,b.delimiter=c.DefaultDelimiter),X.meta.delimiter=b.delimiter),C(b));return b.preview&&b.header&&_e.preview++,_=ie,U=new T(_e),X=U.parse(_,Te,ve),Z(),re?{meta:{paused:!0}}:X||{meta:{paused:!1}}},this.paused=function(){return re},this.pause=function(){re=!0,U.abort(),_=A(b.chunk)?"":_.substring(U.getCharIndex())},this.resume=function(){Y.streamer._halted?(re=!1,Y.streamer.parseChunk(_,!0)):setTimeout(Y.resume,3)},this.aborted=function(){return K},this.abort=function(){K=!0,U.abort(),X.meta.aborted=!0,A(b.complete)&&b.complete(X),_=""},this.guessLineEndings=function(fe,_e){fe=fe.substring(0,1048576);var _e=new RegExp(g(_e)+"([^]*?)"+g(_e),"gm"),ve=(fe=fe.replace(_e,"")).split("\r"),_e=fe.split(`
`),fe=1<_e.length&&_e[0].length<ve[0].length;if(ve.length===1||fe)return`
`;for(var je=0,H=0;H<ve.length;H++)ve[H][0]===`
`&&je++;return je>=ve.length/2?`\r
`:"\r"}}function g(b){return b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(b){var _=(b=b||{}).delimiter,U=b.newline,j=b.comments,L=b.step,P=b.preview,I=b.fastMode,F=null,W=!1,Y=b.quoteChar==null?'"':b.quoteChar,k=Y;if(b.escapeChar!==void 0&&(k=b.escapeChar),(typeof _!="string"||-1<c.BAD_DELIMITERS.indexOf(_))&&(_=","),j===_)throw new Error("Comment character same as delimiter");j===!0?j="#":(typeof j!="string"||-1<c.BAD_DELIMITERS.indexOf(j))&&(j=!1),U!==`
`&&U!=="\r"&&U!==`\r
`&&(U=`
`);var V=0,re=!1;this.parse=function(K,B,X){if(typeof K!="string")throw new Error("Input must be a string");var J=K.length,Z=_.length,Ee=U.length,se=j.length,ie=A(L),Te=[],ve=[],_e=[],fe=V=0;if(!K)return Ie();if(I||I!==!1&&K.indexOf(Y)===-1){for(var je=K.split(U),H=0;H<je.length;H++){if(_e=je[H],V+=_e.length,H!==je.length-1)V+=U.length;else if(X)return Ie();if(!j||_e.substring(0,se)!==j){if(ie){if(Te=[],te(_e.split(_)),ue(),re)return Ie()}else te(_e.split(_));if(P&&P<=H)return Te=Te.slice(0,P),Ie(!0)}}return Ie()}for(var Ce=K.indexOf(_,V),be=K.indexOf(U,V),ce=new RegExp(g(k)+g(Y),"g"),Q=K.indexOf(Y,V);;)if(K[V]===Y)for(Q=V,V++;;){if((Q=K.indexOf(Y,Q+1))===-1)return X||ve.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Te.length,index:V}),le();if(Q===J-1)return le(K.substring(V,Q).replace(ce,Y));if(Y===k&&K[Q+1]===k)Q++;else if(Y===k||Q===0||K[Q-1]!==k){Ce!==-1&&Ce<Q+1&&(Ce=K.indexOf(_,Q+1));var Ae=ae((be=be!==-1&&be<Q+1?K.indexOf(U,Q+1):be)===-1?Ce:Math.min(Ce,be));if(K.substr(Q+1+Ae,Z)===_){_e.push(K.substring(V,Q).replace(ce,Y)),K[V=Q+1+Ae+Z]!==Y&&(Q=K.indexOf(Y,V)),Ce=K.indexOf(_,V),be=K.indexOf(U,V);break}if(Ae=ae(be),K.substring(Q+1+Ae,Q+1+Ae+Ee)===U){if(_e.push(K.substring(V,Q).replace(ce,Y)),we(Q+1+Ae+Ee),Ce=K.indexOf(_,V),Q=K.indexOf(Y,V),ie&&(ue(),re))return Ie();if(P&&Te.length>=P)return Ie(!0);break}ve.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Te.length,index:V}),Q++}}else if(j&&_e.length===0&&K.substring(V,V+se)===j){if(be===-1)return Ie();V=be+Ee,be=K.indexOf(U,V),Ce=K.indexOf(_,V)}else if(Ce!==-1&&(Ce<be||be===-1))_e.push(K.substring(V,Ce)),V=Ce+Z,Ce=K.indexOf(_,V);else{if(be===-1)break;if(_e.push(K.substring(V,be)),we(be+Ee),ie&&(ue(),re))return Ie();if(P&&Te.length>=P)return Ie(!0)}return le();function te(pe){Te.push(pe),fe=V}function ae(pe){var he=0;return he=pe!==-1&&(pe=K.substring(Q+1,pe))&&pe.trim()===""?pe.length:he}function le(pe){return X||(pe===void 0&&(pe=K.substring(V)),_e.push(pe),V=J,te(_e),ie&&ue()),Ie()}function we(pe){V=pe,te(_e),_e=[],be=K.indexOf(U,V)}function Ie(pe){if(b.header&&!B&&Te.length&&!W){var he=Te[0],Ne=Object.create(null),Se=new Set(he);let Ye=!1;for(let Ge=0;Ge<he.length;Ge++){let Ze=he[Ge];if(Ne[Ze=A(b.transformHeader)?b.transformHeader(Ze,Ge):Ze]){let ut,He=Ne[Ze];for(;ut=Ze+"_"+He,He++,Se.has(ut););Se.add(ut),he[Ge]=ut,Ne[Ze]++,Ye=!0,(F=F===null?{}:F)[ut]=Ze}else Ne[Ze]=1,he[Ge]=Ze;Se.add(Ze)}Ye&&console.warn("Duplicate headers found and renamed."),W=!0}return{data:Te,errors:ve,meta:{delimiter:_,linebreak:U,aborted:re,truncated:!!pe,cursor:fe+(B||0),renamedHeaders:F}}}function ue(){L(Ie()),Te=[],ve=[]}},this.abort=function(){re=!0},this.getCharIndex=function(){return V}}function S(b){var _=b.data,U=a[_.workerId],j=!1;if(_.error)U.userError(_.error,_.file);else if(_.results&&_.results.data){var L={abort:function(){j=!0,v(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:N,resume:N};if(A(U.userStep)){for(var P=0;P<_.results.data.length&&(U.userStep({data:_.results.data[P],errors:_.results.errors,meta:_.results.meta},L),!j);P++);delete _.results}else A(U.userChunk)&&(U.userChunk(_.results,L,_.file),delete _.results)}_.finished&&!j&&v(_.workerId,_.results)}function v(b,_){var U=a[b];A(U.userComplete)&&U.userComplete(_),U.terminate(),delete a[b]}function N(){throw new Error("Not implemented.")}function C(b){if(typeof b!="object"||b===null)return b;var _,U=Array.isArray(b)?[]:{};for(_ in b)U[_]=C(b[_]);return U}function x(b,_){return function(){b.apply(_,arguments)}}function A(b){return typeof b=="function"}return c.parse=function(b,_){var U=(_=_||{}).dynamicTyping||!1;if(A(U)&&(_.dynamicTypingFunction=U,U={}),_.dynamicTyping=U,_.transform=!!A(_.transform)&&_.transform,!_.worker||!c.WORKERS_SUPPORTED)return U=null,c.NODE_STREAM_INPUT,typeof b=="string"?(b=(j=>j.charCodeAt(0)!==65279?j:j.slice(1))(b),U=new(_.download?h:f)(_)):b.readable===!0&&A(b.read)&&A(b.on)?U=new p(_):(n.File&&b instanceof File||b instanceof Object)&&(U=new m(_)),U.stream(b);(U=(()=>{var j;return!!c.WORKERS_SUPPORTED&&(j=(()=>{var L=n.URL||n.webkitURL||null,P=r.toString();return c.BLOB_URL||(c.BLOB_URL=L.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(j=new n.Worker(j)).onmessage=S,j.id=l++,a[j.id]=j)})()).userStep=_.step,U.userChunk=_.chunk,U.userComplete=_.complete,U.userError=_.error,_.step=A(_.step),_.chunk=A(_.chunk),_.complete=A(_.complete),_.error=A(_.error),delete _.worker,U.postMessage({input:b,config:_,workerId:U.id})},c.unparse=function(b,_){var U=!1,j=!0,L=",",P=`\r
`,I='"',F=I+I,W=!1,Y=null,k=!1,V=((()=>{if(typeof _=="object"){if(typeof _.delimiter!="string"||c.BAD_DELIMITERS.filter(function(B){return _.delimiter.indexOf(B)!==-1}).length||(L=_.delimiter),typeof _.quotes!="boolean"&&typeof _.quotes!="function"&&!Array.isArray(_.quotes)||(U=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(W=_.skipEmptyLines),typeof _.newline=="string"&&(P=_.newline),typeof _.quoteChar=="string"&&(I=_.quoteChar),typeof _.header=="boolean"&&(j=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");Y=_.columns}_.escapeChar!==void 0&&(F=_.escapeChar+I),_.escapeFormulae instanceof RegExp?k=_.escapeFormulae:typeof _.escapeFormulae=="boolean"&&_.escapeFormulae&&(k=/^[=+\-@\t\r].*$/)}})(),new RegExp(g(I),"g"));if(typeof b=="string"&&(b=JSON.parse(b)),Array.isArray(b)){if(!b.length||Array.isArray(b[0]))return re(null,b,W);if(typeof b[0]=="object")return re(Y||Object.keys(b[0]),b,W)}else if(typeof b=="object")return typeof b.data=="string"&&(b.data=JSON.parse(b.data)),Array.isArray(b.data)&&(b.fields||(b.fields=b.meta&&b.meta.fields||Y),b.fields||(b.fields=Array.isArray(b.data[0])?b.fields:typeof b.data[0]=="object"?Object.keys(b.data[0]):[]),Array.isArray(b.data[0])||typeof b.data[0]=="object"||(b.data=[b.data])),re(b.fields||[],b.data||[],W);throw new Error("Unable to serialize unrecognized input");function re(B,X,J){var Z="",Ee=(typeof B=="string"&&(B=JSON.parse(B)),typeof X=="string"&&(X=JSON.parse(X)),Array.isArray(B)&&0<B.length),se=!Array.isArray(X[0]);if(Ee&&j){for(var ie=0;ie<B.length;ie++)0<ie&&(Z+=L),Z+=K(B[ie],ie);0<X.length&&(Z+=P)}for(var Te=0;Te<X.length;Te++){var ve=(Ee?B:X[Te]).length,_e=!1,fe=Ee?Object.keys(X[Te]).length===0:X[Te].length===0;if(J&&!Ee&&(_e=J==="greedy"?X[Te].join("").trim()==="":X[Te].length===1&&X[Te][0].length===0),J==="greedy"&&Ee){for(var je=[],H=0;H<ve;H++){var Ce=se?B[H]:H;je.push(X[Te][Ce])}_e=je.join("").trim()===""}if(!_e){for(var be=0;be<ve;be++){0<be&&!fe&&(Z+=L);var ce=Ee&&se?B[be]:be;Z+=K(X[Te][ce],be)}Te<X.length-1&&(!J||0<ve&&!fe)&&(Z+=P)}}return Z}function K(B,X){var J,Z;return B==null?"":B.constructor===Date?JSON.stringify(B).slice(1,25):(Z=!1,k&&typeof B=="string"&&k.test(B)&&(B="'"+B,Z=!0),J=B.toString().replace(V,F),(Z=Z||U===!0||typeof U=="function"&&U(B,X)||Array.isArray(U)&&U[X]||((Ee,se)=>{for(var ie=0;ie<se.length;ie++)if(-1<Ee.indexOf(se[ie]))return!0;return!1})(J,c.BAD_DELIMITERS)||-1<J.indexOf(L)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?I+J+I:J)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=T,c.ParserHandle=E,c.NetworkStreamer=h,c.FileStreamer=m,c.StringStreamer=f,c.ReadableStreamStreamer=p,n.jQuery&&((s=n.jQuery).fn.parse=function(b){var _=b.config||{},U=[];return this.each(function(P){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var I=0;I<this.files.length;I++)U.push({file:this.files[I],inputElem:this,instanceConfig:s.extend({},_)})}),j(),this;function j(){if(U.length===0)A(b.complete)&&b.complete();else{var P,I,F,W,Y=U[0];if(A(b.before)){var k=b.before(Y.file,Y.inputElem);if(typeof k=="object"){if(k.action==="abort")return P="AbortError",I=Y.file,F=Y.inputElem,W=k.reason,void(A(b.error)&&b.error({name:P},I,F,W));if(k.action==="skip")return void L();typeof k.config=="object"&&(Y.instanceConfig=s.extend(Y.instanceConfig,k.config))}else if(k==="skip")return void L()}var V=Y.instanceConfig.complete;Y.instanceConfig.complete=function(re){A(V)&&V(re,Y.file,Y.inputElem),L()},c.parse(Y.file,Y.instanceConfig)}}function L(){U.splice(0,1),j()}}),o&&(n.onmessage=function(b){b=b.data,c.WORKER_ID===void 0&&b&&(c.WORKER_ID=b.workerId),typeof b.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(b.input,b.config),finished:!0}):(n.File&&b.input instanceof File||b.input instanceof Object)&&(b=c.parse(b.input,b.config))&&n.postMessage({workerId:c.WORKER_ID,results:b,finished:!0})}),(h.prototype=Object.create(d.prototype)).constructor=h,(m.prototype=Object.create(d.prototype)).constructor=m,(f.prototype=Object.create(f.prototype)).constructor=f,(p.prototype=Object.create(d.prototype)).constructor=p,c})})(Fte);var Hte=Fte.exports;const $te=Yr(Hte);var eb,rQe=()=>{let t=Int32Array,e=new t(256),r=new t(4096),n,s,i;for(s=0;s<256;s++)n=s,n=n&1?-306674912^n>>>1:n>>>1,n=n&1?-306674912^n>>>1:n>>>1,n=n&1?-306674912^n>>>1:n>>>1,n=n&1?-306674912^n>>>1:n>>>1,n=n&1?-306674912^n>>>1:n>>>1,n=n&1?-306674912^n>>>1:n>>>1,n=n&1?-306674912^n>>>1:n>>>1,r[s]=e[s]=n&1?-306674912^n>>>1:n>>>1;for(s=0;s<256;s++)for(i=e[s],n=256+s;n<4096;n+=256)i=r[n]=i>>>8^e[i&255];for(eb=[e],s=1;s<16;s++)eb[s]=r.subarray(s*256,(s+1)*256)},nQe=(t,e=0)=>{eb||rQe();let[r,n,s,i,o,a,l,c,d,h,m,f,p,E,g,T]=eb,S=e^-1,v=t.length-15,N=0;for(;N<v;)S=T[t[N++]^S&255]^g[t[N++]^S>>8&255]^E[t[N++]^S>>16&255]^p[t[N++]^S>>>24]^f[t[N++]]^m[t[N++]]^h[t[N++]]^d[t[N++]]^c[t[N++]]^l[t[N++]]^a[t[N++]]^o[t[N++]]^i[t[N++]]^s[t[N++]]^n[t[N++]]^r[t[N++]];for(v+=15;N<v;)S=S>>>8^r[(S^t[N++])&255];return~S},sQe=typeof CompressionStream<"u",Gte=new TextEncoder,Vte=t=>t.reduce((e,r)=>e+r.length,0),zte=Uint8Array;function iQe(t){let e=new CompressionStream("gzip"),r=e.writable.getWriter(),n=e.readable.getReader();return r.write(t),r.close(),()=>n.read()}async function oQe(t,e=!0,r=iQe){let n=[],s=sQe&&e,i=t.length,o=t.map(g=>Gte.encode(g.path)),a=t.map(({data:g})=>typeof g=="string"?Gte.encode(g):g instanceof ArrayBuffer?new zte(g):g),l=Vte(a),c=Vte(o),d=i*46+c,h=l+i*30+c+d+22,m=new Date,f=new zte(h),p=0;for(let g=0;g<i;g++){n[g]=p;let T=o[g],S=T.length,v=a[g],N=v.length,C=t[g].lastModified??m,x=(C.getSeconds()/2|0)+(C.getMinutes()<<5)+(C.getHours()<<11),A=C.getDate()+(C.getMonth()+1<<5)+(C.getFullYear()-1980<<9),b=0,_=!1;f[p++]=80,f[p++]=75,f[p++]=3,f[p++]=4,f[p++]=20,f[p++]=0,f[p++]=0,f[p++]=8;let U=p;f[p++]=f[p++]=0,f[p++]=x&255,f[p++]=x>>8,f[p++]=A&255,f[p++]=A>>8;let j=p;if(p+=8,f[p++]=N&255,f[p++]=N>>8&255,f[p++]=N>>16&255,f[p++]=N>>24,f[p++]=S&255,f[p++]=S>>8,f[p++]=f[p++]=0,f.set(T,p),p+=S,s){let L=p,P=r(v),I,F=0,W=0;e:{for(;;){let Y=await P();if(Y.done)throw new Error("Bad gzip data");if(I=Y.value,F=W,W=F+I.length,F<=3&&W>3&&I[3-F]&30){_=!0;break e}if(W>=10){I=I.subarray(10-F);break}}for(;;){let Y=p-L,k=I.length;if(Y+k>=N+8){_=!0;break e}f.set(I,p),p+=k;let V=await P();if(V.done)break;I=V.value}}if(_)for(;;){let Y=I.length,k=8-Y,V=p;p=L;for(let K=0;K<8;K++)f[p++]=K<k?f[V-k+K]:I[Y-8+K];let re=await P();if(re.done)break;I=re.value}p-=8,f[j++]=f[p++],f[j++]=f[p++],f[j++]=f[p++],f[j++]=f[p++],p-=4,_||(f[U]=8,b=p-L)}if((!s||_)&&(f.set(v,p),p+=N,b=N),!s){let L=nQe(v);f[j++]=L&255,f[j++]=L>>8&255,f[j++]=L>>16&255,f[j++]=L>>24}f[j++]=b&255,f[j++]=b>>8&255,f[j++]=b>>16&255,f[j++]=b>>24}let E=p;for(let g=0;g<i;g++){let T=n[g],S=o[g],v=S.length;f[p++]=80,f[p++]=75,f[p++]=1,f[p++]=2,f[p++]=20,f[p++]=0,f[p++]=20,f[p++]=0,f.set(f.subarray(T+6,T+30),p),p+=24,f[p++]=f[p++]=f[p++]=f[p++]=f[p++]=f[p++]=f[p++]=f[p++]=f[p++]=f[p++]=0,f[p++]=T&255,f[p++]=T>>8&255,f[p++]=T>>16&255,f[p++]=T>>24,f.set(S,p),p+=v}return f[p++]=80,f[p++]=75,f[p++]=5,f[p++]=6,f[p++]=f[p++]=f[p++]=f[p++]=0,f[p++]=i&255,f[p++]=i>>8,f[p++]=i&255,f[p++]=i>>8,f[p++]=d&255,f[p++]=d>>8&255,f[p++]=d>>16&255,f[p++]=d>>24,f[p++]=E&255,f[p++]=E>>8&255,f[p++]=E>>16&255,f[p++]=E>>24,f[p++]=f[p++]=0,f.subarray(0,p)}var aQe={"<":"&lt;",">":"&gt;","&":"&amp;","'":"&apos;",'"':"&quot;"},Yu=t=>t.replace(/[<>&'"]/g,e=>aQe[e]),lQe=t=>{let e="";for(;;){let r=t%26;if(e=String.fromCharCode(65+r)+e,t=(t-r)/26-1,t<0)return e}},GT=(t,e)=>`${lQe(t)}${e+1}`,cQe=Date.UTC(1899,11,31)/1e3/3600/24,uQe=(t,e,r)=>{let n;e?(r&&t.setUTCFullYear(1899,11,31),n=t.getTime()):n=Date.UTC(r?1899:t.getFullYear(),r?11:t.getMonth(),r?31:t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());let s=n/1e3/3600/24-cQe;if(!(s<0)&&!(s<1&&!r))return s>=60&&(s+=1),s};function Wte(t,e=1/0){let r=0,n=-1,s,i=t.length;for(;;){s=t.indexOf(`
`,++n),s===-1&&(s=i);let o=s-n;if(o>r&&(r=o),s===i||r>=e)break;n=s}return r}function Cl(t){return(t<10?"0":"")+t}function Yte(t){return(t<10?"00":t<100?"0":"")+t}function qte(t){return(t<10?"000":t<100?"00":t<1e3?"0":"")+t}function dQe(t,e,r){return(e?`${qte(t.getFullYear())}-${Cl(t.getMonth()+1)}-${Cl(t.getDate())}`:"")+(e&&r?" ":"")+(r?`${Cl(t.getHours())}:${Cl(t.getMinutes())}:${Cl(t.getSeconds())}.${Yte(t.getMilliseconds())}`:"")}function hQe(t,e,r){return(e?`${qte(t.getUTCFullYear())}-${Cl(t.getUTCMonth()+1)}-${Cl(t.getUTCDate())}`:"")+(e&&r?" ":"")+(r?`${Cl(t.getUTCHours())}:${Cl(t.getUTCMinutes())}:${Cl(t.getUTCSeconds())}.${Yte(t.getUTCMilliseconds())}`:"")}var fQe=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" />
  <Default Extension="xml" ContentType="application/xml" />
  <Override PartName="/xl/workbook.xml"
    ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" />
  <Override PartName="/xl/worksheets/sheet1.xml"
    ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />
  <Override PartName="/xl/theme/theme1.xml"
    ContentType="application/vnd.openxmlformats-officedocument.theme+xml" />
  <Override PartName="/xl/styles.xml"
    ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" />
  <Override PartName="/xl/sharedStrings.xml"
    ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" />
  <Override PartName="/docProps/core.xml"
    ContentType="application/vnd.openxmlformats-package.core-properties+xml" />
  <Override PartName="/docProps/app.xml"
    ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" />
</Types>`,mQe=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
  <Relationship Id="rId3"
    Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties"
    Target="docProps/app.xml" />
  <Relationship Id="rId2"
    Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties"
    Target="docProps/core.xml" />
  <Relationship Id="rId1"
    Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument"
    Target="xl/workbook.xml" />
</Relationships>`,pQe=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">
  <a:themeElements>
    <a:clrScheme name="Office">
      <a:dk1>
        <a:sysClr val="windowText" lastClr="000000" />
      </a:dk1>
      <a:lt1>
        <a:sysClr val="window" lastClr="FFFFFF" />
      </a:lt1>
      <a:dk2>
        <a:srgbClr val="44546A" />
      </a:dk2>
      <a:lt2>
        <a:srgbClr val="E7E6E6" />
      </a:lt2>
      <a:accent1>
        <a:srgbClr val="4472C4" />
      </a:accent1>
      <a:accent2>
        <a:srgbClr val="ED7D31" />
      </a:accent2>
      <a:accent3>
        <a:srgbClr val="A5A5A5" />
      </a:accent3>
      <a:accent4>
        <a:srgbClr val="FFC000" />
      </a:accent4>
      <a:accent5>
        <a:srgbClr val="5B9BD5" />
      </a:accent5>
      <a:accent6>
        <a:srgbClr val="70AD47" />
      </a:accent6>
      <a:hlink>
        <a:srgbClr val="0563C1" />
      </a:hlink>
      <a:folHlink>
        <a:srgbClr val="954F72" />
      </a:folHlink>
    </a:clrScheme>
    <a:fontScheme name="Office">
      <a:majorFont>
        <a:latin typeface="Calibri Light" panose="020F0302020204030204" />
        <a:ea typeface="" />
        <a:cs typeface="" />
        <a:font script="Jpan" typeface=" Light" />
        <a:font script="Hang" typeface=" " />
        <a:font script="Hans" typeface=" Light" />
        <a:font script="Hant" typeface="" />
        <a:font script="Arab" typeface="Times New Roman" />
        <a:font script="Hebr" typeface="Times New Roman" />
        <a:font script="Thai" typeface="Tahoma" />
        <a:font script="Ethi" typeface="Nyala" />
        <a:font script="Beng" typeface="Vrinda" />
        <a:font script="Gujr" typeface="Shruti" />
        <a:font script="Khmr" typeface="MoolBoran" />
        <a:font script="Knda" typeface="Tunga" />
        <a:font script="Guru" typeface="Raavi" />
        <a:font script="Cans" typeface="Euphemia" />
        <a:font script="Cher" typeface="Plantagenet Cherokee" />
        <a:font script="Yiii" typeface="Microsoft Yi Baiti" />
        <a:font script="Tibt" typeface="Microsoft Himalaya" />
        <a:font script="Thaa" typeface="MV Boli" />
        <a:font script="Deva" typeface="Mangal" />
        <a:font script="Telu" typeface="Gautami" />
        <a:font script="Taml" typeface="Latha" />
        <a:font script="Syrc" typeface="Estrangelo Edessa" />
        <a:font script="Orya" typeface="Kalinga" />
        <a:font script="Mlym" typeface="Kartika" />
        <a:font script="Laoo" typeface="DokChampa" />
        <a:font script="Sinh" typeface="Iskoola Pota" />
        <a:font script="Mong" typeface="Mongolian Baiti" />
        <a:font script="Viet" typeface="Times New Roman" />
        <a:font script="Uigh" typeface="Microsoft Uighur" />
        <a:font script="Geor" typeface="Sylfaen" />
        <a:font script="Armn" typeface="Arial" />
        <a:font script="Bugi" typeface="Leelawadee UI" />
        <a:font script="Bopo" typeface="Microsoft JhengHei" />
        <a:font script="Java" typeface="Javanese Text" />
        <a:font script="Lisu" typeface="Segoe UI" />
        <a:font script="Mymr" typeface="Myanmar Text" />
        <a:font script="Nkoo" typeface="Ebrima" />
        <a:font script="Olck" typeface="Nirmala UI" />
        <a:font script="Osma" typeface="Ebrima" />
        <a:font script="Phag" typeface="Phagspa" />
        <a:font script="Syrn" typeface="Estrangelo Edessa" />
        <a:font script="Syrj" typeface="Estrangelo Edessa" />
        <a:font script="Syre" typeface="Estrangelo Edessa" />
        <a:font script="Sora" typeface="Nirmala UI" />
        <a:font script="Tale" typeface="Microsoft Tai Le" />
        <a:font script="Talu" typeface="Microsoft New Tai Lue" />
        <a:font script="Tfng" typeface="Ebrima" />
      </a:majorFont>
      <a:minorFont>
        <a:latin typeface="Calibri" panose="020F0502020204030204" />
        <a:ea typeface="" />
        <a:cs typeface="" />
        <a:font script="Jpan" typeface="" />
        <a:font script="Hang" typeface=" " />
        <a:font script="Hans" typeface="" />
        <a:font script="Hant" typeface="" />
        <a:font script="Arab" typeface="Arial" />
        <a:font script="Hebr" typeface="Arial" />
        <a:font script="Thai" typeface="Tahoma" />
        <a:font script="Ethi" typeface="Nyala" />
        <a:font script="Beng" typeface="Vrinda" />
        <a:font script="Gujr" typeface="Shruti" />
        <a:font script="Khmr" typeface="DaunPenh" />
        <a:font script="Knda" typeface="Tunga" />
        <a:font script="Guru" typeface="Raavi" />
        <a:font script="Cans" typeface="Euphemia" />
        <a:font script="Cher" typeface="Plantagenet Cherokee" />
        <a:font script="Yiii" typeface="Microsoft Yi Baiti" />
        <a:font script="Tibt" typeface="Microsoft Himalaya" />
        <a:font script="Thaa" typeface="MV Boli" />
        <a:font script="Deva" typeface="Mangal" />
        <a:font script="Telu" typeface="Gautami" />
        <a:font script="Taml" typeface="Latha" />
        <a:font script="Syrc" typeface="Estrangelo Edessa" />
        <a:font script="Orya" typeface="Kalinga" />
        <a:font script="Mlym" typeface="Kartika" />
        <a:font script="Laoo" typeface="DokChampa" />
        <a:font script="Sinh" typeface="Iskoola Pota" />
        <a:font script="Mong" typeface="Mongolian Baiti" />
        <a:font script="Viet" typeface="Arial" />
        <a:font script="Uigh" typeface="Microsoft Uighur" />
        <a:font script="Geor" typeface="Sylfaen" />
        <a:font script="Armn" typeface="Arial" />
        <a:font script="Bugi" typeface="Leelawadee UI" />
        <a:font script="Bopo" typeface="Microsoft JhengHei" />
        <a:font script="Java" typeface="Javanese Text" />
        <a:font script="Lisu" typeface="Segoe UI" />
        <a:font script="Mymr" typeface="Myanmar Text" />
        <a:font script="Nkoo" typeface="Ebrima" />
        <a:font script="Olck" typeface="Nirmala UI" />
        <a:font script="Osma" typeface="Ebrima" />
        <a:font script="Phag" typeface="Phagspa" />
        <a:font script="Syrn" typeface="Estrangelo Edessa" />
        <a:font script="Syrj" typeface="Estrangelo Edessa" />
        <a:font script="Syre" typeface="Estrangelo Edessa" />
        <a:font script="Sora" typeface="Nirmala UI" />
        <a:font script="Tale" typeface="Microsoft Tai Le" />
        <a:font script="Talu" typeface="Microsoft New Tai Lue" />
        <a:font script="Tfng" typeface="Ebrima" />
      </a:minorFont>
    </a:fontScheme>
    <a:fmtScheme name="Office">
      <a:fillStyleLst>
        <a:solidFill>
          <a:schemeClr val="phClr" />
        </a:solidFill>
        <a:gradFill rotWithShape="1">
          <a:gsLst>
            <a:gs pos="0">
              <a:schemeClr val="phClr">
                <a:lumMod val="110000" />
                <a:satMod val="105000" />
                <a:tint val="67000" />
              </a:schemeClr>
            </a:gs>
            <a:gs pos="50000">
              <a:schemeClr val="phClr">
                <a:lumMod val="105000" />
                <a:satMod val="103000" />
                <a:tint val="73000" />
              </a:schemeClr>
            </a:gs>
            <a:gs pos="100000">
              <a:schemeClr val="phClr">
                <a:lumMod val="105000" />
                <a:satMod val="109000" />
                <a:tint val="81000" />
              </a:schemeClr>
            </a:gs>
          </a:gsLst>
          <a:lin ang="5400000" scaled="0" />
        </a:gradFill>
        <a:gradFill rotWithShape="1">
          <a:gsLst>
            <a:gs pos="0">
              <a:schemeClr val="phClr">
                <a:satMod val="103000" />
                <a:lumMod val="102000" />
                <a:tint val="94000" />
              </a:schemeClr>
            </a:gs>
            <a:gs pos="50000">
              <a:schemeClr val="phClr">
                <a:satMod val="110000" />
                <a:lumMod val="100000" />
                <a:shade val="100000" />
              </a:schemeClr>
            </a:gs>
            <a:gs pos="100000">
              <a:schemeClr val="phClr">
                <a:lumMod val="99000" />
                <a:satMod val="120000" />
                <a:shade val="78000" />
              </a:schemeClr>
            </a:gs>
          </a:gsLst>
          <a:lin ang="5400000" scaled="0" />
        </a:gradFill>
      </a:fillStyleLst>
      <a:lnStyleLst>
        <a:ln w="6350" cap="flat" cmpd="sng" algn="ctr">
          <a:solidFill>
            <a:schemeClr val="phClr" />
          </a:solidFill>
          <a:prstDash val="solid" />
          <a:miter lim="800000" />
        </a:ln>
        <a:ln w="12700" cap="flat" cmpd="sng" algn="ctr">
          <a:solidFill>
            <a:schemeClr val="phClr" />
          </a:solidFill>
          <a:prstDash val="solid" />
          <a:miter lim="800000" />
        </a:ln>
        <a:ln w="19050" cap="flat" cmpd="sng" algn="ctr">
          <a:solidFill>
            <a:schemeClr val="phClr" />
          </a:solidFill>
          <a:prstDash val="solid" />
          <a:miter lim="800000" />
        </a:ln>
      </a:lnStyleLst>
      <a:effectStyleLst>
        <a:effectStyle>
          <a:effectLst />
        </a:effectStyle>
        <a:effectStyle>
          <a:effectLst />
        </a:effectStyle>
        <a:effectStyle>
          <a:effectLst>
            <a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0">
              <a:srgbClr val="000000">
                <a:alpha val="63000" />
              </a:srgbClr>
            </a:outerShdw>
          </a:effectLst>
        </a:effectStyle>
      </a:effectStyleLst>
      <a:bgFillStyleLst>
        <a:solidFill>
          <a:schemeClr val="phClr" />
        </a:solidFill>
        <a:solidFill>
          <a:schemeClr val="phClr">
            <a:tint val="95000" />
            <a:satMod val="170000" />
          </a:schemeClr>
        </a:solidFill>
        <a:gradFill rotWithShape="1">
          <a:gsLst>
            <a:gs pos="0">
              <a:schemeClr val="phClr">
                <a:tint val="93000" />
                <a:satMod val="150000" />
                <a:shade val="98000" />
                <a:lumMod val="102000" />
              </a:schemeClr>
            </a:gs>
            <a:gs pos="50000">
              <a:schemeClr val="phClr">
                <a:tint val="98000" />
                <a:satMod val="130000" />
                <a:shade val="90000" />
                <a:lumMod val="103000" />
              </a:schemeClr>
            </a:gs>
            <a:gs pos="100000">
              <a:schemeClr val="phClr">
                <a:shade val="63000" />
                <a:satMod val="120000" />
              </a:schemeClr>
            </a:gs>
          </a:gsLst>
          <a:lin ang="5400000" scaled="0" />
        </a:gradFill>
      </a:bgFillStyleLst>
    </a:fmtScheme>
  </a:themeElements>
  <a:objectDefaults />
  <a:extraClrSchemeLst />
  <a:extLst>
    <a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}">
      <thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main"
        name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}"
        vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}" />
    </a:ext>
  </a:extLst>
</a:theme>`,EQe=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
  <Relationship Id="rId4"
    Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings"
    Target="sharedStrings.xml" />
  <Relationship Id="rId3"
    Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles"
    Target="styles.xml" />
  <Relationship Id="rId2"
    Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"
    Target="theme/theme1.xml" />
  <Relationship Id="rId1"
    Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet"
    Target="worksheets/sheet1.xml" />
</Relationships>`,gQe=({company:t})=>`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties">
  <Company>${Yu(t)}</Company>
</Properties>`,TQe=({title:t,description:e,creator:r,creationDate:n})=>{let s=n.toISOString();return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<cp:coreProperties
  xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties"
  xmlns:dc="http://purl.org/dc/elements/1.1/"
  xmlns:dcterms="http://purl.org/dc/terms/"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <dc:title>${Yu(t)}</dc:title>
  <dc:description>${Yu(e)}</dc:description>
  <dc:creator>${Yu(r)}</dc:creator>
  <cp:lastModifiedBy>${Yu(r)}</cp:lastModifiedBy>
  <dcterms:created xsi:type="dcterms:W3CDTF">${s}</dcterms:created>
  <dcterms:modified xsi:type="dcterms:W3CDTF">${s}</dcterms:modified>
</cp:coreProperties>`},SQe=({sheetName:t})=>`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"
  xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">
  <fileVersion appName="xl" lastEdited="7" lowestEdited="7" rupBuild="10211" />
  <workbookPr defaultThemeVersion="166925" />
  <sheets>
    <sheet name="${Yu(t)}" sheetId="1" r:id="rId1" />
  </sheets>
  <calcPr calcId="181029" />
</workbook>`,vQe=({wrapText:t})=>`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  mc:Ignorable="x14ac x16r2 xr"
  xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"
  xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"
  xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision">
  <numFmts count="3">
    <numFmt numFmtId="164" formatCode="yyyy-mm-dd hh:mm:ss" />
    <numFmt numFmtId="165" formatCode="yyyy-mm-dd" />
    <numFmt numFmtId="166" formatCode="h:mm:ss" />
  </numFmts>
  <fonts count="2" x14ac:knownFonts="1">
    <font>
      <sz val="14" />
      <color theme="1" />
      <name val="Calibri" />
      <family val="2" />
      <scheme val="minor" />
    </font>
    <font>
      <b />
      <sz val="14" />
      <color theme="1" />
      <name val="Calibri" />
      <family val="2" />
      <scheme val="minor" />
    </font>
  </fonts>
  <fills count="1">
    <fill>
      <patternFill patternType="none" />
    </fill>
  </fills>
  <borders count="2">
    <border>
      <left />
      <right />
      <top />
      <bottom />
      <diagonal />
    </border>
    <border>
      <left />
      <right />
      <top />
      <bottom style="medium">
        <color indexed="64" />
      </bottom>
      <diagonal />
    </border>
  </borders>
  <cellStyleXfs count="1">
    <xf numFmtId="0" fontId="0" fillId="0" borderId="0" />
  </cellStyleXfs>
  <cellXfs count="4">
    <xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"><alignment wrapText="${t}" /></xf>
    <xf numFmtId="0" fontId="1" fillId="0" borderId="1" xfId="0" applyFont="1" applyBorder="1" />
    <xf numFmtId="164" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1" />
    <xf numFmtId="165" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1" />
    <xf numFmtId="166" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1" />
  </cellXfs>
  <cellStyles count="1">
    <cellStyle name="Normal" xfId="0" builtinId="0" />
  </cellStyles>
  <dxfs count="0" />
  <tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16" />
  <extLst>
    <ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}"
      xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main">
      <x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1" />
    </ext>
    <ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}"
      xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main">
      <x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1" />
    </ext>
  </extLst>
</styleSheet>`,tp=(t=>(t[t.Number=0]="Number",t[t.String=1]="String",t[t.LocalDate=2]="LocalDate",t[t.LocalTime=3]="LocalTime",t[t.LocalDateTime=4]="LocalDateTime",t[t.UTCDate=5]="UTCDate",t[t.UTCTime=6]="UTCTime",t[t.UTCDateTime=7]="UTCDateTime",t))(tp||{}),yQe={wrapText:!0,freeze:!0,autoFilter:!0,sheetName:"Sheet 1",creator:"xlsxtable",title:"",description:"",company:"",minColWidth:5,maxColWidth:50,padWidth:2,stringCharWidth:1.1},XP=t=>{let{headings:e,types:r,data:n,wrapText:s,freeze:i,autoFilter:o,creator:a,title:l,description:c,sheetName:d,company:h,minColWidth:m,maxColWidth:f,padWidth:p,stringCharWidth:E}={...yQe,...t},g=e.length;if(g!==r.length||g!==n[0].length)throw new Error(`Number of headings (${g}), types (${r.length}) and data columns (first row: ${n[0].length}) must be the same`);let T=n.length,S=new Date,v=new Map,N=0,C=0,x=[],A={5:10+p,6:8+p,7:18+p,2:10+p,3:8+p,4:18+p},b=p+(o?2:0),_=Math.ceil(f/E)-b;for(let Y=0;Y<g;Y++){let k=e[Y],V=Wte(k,_)*E+b;x[Y]=V<m?m:V>f?f:V}let U=Math.ceil(f/E)-p,j=f-p;for(let Y=0;Y<g;Y++){if(x[Y]>=f)continue;let k=r[Y],V=A[k];if(V!==void 0){x[Y]<V&&(x[Y]=V);continue}if(k===1){let re=0;for(let B=0;B<T;B++){let X=n[B][Y];if(X!=null&&(X=String(X),re=Wte(X,U),re>=U))break}let K=re*E+p;x[Y]<K&&(x[Y]=K>f?f:K)}else if(k===0){let re=0;for(let B=0;B<T;B++){let X=n[B][Y];if(X==null)continue;X=String(X);let J=X.length;if(J>re&&(re=J),re>=j)break}let K=re+p;x[Y]<K&&(x[Y]=K>f?f:K)}}let L=`<cols>${x.map((Y,k)=>`<col min="${k+1}" max="${k+1}" width="${Math.ceil(Y)}" bestFit="1" customWidth="1" />`).join("")}</cols>`,P=`<row r="1" spans="1:${g}">${e.map((Y,k)=>`<c r="${GT(k,0)}" t="inlineStr" s="1"><is><t>${Yu(Y)}</t></is></c>`).join("")}</row>`,I=`${n.map((Y,k)=>`<row r="${k+2}" spans="1:${g}">${Y.map((V,re)=>{if(V==null)return"";let K=r[re],B=K>=2,X;if(B){let J=K===6||K===3,Z=K===5||K===2,Ee=!Z&&!J,se=K>=5;X=J?4:Z?3:2,V instanceof Date&&(V=uQe(V,se,J)??(se?hQe(V,Z||Ee,J||Ee):dQe(V,Z||Ee,J||Ee))),typeof V=="string"&&(K=1)}if(K===1){N++;let J=v.get(V);return J===void 0&&(J=C,v.set(V,J),C++),`<c r="${GT(re,k+1)}" t="s"><v>${J}</v></c>`}return`<c r="${GT(re,k+1)}"${X?` s="${X}"`:""}><v>${V}</v></c>`}).join("")}</row>`).join("")}`,F=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${N}" uniqueCount="${C}">
${[...v].map(([Y])=>`<si><t>${Yu(Y)}</t></si>`).join("")}
</sst>`,W=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<worksheet 
  xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  mc:Ignorable="xr"
  xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision"
  xr:uid="{${crypto.randomUUID()}}">
  <dimension ref="A1:${GT(g-1,T)}" />
  <sheetViews>
    <sheetView tabSelected="1" workbookViewId="0">
      ${i?'<pane ySplit="1" topLeftCell="A2" activePane="bottomLeft" state="frozen" />':""}
      <selection${i?' pane="bottomLeft"':""} activeCell="A2" sqref="A2" />
    </sheetView>
  </sheetViews>
  <sheetFormatPr baseColWidth="12" defaultRowHeight="16" />
${L}
  <sheetData>
${P}
${I}
  </sheetData>
  ${o?`<autoFilter ref="A1:${GT(g-1,0)}" xr:uid="{3${crypto.randomUUID()}}" />`:""}
  <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />
</worksheet>`;return oQe([{path:"[Content_Types].xml",data:fQe},{path:"_rels/.rels",data:mQe},{path:"xl/_rels/workbook.xml.rels",data:EQe},{path:"xl/workbook.xml",data:SQe({sheetName:d})},{path:"xl/styles.xml",data:vQe({wrapText:s})},{path:"xl/theme/theme1.xml",data:pQe},{path:"xl/sharedStrings.xml",data:F},{path:"xl/worksheets/sheet1.xml",data:W},{path:"docProps/core.xml",data:TQe({title:l,description:c,creator:a,creationDate:S})},{path:"docProps/app.xml",data:gQe({company:h})}])};const AQe=(t,e)=>{const r=`${t}.json`,n=JSON.stringify(e),s=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(s),o=document.createElement("a");o.style.display="none",o.href=i,o.download=r,document.body.appendChild(o),o.click(),setTimeout(()=>{URL.revokeObjectURL(i),document.body.removeChild(o)},0)},RQe=(t,e)=>{const r=`${t}.csv`,n=Hte.unparse(e,{quotes:!0}),s=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(s),o=document.createElement("a");o.style.display="none",o.href=i,o.download=r,document.body.appendChild(o),o.click(),setTimeout(()=>{URL.revokeObjectURL(i),document.body.removeChild(o)},0)},NQe=async(t,e,r)=>{const{getTypes:n}=cr(t),{numberTypes:s,jsonTypes:i}=n(),o=Object.values(e.columns),a=o.map(p=>{const E=p.type;return s.includes(E)?tp.Number:tp.String}),l=r.map(p=>o.map(E=>{const g=p[E.name];return g&&i.includes(E.type)?JSON.stringify(g):g==null?g:String(g)})),c=`${e.name}.xlsx`,d=await XP({types:a,headings:o.map(p=>p.name),data:l,wrapText:!0,sheetName:e.name}),h=new Blob([d]),m=URL.createObjectURL(h),f=document.createElement("a");f.style.display="none",f.href=m,f.download=c,document.body.appendChild(f),f.click(),setTimeout(()=>{URL.revokeObjectURL(m),document.body.removeChild(f)},0)},bQe=({disabled:t,entity:e})=>{const r=it(({dialect:j})=>{if(!j)throw new Error("No dialect");return j}),n=Me(j=>{var L;return(L=j.currentTable)==null?void 0:L.schema}),{dataFormats:s}=ht(({dataFormats:j})=>({dataFormats:j})),i=Me(j=>j.selectedRecords),o=Me(j=>{var L;return((L=j.currentTable)==null?void 0:L.records)||[]}),a=Me(j=>{var L;return((L=j.currentTable)==null?void 0:L.filters)||[]}),l=Me(j=>{var L;return Dp(Gh(["width"]),((L=j.currentTable)==null?void 0:L.columnSettings)||{})},Pr),c=Me(j=>{var L;return(L=j.currentTable)==null?void 0:L.sort}),d=Me(j=>{var L;return((L=j.currentTable)==null?void 0:L.pagination)||{limit:50,offset:0}}),h=Me(j=>{var L;return(L=j.currentTable)==null?void 0:L.name}),m=ht(j=>j.paginationType),{fetchRecords:f}=sr(),{pull:p,pullCounts:E,prepareSelect:g}=gn(),T=y.useRef(!1),[S,v]=y.useState(!1),[N,C]=y.useState(0),x=e.rowsCount,A=y.useMemo(()=>a.filter(j=>!!j.value).map(j=>({op:[j.column,j.type,j.value]}))||[],[a]),b=y.useMemo(()=>(typeof x>"u"?7*10+16:x.toString().length*2*10)+320,[x]),_=async({type:j,selected:L=!1})=>{const P=Object.values(e.columns).filter(W=>W.type==="bytea");(!L&&o.length===d.limit||L&&o.length>500)&&v(!0);const I=[];let F=[];if(L)I.push(...i.map(W=>Object.fromEntries(Object.values(e.columns).filter(k=>{var V;return!((V=l[k.name])!=null&&V.hidden)}).map(({name:k})=>{const V=W.values[k];return V&&typeof V=="object"&&j==="csv"?"_type"in V&&V._type==="BINARY"?[k,JSON.stringify(V.value)]:[k,JSON.stringify(V)]:[k,V]}))));else do{if(T.current){C(0),T.current=!1;return}let W;if(c)W=[c];else{const k=Object.values(e.columns).filter(V=>V.isPrimary).map(V=>V.name);k.length>0&&(W=k.map(V=>({column:V})))}if(F=await g({schema:e.schema,table:e.name,limit:500,offset:I.length,columns:Object.values(e.columns).filter(k=>{var V;return!((V=l[k.name])!=null&&V.hidden)}).map(k=>k.name),where:A.length?{and:A}:void 0,orderBy:W}).execute(),F=F.map(k=>{const V=M8(k,Object.values(e.columns));let re={};if(P.length>0&&(s==null?void 0:s.bytea)==="utf8")for(const K of P){const B=V[K.name];typeof B=="string"&&(re[K.name]=iv(B))}for(const[K,B]of Object.entries(V))B&&typeof B=="object"&&j==="csv"&&("_type"in B&&B._type==="BINARY"&&(re[K]=JSON.stringify(B.value)),re[K]=JSON.stringify(B));return{...V,...re}}),!(F!=null&&F.length)||(I.push(...F),C(I.length),F.length<500))break}while(F.length);j==="json"?AQe(e.name,I):j==="csv"?RQe(e.name,I):j==="xlsx"&&NQe(r,e,I),v(!1),C(0)},U=()=>{T.current=!0,v(!1)};return u.jsxs(u.Fragment,{children:[u.jsxs(Bs,{children:[u.jsx(Fs,{asChild:!0,children:u.jsx(Le,{variant:"outline",size:"sm",className:z("h-8 min-w-[2rem] p-0",!1),disabled:t,"aria-label":"Export and refresh rows",children:u.jsx(Yf,{className:"size-4",strokeWidth:1.25})})}),u.jsxs(As,{collisionPadding:12,children:[u.jsxs(zt,{className:"h-9 cursor-pointer gap-2",onClick:()=>{Hr(()=>{rt("toolbar_refresh_rows"),f(),m==="pages"&&E({schema:n,table:h})})},children:[u.jsx(u0,{className:"size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("p",{children:"Refresh rows"})]}),u.jsxs(zt,{className:"h-9 cursor-pointer gap-2",onClick:()=>{Hr(()=>{rt("toolbar_refresh_schema"),p()})},children:[u.jsx(IO,{className:"size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("p",{children:"Refresh schema"})]}),u.jsx(cm,{}),u.jsxs(zt,{className:"h-9 cursor-pointer gap-2",onSelect:()=>{rt("export_all_to_json"),_({type:"json"})},children:[u.jsx(Ad,{className:"size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("p",{children:"Export all to .json"})]}),u.jsxs(zt,{className:"h-9 cursor-pointer gap-2",onSelect:()=>{rt("export_all_to_csv"),_({type:"csv"})},children:[u.jsx(Ad,{className:"size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("p",{children:"Export all to .csv"})]}),u.jsxs(zt,{className:"h-9 cursor-pointer gap-2",onSelect:()=>{rt("export_all_to_xlsx"),_({type:"xlsx"})},children:[u.jsx(Ad,{className:"size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("p",{children:"Export all to .xlsx"})]}),u.jsxs(zt,{className:"h-9 cursor-pointer gap-2",disabled:i.length===0,onSelect:()=>{rt("export_selected_to_json"),_({type:"json",selected:!0})},children:[u.jsx(Ad,{className:"size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("p",{children:"Export selected to .json"})]}),u.jsxs(zt,{className:"h-9 cursor-pointer gap-2",disabled:i.length===0,onSelect:()=>{rt("export_selected_to_csv"),_({type:"csv",selected:!0})},children:[u.jsx(Ad,{className:"size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("p",{children:"Export selected to .csv"})]}),u.jsxs(zt,{className:"h-9 cursor-pointer gap-2",disabled:i.length===0,onSelect:()=>{rt("export_selected_to_xlsx"),_({type:"xlsx",selected:!0})},children:[u.jsx(Ad,{className:"size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("p",{children:"Export selected to .xlsx"})]})]})]}),u.jsxs(_y,{children:[u.jsxs(lg,{open:S,className:"flex justify-between p-4",children:[u.jsxs(cg,{className:"mr-4 flex grow gap-4",children:[u.jsx("slot",{name:"main-loader",children:u.jsx(jn,{})}),u.jsx("div",{className:"flex grow",children:u.jsxs("div",{className:"flex flex-1 justify-between",children:["Exporting items",typeof x>"u"?u.jsx("span",{children:N}):u.jsxs("span",{children:[N,"/",x]})]})})]}),u.jsx(Ly,{altText:"Cancel export",className:"!m-0",children:u.jsx("button",{onClick:U,children:"Cancel"})})]}),u.jsx(ag,{style:{width:b}})]})]})},CQe=(t,e)=>{const r=`${t}.json`,n=JSON.stringify(e),s=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=r,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)},xQe=(t,e)=>{const r=`${t}.csv`,n=$te.unparse(e,{quotes:!0}),s=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=r,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)},wQe=async(t,e,r)=>{const{getTypes:n}=cr(t),{numberTypes:s,jsonTypes:i}=n(),o=Object.values(e.columns),a=o.map(p=>{const E=p.type;return s.includes(E)?tp.Number:tp.String}),l=r.map(p=>o.map(E=>{const g=p[E.name];return g&&i.includes(E.type)?JSON.stringify(g):g==null?g:String(g)})),c=`${e.name}.xlsx`,d=await XP({types:a,headings:o.map(p=>p.name),data:l,wrapText:!0,sheetName:e.name}),h=new Blob([d]),m=URL.createObjectURL(h),f=document.createElement("a");f.style.display="none",f.href=m,f.download=c,document.body.appendChild(f),f.click(),setTimeout(()=>{URL.revokeObjectURL(m),document.body.removeChild(f)},0)},OQe=({triggerClassName:t,entity:e,withText:r=!1,dropdownAlign:n})=>{const s=it(({dialect:A})=>{if(!A)throw new Error("No dialect");return A}),{dataFormats:i}=ht(({dataFormats:A})=>({dataFormats:A})),{prepareSelect:o}=gn(),a=Me(A=>A.selectedRecords),l=Me(A=>{var b;return((b=A.currentTable)==null?void 0:b.records)||[]}),c=Me(A=>{var b;return((b=A.currentTable)==null?void 0:b.filters)||[]}),d=Me(A=>{var b;return Dp(Gh(["width"]),((b=A.currentTable)==null?void 0:b.columnSettings)||{})},Pr),h=Me(A=>{var b;return(b=A.currentTable)==null?void 0:b.sort}),m=Me(A=>{var b;return((b=A.currentTable)==null?void 0:b.pagination)||{limit:50,offset:0}}),f=y.useRef(!1),[p,E]=y.useState(!1),[g,T]=y.useState(0),S=e.rowsCount,v=y.useMemo(()=>c.filter(A=>!!A.value).map(A=>({op:[A.column,A.type,A.value]}))||[],[c]),N=y.useMemo(()=>(typeof S>"u"?7*10+16:S.toString().length*2*10)+320,[S]),C=async({type:A,selected:b=!1})=>{const _=Object.values(e.columns).filter(L=>L.type==="bytea");(!b&&l.length===m.limit||b&&l.length>500)&&E(!0);const U=[];let j=[];if(b)U.push(...a.map(L=>Object.fromEntries(Object.values(e.columns).filter(I=>{var F;return!((F=d[I.name])!=null&&F.hidden)}).map(({name:I})=>{const F=L.values[I];return F&&typeof F=="object"&&A==="csv"?"_type"in F&&F._type==="BINARY"?[I,JSON.stringify(F.value)]:[I,JSON.stringify(F)]:[I,F]}))));else do{if(f.current){T(0),f.current=!1;return}let L;if(h)L=[h];else{const I=Object.values(e.columns).filter(F=>F.isPrimary).map(F=>F.name);I.length>0&&(L=I.map(F=>({column:F})))}if(j=await o({schema:e.schema,table:e.name,limit:500,offset:U.length,columns:Object.values(e.columns).filter(I=>{var F;return!((F=d[I.name])!=null&&F.hidden)}).map(I=>I.name),where:v.length?{and:v}:void 0,orderBy:L}).execute(),j=j.map(I=>{const F=M8(I,Object.values(e.columns));let W={};if(_.length>0&&(i==null?void 0:i.bytea)==="utf8")for(const Y of _){const k=F[Y.name];typeof k=="string"&&(W[Y.name]=iv(k))}for(const[Y,k]of Object.entries(F))k&&typeof k=="object"&&A==="csv"&&("_type"in k&&k._type==="BINARY"&&(W[Y]=JSON.stringify(k.value)),W[Y]=JSON.stringify(k));return{...F,...W}}),!(j!=null&&j.length)||(U.push(...j),T(U.length),j.length<500))break}while(j.length);A==="json"?CQe(e.name,U):A==="csv"?xQe(e.name,U):A==="xlsx"&&wQe(s,e,U),E(!1),T(0)},x=()=>{f.current=!0,E(!1)};return u.jsxs("div",{children:[u.jsxs(_y,{children:[u.jsxs(lg,{open:p,className:"flex justify-between p-4",children:[u.jsxs(cg,{className:"mr-4 flex grow gap-4",children:[u.jsx("slot",{name:"main-loader",children:u.jsx(jn,{})}),u.jsx("div",{className:"flex grow",children:u.jsxs("div",{className:"flex flex-1 justify-between",children:["Exporting items",typeof S>"u"?u.jsx("span",{children:g}):u.jsxs("span",{children:[g,"/",S]})]})})]}),u.jsx(Ly,{altText:"Cancel export",className:"!m-0",children:u.jsx("button",{onClick:x,children:"Cancel"})})]}),u.jsx(ag,{style:{width:N}})]}),u.jsxs(Bs,{onOpenChange:()=>{rt("toolbar_toggle_export")},children:[u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,onFocus:A=>{A.preventDefault()},children:u.jsx(Fs,{className:"cursor-pointer p-1",disabled:p,asChild:!0,children:u.jsxs(Le,{variant:"outline",size:"sm",className:z("h-8 min-w-[2rem] p-0",!1,t),children:[u.jsx(pz,{}),r&&u.jsx("p",{children:"Export"})]})})}),!r&&u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",collisionPadding:12,children:"Export"})]})}),u.jsxs(As,{align:n,children:[u.jsx(zt,{className:"cursor-pointer",onSelect:()=>{rt("export_all_to_json"),C({type:"json"})},children:"Export all to .json"}),u.jsx(zt,{className:"cursor-pointer",onSelect:()=>{rt("export_all_to_csv"),C({type:"csv"})},children:"Export all to .csv"}),u.jsx(zt,{className:"cursor-pointer",onSelect:()=>{rt("export_all_to_xlsx"),C({type:"xlsx"})},children:"Export all to .xlsx"}),u.jsx(zt,{className:"cursor-pointer",disabled:a.length===0,onSelect:()=>{rt("export_selected_to_json"),C({type:"json",selected:!0})},children:"Export selected to .json"}),u.jsx(zt,{className:"cursor-pointer",disabled:a.length===0,onSelect:()=>{rt("export_selected_to_csv"),C({type:"csv",selected:!0})},children:"Export selected to .csv"}),u.jsx(zt,{className:"cursor-pointer",disabled:a.length===0,onSelect:()=>{rt("export_selected_to_xlsx"),C({type:"xlsx",selected:!0})},children:"Export selected to .xlsx"})]})]})]})},IQe=({entity:t})=>{const e=ht(c=>c.readonlyMode),r=ht(c=>c.schemaReadonlyMode),n=Me(c=>c.tab),{pull:s,pullCounts:i}=gn(),o=ht(c=>c.paginationType),{setTab:a,fetchRecords:l}=sr();return u.jsxs(Bs,{children:[u.jsx(Fs,{asChild:!0,children:u.jsx(Le,{className:"h-8 px-[0.4375rem]",variant:"outline","aria-label":"Mobile menu",children:u.jsx(Yf,{className:"h-4 w-4"})})}),u.jsxs(As,{collisionPadding:12,children:[u.jsx("div",{className:"flex items-center justify-center",children:u.jsx(Bte,{})}),u.jsx(cm,{}),u.jsxs(f2,{children:[u.jsxs(zt,{className:"cursor-pointer space-x-2",onClick:()=>{n!=="content"&&a("content")},children:[u.jsx(HPe,{className:"h-4 w-4"}),u.jsx("p",{children:"Browse data"})]}),u.jsxs(zt,{className:"cursor-pointer space-x-2",onClick:()=>{n!=="structure"&&a("structure")},children:[u.jsx(df,{className:"h-4 w-4"}),u.jsx("p",{children:!e&&!r?t.type==="table"?"Alter table":" Alter view":"Browse structure"})]})]}),u.jsx(cm,{}),u.jsxs(f2,{className:"flex flex-col",children:[u.jsx(jte,{className:"text-popover-foreground justify-start border-0 font-normal",withText:!0}),u.jsx(Ute,{dropdownAlign:"center",entity:t,className:"text-popover-foreground justify-start border-0 font-normal",withText:!0})]}),u.jsx(cm,{}),u.jsxs(f2,{children:[u.jsxs(zt,{className:"cursor-pointer space-x-2",onClick:()=>{Hr(()=>{rt("toolbar_refresh_rows"),l(),o==="pages"&&i({schema:t.schema,table:t.name})})},children:[u.jsx(Ez,{}),u.jsx("p",{children:"Refresh rows"})]}),u.jsxs(zt,{className:"cursor-pointer space-x-2",onClick:()=>{Hr(()=>{rt("toolbar_refresh_schema"),s()})},children:[u.jsx(IO,{className:"size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("p",{children:"Refresh schema"})]}),u.jsx(OQe,{triggerClassName:"border-0 px-2 font-normal text-popover-foreground w-full justify-start",entity:t,withText:!0,dropdownAlign:"center"})]})]})]})},_Qe=()=>{const t=Me(T=>{var S;return(S=T.currentTable)==null?void 0:S.id}),e=Me(T=>{var S;return((S=T.currentTable)==null?void 0:S.pagination.limit)||50}),r=Me(T=>{var S;return((S=T.currentTable)==null?void 0:S.pagination.offset)||0}),{setPagination:n}=sr(),s=y.useRef(),[i,o]=y.useState("Limit"),[a,l]=y.useState(!1),[c,d]=y.useState(String(e)),[h,m]=y.useState(String(r)),f=T=>{const S=T.target.value.replace(/\D/g,""),v=Number(S);if(S===""){d("");return}if(v===0||v>500){o("Max limit is 500"),l(!0),v===0&&e!==500&&(d("500"),n({limit:500})),e!==500&&(d("500"),n({limit:500}));return}else l(!1);d(S),clearTimeout(s.current);const N=setTimeout(()=>{n({limit:v})},300);s.current=N},p=T=>{clearTimeout(s.current);const S=T.target.value.replace(/\D/g,"");m(S);const v=setTimeout(()=>{n({offset:+S})},300);s.current=v},E=()=>{const T=Math.max(0,+h-+c);n({offset:T}),m(String(T))},g=()=>{const T=+h+ +c;n({offset:T}),m(String(T))};return y.useEffect(()=>{!a&&i!=="Limit"&&o("Limit")},[a]),y.useEffect(()=>{d(String(e)),m(String(r))},[t]),u.jsxs("div",{className:"flex items-center",children:[u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Le,{className:z("-mr-px size-8 rounded-r-none p-0 hover:z-[1]",!1),variant:"outline",size:"sm",onClick:()=>{Hr(()=>{rt("pagination_previous_page"),E()})},"aria-label":"Previous page",disabled:+h==0,children:u.jsx(zL,{})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"Previous page"})]})}),u.jsxs("div",{className:"flex",children:[u.jsx("div",{children:u.jsx(br,{children:u.jsxs(Cr,{open:a,onOpenChange:l,delayDuration:0,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Lr,{id:"limit",placeholder:"Limit",onFocus:T=>T.target.select(),className:z("relative h-8 w-[calc(3ch+18px)] rounded-none p-2 text-center font-mono focus-visible:z-[1]",!1),value:c,onChange:T=>{Hr(()=>{rt("pagination_limit_change"),f(T)})}})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:u.jsx("p",{className:"font-mono text-xs uppercase",children:i})})]})})}),u.jsx("div",{children:u.jsx(br,{children:u.jsxs(Cr,{delayDuration:0,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Lr,{id:"offset",placeholder:"Offset",className:z("relative -ml-px h-8 rounded-none p-2 text-center font-mono",!1),style:{width:"calc("+Math.min(7,Math.max(3,String(h).length))+"ch + 18px)"},onFocus:T=>T.target.select(),value:h,onChange:T=>{Hr(()=>{rt("pagination_offset_change"),p(T)})}})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:u.jsx("p",{className:"font-mono text-xs uppercase",children:"Offset"})})]})})})]}),u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Le,{className:z("-ml-px size-8 rounded-l-none p-0 hover:z-[1]",!1),variant:"outline",size:"sm",onClick:()=>{Hr(()=>{rt("pagination_next_page"),g()})},"aria-label":"Next page",children:u.jsx(WL,{})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"Next page"})]})})]})},Ac=50,LQe=({entity:t})=>{const e=Me(C=>{var x;return(x=C.currentTable)==null?void 0:x.schema}),r=Me(C=>{var x;return(x=C.currentTable)==null?void 0:x.name}),n=Me(C=>{var x;return(x=C.currentTable)==null?void 0:x.id}),s=Me(C=>{var x;return((x=C.currentTable)==null?void 0:x.pagination.offset)||0}),{pullCounts:i}=gn(),{setPagination:o}=sr(),a=y.useRef(),[l,c]=y.useState("1"),[d,h]=y.useState("Page"),[m,f]=y.useState(!1),p=t.rowsCount||0,E=1,g=Math.max(1,Math.ceil(p/Ac)),T=C=>{c(C.toString()),o({limit:Ac,offset:(C-1)*Ac})},S=C=>{const x=C.target.value.replace(/\D/g,""),A=Number(x);if(x==="")return c("");if(A<E||A>g){h(`Max page is ${g}`),f(!0),T(g);return}f(!1),c(x),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>T(A),300)},v=()=>{Number(l)>E&&T(Number(l)-1)},N=()=>{Number(l)<g&&T(Number(l)+1)};return y.useEffect(()=>{m||h("Page")},[m]),y.useEffect(()=>{o({limit:Ac}),c(String(Math.floor(s/Ac)+1))},[n]),y.useEffect(()=>{e&&r&&i({schema:e,table:r})},[e,r]),y.useEffect(()=>{s>=p&&(o({limit:Ac,offset:Math.max(0,p-Ac)}),c(String(Math.max(1,Math.ceil(p/Ac)))))},[p,s]),u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"text-muted-foreground mr-2 whitespace-nowrap text-xs font-normal",children:`${s+1} - ${Math.min(s+Ac,p)} of ${p}`}),u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Le,{className:z("-mr-px size-8 rounded-r-none p-0 hover:z-[1]",!1),variant:"outline",size:"sm",onClick:()=>{Hr(()=>{rt("pagination_previous_page"),v()})},disabled:+l<=E,"aria-label":"Previous page",children:u.jsx(zL,{})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"Previous page"})]})}),u.jsx("div",{className:"flex",children:u.jsx("div",{children:u.jsx(br,{children:u.jsxs(Cr,{open:m,onOpenChange:f,delayDuration:0,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Lr,{id:"page",placeholder:"Page",onFocus:C=>C.target.select(),className:z("relative h-8 w-[calc(3ch+18px)] rounded-none p-2 text-center font-mono focus-visible:z-[1]",!1),value:l,onChange:C=>{Hr(()=>{rt("pagination_offset_change"),S(C)})}})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:u.jsx("p",{className:"font-mono text-xs",children:d})})]})})})}),u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Le,{className:z("-ml-px size-8 rounded-l-none p-0 hover:z-[1]",!1),variant:"outline",size:"sm",disabled:+l>=g,onClick:()=>{Hr(()=>{rt("pagination_next_page"),N()})},"aria-label":"Next page",children:u.jsx(WL,{})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"Next page"})]})})]})},QP=({tab:t,setTab:e})=>u.jsxs("div",{className:"flex items-center",children:[u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Le,{className:z("h-8 w-8 rounded-r-none p-[0.1875rem]",t==="content"&&"z-[1]",!1),variant:"outline",isActive:t==="content",size:"sm",onClick:()=>e("content"),"aria-label":"Switch to content view",children:u.jsx(_O,{className:z("size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"Content"})]})}),u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Le,{className:z("-ml-px size-8 rounded-l-none p-[0.1875rem]",!1),variant:"outline",isActive:t==="structure",size:"sm",onClick:()=>e("structure"),"aria-label":"Switch to structure view",children:u.jsx(df,{className:z("size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"Structure"})]})})]});function DQe(t){const r=[{suffix:"s",length:3,threshold:1e3,precision:0},{suffix:"ms",length:0,threshold:1,precision:0}].find(n=>t.toString().split(".")[0].length>n.length);return r?(t/r.threshold).toFixed(r.precision)+r.suffix:t+"ms"}const MQe=({entity:t,tab:e,setTab:r})=>{const n=ht(B=>B.readonlyMode),s=ht(B=>B.paginationType),i=Me(B=>B.selectedRecords),o=Me(B=>B.loadingRecords),a=Me(B=>B.filtersVisible),l=Me(B=>{var Z,Ee;const X=((Z=B.currentTable)==null?void 0:Z.createdRecords)||[],J=((Ee=B.currentTable)==null?void 0:Ee.editedFields)||[];return X.length+J.length}),c=Me(B=>{var X;return(X=B.currentTable)==null?void 0:X.records.length}),d=Me(B=>{var X;return Dp(Gh(["width"]),((X=B.currentTable)==null?void 0:X.columnSettings)||{})},Pr),h=Me(B=>{var X;return((X=B.currentTable)==null?void 0:X.executionTime)||0}),{fetchRecords:m,saveChanges:f,addCreatedRecord:p,discardChanges:E,setColumnsVisibility:g,setCurrentPage:T}=sr(),{createSnippet:S,selectSnippet:v}=Sn(),{pullCounts:N}=gn(),[C,x]=JXe(),A=y.useRef(null),[b,_]=y.useState(0),[U,j]=y.useState(!1),[L,P]=y.useState(!1),I=y.useMemo(()=>jh(t),[t]),F=y.useMemo(()=>Object.values(t.columns).filter(B=>B.isUnique).map(B=>B.name),[t.columns]),W=()=>{var J,Z;const B=((J=Me.getState().currentTable)==null?void 0:J.editedFields)||[];if(B.length===0){rt("toolbar_save_changes"),V();return}const X=((Z=Me.getState().currentTable)==null?void 0:Z.records)||[];I.length===0?F.length>0?B.some(se=>{const ie=X.find(Te=>Te.id===se.recordKey);return ie?F.every(Te=>ie.values[Te]===null):!1})?j(!0):(rt("toolbar_save_changes"),V()):sL({description:"Please add a primary key column to your table to update or delete rows",withCloseButton:!0,isError:!0}):B.some(se=>{const ie=X.find(Te=>Te.id===se.recordKey);return ie?I.every(Te=>ie.values[Te]===null):!1})?P(!0):(rt("toolbar_save_changes"),V())},[Y,k]=y.useState([]),V=()=>{C(f,B=>{P(!1),j(!1),k(B)})};y.useEffect(()=>{const B=X=>{X.key==="Enter"&&X.altKey&&(X.preventDefault(),W())};return window.addEventListener("keydown",B),()=>{window.removeEventListener("keydown",B)}},[]);const re=y.useCallback(B=>{var Ee,se;const X=((Ee=Me.getState().currentTable)==null?void 0:Ee.editedFields)||[],J=((se=Me.getState().currentTable)==null?void 0:se.records)||[],Z=X.map(ie=>{const Te=J.find(ve=>ve.id===ie.recordKey);return Te?` WHERE ${B.map(ve=>{const _e=Te.values[ve];return`${ve} ${_e===null?"IS":"="} ${typeof _e=="string"?`'${_e}'`:_e}`}).join(`
	AND `)};`:""}).join(`
`);return os(Z)},[]),K=y.useCallback(B=>{var se,ie;const X=((se=Me.getState().currentTable)==null?void 0:se.editedFields)||[],J=((ie=Me.getState().currentTable)==null?void 0:ie.records)||[],Z=X.map(Te=>{const ve=J.find(_e=>_e.id===Te.recordKey);return ve?`UPDATE ${t.name} SET ${Te.columnKey} = ${typeof Te.value=="string"?`'${Te.value}'`:Te.value} WHERE ${B.map(_e=>{const fe=ve.values[_e];return`${_e} ${fe===null?"IS":"="} ${typeof fe=="string"?`'${fe}'`:fe}`}).join(" AND ")};`:""}).join(`
`),Ee=S(`Update ${t.name} records`,Z);v(Ee),T("sql-runner"),E()},[]);return y.useEffect(()=>{if(!A.current)return;const B=()=>{A.current&&_(A.current.clientWidth)};B();const X=new ResizeObserver(()=>{B()});return X.observe(A.current),()=>{X.disconnect()}},[]),u.jsxs("div",{className:"bg-table-toolbar flex flex-col",children:[u.jsxs("div",{className:z("flex items-center gap-2 overflow-auto p-3",!1),children:[u.jsx(nc,{}),u.jsx("div",{className:"@[780px]:block mx-2 hidden",children:u.jsx(QP,{tab:e,setTab:r})}),u.jsx("div",{className:z("@[970px]:block hidden",!1,n&&"@[860px]:block"),children:u.jsx(Bte,{})}),u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{ref:A,className:z("@[780px]:flex hidden gap-2 pr-2 opacity-100 transition-opacity duration-150 ease-in-out",l!==0&&"opacity-0"),children:[u.jsx(jte,{}),u.jsx(Ute,{entity:t,dropdownAlign:"center"})]}),t.type==="table"&&u.jsxs("div",{className:z("relative flex gap-2 transition-transform duration-150"),style:{transform:l!==0&&b>0?`translateX(${b*-1}px)`:"none"},children:[!n&&u.jsxs(Le,{className:z("!font-toolbar @[860px]:pl-2 @[860px]:pr-3 h-8 gap-0.5 whitespace-nowrap px-[0.3125rem] py-1",!1),size:"sm",variant:"default",onClick:()=>{rt("toolbar_add_row"),Object.values(d).some(B=>B.hidden)&&g(!0,Object.keys(t.columns)),p()},children:[u.jsx("div",{className:"p-[0.1875rem]",children:u.jsx(hf,{className:z("size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0})}),u.jsx("p",{className:z("@[860px]:block hidden",!1),children:"Add record"})]}),l>0&&!n&&u.jsxs(u.Fragment,{children:[u.jsxs(Le,{className:z("!font-toolbar @lg:px-3 h-8 whitespace-nowrap px-2",!1),size:"sm",onClick:W,isLoading:x,variant:"submit",children:[u.jsx(OLe,{className:"@lg:hidden h-4 w-4"}),u.jsx("p",{className:z("@lg:block hidden"),children:`Save ${l} ${l>1?"changes":"change"}`})]}),u.jsxs(Le,{className:z("!font-toolbar @lg:px-3 h-8 whitespace-nowrap px-2 underline underline-offset-4",!1),variant:"ghost",size:"sm",onClick:()=>{rt("toolbar_discard_changes"),E()},children:[u.jsx(wLe,{className:"@lg:hidden h-4 w-4"}),u.jsx("p",{className:"@lg:block hidden",children:"Discard changes"})]})]}),i.length>0&&!n&&u.jsx(ZXe,{entity:t,selectedRecords:i})]})]}),u.jsxs("div",{className:"ml-auto flex items-center",children:[u.jsx("div",{className:z("@[1060px]:flex hidden justify-center text-sm",n&&"@[940px]:flex"),children:o?u.jsx(jn,{}):u.jsxs("p",{className:"text-muted-foreground whitespace-nowrap text-xs font-normal",children:[s==="limit-offset"&&u.jsxs(u.Fragment,{children:[c," ",c===1?"row":"rows",u.jsx("span",{className:"mx-1",children:""})]}),DQe(h)]})}),s==="pages"?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:z("text-muted-foreground @[1060px]:flex mx-1 hidden",n&&"@[940px]:flex"),children:""}),u.jsx(LQe,{entity:t})]}):u.jsx("div",{className:"ml-2",children:u.jsx(_Qe,{})})]}),u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Le,{variant:"outline",size:"sm",className:z("@[780px]:flex hidden h-8 min-w-[2rem] p-0",!1),onClick:()=>{Hr(()=>{rt("toolbar_refresh_rows"),m(),s==="pages"&&N({schema:t.schema,table:t.name})})},disabled:o,"aria-label":"Refresh rows",children:u.jsx(Ez,{})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"Refresh rows"})]})}),u.jsx("div",{className:"@[780px]:block hidden",children:u.jsx(bQe,{entity:t,disabled:o})}),u.jsx("div",{className:"@[780px]:hidden",children:u.jsx(IQe,{entity:t})})]}),a&&u.jsx("div",{className:"bg-filters-toolbar overflow-x-auto border-t px-4 py-3",children:u.jsx(tQe,{entity:t})}),u.jsx(xz,{className:"border-t"}),u.jsx(Pte,{open:L,onOpenChange:P,entityName:t.name,getWhereStatement:re,onOpenInSQL:K,handler:V,primaryColumns:I,action:"update"}),u.jsx(kte,{open:U,onOpenChange:j,entityName:t.name,getWhereStatement:re,onOpenInSQL:K,handler:V,uniqueColumns:F,action:"update"}),u.jsx(Mte,{open:Y.filter(B=>B.error).length>0,onOpenChange:B=>{B||k([])},results:Y})]})},Kte="flex !p-0 items-center justify-center",PQe=t=>({...zf,cellClass:Kte,headerCellClass:Kte,width:kr(2),maxWidth:kr(2),minWidth:kr(2),renderCell:e=>{var r;return e.row.type==="RELATION"?null:e.row.type==="CREATE"?qXe(t)(e):(r=zf.renderCell)==null?void 0:r.call(zf,e)}}),kQe=({id:t,schema:e,name:r,tab:n,setTab:s,setScenario:i})=>{const o=it(({dialect:ue})=>{if(!ue)throw new Error("No dialect");return ue}),a=ht(ue=>ue.readonlyMode),l=ht(ue=>ue.schemaReadonlyMode),c=it(({schemas:ue})=>Object.values(ue).flatMap(pe=>Object.values(pe.enums))),d=it(ue=>ue.schemas),h=Me(ue=>ue.isSidebarOpen),m=Me(ue=>ue.customRelations),{setSort:f,setColumnWidth:p,setCreatedRecords:E,removeCreatedRecord:g,addEditedField:T,fetchRecords:S,setSelectedRecords:v,setFilterView:N,removeFilterView:C,removeEditedField:x}=sr(),{theme:A,customTheme:b}=Is(),_=Me(ue=>{var pe;return((pe=ue.currentTable)==null?void 0:pe.records)||[]}),U=Me(ue=>{var pe;return((pe=ue.currentTable)==null?void 0:pe.filters)||[]}),j=Me(ue=>{var pe;return((pe=ue.currentTable)==null?void 0:pe.createdRecords)||[]}),L=Me(ue=>{var pe;return((pe=ue.currentTable)==null?void 0:pe.editedFields)||[]}),P=Me(ue=>{var pe;return(pe=ue.currentTable)==null?void 0:pe.sort}),I=Me(ue=>{var pe;return Dp(Gh(["width"]),((pe=ue.currentTable)==null?void 0:pe.columnSettings)||{})},Pr),F=Me(ue=>{var pe;return((pe=ue.currentTable)==null?void 0:pe.pagination)||{limit:50,offset:0}}),W=it(({schemas:ue})=>{const pe=ue[e];if(!e)throw new Error("No schema");const he=pe.tables[r]||pe.views[r];if(!he)throw new Error("No entity");return he},Pr),Y=y.useRef(null),[k,V]=y.useState(0),[re,K]=y.useState(!1),{refs:B,floatingStyles:X}=Vy({placement:"top",open:re}),[J,Z]=y.useState([]),[Ee,se]=y.useState(new Set),{getTypes:ie,getTypeParamsString:Te}=y.useMemo(()=>cr(o),[o]),ve=y.useMemo(()=>ie(),[ie]),_e=y.useMemo(()=>P?[{columnKey:P.column,direction:P.type}]:void 0,[P]),{dataFormats:fe}=ht(({dataFormats:ue})=>({dataFormats:ue})),je=y.useMemo(()=>uj(d,m||void 0).filter(ue=>ue.schema===W.schema&&ue.table===W.name),[d,W,m]),H=y.useCallback(({row:ue,column:pe})=>{var He,lt;if(rt("table_copy_cell"),!W.columns[pe.key])return;const he=ue.values[pe.key],Ne=_.findIndex(Qe=>Qe.id===ue.id),Se=(lt=(He=Y.current)==null?void 0:He.element)==null?void 0:lt.querySelectorAll(`[aria-rowindex="${Ne+2}"]`)[0],Ye=Object.values(W.columns).filter(Qe=>{var Lt;return!((Lt=I[Qe.name])!=null&&Lt.hidden)}).findIndex(Qe=>Qe.name===pe.key),Ge=Se==null?void 0:Se.childNodes.item(Ye+1);let Ze="Copied";B.setReference(Ge),he===null?navigator.clipboard.writeText("NULL"):typeof he=="object"&&"_type"in he?he._type==="BINARY"&&navigator.clipboard.writeText(he.value):typeof he=="object"?(Ze="Copied as JSON",navigator.clipboard.writeText(JSON.stringify(he))):navigator.clipboard.writeText(String(he));const ut=B.floating.current;ut&&(ut.innerHTML=Ze,K(!0),setTimeout(()=>{K(!1)},1e3))},[_,B,W.columns,I]),Ce=y.useMemo(()=>{const ue=Object.values(W.columns).filter(Se=>{var Ye;return!((Ye=I[Se.name])!=null&&Ye.hidden)}).map((Se,Ye,Ge)=>{var Ze,ut;return{key:Se.name,name:Se.name,resizable:!0,sortable:!0,width:((ut=(Ze=Me.getState().currentTable)==null?void 0:Ze.columnSettings[Se.name])==null?void 0:ut.width)||200,minWidth:100,renderHeaderCell:ZN({type:Se.type+Te(Se.type,Se.typeParams)}),cellClass:He=>He.type==="RELATION"?"!outline-none":void 0,colSpan:He=>He.type==="ROW"&&He.row.type==="RELATION"&&Ye===0?Ge.length+je.length:void 0,editable:He=>{if(a||He.type==="RELATION"||W.type==="view"||W.type==="mat_view")return!1;const lt=He.values[Se.name];return!(lt&&typeof lt=="object"&&"_type"in lt&&lt._type==="BINARY"&&lt.value&&W_.test(lt.value))},renderCell(He){if(He.row.type==="RELATION"&&Ye===0&&He.row.relation){const Qe=He.row.relation,Lt=d[Qe.refSchema];if(!Lt)return null;const Nt=Lt.tables[Qe.refTable];return Nt?u.jsxs("div",{className:"bg-filters-toolbar sticky max-w-[calc(100%-33px)] p-4",style:{insetInlineStart:"32px",maxWidth:k-33},children:[u.jsxs("div",{className:"bg-muted mb-2 w-fit border px-1 py-0.5 font-mono",children:[Nt.schema!=="public"&&u.jsxs("span",{children:[Nt.schema,"."]}),u.jsx("span",{children:Nt.name})]}),u.jsx(WXe,{record:He.row,relation:He.row.relation,table:Nt})]}):null}const lt=je.find(Qe=>Qe.columns.includes(Se.name)&&Qe.type==="one");return y.createElement(lK,{...He,key:Se.name,onCopy:H,relation:lt,type:Se.type})},renderEditCell:He=>{var Nt,Pt,vt,mn,wt,Rr,ln,Zn,Jr,Rn,ws,Eo,Qt;rt("table_edit_cell");const lt=He.row.values[Se.name],Qe=Se.hasDefaultValue||!!((Nt=Se.identityParams)!=null&&Nt.type),Lt=c.find(ur=>ur.schema==="public"?ur.name===Se.type:`${ur.schema}.${ur.name}`===Se.type);if(lt&&typeof lt=="object"&&"_type"in lt&&lt._type==="DEFAULT"){if((Pt=Se.typeParams)!=null&&Pt.dimensions)return y.createElement(yc,{...He,key:Se.name,row:Nr(He.row,{[Se.name]:""}),hasDefault:Qe,dbEnum:Lt});if(Lt)return y.createElement(IX,{...He,key:Se.name,row:Nr(He.row,{[Se.name]:""}),hasDefault:Qe,values:Lt.values});if(ve.booleanTypes.includes(Se.type))return y.createElement(FK,{...He,key:Se.name,row:Nr(He.row,{[Se.name]:""}),hasDefault:Qe});if(ve.dateTypes.includes(Se.type))return y.createElement(dR,{...He,key:Se.name,row:Nr(He.row,{[Se.name]:""}),hasDefault:Qe,type:Se.type==="time"?"time":Se.type==="date"?"date":"datetime"});if(o==="sqlite"&&((vt=He.metadata)==null?void 0:vt.type)==="DATE")return y.createElement(dR,{...He,key:Se.name,row:Nr(He.row,{[Se.name]:""}),hasDefault:Qe,returnType:(mn=He.metadata)==null?void 0:mn.returnType,isTimeOptional:((wt=He.metadata)==null?void 0:wt.returnType)==="iso",type:Se.type==="time"?"time":Se.type==="date"?"date":"datetime"});if(ve.jsonTypes.includes(Se.type))return y.createElement(yc,{...He,key:Se.name,row:Nr(He.row,{[Se.name]:""}),hasDefault:Qe});if(o==="sqlite"&&((Rr=He.metadata)==null?void 0:Rr.type)==="JSON")try{return y.createElement(yc,{...He,key:Se.name,hasDefault:Qe,row:Nr(He.row,{[Se.name]:""}),onRowChange:(ur,Yt)=>{const Ur=ur.values[Se.name];He.onRowChange(Nr(ur,{[Se.name]:Ur===null?null:JSON.stringify(Ur)}),Yt)}})}catch{}return ve.numberTypes.includes(Se.type)?y.createElement(Jg,{...He,key:Se.name,row:Nr(He.row,{[Se.name]:""}),type:"number",hasDefault:Qe}):((ln=He.metadata)==null?void 0:ln.type)==="MULTILINE"?y.createElement(Lte,{...He,key:Se.name,row:Nr(He.row,{[Se.name]:""}),hasDefault:Qe}):y.createElement(Jg,{...He,key:Se.name,row:Nr(He.row,{[Se.name]:""}),type:"string",hasDefault:Qe})}if(lt&&typeof lt=="object"&&"_type"in lt&&lt._type==="BINARY"){if(typeof lt.value=="string"){if(lt.value.startsWith("{")||lt.value.startsWith("["))try{const ur=JSON.parse(lt.value);return y.createElement(yc,{...He,key:Se.name,hasDefault:Qe,dbEnum:Lt,row:Nr(He.row,{[Se.name]:ur}),onRowChange:(Yt,Ur)=>{He.onRowChange(Nr(Yt,{[Se.name]:{_type:"BINARY",value:Yt.values[Se.name]}}),Ur)}})}catch{}}else if(typeof lt.value=="object"&&lt.value)return y.createElement(yc,{...He,key:Se.name,hasDefault:Qe,dbEnum:Lt,row:Nr(He.row,{[Se.name]:lt.value}),onRowChange:(ur,Yt)=>{He.onRowChange(Nr(ur,{[Se.name]:{_type:"BINARY",value:ur.values[Se.name]}}),Yt)}});return y.createElement(Jg,{...He,key:Se.name,type:"string",hasDefault:Qe,row:Nr(He.row,{[Se.name]:lt.value}),onRowChange:(ur,Yt)=>{He.onRowChange(Nr(ur,{[Se.name]:{_type:"BINARY",value:ur.values[Se.name]}}),Yt)}})}if((Zn=Se.typeParams)!=null&&Zn.dimensions)return y.createElement(yc,{...He,key:Se.name,hasDefault:Qe,dbEnum:Lt});if(Lt)return y.createElement(IX,{...He,key:Se.name,hasDefault:Qe,values:Lt.values});if(ve.booleanTypes.includes(Se.type))return y.createElement(FK,{...He,key:Se.name,hasDefault:Qe});if(o==="sqlite"&&((Jr=He.metadata)==null?void 0:Jr.type)==="DATE")return y.createElement(dR,{...He,key:Se.name,hasDefault:Qe,returnType:(Rn=He.metadata)==null?void 0:Rn.returnType,isTimeOptional:((ws=He.metadata)==null?void 0:ws.returnType)==="iso",type:Se.type==="time"?"time":Se.type==="date"?"date":"datetime"});if(ve.dateTypes.includes(Se.type))return y.createElement(dR,{...He,key:Se.name,hasDefault:Qe,type:Se.type==="time"?"time":Se.type==="date"?"date":"datetime"});if(o==="sqlite"&&((Eo=He.metadata)==null?void 0:Eo.type)==="JSON")try{const ur=JSON.parse(lt);return y.createElement(yc,{...He,key:Se.name,hasDefault:Qe,row:Nr(He.row,{[Se.name]:ur}),onRowChange:(Yt,Ur)=>{const cs=Yt.values[Se.name];He.onRowChange(Nr(Yt,{[Se.name]:cs===null?null:typeof cs=="string"?cs:JSON.stringify(cs)}),Ur)}})}catch{}if(ve.jsonTypes.includes(Se.type))return y.createElement(yc,{...He,key:Se.name,hasDefault:Qe});if(ve.numberTypes.includes(Se.type))return y.createElement(Jg,{...He,key:Se.name,type:"number",hasDefault:Qe});if(lt&&typeof lt=="string"&&(lt.startsWith("{")||lt.startsWith("[")))try{const ur=JSON.parse(lt);return y.createElement(yc,{...He,key:Se.name,hasDefault:Qe,row:Nr(He.row,{[Se.name]:ur}),onRowChange:(Yt,Ur)=>{const cs=Yt.values[Se.name];He.onRowChange(Nr(Yt,{[Se.name]:cs===null?null:typeof cs=="string"?cs:JSON.stringify(cs)}),Ur)}})}catch{}return lt&&typeof lt=="string"&&(/\n|\t/.test(lt)||lt.length>40)||((Qt=He.metadata)==null?void 0:Qt.type)==="MULTILINE"?y.createElement(Lte,{...He,key:Se.name,hasDefault:Qe}):y.createElement(Jg,{...He,key:Se.name,type:"string",hasDefault:Qe})}}}),pe=je.filter(Se=>{var Ye;return!((Ye=I[Se.name])!=null&&Ye.hidden)}).map(Se=>{const Ye=Se.name.length+3;return{key:Se.name,name:Se.name,renderHeaderCell:ZN(),headerCellClass:"text-muted-foreground",width:`calc(${Ye}ch + 24px)`,minWidth:sK,editable:!1,renderCell({row:Ge,tabIndex:Ze,onRowChange:ut,column:He}){var Qe;if(Ge.type==="CREATE")return null;const lt=!!Ge.expandedColumnName&&((Qe=Ge.relation)==null?void 0:Qe.name)===He.name;return u.jsx(zXe,{expanded:lt,tabIndex:Ze,column:He,onCellExpand:()=>{rt("table_toggle_relations_view"),ut({...Ge,expandedColumnName:Ge.expandedColumnName?null:He.name,relation:Se})}})}}}),he=je.some(Se=>{var Ye;return!((Ye=I[Se.name])!=null&&Ye.hidden)}),Ne=ue.concat(pe);if(Ne.length>0){Ne.unshift(PQe(g));const Se=Ne.reduce((Ye,Ge)=>Ge.width?Ye+ +Ge.width:Ye,0);W.type==="table"&&!a&&!l?Ne.push({key:"__add_column__",name:u.jsx("div",{className:"flex h-full w-full cursor-pointer items-center justify-center",onClick:()=>{i("add-column"),s("structure")},children:u.jsx(hf,{className:z("size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0})}),renderHeaderCell:ZN(),cellClass:"hidden",width:kr(2),headerCellClass:"!min-w-[2rem] !p-0 !w-8"}):Se>k&&!he&&Ne.push({key:"resizable-column",name:"",width:100,minWidth:0,resizable:!1,sortable:!1})}return Ne},[I,H,k,je,W,W.type,a,l]),[be,ce]=y.useState(null),Q=y.useCallback(({rows:ue,columns:pe},he)=>{var Ne,Se,Ye;if(rt("table_copy_cells"),((Ne=window.getSelection())==null?void 0:Ne.isCollapsed)===!1){ce(null);return}if(window.isSecureContext){const Ge=[];for(const vt of ue)Ge.push(pe.map(mn=>{const wt=vt.values[mn.key];if(wt===null)return"null";if(typeof wt=="object"&&"_type"in wt){if(wt._type==="BINARY")return wt.value}else return typeof wt=="object"?JSON.stringify(wt):String(wt)}).join("	"));ce({rows:ue,columns:pe}),he.clipboardData.setData("text/plain",Ge.join(`
`)),he.preventDefault();const Ze=ue[0],ut=pe[0].key,He=_.findIndex(vt=>vt.id===Ze.id),lt=(Ye=(Se=Y.current)==null?void 0:Se.element)==null?void 0:Ye.querySelectorAll(`[aria-rowindex="${He+2}"]`)[0],Qe=Object.values(W.columns).filter(vt=>{var mn;return!((mn=I[vt.name])!=null&&mn.hidden)}).findIndex(vt=>vt.name===ut),Lt=lt==null?void 0:lt.childNodes.item(Qe+1);if(!Lt)return;let Nt="Copied";B.setReference(Lt);const Pt=B.floating.current;if(Pt){Pt.innerHTML=Nt;const vt=Lt.getBoundingClientRect().width;pe.length>1&&(Pt.style.marginLeft=(pe.length-1)*vt/2+"px"),K(!0),setTimeout(()=>{K(!1),B.setReference(null),Pt.style.marginLeft=""},1e3)}}},[_,B,W.columns,I]),Ae=y.useCallback(({rows:ue,columns:pe},he)=>{rt("table_paste_cells");const Ne=[];if(be!==null){const{rows:Se,columns:Ye}=be;ue.forEach((Ge,Ze)=>{if(Ze>=Se.length)return;const ut=Se[Ze];if(!ut)return;const He=Nr(Ge,Object.fromEntries(pe.map((lt,Qe)=>[lt.key,ut.values[Ye[Qe].key]])));Ne.push(He)})}else{const Se=he.clipboardData.getData("text/plain");if(!Se)return[];const Ye=ue.length===1&&pe.length===1?[[Se]]:Se.split(/\r?\n/).map(Ge=>Ge.split("	"));ue.forEach((Ge,Ze)=>{if(Ze>=Ye.length)return;const ut=Ye[Ze],He=Nr(Ge,Object.fromEntries(pe.filter(lt=>lt.key in Ge.values).map((lt,Qe)=>[lt.key,ut[Qe]||null])));Ne.push(He)})}return Ne},[J,Ce,Object.values(W.columns).length,be]),te=y.useCallback((ue,{column:pe,indexes:he})=>{if(he.some(Ze=>Ze<j.length)){const Ze=ue.slice(0,j.length);E(Ze)}const Ne=W.columns[pe.key];he.filter(Ze=>Ze>j.length-1).forEach(Ze=>{const ut=ue.slice(0,Ze).filter(vt=>vt.type==="RELATION").length,He=Ze-j.length-ut,lt=_[He],Qe=ue[Ze],Lt=pe.key,Nt=Qe.values[Lt];let Pt=lt.values[Lt];if((Ne==null?void 0:Ne.type)==="bytea"&&(fe==null?void 0:fe.bytea)==="utf8"&&typeof Pt=="string"&&(Pt=iv(Pt)),Pr(Nt,Pt))L.some(vt=>vt.recordKey===lt.id&&vt.columnKey===Lt)&&x(lt.id,Lt);else if(jh(W).length===0){const mn=Object.values(W.columns).filter(wt=>wt.isUnique).map(wt=>wt.name);mn&&mn.length>0?T(lt.id,Lt,Nt):(ue[Ze].values[Lt]=Pt,sL({description:"Please add a primary key column to your table to update or delete rows",withCloseButton:!0,isError:!0}))}else T(lt.id,Lt,Nt)});const Se=he[0],Ye=ue[Se],Ge=ue[Se+1];Ye.type==="DEFAULT"&&(Ye.expandedColumnName&&(Ge==null?void 0:Ge.type)!=="RELATION"?ue.splice(Se+1,0,{...Ye,id:Ii(),type:"RELATION"}):!Ye.expandedColumnName&&(Ge==null?void 0:Ge.type)==="RELATION"&&ue.splice(Se+1,1)),Z(ue)},[j,L,_,fe,W]),ae=y.useCallback(aK((ue,pe)=>{p(ue,pe)},300),[Ce]),le=y.useCallback(([ue])=>{if(!ue)return f(null);f({column:ue.columnKey,type:ue.direction})},[]),we=y.useMemo(()=>`${U.map(ue=>ue.value+ue.column+ue.type).join("")}${U.length}`,[U]),Ie=y.useCallback(ue=>{var Ne;const pe=ue.type==="keydown"&&ue.key==="Escape",he=ue.type==="click"&&Y.current&&!((Ne=Y.current.element)!=null&&Ne.contains(ue.target));if(pe||he){const Se=document.querySelectorAll('[role="gridcell"][aria-selected="true"]'),Ye=document.querySelectorAll('[role="columnheader"][aria-selected="true"]');for(const Ge of[...Se,...Ye])Ge.setAttribute("aria-selected","false"),Ge.setAttribute("selected-top-border","false"),Ge.setAttribute("selected-bottom-border","false"),Ge.setAttribute("selected-left-border","false"),Ge.setAttribute("selected-right-border","false")}},[]);return y.useEffect(()=>(document.addEventListener("click",Ie),document.addEventListener("keydown",Ie),()=>{document.removeEventListener("click",Ie),document.removeEventListener("keydown",Ie)}),[Ie]),y.useEffect(()=>{var pe,he;const ue=new AbortController;return S(ue.signal),(he=(pe=Y.current)==null?void 0:pe.element)==null||he.scrollTo(0,0),()=>{ue.abort()}},[t,F.limit,F.offset,we,P]),y.useLayoutEffect(()=>{const ue=L8(L),pe=Object.values(W.columns).filter(Ne=>Ne.type==="bytea"),he=_.map(Ne=>{const Se=ue[Ne.id]||{};let Ye={};return pe.length>0&&(fe==null?void 0:fe.bytea)==="utf8"&&(Ye=pe.reduce((Ge,Ze)=>{const ut=Ne.values[Ze.name];return typeof ut=="string"?{...Ge,[Ze.name]:iv(ut)}:Ge},{})),Nr(Ne,{...Ye,...Se})});Z(j.concat(he))},[_,j,L,fe]),y.useEffect(()=>{v(_.filter(ue=>Ee.has(ue.id)))},[Ee]),y.useEffect(()=>{se(new Set)},[J]),y.useEffect(()=>{var he;const ue=(he=Y.current)==null?void 0:he.element,pe=new ResizeObserver(([{contentRect:Ne}])=>{V(Ne.width)});return ue&&pe.observe(ue),()=>{pe.disconnect()}},[]),y.useEffect(()=>{const ue=U.some(he=>he.value||[Je.isNull,Je.isNotNull].includes(he.type)),pe=Object.values(I).some(he=>he.hidden);if(ue||pe||P){N();return}!pe&&U.length===0&&!P&&C()},[we,I,F.limit,F.offset,P]),y.useEffect(()=>{const ue=()=>{ce(null)};return document.addEventListener("visibilitychange",ue),()=>{document.removeEventListener("visibilitychange",ue)}},[]),u.jsxs("div",{id:"main-rdg-table",className:z("flex min-w-[0] flex-1 flex-col overflow-hidden",!1),children:[u.jsx(MQe,{entity:W,tab:n,setTab:s}),u.jsx(sg,{columns:Ce,rows:J,ref:Y,rowKeyGetter:ue=>ue.id,headerRowHeight:A==="custom"&&(b==null?void 0:b.id)==="qsLXlcSlGvWMqmVK-vswg"?kr(1.5):kr(2),rowHeight:ue=>ue.type==="RELATION"?kr(20.6875):A==="custom"&&(b==null?void 0:b.id)==="qsLXlcSlGvWMqmVK-vswg"?kr(1.5):kr(2),selectedRows:Ee,sortColumns:_e,onMultiCellCopy:Q,onMultiCellPaste:Ae,onSelectedCellChange:()=>{rt("table_select_cell")},onSelectedRowsChange:se,onRowsChange:te,onSortColumnsChange:ue=>{Hr(()=>{ue.length===0&&rt("table_column_remove_sort"),ue.forEach(he=>{he.direction==="ASC"?rt("table_column_asc_sort"):he.direction==="DESC"&&rt("table_column_desc_sort")}),le(ue)})},onColumnResize:(ue,pe)=>{rt("table_column_resize"),ae(ue.name,pe)},className:z("fill-grid overscroll-x-none border-t",!h&&"[&_.rdg-cell:first-child]:border-l"),rowClass:()=>"main-rdg-row",renderers:{renderCheckbox:KXe,renderRow:XXe,noRowsFallback:QXe()},selectionLeftBoundaryColIdx:0,selectionTopBoundaryRowIdx:-1,selectionRightBoundaryColIdx:Object.values(W.columns).length+1,enableRangeSelection:!0,enableVirtualization:J.length>200}),u.jsx("div",{className:"bg-popover text-popover-foreground animate-in fade-in-50 slide-in-from-bottom-1 rounded-md border px-3 py-1.5 text-sm shadow-md",ref:B.setFloating,style:{...X,visibility:re?"visible":"hidden"}})]})},UQe=t=>{const e=it(({dialect:n})=>{if(!n)throw new Error("No dialect");return n}),r=it(({schemas:n})=>{const s=n[t.schema];if(!t.schema)throw new Error("No schema");const i=s.tables[t.name]||s.views[t.name];if(!i)throw new Error("No entity");return i},Pr);return e==="sqlite"&&r.type==="view"&&r.pullError&&r.pullError.type==="view"&&r.definition?u.jsx(C6e,{schema:t.schema,name:t.name,definition:r.definition,error:r.pullError.error}):u.jsx(kQe,{...t})},jQe=()=>{const t=ht(a=>a.readonlyMode),e=ht(a=>a.schemaReadonlyMode),r=Me(a=>a.currentTable?{id:a.currentTable.id,type:a.currentTable.type,schema:a.currentTable.schema,name:a.currentTable.name}:null,Pr),n=Me(a=>a.tab),{setTab:s}=sr(),i=Me(a=>a.structureScenario),{setStructureScenario:o}=sr();return y.useEffect(()=>{n==="content"&&o(null)},[n]),r?n==="content"?u.jsx(UQe,{id:r.id,schema:r.schema,name:r.name,tab:n,setTab:s,setScenario:o}):r.type==="table"?u.jsxs("div",{className:"flex min-w-[0] flex-1 flex-col overflow-hidden",children:[u.jsx("div",{className:z("bg-table-toolbar flex flex-col"),children:u.jsxs("div",{className:z("flex items-center gap-2 p-3",!1),children:[u.jsx(nc,{}),n&&s&&u.jsx("div",{className:"mx-2",children:u.jsx(QP,{tab:n,setTab:s})})]})}),t||e?u.jsx(tK,{schema:r.schema,name:r.name}):u.jsx(A6e,{schema:r.schema,name:r.name,scenario:i})]}):r.type==="view"||r.type==="mat_view"?u.jsxs("div",{className:"flex min-w-[0] flex-1 flex-col overflow-hidden",children:[u.jsx("div",{className:z("bg-table-toolbar flex flex-col"),children:u.jsxs("div",{className:z("flex items-center gap-2 p-3",!1),children:[u.jsx(nc,{}),n&&s&&u.jsx("div",{className:"mx-2",children:u.jsx(QP,{tab:n,setTab:s})})]})}),t||e?u.jsx(rK,{schema:r.schema,name:r.name}):u.jsx(N6e,{schema:r.schema,name:r.name})]}):null:null};function BQe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return y.useMemo(()=>n=>{e.forEach(s=>s(n))},e)}const tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rp(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function JP(t){return"nodeType"in t}function Gi(t){var e,r;return t?rp(t)?t:JP(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function ZP(t){const{Document:e}=Gi(t);return t instanceof e}function VT(t){return rp(t)?!1:t instanceof Gi(t).HTMLElement}function Xte(t){return t instanceof Gi(t).SVGElement}function np(t){return t?rp(t)?t.document:JP(t)?ZP(t)?t:VT(t)||Xte(t)?t.ownerDocument:document:document:document}const xl=tb?y.useLayoutEffect:y.useEffect;function ek(t){const e=y.useRef(t);return xl(()=>{e.current=t}),y.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function FQe(){const t=y.useRef(null),e=y.useCallback((n,s)=>{t.current=setInterval(n,s)},[]),r=y.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function zT(t,e){e===void 0&&(e=[t]);const r=y.useRef(t);return xl(()=>{r.current!==t&&(r.current=t)},e),r}function WT(t,e){const r=y.useRef();return y.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function rb(t){const e=ek(t),r=y.useRef(null),n=y.useCallback(s=>{s!==r.current&&(e==null||e(s,r.current)),r.current=s},[]);return[r,n]}function tk(t){const e=y.useRef();return y.useEffect(()=>{e.current=t},[t]),e.current}let rk={};function YT(t,e){return y.useMemo(()=>{if(e)return e;const r=rk[t]==null?0:rk[t]+1;return rk[t]=r,t+"-"+r},[t,e])}function Qte(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((i,o)=>{const a=Object.entries(o);for(const[l,c]of a){const d=i[l];d!=null&&(i[l]=d+t*c)}return i},{...e})}}const sp=Qte(1),nb=Qte(-1);function HQe(t){return"clientX"in t&&"clientY"in t}function nk(t){if(!t)return!1;const{KeyboardEvent:e}=Gi(t.target);return e&&t instanceof e}function $Qe(t){if(!t)return!1;const{TouchEvent:e}=Gi(t.target);return e&&t instanceof e}function sk(t){if($Qe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return HQe(t)?{x:t.clientX,y:t.clientY}:null}const ip=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[ip.Translate.toString(t),ip.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),Jte="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function GQe(t){return t.matches(Jte)?t:t.querySelector(Jte)}const VQe={display:"none"};function zQe(t){let{id:e,value:r}=t;return Fe.createElement("div",{id:e,style:VQe},r)}function WQe(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Fe.createElement("div",{id:e,style:s,role:"status","aria-live":n,"aria-atomic":!0},r)}function YQe(){const[t,e]=y.useState("");return{announce:y.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const Zte=y.createContext(null);function ere(t){const e=y.useContext(Zte);y.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function qQe(){const[t]=y.useState(()=>new Set),e=y.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[y.useCallback(n=>{let{type:s,event:i}=n;t.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[t]),e]}const KQe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},XQe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function QQe(t){let{announcements:e=XQe,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=KQe}=t;const{announce:i,announcement:o}=YQe(),a=YT("DndLiveRegion"),[l,c]=y.useState(!1);if(y.useEffect(()=>{c(!0)},[]),ere(y.useMemo(()=>({onDragStart(h){let{active:m}=h;i(e.onDragStart({active:m}))},onDragMove(h){let{active:m,over:f}=h;e.onDragMove&&i(e.onDragMove({active:m,over:f}))},onDragOver(h){let{active:m,over:f}=h;i(e.onDragOver({active:m,over:f}))},onDragEnd(h){let{active:m,over:f}=h;i(e.onDragEnd({active:m,over:f}))},onDragCancel(h){let{active:m,over:f}=h;i(e.onDragCancel({active:m,over:f}))}}),[i,e])),!l)return null;const d=Fe.createElement(Fe.Fragment,null,Fe.createElement(zQe,{id:n,value:s.draggable}),Fe.createElement(WQe,{id:a,announcement:o}));return r?Zs.createPortal(d,r):d}var ls;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(ls||(ls={}));function sb(){}function JQe(t,e){return y.useMemo(()=>({sensor:t,options:{}}),[t,e])}function ZQe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return y.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const xa=Object.freeze({x:0,y:0});function eJe(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function tJe(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function rJe(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function nJe(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function tre(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}const sJe=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const s=tre(e,e.left,e.top),i=[];for(const o of n){const{id:a}=o,l=r.get(a);if(l){const c=eJe(tre(l),s);i.push({id:a,data:{droppableContainer:o,value:c}})}}return i.sort(tJe)};function iJe(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-n,a=i-r;if(n<s&&r<i){const l=e.width*e.height,c=t.width*t.height,d=o*a,h=d/(l+c-d);return Number(h.toFixed(4))}return 0}const oJe=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const s=[];for(const i of n){const{id:o}=i,a=r.get(o);if(a){const l=iJe(a,e);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(rJe)};function aJe(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function rre(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:xa}function lJe(t){return function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...r})}}const cJe=lJe(1);function uJe(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function dJe(t,e,r){const n=uJe(e);if(!n)return t;const{scaleX:s,scaleY:i,x:o,y:a}=n,l=t.left-o-(1-s)*parseFloat(r),c=t.top-a-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),d=s?t.width/s:t.width,h=i?t.height/i:t.height;return{width:d,height:h,top:c,right:l+d,bottom:c+h,left:l}}const hJe={ignoreTransform:!1};function op(t,e){e===void 0&&(e=hJe);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:d}=Gi(t).getComputedStyle(t);c&&(r=dJe(r,c,d))}const{top:n,left:s,width:i,height:o,bottom:a,right:l}=r;return{top:n,left:s,width:i,height:o,bottom:a,right:l}}function nre(t){return op(t,{ignoreTransform:!0})}function fJe(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function mJe(t,e){return e===void 0&&(e=Gi(t).getComputedStyle(t)),e.position==="fixed"}function pJe(t,e){e===void 0&&(e=Gi(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?r.test(i):!1})}function ik(t,e){const r=[];function n(s){if(e!=null&&r.length>=e||!s)return r;if(ZP(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!VT(s)||Xte(s)||r.includes(s))return r;const i=Gi(t).getComputedStyle(s);return s!==t&&pJe(s,i)&&r.push(s),mJe(s,i)?r:n(s.parentNode)}return t?n(t):r}function sre(t){const[e]=ik(t,1);return e??null}function ok(t){return!tb||!t?null:rp(t)?t:JP(t)?ZP(t)||t===np(t).scrollingElement?window:VT(t)?t:null:null}function ire(t){return rp(t)?t.scrollX:t.scrollLeft}function ore(t){return rp(t)?t.scrollY:t.scrollTop}function ak(t){return{x:ire(t),y:ore(t)}}var xs;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(xs||(xs={}));function are(t){return!tb||!t?!1:t===document.scrollingElement}function lre(t){const e={x:0,y:0},r=are(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=n.y,a=t.scrollLeft>=n.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:n,minScroll:e}}const EJe={x:.2,y:.2};function gJe(t,e,r,n,s){let{top:i,left:o,right:a,bottom:l}=r;n===void 0&&(n=10),s===void 0&&(s=EJe);const{isTop:c,isBottom:d,isLeft:h,isRight:m}=lre(t),f={x:0,y:0},p={x:0,y:0},E={height:e.height*s.y,width:e.width*s.x};return!c&&i<=e.top+E.height?(f.y=xs.Backward,p.y=n*Math.abs((e.top+E.height-i)/E.height)):!d&&l>=e.bottom-E.height&&(f.y=xs.Forward,p.y=n*Math.abs((e.bottom-E.height-l)/E.height)),!m&&a>=e.right-E.width?(f.x=xs.Forward,p.x=n*Math.abs((e.right-E.width-a)/E.width)):!h&&o<=e.left+E.width&&(f.x=xs.Backward,p.x=n*Math.abs((e.left+E.width-o)/E.width)),{direction:f,speed:p}}function TJe(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:r,right:n,bottom:s}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:s,width:t.clientWidth,height:t.clientHeight}}function cre(t){return t.reduce((e,r)=>sp(e,ak(r)),xa)}function SJe(t){return t.reduce((e,r)=>e+ire(r),0)}function vJe(t){return t.reduce((e,r)=>e+ore(r),0)}function yJe(t,e){if(e===void 0&&(e=op),!t)return;const{top:r,left:n,bottom:s,right:i}=e(t);sre(t)&&(s<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const AJe=[["x",["left","right"],SJe],["y",["top","bottom"],vJe]];class lk{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=ik(r),s=cre(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of AJe)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(n),d=s[i]-c;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class qT{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var s;(s=this.target)==null||s.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function RJe(t){const{EventTarget:e}=Gi(t);return t instanceof e?t:np(t)}function ck(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Qo;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Qo||(Qo={}));function ure(t){t.preventDefault()}function NJe(t){t.stopPropagation()}var Mr;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Mr||(Mr={}));const dre={start:[Mr.Space,Mr.Enter],cancel:[Mr.Esc],end:[Mr.Space,Mr.Enter,Mr.Tab]},bJe=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case Mr.Right:return{...r,x:r.x+25};case Mr.Left:return{...r,x:r.x-25};case Mr.Down:return{...r,y:r.y+25};case Mr.Up:return{...r,y:r.y-25}}};class hre{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new qT(np(r)),this.windowListeners=new qT(Gi(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Qo.Resize,this.handleCancel),this.windowListeners.add(Qo.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Qo.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&yJe(n),r(xa)}handleKeyDown(e){if(nk(e)){const{active:r,context:n,options:s}=this.props,{keyboardCodes:i=dre,coordinateGetter:o=bJe,scrollBehavior:a="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=n.current,d=c?{x:c.left,y:c.top}:xa;this.referenceCoordinates||(this.referenceCoordinates=d);const h=o(e,{active:r,context:n.current,currentCoordinates:d});if(h){const m=nb(h,d),f={x:0,y:0},{scrollableAncestors:p}=n.current;for(const E of p){const g=e.code,{isTop:T,isRight:S,isLeft:v,isBottom:N,maxScroll:C,minScroll:x}=lre(E),A=TJe(E),b={x:Math.min(g===Mr.Right?A.right-A.width/2:A.right,Math.max(g===Mr.Right?A.left:A.left+A.width/2,h.x)),y:Math.min(g===Mr.Down?A.bottom-A.height/2:A.bottom,Math.max(g===Mr.Down?A.top:A.top+A.height/2,h.y))},_=g===Mr.Right&&!S||g===Mr.Left&&!v,U=g===Mr.Down&&!N||g===Mr.Up&&!T;if(_&&b.x!==h.x){const j=E.scrollLeft+m.x,L=g===Mr.Right&&j<=C.x||g===Mr.Left&&j>=x.x;if(L&&!m.y){E.scrollTo({left:j,behavior:a});return}L?f.x=E.scrollLeft-j:f.x=g===Mr.Right?E.scrollLeft-C.x:E.scrollLeft-x.x,f.x&&E.scrollBy({left:-f.x,behavior:a});break}else if(U&&b.y!==h.y){const j=E.scrollTop+m.y,L=g===Mr.Down&&j<=C.y||g===Mr.Up&&j>=x.y;if(L&&!m.x){E.scrollTo({top:j,behavior:a});return}L?f.y=E.scrollTop-j:f.y=g===Mr.Down?E.scrollTop-C.y:E.scrollTop-x.y,f.y&&E.scrollBy({top:-f.y,behavior:a});break}}this.handleMove(e,sp(nb(h,this.referenceCoordinates),f))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}hre.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=dre,onActivation:s}=e,{active:i}=r;const{code:o}=t.nativeEvent;if(n.start.includes(o)){const a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function fre(t){return!!(t&&"distance"in t)}function mre(t){return!!(t&&"delay"in t)}class uk{constructor(e,r,n){var s;n===void 0&&(n=RJe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:i}=e,{target:o}=i;this.props=e,this.events=r,this.document=np(o),this.documentListeners=new qT(this.document),this.listeners=new qT(n),this.windowListeners=new qT(Gi(o)),this.initialCoordinates=(s=sk(i))!=null?s:xa,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Qo.Resize,this.handleCancel),this.windowListeners.add(Qo.DragStart,ure),this.windowListeners.add(Qo.VisibilityChange,this.handleCancel),this.windowListeners.add(Qo.ContextMenu,ure),this.documentListeners.add(Qo.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(mre(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(fre(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:s}=this.props;s(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Qo.Click,NJe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Qo.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(r=sk(e))!=null?r:xa,c=nb(s,l);if(!n&&a){if(fre(a)){if(a.tolerance!=null&&ck(c,a.tolerance))return this.handleCancel();if(ck(c,a.distance))return this.handleStart()}if(mre(a)&&ck(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===Mr.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const CJe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class dk extends uk{constructor(e){const{event:r}=e,n=np(r.target);super(e,CJe,n)}}dk.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const xJe={move:{name:"mousemove"},end:{name:"mouseup"}};var hk;(function(t){t[t.RightClick=2]="RightClick"})(hk||(hk={}));class wJe extends uk{constructor(e){super(e,xJe,np(e.event.target))}}wJe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===hk.RightClick?!1:(n==null||n({event:r}),!0)}}];const fk={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class OJe extends uk{constructor(e){super(e,fk)}static setup(){return window.addEventListener(fk.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(fk.move.name,e)};function e(){}}}OJe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:s}=r;return s.length>1?!1:(n==null||n({event:r}),!0)}}];var KT;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(KT||(KT={}));var ib;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(ib||(ib={}));function IJe(t){let{acceleration:e,activator:r=KT.Pointer,canScroll:n,draggingRect:s,enabled:i,interval:o=5,order:a=ib.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:d,delta:h,threshold:m}=t;const f=LJe({delta:h,disabled:!i}),[p,E]=FQe(),g=y.useRef({x:0,y:0}),T=y.useRef({x:0,y:0}),S=y.useMemo(()=>{switch(r){case KT.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case KT.DraggableRect:return s}},[r,s,l]),v=y.useRef(null),N=y.useCallback(()=>{const x=v.current;if(!x)return;const A=g.current.x*T.current.x,b=g.current.y*T.current.y;x.scrollBy(A,b)},[]),C=y.useMemo(()=>a===ib.TreeOrder?[...c].reverse():c,[a,c]);y.useEffect(()=>{if(!i||!c.length||!S){E();return}for(const x of C){if((n==null?void 0:n(x))===!1)continue;const A=c.indexOf(x),b=d[A];if(!b)continue;const{direction:_,speed:U}=gJe(x,b,S,e,m);for(const j of["x","y"])f[j][_[j]]||(U[j]=0,_[j]=0);if(U.x>0||U.y>0){E(),v.current=x,p(N,o),g.current=U,T.current=_;return}}g.current={x:0,y:0},T.current={x:0,y:0},E()},[e,N,n,E,i,o,JSON.stringify(S),JSON.stringify(f),p,c,C,d,JSON.stringify(m)])}const _Je={x:{[xs.Backward]:!1,[xs.Forward]:!1},y:{[xs.Backward]:!1,[xs.Forward]:!1}};function LJe(t){let{delta:e,disabled:r}=t;const n=tk(e);return WT(s=>{if(r||!n||!s)return _Je;const i={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[xs.Backward]:s.x[xs.Backward]||i.x===-1,[xs.Forward]:s.x[xs.Forward]||i.x===1},y:{[xs.Backward]:s.y[xs.Backward]||i.y===-1,[xs.Forward]:s.y[xs.Forward]||i.y===1}}},[r,e,n])}function DJe(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return WT(s=>{var i;return e==null?null:(i=n??s)!=null?i:null},[n,e])}function MJe(t,e){return y.useMemo(()=>t.reduce((r,n)=>{const{sensor:s}=n,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,n)}));return[...r,...i]},[]),[t,e])}var XT;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(XT||(XT={}));var mk;(function(t){t.Optimized="optimized"})(mk||(mk={}));const pre=new Map;function PJe(t,e){let{dragging:r,dependencies:n,config:s}=e;const[i,o]=y.useState(null),{frequency:a,measure:l,strategy:c}=s,d=y.useRef(t),h=g(),m=zT(h),f=y.useCallback(function(T){T===void 0&&(T=[]),!m.current&&o(S=>S===null?T:S.concat(T.filter(v=>!S.includes(v))))},[m]),p=y.useRef(null),E=WT(T=>{if(h&&!r)return pre;if(!T||T===pre||d.current!==t||i!=null){const S=new Map;for(let v of t){if(!v)continue;if(i&&i.length>0&&!i.includes(v.id)&&v.rect.current){S.set(v.id,v.rect.current);continue}const N=v.node.current,C=N?new lk(l(N),N):null;v.rect.current=C,C&&S.set(v.id,C)}return S}return T},[t,i,r,h,l]);return y.useEffect(()=>{d.current=t},[t]),y.useEffect(()=>{h||f()},[r,h]),y.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),y.useEffect(()=>{h||typeof a!="number"||p.current!==null||(p.current=setTimeout(()=>{f(),p.current=null},a))},[a,h,f,...n]),{droppableRects:E,measureDroppableContainers:f,measuringScheduled:i!=null};function g(){switch(c){case XT.Always:return!1;case XT.BeforeDragging:return r;default:return!r}}}function Ere(t,e){return WT(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function kJe(t,e){return Ere(t,e)}function UJe(t){let{callback:e,disabled:r}=t;const n=ek(e),s=y.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return y.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function ob(t){let{callback:e,disabled:r}=t;const n=ek(e),s=y.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return y.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function jJe(t){return new lk(op(t),t)}function gre(t,e,r){e===void 0&&(e=jJe);const[n,s]=y.useState(null);function i(){s(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??r)!=null?c:null}const d=e(t);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const o=UJe({callback(l){if(t)for(const c of l){const{type:d,target:h}=c;if(d==="childList"&&h instanceof HTMLElement&&h.contains(t)){i();break}}}}),a=ob({callback:i});return xl(()=>{i(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),n}function BJe(t){const e=Ere(t);return rre(t,e)}const Tre=[];function FJe(t){const e=y.useRef(t),r=WT(n=>t?n&&n!==Tre&&t&&e.current&&t.parentNode===e.current.parentNode?n:ik(t):Tre,[t]);return y.useEffect(()=>{e.current=t},[t]),r}function HJe(t){const[e,r]=y.useState(null),n=y.useRef(t),s=y.useCallback(i=>{const o=ok(i.target);o&&r(a=>a?(a.set(o,ak(o)),new Map(a)):null)},[]);return y.useEffect(()=>{const i=n.current;if(t!==i){o(i);const a=t.map(l=>{const c=ok(l);return c?(c.addEventListener("scroll",s,{passive:!0}),[c,ak(c)]):null}).filter(l=>l!=null);r(a.length?new Map(a):null),n.current=t}return()=>{o(t),o(i)};function o(a){a.forEach(l=>{const c=ok(l);c==null||c.removeEventListener("scroll",s)})}},[s,t]),y.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>sp(i,o),xa):cre(t):xa,[t,e])}function Sre(t,e){e===void 0&&(e=[]);const r=y.useRef(null);return y.useEffect(()=>{r.current=null},e),y.useEffect(()=>{const n=t!==xa;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?nb(t,r.current):xa}function $Je(t){y.useEffect(()=>{if(!tb)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function GJe(t,e){return y.useMemo(()=>t.reduce((r,n)=>{let{eventName:s,handler:i}=n;return r[s]=o=>{i(o,e)},r},{}),[t,e])}function vre(t){return y.useMemo(()=>t?fJe(t):null,[t])}const yre=[];function VJe(t,e){e===void 0&&(e=op);const[r]=t,n=vre(r?Gi(r):null),[s,i]=y.useState(yre);function o(){i(()=>t.length?t.map(l=>are(l)?n:new lk(e(l),l)):yre)}const a=ob({callback:o});return xl(()=>{a==null||a.disconnect(),o(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),s}function zJe(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return VT(e)?e:t}function WJe(t){let{measure:e}=t;const[r,n]=y.useState(null),s=y.useCallback(c=>{for(const{target:d}of c)if(VT(d)){n(h=>{const m=e(d);return h?{...h,width:m.width,height:m.height}:m});break}},[e]),i=ob({callback:s}),o=y.useCallback(c=>{const d=zJe(c);i==null||i.disconnect(),d&&(i==null||i.observe(d)),n(d?e(d):null)},[e,i]),[a,l]=rb(o);return y.useMemo(()=>({nodeRef:a,rect:r,setRef:l}),[r,a,l])}const YJe=[{sensor:dk,options:{}},{sensor:hre,options:{}}],qJe={current:{}},ab={draggable:{measure:nre},droppable:{measure:nre,strategy:XT.WhileDragging,frequency:mk.Optimized},dragOverlay:{measure:op}};class QT extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const KJe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new QT,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:sb},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ab,measureDroppableContainers:sb,windowRect:null,measuringScheduled:!1},XJe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:sb,draggableNodes:new Map,over:null,measureDroppableContainers:sb},lb=y.createContext(XJe),Are=y.createContext(KJe);function QJe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new QT}}}function JJe(t,e){switch(e.type){case ls.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ls.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case ls.DragEnd:case ls.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ls.RegisterDroppable:{const{element:r}=e,{id:n}=r,s=new QT(t.droppable.containers);return s.set(n,r),{...t,droppable:{...t.droppable,containers:s}}}case ls.SetDroppableDisabled:{const{id:r,key:n,disabled:s}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;const o=new QT(t.droppable.containers);return o.set(r,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case ls.UnregisterDroppable:{const{id:r,key:n}=e,s=t.droppable.containers.get(r);if(!s||n!==s.key)return t;const i=new QT(t.droppable.containers);return i.delete(r),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function ZJe(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:s}=y.useContext(lb),i=tk(n),o=tk(r==null?void 0:r.id);return y.useEffect(()=>{if(!e&&!n&&i&&o!=null){if(!nk(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const d of[l.current,c.current]){if(!d)continue;const h=GQe(d);if(h){h.focus();break}}})}},[n,e,s,o,i]),null}function eZe(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...n}),r):r}function tZe(t){return y.useMemo(()=>({draggable:{...ab.draggable,...t==null?void 0:t.draggable},droppable:{...ab.droppable,...t==null?void 0:t.droppable},dragOverlay:{...ab.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function rZe(t){let{activeNode:e,measure:r,initialRect:n,config:s=!0}=t;const i=y.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;xl(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!n)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const d=r(c),h=rre(d,n);if(o||(h.x=0),a||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=sre(c);m&&m.scrollBy({top:h.y,left:h.x})}},[e,o,a,n,r])}const Rre=y.createContext({...xa,scaleX:1,scaleY:1});var qu;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(qu||(qu={}));const Nre=y.memo(function(e){var r,n,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:d=YJe,collisionDetection:h=oJe,measuring:m,modifiers:f,...p}=e;const E=y.useReducer(JJe,void 0,QJe),[g,T]=E,[S,v]=qQe(),[N,C]=y.useState(qu.Uninitialized),x=N===qu.Initialized,{draggable:{active:A,nodes:b,translate:_},droppable:{containers:U}}=g,j=A!=null?b.get(A):null,L=y.useRef({initial:null,translated:null}),P=y.useMemo(()=>{var wt;return A!=null?{id:A,data:(wt=j==null?void 0:j.data)!=null?wt:qJe,rect:L}:null},[A,j]),I=y.useRef(null),[F,W]=y.useState(null),[Y,k]=y.useState(null),V=zT(p,Object.values(p)),re=YT("DndDescribedBy",o),K=y.useMemo(()=>U.getEnabled(),[U]),B=tZe(m),{droppableRects:X,measureDroppableContainers:J,measuringScheduled:Z}=PJe(K,{dragging:x,dependencies:[_.x,_.y],config:B.droppable}),Ee=DJe(b,A),se=y.useMemo(()=>Y?sk(Y):null,[Y]),ie=mn(),Te=kJe(Ee,B.draggable.measure);rZe({activeNode:A!=null?b.get(A):null,config:ie.layoutShiftCompensation,initialRect:Te,measure:B.draggable.measure});const ve=gre(Ee,B.draggable.measure,Te),_e=gre(Ee?Ee.parentElement:null),fe=y.useRef({activatorEvent:null,active:null,activeNode:Ee,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:b,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),je=U.getNodeFor((r=fe.current.over)==null?void 0:r.id),H=WJe({measure:B.dragOverlay.measure}),Ce=(n=H.nodeRef.current)!=null?n:Ee,be=x?(s=H.rect)!=null?s:ve:null,ce=!!(H.nodeRef.current&&H.rect),Q=BJe(ce?null:ve),Ae=vre(Ce?Gi(Ce):null),te=FJe(x?je??Ee:null),ae=VJe(te),le=eZe(f,{transform:{x:_.x-Q.x,y:_.y-Q.y,scaleX:1,scaleY:1},activatorEvent:Y,active:P,activeNodeRect:ve,containerNodeRect:_e,draggingNodeRect:be,over:fe.current.over,overlayNodeRect:H.rect,scrollableAncestors:te,scrollableAncestorRects:ae,windowRect:Ae}),we=se?sp(se,_):null,Ie=HJe(te),ue=Sre(Ie),pe=Sre(Ie,[ve]),he=sp(le,ue),Ne=be?cJe(be,le):null,Se=P&&Ne?h({active:P,collisionRect:Ne,droppableRects:X,droppableContainers:K,pointerCoordinates:we}):null,Ye=nJe(Se,"id"),[Ge,Ze]=y.useState(null),ut=ce?le:sp(le,pe),He=aJe(ut,(i=Ge==null?void 0:Ge.rect)!=null?i:null,ve),lt=y.useRef(null),Qe=y.useCallback((wt,Rr)=>{let{sensor:ln,options:Zn}=Rr;if(I.current==null)return;const Jr=b.get(I.current);if(!Jr)return;const Rn=wt.nativeEvent,ws=new ln({active:I.current,activeNode:Jr,event:Rn,options:Zn,context:fe,onAbort(Qt){if(!b.get(Qt))return;const{onDragAbort:Yt}=V.current,Ur={id:Qt};Yt==null||Yt(Ur),S({type:"onDragAbort",event:Ur})},onPending(Qt,ur,Yt,Ur){if(!b.get(Qt))return;const{onDragPending:us}=V.current,Zo={id:Qt,constraint:ur,initialCoordinates:Yt,offset:Ur};us==null||us(Zo),S({type:"onDragPending",event:Zo})},onStart(Qt){const ur=I.current;if(ur==null)return;const Yt=b.get(ur);if(!Yt)return;const{onDragStart:Ur}=V.current,cs={activatorEvent:Rn,active:{id:ur,data:Yt.data,rect:L}};Zs.unstable_batchedUpdates(()=>{Ur==null||Ur(cs),C(qu.Initializing),T({type:ls.DragStart,initialCoordinates:Qt,active:ur}),S({type:"onDragStart",event:cs}),W(lt.current),k(Rn)})},onMove(Qt){T({type:ls.DragMove,coordinates:Qt})},onEnd:Eo(ls.DragEnd),onCancel:Eo(ls.DragCancel)});lt.current=ws;function Eo(Qt){return async function(){const{active:Yt,collisions:Ur,over:cs,scrollAdjustedTranslate:us}=fe.current;let Zo=null;if(Yt&&us){const{cancelDrop:Nc}=V.current;Zo={activatorEvent:Rn,active:Yt,collisions:Ur,delta:us,over:cs},Qt===ls.DragEnd&&typeof Nc=="function"&&await Promise.resolve(Nc(Zo))&&(Qt=ls.DragCancel)}I.current=null,Zs.unstable_batchedUpdates(()=>{T({type:Qt}),C(qu.Uninitialized),Ze(null),W(null),k(null),lt.current=null;const Nc=Qt===ls.DragEnd?"onDragEnd":"onDragCancel";if(Zo){const si=V.current[Nc];si==null||si(Zo),S({type:Nc,event:Zo})}})}}},[b]),Lt=y.useCallback((wt,Rr)=>(ln,Zn)=>{const Jr=ln.nativeEvent,Rn=b.get(Zn);if(I.current!==null||!Rn||Jr.dndKit||Jr.defaultPrevented)return;const ws={active:Rn};wt(ln,Rr.options,ws)===!0&&(Jr.dndKit={capturedBy:Rr.sensor},I.current=Zn,Qe(ln,Rr))},[b,Qe]),Nt=MJe(d,Lt);$Je(d),xl(()=>{ve&&N===qu.Initializing&&C(qu.Initialized)},[ve,N]),y.useEffect(()=>{const{onDragMove:wt}=V.current,{active:Rr,activatorEvent:ln,collisions:Zn,over:Jr}=fe.current;if(!Rr||!ln)return;const Rn={active:Rr,activatorEvent:ln,collisions:Zn,delta:{x:he.x,y:he.y},over:Jr};Zs.unstable_batchedUpdates(()=>{wt==null||wt(Rn),S({type:"onDragMove",event:Rn})})},[he.x,he.y]),y.useEffect(()=>{const{active:wt,activatorEvent:Rr,collisions:ln,droppableContainers:Zn,scrollAdjustedTranslate:Jr}=fe.current;if(!wt||I.current==null||!Rr||!Jr)return;const{onDragOver:Rn}=V.current,ws=Zn.get(Ye),Eo=ws&&ws.rect.current?{id:ws.id,rect:ws.rect.current,data:ws.data,disabled:ws.disabled}:null,Qt={active:wt,activatorEvent:Rr,collisions:ln,delta:{x:Jr.x,y:Jr.y},over:Eo};Zs.unstable_batchedUpdates(()=>{Ze(Eo),Rn==null||Rn(Qt),S({type:"onDragOver",event:Qt})})},[Ye]),xl(()=>{fe.current={activatorEvent:Y,active:P,activeNode:Ee,collisionRect:Ne,collisions:Se,droppableRects:X,draggableNodes:b,draggingNode:Ce,draggingNodeRect:be,droppableContainers:U,over:Ge,scrollableAncestors:te,scrollAdjustedTranslate:he},L.current={initial:be,translated:Ne}},[P,Ee,Se,Ne,b,Ce,be,X,U,Ge,te,he]),IJe({...ie,delta:_,draggingRect:Ne,pointerCoordinates:we,scrollableAncestors:te,scrollableAncestorRects:ae});const Pt=y.useMemo(()=>({active:P,activeNode:Ee,activeNodeRect:ve,activatorEvent:Y,collisions:Se,containerNodeRect:_e,dragOverlay:H,draggableNodes:b,droppableContainers:U,droppableRects:X,over:Ge,measureDroppableContainers:J,scrollableAncestors:te,scrollableAncestorRects:ae,measuringConfiguration:B,measuringScheduled:Z,windowRect:Ae}),[P,Ee,ve,Y,Se,_e,H,b,U,X,Ge,J,te,ae,B,Z,Ae]),vt=y.useMemo(()=>({activatorEvent:Y,activators:Nt,active:P,activeNodeRect:ve,ariaDescribedById:{draggable:re},dispatch:T,draggableNodes:b,over:Ge,measureDroppableContainers:J}),[Y,Nt,P,ve,T,re,b,Ge,J]);return Fe.createElement(Zte.Provider,{value:v},Fe.createElement(lb.Provider,{value:vt},Fe.createElement(Are.Provider,{value:Pt},Fe.createElement(Rre.Provider,{value:He},c)),Fe.createElement(ZJe,{disabled:(a==null?void 0:a.restoreFocus)===!1})),Fe.createElement(QQe,{...a,hiddenTextDescribedById:re}));function mn(){const wt=(F==null?void 0:F.autoScrollEnabled)===!1,Rr=typeof l=="object"?l.enabled===!1:l===!1,ln=x&&!wt&&!Rr;return typeof l=="object"?{...l,enabled:ln}:{enabled:ln}}}),nZe=y.createContext(null),bre="button",sZe="Draggable";function Cre(t){let{id:e,data:r,disabled:n=!1,attributes:s}=t;const i=YT(sZe),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:d,draggableNodes:h,over:m}=y.useContext(lb),{role:f=bre,roleDescription:p="draggable",tabIndex:E=0}=s??{},g=(l==null?void 0:l.id)===e,T=y.useContext(g?Rre:nZe),[S,v]=rb(),[N,C]=rb(),x=GJe(o,e),A=zT(r);xl(()=>(h.set(e,{id:e,key:i,node:S,activatorNode:N,data:A}),()=>{const _=h.get(e);_&&_.key===i&&h.delete(e)}),[h,e]);const b=y.useMemo(()=>({role:f,tabIndex:E,"aria-disabled":n,"aria-pressed":g&&f===bre?!0:void 0,"aria-roledescription":p,"aria-describedby":d.draggable}),[n,f,E,g,p,d.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:b,isDragging:g,listeners:n?void 0:x,node:S,over:m,setNodeRef:v,setActivatorNodeRef:C,transform:T}}function iZe(){return y.useContext(Are)}const oZe="Droppable",aZe={timeout:25};function pk(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:s}=t;const i=YT(oZe),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=y.useContext(lb),d=y.useRef({disabled:r}),h=y.useRef(!1),m=y.useRef(null),f=y.useRef(null),{disabled:p,updateMeasurementsFor:E,timeout:g}={...aZe,...s},T=zT(E??n),S=y.useCallback(()=>{if(!h.current){h.current=!0;return}f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{c(Array.isArray(T.current)?T.current:[T.current]),f.current=null},g)},[g]),v=ob({callback:S,disabled:p||!o}),N=y.useCallback((b,_)=>{v&&(_&&(v.unobserve(_),h.current=!1),b&&v.observe(b))},[v]),[C,x]=rb(N),A=zT(e);return y.useEffect(()=>{!v||!C.current||(v.disconnect(),h.current=!1,v.observe(C.current))},[C,v]),y.useEffect(()=>(a({type:ls.RegisterDroppable,element:{id:n,key:i,disabled:r,node:C,rect:m,data:A}}),()=>a({type:ls.UnregisterDroppable,key:i,id:n})),[n]),y.useEffect(()=>{r!==d.current.disabled&&(a({type:ls.SetDroppableDisabled,id:n,key:i,disabled:r}),d.current.disabled=r)},[n,i,r,a]),{active:o,rect:m,isOver:(l==null?void 0:l.id)===n,node:C,over:l,setNodeRef:x}}function Ek(t,e,r){const n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function lZe(t,e){return t.reduce((r,n,s)=>{const i=e.get(n);return i&&(r[s]=i),r},Array(t.length))}function cb(t){return t!==null&&t>=0}function cZe(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function uZe(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const xre=t=>{let{rects:e,activeIndex:r,overIndex:n,index:s}=t;const i=Ek(e,n,r),o=e[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},ub={scaleX:1,scaleY:1},dZe=t=>{var e;let{activeIndex:r,activeNodeRect:n,index:s,rects:i,overIndex:o}=t;const a=(e=i[r])!=null?e:n;if(!a)return null;if(s===r){const c=i[o];return c?{x:0,y:r<o?c.top+c.height-(a.top+a.height):c.top-a.top,...ub}:null}const l=hZe(i,s,r);return s>r&&s<=o?{x:0,y:-a.height-l,...ub}:s<r&&s>=o?{x:0,y:a.height+l,...ub}:{x:0,y:0,...ub}};function hZe(t,e,r){const n=t[e],s=t[e-1],i=t[e+1];return n?r<e?s?n.top-(s.top+s.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const wre="Sortable",Ore=Fe.createContext({activeIndex:-1,containerId:wre,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:xre,disabled:{draggable:!1,droppable:!1}});function fZe(t){let{children:e,id:r,items:n,strategy:s=xre,disabled:i=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:d}=iZe(),h=YT(wre,r),m=a.rect!==null,f=y.useMemo(()=>n.map(x=>typeof x=="object"&&"id"in x?x.id:x),[n]),p=o!=null,E=o?f.indexOf(o.id):-1,g=c?f.indexOf(c.id):-1,T=y.useRef(f),S=!cZe(f,T.current),v=g!==-1&&E===-1||S,N=uZe(i);xl(()=>{S&&p&&d(f)},[S,f,p,d]),y.useEffect(()=>{T.current=f},[f]);const C=y.useMemo(()=>({activeIndex:E,containerId:h,disabled:N,disableTransforms:v,items:f,overIndex:g,useDragOverlay:m,sortedRects:lZe(f,l),strategy:s}),[E,h,N.draggable,N.droppable,v,f,g,l,m,s]);return Fe.createElement(Ore.Provider,{value:C},e)}const mZe=t=>{let{id:e,items:r,activeIndex:n,overIndex:s}=t;return Ek(r,n,s).indexOf(e)},pZe=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=t;return!c||!n||a!==i&&s===o?!1:r?!0:o!==s&&e===l},EZe={duration:200,easing:"ease"},Ire="transform",gZe=ip.Transition.toString({property:Ire,duration:0,easing:"linear"}),TZe={roleDescription:"sortable"};function SZe(t){let{disabled:e,index:r,node:n,rect:s}=t;const[i,o]=y.useState(null),a=y.useRef(r);return xl(()=>{if(!e&&r!==a.current&&n.current){const l=s.current;if(l){const c=op(n.current,{ignoreTransform:!0}),d={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(d.x||d.y)&&o(d)}}r!==a.current&&(a.current=r)},[e,r,n,s]),y.useEffect(()=>{i&&o(null)},[i]),i}function vZe(t){let{animateLayoutChanges:e=pZe,attributes:r,disabled:n,data:s,getNewIndex:i=mZe,id:o,strategy:a,resizeObserverConfig:l,transition:c=EZe}=t;const{items:d,containerId:h,activeIndex:m,disabled:f,disableTransforms:p,sortedRects:E,overIndex:g,useDragOverlay:T,strategy:S}=y.useContext(Ore),v=yZe(n,f),N=d.indexOf(o),C=y.useMemo(()=>({sortable:{containerId:h,index:N,items:d},...s}),[h,s,N,d]),x=y.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:A,node:b,isOver:_,setNodeRef:U}=pk({id:o,data:C,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:x,...l}}),{active:j,activatorEvent:L,activeNodeRect:P,attributes:I,setNodeRef:F,listeners:W,isDragging:Y,over:k,setActivatorNodeRef:V,transform:re}=Cre({id:o,data:C,attributes:{...TZe,...r},disabled:v.draggable}),K=BQe(U,F),B=!!j,X=B&&!p&&cb(m)&&cb(g),J=!T&&Y,Z=J&&X?re:null,se=X?Z??(a??S)({rects:E,activeNodeRect:P,activeIndex:m,overIndex:g,index:N}):null,ie=cb(m)&&cb(g)?i({id:o,items:d,activeIndex:m,overIndex:g}):N,Te=j==null?void 0:j.id,ve=y.useRef({activeId:Te,items:d,newIndex:ie,containerId:h}),_e=d!==ve.current.items,fe=e({active:j,containerId:h,isDragging:Y,isSorting:B,id:o,index:N,items:d,newIndex:ve.current.newIndex,previousItems:ve.current.items,previousContainerId:ve.current.containerId,transition:c,wasDragging:ve.current.activeId!=null}),je=SZe({disabled:!fe,index:N,node:b,rect:A});return y.useEffect(()=>{B&&ve.current.newIndex!==ie&&(ve.current.newIndex=ie),h!==ve.current.containerId&&(ve.current.containerId=h),d!==ve.current.items&&(ve.current.items=d)},[B,ie,h,d]),y.useEffect(()=>{if(Te===ve.current.activeId)return;if(Te!=null&&ve.current.activeId==null){ve.current.activeId=Te;return}const Ce=setTimeout(()=>{ve.current.activeId=Te},50);return()=>clearTimeout(Ce)},[Te]),{active:j,activeIndex:m,attributes:I,data:C,rect:A,index:N,newIndex:ie,items:d,isOver:_,isSorting:B,isDragging:Y,listeners:W,node:b,overIndex:g,over:k,setNodeRef:K,setActivatorNodeRef:V,setDroppableNodeRef:U,setDraggableNodeRef:F,transform:je??se,transition:H()};function H(){if(je||_e&&ve.current.newIndex===N)return gZe;if(!(J&&!nk(L)||!c)&&(B||fe))return ip.Transition.toString({...c,property:Ire})}}function yZe(t,e){var r,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t==null?void 0:t.draggable)!=null?r:e.draggable,droppable:(n=t==null?void 0:t.droppable)!=null?n:e.droppable}}Mr.Down,Mr.Right,Mr.Up,Mr.Left;const AZe=({id:t,value:e,index:r,addNewValue:n,removeCard:s})=>{const i=sl(),{attributes:o,listeners:a,setNodeRef:l,transform:c,transition:d}=vZe({id:t}),h={transform:ip.Transform.toString(c),transition:d};return u.jsxs("div",{className:"flex px-1",ref:l,style:h,children:[u.jsx("div",{className:"text-muted-foreground flex size-7 !cursor-move items-center justify-center",...a,...o,children:u.jsx(l0,{className:"size-4"})}),u.jsx(Lr,{className:"bg-background h-7 w-0 min-w-[7.5rem] p-2 text-xs",value:e,autoFocus:!0,onChange:m=>{i.setValue(`values.${r}.value`,m.target.value)},onKeyDown:m=>{m.key==="Enter"&&n()},ref:m=>{m&&(m.style.width="0px",m.style.width=`${m.scrollWidth+2}px`)}}),u.jsx("div",{className:"ml-1 flex size-7 cursor-pointer items-center justify-center",onClick:()=>{s(r)},children:u.jsx(Ji,{className:"size-4"})})]})},RZe=Rs({id:Kt().optional(),schema:Kt().min(1,"Required"),name:Kt().min(1,"Required"),values:Ru(Rs({id:Kt(),value:Kt()}))}),NZe=()=>{const t=Is(N=>N.theme),e=it(N=>N.schemas),{setCurrentPage:r,setCurrentSchemaName:n,setCurrentTable:s}=sr(),{prepareCreateEnum:i}=gn(),o=y.useMemo(()=>({schema:Object.keys(e)[0],name:"",values:[]}),[]),a=ic({resolver:Su(RZe),values:{...o,values:[{id:"firstAdded",value:""}]}}),l=a.watch(),c=y.useMemo(()=>{const N=l.values.map(C=>C.value);return i({...l,values:N})},[l]),[d,h]=y.useState(null),[m,f]=y.useState(),p=()=>{const N=it.getState().schemas[l.schema];N&&(n(N.name),s(null)),r("main")},E=async()=>{f(null),h("pending"),c.execute().then(()=>{h("success")}).catch(N=>{h("failure"),f(N),ds(N,!1)})},g=y.useMemo(()=>{var N;return getComputedStyle(((N=wn.getState().shadowRoot)==null?void 0:N.host)||document.body).getPropertyValue("--structure-card-border").replace("#","%23")},[t]),T=y.useCallback(()=>{a.setValue("values",[...l.values,{id:Math.random().toString(36).substring(7),value:""}])},[l.values]);y.useEffect(()=>{h(null),f(null)},[JSON.stringify(l)]);const S=ZQe(JQe(dk));function v(N){const{active:C,over:x}=N;if(x&&C.id!==x.id){const A=l.values.findIndex(U=>U.id===C.id),b=l.values.findIndex(U=>U.id===x.id),_=Ek(l.values,A,b);a.setValue("values",_)}}return u.jsx("div",{className:z("flex min-w-[0] flex-1 flex-col overflow-hidden",!1),children:u.jsx(oc,{...a,children:u.jsxs("div",{className:"bg-structure grid grow auto-rows-min gap-5 overflow-auto p-5 pt-[4.75rem]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='${g}' fill-opacity='1'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`},children:[u.jsx("div",{className:"absolute left-0 top-0 p-5",children:u.jsx(nc,{})}),u.jsx("div",{className:z("grid h-fit min-h-[30rem] w-fit min-w-[41.25rem]"),children:u.jsxs("div",{className:z("grid-area-1-1 bg-background border-structure-card-border flex flex-col border"),children:[u.jsxs("div",{className:"flex gap-3 p-6 pb-0",children:[u.jsx(qt,{control:a.control,name:"schema",render:({field:N})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(_n,{value:N.value,onChange:N.onChange,options:Object.keys(e),icon:u.jsx(u.Fragment,{}),className:"h-10 p-0",label:u.jsx("div",{className:"h-10 min-w-[7.5rem] p-0",children:u.jsxs("div",{className:"flex w-full items-center justify-between gap-2 pl-3 pr-2",children:[u.jsxs("div",{className:"group relative flex grow flex-col",children:[u.jsx("div",{className:z("flex h-10 w-full items-center pt-3 text-sm"),children:N.value}),u.jsx("label",{className:z("text-input-placeholder pointer-events-none absolute origin-top-left translate-y-1/2 whitespace-nowrap text-sm duration-100 ease-out group-focus-within:translate-y-1/4 group-focus-within:scale-75",N.value&&"translate-y-1/4 scale-75"),children:"Schema"})]}),u.jsx(Ql,{className:"size-4 opacity-50"})]})}),optionLabel:C=>C,optionValue:C=>C})})})}),u.jsx(qt,{control:a.control,name:"name",render:({field:N})=>u.jsxs(yr,{className:"space-y-1",children:[u.jsx(Ar,{children:u.jsx(Lr,{className:"bg-background w-0 min-w-[7.5rem]",...N,placeholderAsLabel:!0,placeholder:"Enum name",onChange:C=>{N.onChange(C)},ref:C=>{N.ref(C),C&&(C.style.width="0px",C.style.width=`${C.scrollWidth+2}px`)}})}),u.jsx(ac,{})]})})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"flex items-center gap-2 px-6",children:[u.jsx("div",{className:"relative flex items-center",children:u.jsx("div",{className:"text-xs font-semibold uppercase",children:"Values"})}),u.jsx(Le,{className:"text-structure-button-link-text h-fit p-0 text-xs leading-none",variant:"link",onClick:T,children:"Add value"})]}),l.values.length>0&&u.jsx(Nre,{sensors:S,collisionDetection:sJe,onDragEnd:v,children:u.jsx(fZe,{items:l.values,strategy:dZe,children:u.jsx("div",{className:"bg-filters-toolbar mt-2 space-y-3 border-y p-4",children:l.values.map((N,C)=>u.jsx(AZe,{id:N.id,index:C,value:N.value,addNewValue:T,removeCard:()=>{a.setValue("values",l.values.filter((x,A)=>A!==C))}},N.id))})})})]}),u.jsx("div",{className:"mt-6 flex px-6",children:u.jsx("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex min-h-[10.5rem] w-full space-y-1 border py-3 text-sm",children:u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable whitespace-pre px-3",dangerouslySetInnerHTML:{__html:os(c.statement)}})})}),d&&u.jsx("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border mx-6 mt-2 flex items-center gap-3 overflow-auto border p-3 text-sm",children:d==="success"?u.jsxs(u.Fragment,{children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-green-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",strokeWidth:"0"})}),"Successfully executed"]}):d==="failure"?u.jsxs(u.Fragment,{children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-red-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z",fill:"currentColor",strokeWidth:"0"})}),u.jsx("div",{className:"w-full",children:(m==null?void 0:m.message)||"Execution error"})]}):d==="pending"?u.jsxs(u.Fragment,{children:[u.jsx(jn,{className:"size-4"}),u.jsx("span",{children:"Executing statement"})]}):null}),u.jsxs("div",{className:"flex grow items-end justify-end p-6",children:[d!=="success"&&u.jsx(Le,{className:"h-8 px-3",onClick:a.handleSubmit(E),disabled:d==="pending",isLoading:d==="pending",children:"Create enum"}),d==="success"&&u.jsx(Le,{className:"h-8",onClick:p,children:"Go to schema"})]})]})})]})})})},bZe=Rs({name:Kt().min(1,"Required")}),CZe=()=>{const t=Is(S=>S.theme),e=Me(S=>S.currentSchemaName),{prepareSchemaChanges:r}=gn();if(!e)return null;const n=y.useMemo(()=>({name:e}),[e]),s=ic({resolver:Su(bZe),defaultValues:n}),i=s.watch(),o=y.useMemo(()=>!Pr(n,i),[n,i]),[a,l]=y.useState(!1),c=y.useMemo(()=>r(e,i),[a]),[d,h]=y.useState(null),[m,f]=y.useState([]),p=()=>{f([]),h("pending"),c.execute(S=>{f(v=>[...v,{index:S,error:null}])},(S,v)=>{f(N=>[...N,{index:S,error:v}]),ds(v,!1)}).then(()=>{m.every(S=>S.error===null)?h("success"):h("failure")})},E=y.useMemo(()=>n.name!==i.name,[n.name,i.name]);y.useLayoutEffect(()=>{s.reset(n)},[e]);const g=S=>{l(S),S||(f([]),h(null))},T=y.useMemo(()=>{var S;return getComputedStyle(((S=wn.getState().shadowRoot)==null?void 0:S.host)||document.body).getPropertyValue("--structure-card-border").replace("#","%23")},[t]);return u.jsx("div",{className:z("flex min-w-[0] flex-1 flex-col overflow-hidden",!1),children:u.jsxs(oc,{...s,children:[u.jsx("div",{className:"bg-table-toolbar flex flex-col",children:u.jsx("div",{className:z("flex items-center gap-2 p-3"),children:u.jsx(nc,{})})}),u.jsx("div",{className:"bg-structure grid grow auto-rows-min gap-5 overflow-auto border-t p-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='${T}' fill-opacity='1'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`},children:u.jsxs("div",{className:z("grid h-fit min-h-[30rem] w-fit min-w-[41.25rem]"),children:[u.jsx("div",{className:z("bg-background grid-area-1-1 border-structure-card-border relative border",a&&"hidden"),children:u.jsxs("div",{className:z("bg-background flex justify-between px-8 pt-6"),children:[u.jsx(qt,{control:s.control,name:"name",render:({field:S})=>u.jsxs(yr,{className:"space-y-1",children:[u.jsx(Ar,{children:u.jsx(Lr,{className:z("bg-background w-0 min-w-[7.5rem]",E&&"text-edit-foreground bg-edit !border-edit-foreground"),placeholderClassName:z(E&&"text-edit-placeholder"),placeholder:"Schema name",placeholderAsLabel:!0,...S,ref:v=>{S.ref(v),v&&(v.style.width="0px",v.style.width=`${v.scrollWidth+2}px`)},onChange:v=>{const N=v.target.value;s.setValue("name",N)}})}),u.jsx(ac,{})]})}),o&&u.jsxs("div",{className:"flex space-x-2",children:[o&&u.jsx(Le,{className:"h-8 px-3",variant:"link",onClick:()=>{s.reset(),g(!1)},children:"Discard all changes"}),o&&u.jsx(Le,{className:"h-8",onClick:()=>{s.handleSubmit(()=>g(!0))()},children:"Review and commit"})]})]})}),a&&u.jsxs("div",{className:"grid-area-1-1 bg-background border-structure-card-border z-[1] h-full border p-6 pl-[0]",children:[u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Le,{className:"h-8",variant:"link",onClick:()=>g(!1),children:"Back to schema"}),d!=="success"&&u.jsx(Le,{className:"h-8",disabled:d==="pending",onClick:p,isLoading:d==="pending",children:"Commit changes"})]}),u.jsx("div",{className:"mt-6 space-y-2",children:c.statements.map((S,v)=>{const N=m.find(b=>b.index===v),C=N==null?void 0:N.error,x=C===null,A=C instanceof Error;return u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex size-12 items-center justify-center",children:x?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-green-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",strokeWidth:"0"})}):A?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-red-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z",fill:"currentColor",strokeWidth:"0"})}):d==="pending"?u.jsx(jn,{className:"size-4"}):u.jsx("div",{className:"bg-border size-3 rounded-full"})}),u.jsxs("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full flex-col items-center justify-between overflow-auto border text-sm",children:[u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable w-full whitespace-pre p-3",dangerouslySetInnerHTML:{__html:os(S)}}),C&&u.jsxs("div",{className:"w-full border-t py-3",children:[u.jsx("div",{className:"mb-2 px-3 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-3",children:C.message})]})]})]},v)})})]})]})})]})})},xZe=Rs({id:Kt().optional(),name:Kt().min(1,"Required")}),wZe=()=>{const t=Is(g=>g.theme),{setCurrentPage:e,setCurrentSchemaName:r,setCurrentTable:n}=sr(),{prepareCreateSchema:s}=gn(),i=y.useMemo(()=>({name:""}),[]),o=ic({resolver:Su(xZe),defaultValues:i}),a=o.watch(),l=y.useMemo(()=>s(a),[a]),[c,d]=y.useState(null),[h,m]=y.useState(),f=()=>{const g=it.getState().schemas[a.name];g&&(r(g.name),n(null)),e("main")},p=()=>{m(null),d("pending"),l.execute().then(()=>{d("success")}).catch(g=>{d("failure"),m(g),ds(g,!1)})},E=y.useMemo(()=>{var g;return getComputedStyle(((g=wn.getState().shadowRoot)==null?void 0:g.host)||document.body).getPropertyValue("--structure-card-border").replace("#","%23")},[t]);return y.useEffect(()=>{d(null),m(null)},[JSON.stringify(a)]),u.jsx("div",{className:z("flex min-w-[0] flex-1 flex-col overflow-hidden",!1),children:u.jsx(oc,{...o,children:u.jsxs("div",{className:"bg-structure grid grow auto-rows-min gap-5 overflow-auto p-5 pt-[4.75rem]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='${E}' fill-opacity='1'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`},children:[u.jsx("div",{className:"absolute left-0 top-0 p-5",children:u.jsx(nc,{})}),u.jsx("div",{className:z("grid h-fit min-h-[30rem] w-fit min-w-[41.25rem]"),children:u.jsxs("div",{className:z("grid-area-1-1 bg-background border-structure-card-border flex flex-col space-y-6 border"),children:[u.jsx("div",{className:"p-6 pb-0 pl-[2.8125rem]",children:u.jsx(qt,{control:o.control,name:"name",render:({field:g})=>u.jsxs(yr,{className:"space-y-1",children:[u.jsx(Ar,{children:u.jsx(Lr,{className:"bg-background w-0 min-w-[7.5rem]",...g,placeholderAsLabel:!0,placeholder:"Schema name",onChange:T=>{g.onChange(T)},ref:T=>{g.ref(T),T&&(T.style.width="0px",T.style.width=`${T.scrollWidth+2}px`)}})}),u.jsx(ac,{})]})})}),u.jsxs("div",{className:"flex pr-6",children:[u.jsx("div",{className:"flex size-12 items-center justify-center",children:c==="success"?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-green-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",strokeWidth:"0"})}):c==="failure"?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-red-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z",fill:"currentColor",strokeWidth:"0"})}):c==="pending"?u.jsx(jn,{className:"size-4"}):u.jsx("div",{className:"bg-border size-3 rounded-full"})}),u.jsxs("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full flex-col items-center justify-between overflow-auto border text-sm",children:[u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable w-full whitespace-pre p-3",dangerouslySetInnerHTML:{__html:os(l.statement)}}),h&&u.jsxs("div",{className:"w-full border-t py-3",children:[u.jsx("div",{className:"mb-2 px-3 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-3",children:h.message})]})]})]}),u.jsxs("div",{className:"flex grow items-end justify-end p-6 pt-0",children:[c!=="success"&&u.jsx(Le,{className:"h-8 px-3",onClick:o.handleSubmit(p),disabled:c==="pending",isLoading:c==="pending",children:"Create schema"}),c==="success"&&u.jsx(Le,{className:"h-8",onClick:f,children:"Go to schema"})]})]})})]})})})},OZe=()=>{const t=ht(se=>se.readonlyMode),e=it(se=>{if(!se.dialect)throw new Error("Dialect not found");return se.dialect}),r=Is(se=>se.theme),n=Me(se=>se.currentSchemaName),{setCurrentPage:s,setCurrentTable:i,setCurrentSchemaName:o,discardChanges:a}=sr(),l=it(se=>se.schemas),c=it(({schemas:se})=>Object.values(se).flatMap(ie=>Object.values(ie.enums))),{createSnippet:d,selectSnippet:h}=Sn(),{prepareCreateTable:m}=gn(),f={schema:n||Object.keys(l)[0]||"",name:"",columns:[{name:"id",type:"integer",isPrimary:!1,isNotNull:!1,isUnique:!1}],constraints:[],indexes:[]},p=ic({resolver:Su(eK),values:{...f,columns:[{name:"id",type:"integer",isPrimary:!0,isNotNull:!0,isUnique:!1,identityParams:e==="postgresql"?{type:"always"}:void 0}],constraints:[],indexes:[]}}),[E,g]=y.useState(!1),[T,S]=y.useState(!1);y.useEffect(()=>{const se=document.querySelector("#sentinel");if(!se)return;const ie=new IntersectionObserver(([Te])=>{S(Te.intersectionRatio<1)},{threshold:[.1,1]});return ie.observe(se),()=>{ie.disconnect()}},[]);const{fields:v,append:N,remove:C}=ol({control:p.control,name:"columns"}),{fields:x,append:A,remove:b}=ol({control:p.control,name:"constraints"}),{fields:_,append:U,remove:j}=ol({control:p.control,name:"indexes"}),L=p.watch(),[P,I]=y.useState(null);y.useEffect(()=>{const se={...L,columns:L.columns.map(ie=>{const{isAdded:Te,...ve}=ie;return ve}),constraints:L.constraints.map(ie=>{const{isAdded:Te,...ve}=ie;return ve}),indexes:L.indexes.map(ie=>{const{isAdded:Te,...ve}=ie;return ve})};m(se).then(I)},[E]);const[F,W]=y.useState(null),[Y,k]=y.useState([]),V=()=>{W("pending");let se="success";P==null||P.execute(ie=>{k(Te=>[...Te,{index:ie,error:null}])},(ie,Te)=>{k(ve=>[...ve,{index:ie,error:Te}]),se="failure",ds(Te,!1)}).then(()=>{W(se)})},re=()=>{var ve;const ie=`constraint_${x.length+1}`,Te=((ve=L.columns.find(_e=>!_e.isPrimary))==null?void 0:ve.name)||L.columns[0].name;A({name:ie,type:"primary",columns:Te?[Te]:[],isAdded:!0})},K=()=>{var je;const ie=`constraint_${x.length+1}`,Te=Object.keys(l)[0],ve=(je=L.columns[0])==null?void 0:je.name,_e=Object.keys(l[Te].tables)[0],fe=[Object.keys(l[Te].tables[_e].columns)[0]];A({name:ie,type:"foreign",columns:ve?[ve]:[],refSchema:Te,refTable:_e,refColumns:fe,updateRule:"NO ACTION",deleteRule:"NO ACTION",isAdded:!0})},B=()=>{var ve;const ie=`constraint_${x.length+1}`,Te=((ve=L.columns.find(_e=>!_e.isUnique))==null?void 0:ve.name)||L.columns[0].name;A({name:ie,type:"unique",columns:Te?[Te]:[],isAdded:!0})},X=()=>{const ie=`constraint_${x.length+1}`;A({name:ie,type:"check",expression:"",isAdded:!0})},J=se=>{g(se),se||(k([]),W(null))},Z=y.useMemo(()=>{var se;return getComputedStyle(((se=wn.getState().shadowRoot)==null?void 0:se.host)||document.body).getPropertyValue("--structure-card-border").replace("#","%23")},[r]),Ee=async()=>{const se=Y.filter(({error:Te})=>Te).map(({index:Te})=>P==null?void 0:P.statements[Te]).filter(Boolean).map(Te=>Te.endsWith(";")?Te:`${Te};`).join(`
`),ie=d(`Create ${L.name} table`,se);h(ie),s("sql-runner"),a()};return u.jsx("div",{className:z("flex min-w-[0] flex-1 flex-col overflow-hidden",!1),children:u.jsx(oc,{...p,children:u.jsxs("div",{className:"bg-structure grid grow auto-rows-min gap-5 overflow-auto p-5 pt-[4.75rem]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='${Z}' fill-opacity='1'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`},children:[u.jsx("div",{className:"absolute left-0 top-0 p-5",children:u.jsx(nc,{})}),u.jsxs("div",{className:z("grid h-fit min-h-[30rem] w-fit min-w-[41.25rem]"),children:[u.jsxs("div",{className:z("grid-area-1-1 bg-background border-structure-card-border relative border",E&&"hidden"),children:[u.jsx("div",{id:"sentinel",className:"invisible absolute z-[2] mt-4"}),u.jsxs("div",{className:z("bg-background flex justify-between px-8 pb-2 pt-6",T&&"sticky top-[-5.75rem] z-[1] items-center border-b"),children:[u.jsxs("div",{className:z("flex gap-3"),children:[e==="postgresql"&&u.jsx(qt,{control:p.control,name:"schema",render:({field:se})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(_n,{value:se.value,onChange:se.onChange,options:Object.keys(l),icon:u.jsx(u.Fragment,{}),className:"h-10 p-0",label:u.jsx("div",{className:"h-10 min-w-[7.5rem] p-0",children:u.jsxs("div",{className:"flex w-full items-center justify-between gap-2 pl-3 pr-2",children:[u.jsxs("div",{className:"group relative flex grow flex-col",children:[u.jsx("div",{className:z("flex h-10 w-full items-center pt-3 text-sm"),children:se.value}),u.jsx("label",{className:z("text-input-placeholder pointer-events-none absolute origin-top-left translate-y-1/2 whitespace-nowrap text-sm duration-100 ease-out group-focus-within:translate-y-1/4 group-focus-within:scale-75",se.value&&"translate-y-1/4 scale-75"),children:"Schema"})]}),u.jsx(Ql,{className:"size-4 opacity-50"})]})}),optionLabel:ie=>ie,optionValue:ie=>ie})})})}),u.jsx(qt,{control:p.control,name:"name",render:({field:se})=>u.jsxs(yr,{className:"space-y-1",children:[u.jsx(Ar,{children:u.jsx(Lr,{className:"bg-background w-0 min-w-[7.5rem]",...se,placeholder:"Table name",placeholderAsLabel:!0,ref:ie=>{se.ref(ie),ie&&(ie.style.width="0px",ie.style.width=`${ie.scrollWidth+2}px`)},onChange:ie=>{se.onChange(ie)}})}),u.jsx(ac,{})]})})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(Le,{className:"h-8 px-3",variant:"link",onClick:()=>{p.reset(),s("main"),J(!1)},children:"Cancel"}),u.jsx(Le,{className:"h-8",onClick:()=>{p.handleSubmit(()=>J(!0))()},children:"Review and create"})]})]}),u.jsxs("div",{className:"px-8 pt-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"relative flex items-center",children:u.jsx("div",{className:"text-xs font-semibold uppercase",children:"Columns"})}),u.jsx(Le,{className:"text-structure-button-link-text h-fit p-0 text-xs leading-none",variant:"link",onClick:()=>{const ie=`column_${L.columns.length+1}`;N({name:ie,type:"text",isPrimary:!1,isUnique:!1,isNotNull:!1})},children:"Add column"})]}),u.jsx("div",{className:"mt-2 flex flex-col space-y-1 text-sm",children:Object.keys(v).length>0&&u.jsx("div",{children:v.map((se,ie)=>u.jsx(QA,{index:ie,isAdded:!0,isSelected:!1,enums:c,onSelect:()=>{},onRemove:()=>C(ie)},se.id))})})]}),u.jsxs("div",{className:"mt-6 px-8",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"relative flex items-center",children:u.jsx("div",{className:"text-xs font-semibold uppercase",children:"Constraints"})}),u.jsxs(Bs,{children:[u.jsx(Fs,{asChild:!0,children:u.jsx(Le,{className:"text-structure-button-link-text h-fit p-0 text-xs leading-none",variant:"link",children:"Add constraint"})}),u.jsxs(As,{className:"w-[12.5rem] p-2",children:[u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:re,children:[u.jsx(c6,{className:"mr-2 size-4"}),"Primary Key"]}),u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:K,children:[u.jsx(h6,{className:"mr-2 size-4"}),"Foreign Key"]}),u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:B,children:[u.jsx(o6,{className:"mr-2 size-4"}),"Unique Constraint"]}),u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:X,children:[u.jsx(u6,{className:"mr-2 size-4"}),"Check Constraint"]})]})]})]}),u.jsx("div",{className:"mt-2 flex flex-col space-y-1 text-sm",children:Object.keys(x).length>0&&u.jsx("div",{children:x.map((se,ie)=>u.jsx(JA,{index:ie,isAdded:!0,isSelected:!1,onSelect:()=>{},onRemove:()=>b(ie)},se.id))})})]}),u.jsxs("div",{className:"mb-8 mt-6 px-8",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"relative flex items-center",children:u.jsx("div",{className:"text-xs font-semibold uppercase",children:"Indexes"})}),u.jsx(Le,{className:"text-structure-button-link-text h-fit p-0 text-xs leading-none",variant:"link",onClick:()=>{var ve;const ie=`index_${_.length+1}`,Te=(ve=L.columns[0])==null?void 0:ve.name;U({isAdded:!0,name:ie,columns:Te?[Te]:[],method:"btree",isUnique:!1})},children:"Add index"})]}),u.jsx("div",{className:"mt-2 flex flex-col space-y-1 text-sm",children:Object.keys(_).length>0&&u.jsx("div",{children:_.map((se,ie)=>u.jsx(zg,{index:ie,isAdded:!0,isSelected:!1,onSelect:()=>{},onRemove:()=>j(ie)},se.id))})})]})]}),E&&u.jsxs("div",{className:"grid-area-1-1 bg-background border-structure-card-border z-[1] h-full border p-6 pl-[0]",children:[u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Le,{className:"h-8",variant:"link",onClick:()=>{J(!1)},children:"Back to schema"}),F==="failure"&&!t&&!0&&!0&&!0&&u.jsx(Le,{className:"h-8",variant:"outline",onClick:Ee,children:"Open failed in SQL"}),F!=="success"&&F!=="failure"&&u.jsx(Le,{className:"h-8",disabled:F==="pending",onClick:V,isLoading:F==="pending",children:"Create table"}),F==="success"&&u.jsxs(Le,{className:"h-8",onClick:()=>{const se=it.getState().schemas[L.schema].tables[L.name];se&&(o(se.schema),i({id:se.id,name:se.name,schema:se.schema,type:se.type,createdRecords:[],editedFields:[],filters:[],pagination:{limit:50,offset:0},records:[],sort:null,columnSettings:{}})),s("main")},children:["Go to ",L.schema,".",L.name]})]}),u.jsx("div",{className:"mt-6 space-y-2",children:P==null?void 0:P.statements.map((se,ie)=>{const Te=Y.find(je=>je.index===ie),ve=Te==null?void 0:Te.error,_e=ve===null,fe=ve instanceof Error;return u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex size-12 items-center justify-center",children:_e?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-green-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",strokeWidth:"0"})}):fe?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-red-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z",fill:"currentColor",strokeWidth:"0"})}):F==="pending"?u.jsx(jn,{className:"size-4"}):u.jsx("div",{className:"bg-border size-3 rounded-full"})}),u.jsxs("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full flex-col items-center justify-between overflow-auto border text-sm",children:[u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable w-full whitespace-pre p-3",dangerouslySetInnerHTML:{__html:os(Ps(se,e))}}),ve&&u.jsxs("div",{className:"w-full border-t py-3",children:[u.jsx("div",{className:"mb-2 px-3 text-xs text-red-600",children:"Error:"}),u.jsx("div",{className:"overflow-auto px-3",children:ve.message})]})]})]},ie)})})]})]})]})})})},IZe=t=>{switch(t){case Je.ilike:return"ilike";case Je.like:return"like";case Je.notLike:return"not like";case Je.equals:return"equals";case Je.notEquals:return"not equals";case Je.greaterThan:return"greater";case Je.lessThan:return"less";case Je.greaterThanOrEquals:return"gte";case Je.lessThanOrEquals:return"lte";case Je.isNull:return"is null";case Je.isNotNull:return"is not null";default:return t}},_Ze=t=>{switch(t){case Je.ilike:return"ilike";case Je.like:return"like";case Je.notLike:return"not like";case Je.equals:return"equals";case Je.notEquals:return"not equals";case Je.greaterThan:return"greater";case Je.lessThan:return"less";case Je.greaterThanOrEquals:return"greater or equals";case Je.lessThanOrEquals:return"less or equals";case Je.in:return"in";case Je.isNull:return"is null";case Je.isNotNull:return"is not null";default:return t}},LZe=t=>{switch(t){case Je.ilike:return u.jsx("p",{className:"text-[0.625rem]",children:"ILIKE"});case Je.like:return u.jsx("p",{className:"text-[0.625rem]",children:"LIKE"});case Je.notLike:return u.jsx("p",{className:"text-[0.625rem]",children:"NOT LIKE"});case Je.in:return u.jsx("p",{className:"text-[0.625rem]",children:"IN"});case Je.isNull:return u.jsx("p",{className:"text-[0.625rem]",children:"IS NULL"});case Je.isNotNull:return u.jsx("p",{className:"text-[0.625rem]",children:"IS NOT NULL"});default:return u.jsx("p",{children:t})}},DZe=({index:t,columns:e,onRemove:r})=>{const n=it(a=>a.dialect),s=sl(),i=s.watch(`where.${t}`),o=Object.keys(Je).filter(a=>n==="postgresql"?!0:a!=="ilike");return u.jsxs("div",{className:z("flex"),children:[u.jsx("div",{className:"mr-1 flex size-7 cursor-pointer items-center justify-center",onClick:r,children:u.jsx(Ji,{className:"size-4"})}),u.jsxs("div",{className:"flex gap-3",children:[t===0?u.jsx("div",{className:"bg-background flex h-7 w-[3.75rem] items-center justify-center rounded-md border text-sm",children:"where"}):u.jsx(qt,{control:s.control,name:`where.${t}.type`,render:({field:a})=>u.jsxs(hD,{value:a.value,onValueChange:a.onChange,children:[u.jsx(sR,{className:"bg-background h-7 w-0 min-w-[3.75rem] pl-2 pr-1",children:u.jsx(fD,{placeholder:"Select type"})}),u.jsx(iR,{children:["and","or"].map(l=>u.jsx(Cu,{value:l,children:l},l))})]})}),u.jsx(qt,{control:s.control,name:`where.${t}.column`,render:({field:a})=>u.jsx(_n,{className:"h-7",value:a.value,onChange:a.onChange,options:e,optionLabel:l=>l.name,optionValue:l=>l.name})}),u.jsx(qt,{control:s.control,name:`where.${t}.operator`,render:({field:a})=>u.jsx(_n,{className:"h-7",withoutSearch:!0,maxVisibleItems:o.length,label:IZe(a.value),value:a.value,onChange:l=>{l===Je.isNotNull||l===Je.isNull?s.setValue(`where.${t}.value`,null):i.value===null&&s.setValue(`where.${t}.value`,""),a.onChange(l)},options:o,optionLabel:l=>{const c=LZe(Je[l]);return u.jsxs("div",{className:"flex w-full justify-between",children:[u.jsx("p",{className:"mr-3",children:_Ze(Je[l])}),u.jsx("div",{className:"bg-border text-muted-foreground flex h-[1.125rem] min-w-[1.5625rem] items-center justify-center rounded-sm px-1 font-mono leading-normal",children:c})]})},optionValue:l=>Je[l]})}),i.operator!==Je.isNotNull&&i.operator!==Je.isNull&&u.jsx(qt,{control:s.control,name:`where.${t}.value`,render:({field:a})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(Lr,{className:z("bg-background h-7 p-2 text-xs"),type:"text",placeholder:"Value",...a})})})})]})]})},MZe=Rs({schema:Kt().min(1),name:Kt().min(1),table:Rs({schema:Kt().min(1),name:Kt().min(1)}),columns:Ru(Kt()),where:Ru(Rs({type:Am([Yn("and"),Yn("or")]),column:Kt(),operator:J8e(Je),value:nD()}))}),PZe=()=>{const t=ht(F=>F.readonlyMode),e=it(F=>{if(!F.dialect)throw new Error("Dialect not found");return F.dialect}),r=Is(F=>F.theme),{prepareSelect:n,prepareCreateView:s}=gn(),i=Me(F=>F.currentSchemaName),{setCurrentPage:o,setCurrentTable:a,setCurrentSchemaName:l}=sr(),{createSnippet:c,selectSnippet:d}=Sn(),h=it(F=>F.schemas),m=y.useMemo(()=>{const F=i||Object.keys(h)[0];if(!F||!h[F])throw new Error("Schema not found");const W=h[F],Y=Object.values(W.tables)[0],k=Object.keys((Y==null?void 0:Y.columns)||{});return{schema:F,name:"",table:{schema:(Y==null?void 0:Y.schema)||"",name:(Y==null?void 0:Y.name)||""},columns:k,where:[],query:""}},[]),f=ic({resolver:Su(MZe),defaultValues:m}),p=f.watch("table"),E=h[p.schema],g=E==null?void 0:E.tables[p.name],T=Object.values((g==null?void 0:g.columns)||{}),{fields:S,append:v,remove:N}=ol({control:f.control,name:"where"}),C=f.watch(),x=y.useMemo(()=>{const F=C.where.length>0?C.where.reduce((Y,{type:k,column:V,operator:re,value:K})=>K===void 0?Y:{...Y,[k]:[...Y[k]||[],{op:[V,re,K]}]},{}):void 0;let W="";try{W=n({schema:C.table.schema,table:C.table.name,columns:C.columns,where:F}).statement}catch{}return s({schema:C.schema,name:C.name,query:W})},[C]),[A,b]=y.useState(null),[_,U]=y.useState(),j=()=>{const F=c(`Create ${C.name} view`,x.statement.endsWith(";")?x.statement:`${x.statement};`);d(F),o("sql-runner")},L=async()=>{b("pending"),x.execute().then(()=>{b("success")}).catch(F=>{b("failure"),U(F),ds(F,!1)})},P=()=>{const F=it.getState().schemas[C.schema].views[C.name];F&&(l(F.schema),a({id:F.id,name:F.name,schema:F.schema,type:F.type,createdRecords:[],editedFields:[],filters:[],pagination:{limit:50,offset:0},records:[],sort:null,columnSettings:{}})),o("main")},I=y.useMemo(()=>{var F;return getComputedStyle(((F=wn.getState().shadowRoot)==null?void 0:F.host)||document.body).getPropertyValue("--structure-card-border").replace("#","%23")},[r]);return y.useEffect(()=>{b(null),U(null)},[JSON.stringify(C)]),u.jsx("div",{className:z("flex min-w-[0] flex-1 flex-col overflow-hidden",!1),children:u.jsx(oc,{...f,children:u.jsxs("div",{className:"bg-structure grid grow auto-rows-min gap-5 overflow-auto p-5 pt-[4.75rem]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='${I}' fill-opacity='1'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`},children:[u.jsx("div",{className:"absolute left-0 top-0 p-5",children:u.jsx(nc,{})}),u.jsx("div",{className:z("grid h-fit min-h-[30rem] w-fit min-w-[41.25rem]"),children:u.jsxs("div",{className:z("grid-area-1-1 bg-background border-structure-card-border flex flex-col border"),children:[u.jsxs("div",{className:"flex gap-3 p-6 pb-0",children:[e==="postgresql"&&u.jsx(qt,{control:f.control,name:"schema",render:({field:F})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(_n,{value:F.value,onChange:F.onChange,options:Object.keys(h),icon:u.jsx(u.Fragment,{}),className:"h-10 p-0",label:u.jsx("div",{className:"h-10 min-w-[8.96875rem] p-0",children:u.jsxs("div",{className:"flex w-full items-center justify-between gap-2 pl-3 pr-2",children:[u.jsxs("div",{className:"group relative flex grow flex-col",children:[u.jsx("div",{className:z("flex h-10 w-full items-center pt-3 text-sm"),children:F.value}),u.jsx("label",{className:z("text-input-placeholder pointer-events-none absolute origin-top-left translate-y-1/2 whitespace-nowrap text-sm duration-100 ease-out group-focus-within:translate-y-1/4 group-focus-within:scale-75",F.value&&"translate-y-1/4 scale-75"),children:"Schema"})]}),u.jsx(Ql,{className:"size-4 opacity-50"})]})}),optionLabel:W=>W,optionValue:W=>W})})})}),u.jsx(qt,{control:f.control,name:"name",render:({field:F})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(Lr,{className:"bg-background w-0 min-w-[8.96875rem]",...F,placeholder:"View name",placeholderAsLabel:!0,ref:W=>{F.ref(W),W&&(W.style.width="0px",W.style.width=`${W.scrollWidth+2}px`)},onChange:W=>{F.onChange(W)}})})})}),u.jsx(qt,{control:f.control,name:"table",render:({field:F})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(_n,{value:e==="postgresql"?F.value.schema&&F.value.name?`${F.value.schema}.${F.value.name}`:"":F.value.name,onChange:W=>{const[Y,k]=W.split(".");F.onChange({schema:Y,name:k}),f.setValue("columns",Object.keys(h[Y].tables[k].columns)),f.setValue("where",[])},options:Object.values((E==null?void 0:E.tables)||{}),icon:u.jsx(u.Fragment,{}),className:"h-10 p-0",label:u.jsx("div",{className:"h-10 min-w-[8.96875rem] p-0",children:u.jsxs("div",{className:"flex w-full items-center justify-between gap-2 pl-3 pr-2",children:[u.jsxs("div",{className:"group relative flex grow flex-col",children:[u.jsx("div",{className:z("flex h-10 w-full items-center pt-3 text-sm"),children:e==="postgresql"?F.value.schema&&F.value.name?`${F.value.schema}.${F.value.name}`:"":F.value.name}),u.jsx("label",{className:z("text-input-placeholder pointer-events-none absolute origin-top-left translate-y-1/2 whitespace-nowrap text-sm duration-100 ease-out group-focus-within:translate-y-1/4 group-focus-within:scale-75",F.value.name&&"translate-y-1/4 scale-75"),children:"Table"})]}),u.jsx(Ql,{className:"size-4 opacity-50"})]})}),optionLabel:({schema:W,name:Y})=>e==="postgresql"?`${W}.${Y}`:Y,optionValue:({schema:W,name:Y})=>`${W}.${Y}`})})})}),u.jsx(qt,{control:f.control,name:"columns",render:({field:F})=>u.jsx(yr,{children:u.jsx(Ar,{children:u.jsx(_n,{multiSelect:!0,value:F.value,onChange:F.onChange,options:T.map(W=>W.name),icon:u.jsx(u.Fragment,{}),className:"h-10 p-0",label:u.jsx("div",{className:"h-10 min-w-[8.96875rem] p-0",children:u.jsxs("div",{className:"flex w-full items-center justify-between gap-2 pl-3 pr-2",children:[u.jsxs("div",{className:"group relative flex grow flex-col",children:[u.jsxs("div",{className:z("flex h-10 w-full items-center pt-3 text-sm"),children:[F.value.length," selected"]}),u.jsx("label",{className:z("text-input-placeholder pointer-events-none absolute origin-top-left translate-y-1/2 whitespace-nowrap text-sm duration-100 ease-out group-focus-within:translate-y-1/4 group-focus-within:scale-75",F.value&&"translate-y-1/4 scale-75"),children:"Columns"})]}),u.jsx(Ql,{className:"size-4 opacity-50"})]})}),optionLabel:W=>W,optionValue:W=>W})})})})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"flex items-center gap-2 px-6",children:[u.jsx("div",{className:"relative flex items-center",children:u.jsx("div",{className:"text-xs font-semibold uppercase",children:"Conditions"})}),u.jsx(Le,{className:"text-structure-button-link-text h-fit p-0 text-xs leading-none",variant:"link",onClick:()=>{v({type:"and",column:T[0].name,operator:Je.equals,value:""})},children:"Add condition"})]}),Object.keys(S).length>0&&u.jsx("div",{className:"bg-filters-toolbar mt-2 space-y-3 border-y p-4",children:S.map((F,W)=>u.jsx(DZe,{id:F.id,index:W,isAdded:!0,initialValues:F,onRemove:()=>N(W),columns:T},F.id))})]}),u.jsx("div",{className:"mt-6 flex px-6",children:u.jsx("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border relative flex w-full flex-col items-center justify-between overflow-auto border text-sm",children:u.jsx("div",{className:"[&_.hljs-keyword]:!text-sql-keyword [&_.hljs-type]:!text-sql-keyword [&_.hljs-number]:!text-sql-number [&_.hljs-string]:!text-sql-string [&_.hljs-boolean]:!text-sql-boolean [&_.hljs-variable]:!text-sql-variable w-full whitespace-pre p-3",dangerouslySetInnerHTML:{__html:os(Ps(x.statement,e))}})})}),A&&u.jsx("div",{className:"font-menlo bg-structure-codeblock border-structure-codeblock-border mx-6 mt-2 flex items-center gap-3 overflow-auto border p-3 text-sm",children:A==="success"?u.jsxs(u.Fragment,{children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-green-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",strokeWidth:"0"})}),"Successfully executed"]}):A==="failure"?u.jsxs(u.Fragment,{children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-5 text-red-600","aria-hidden":"true",children:u.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z",fill:"currentColor",strokeWidth:"0"})}),u.jsx("div",{className:"w-full",children:(_==null?void 0:_.message)||"Execution error"})]}):A==="pending"?u.jsxs(u.Fragment,{children:[u.jsx(jn,{className:"size-4"}),u.jsx("span",{children:"Executing statement"})]}):null}),u.jsxs("div",{className:"flex grow items-end justify-end space-x-2 p-6",children:[u.jsx(Le,{className:"h-[32px] px-3",variant:"link",onClick:()=>{f.reset(),o("main")},children:"Cancel"}),!t&&!0&&!0&&!0&&A!=="success"&&u.jsx(Le,{className:"h-8 px-3",variant:"link",onClick:j,children:"Open in SQL console"}),A!=="success"&&u.jsx(Le,{className:"h-8",disabled:A==="pending",isLoading:A==="pending",onClick:f.handleSubmit(L),children:"Create view"}),A==="success"&&u.jsxs(Le,{className:"h-8",onClick:P,children:["Go to ",C.schema,".",C.name]})]})]})})]})})})},kZe=({isSeparate:t,Playground:e,CustomTopPanel:r,CustomTopButtons:n,CustomBottomButtons:s,CustomBottomPanel:i,className:o,Notifications:a,DrizzleRunner:l,SQLRunner:c})=>{const d=it(Y=>Y.isInitialized),h=it(Y=>Y.isPulling),m=it(Y=>Y.schemas),f=Me(Y=>Y.currentSchemaName),p=Me(Y=>Y.selectedTableIds),E=Me(Y=>{var k;return(k=Y.currentTable)==null?void 0:k.schema}),g=Me(Y=>{var k;return(k=Y.currentTable)==null?void 0:k.name}),T=Me(Y=>Y.currentPage),{setSelectedTableIds:S,setCurrentSchemaName:v,setCurrentTable:N}=sr(),[C,x]=y.useState(!1),A=y.useMemo(()=>Object.values(m).flatMap(Y=>[...Object.values(Y.tables),...Object.values(Y.views)]).filter(Y=>p.includes(Y.id)),[m,p]),b=A.filter(Y=>Y.type==="table"),_=A.filter(Y=>Y.type==="view"),U=b.length>1?"tables":"table",j=_.length>1?"views":"view",L=`${b.length} ${U}`,P=`${_.length} ${j}`;v9e();const I=!E||!g||!m[E]||!m[E].tables[g]&&!m[E].views[g],F=y.useMemo(()=>l&&T==="drizzle-runner"?u.jsx(l,{}):c&&T==="sql-runner"?u.jsx(c,{}):T==="create-schema"?u.jsx(wZe,{}):T==="alter-schema"?u.jsx(CZe,{}):T==="create-table"?u.jsx(OZe,{}):T==="create-view"?u.jsx(PZe,{}):T==="create-enum"?u.jsx(NZe,{}):I?u.jsx(xz,{className:"border-b"}):u.jsx(jQe,{}),[T,I,e,a,l,c]),W=!f||!m[f];return y.useLayoutEffect(()=>{if(!h){if(W){const Y=m.public?"public":Object.keys(m)[0]||null;v(Y)}if(I){const k=(V=>{if(!V||!m[V])return null;const re=m[V],K=Object.values(re.tables)[0],B=Object.values(re.views)[0];return K||B||null})(f);N(k?{id:k.id,name:k.name,schema:k.schema,type:k.type,createdRecords:[],editedFields:[],filters:[],pagination:{limit:50,offset:0},records:[],sort:null,columnSettings:{}}:null)}}},[h,f,m,W,I]),u.jsxs("div",{className:z(o,"grid-area-1-1 flex size-full bg-[var(--page-background)]",C&&"cursor-col-resize"),children:[u.jsx(XFe,{isSeparate:t,CustomTopPanel:r,CustomTopButtons:n,CustomBottomButtons:s,CustomBottomPanel:i,isResizing:C,setIsResizing:x}),T==="notifications"&&a?u.jsx("div",{className:z("flex size-full flex-col",C&&"hidden"),children:u.jsx(a,{})}):u.jsxs("div",{id:"studio-main-content",className:z("bg-background relative flex min-w-[0] flex-1 flex-col",!1),children:[T!=="seeder"&&p.length>0&&u.jsx("div",{className:"absolute z-10 flex size-full backdrop-blur-[5px]",onClick:Y=>{Y.preventDefault(),Y.currentTarget===Y.target&&S([])},children:u.jsxs(Az,{className:z("bg-background text-foreground m-3 mt-[9.25rem] h-fit w-[18.75rem]",!1),children:[u.jsxs(Rz,{className:"p-0",children:[u.jsxs(Nz,{className:"flex justify-between px-3 pt-3 text-base",children:[u.jsx("p",{children:"Manage tables"}),u.jsx(Le,{size:"sm",variant:"ghost",className:z("hover:bg-border ml-1 h-fit rounded-full p-1 group-hover:block"),onClick:Y=>{Y.preventDefault(),S([])},"aria-label":"Close manage tables",children:u.jsx(Ji,{className:"text-muted-foreground size-3"})})]}),u.jsx(bz,{className:"!m-0 flex items-center px-3",children:`${b.length>0?L:""}${b.length>0&&_.length>0?" and ":""}${_.length>0?P:""} selected`})]}),u.jsxs(Cz,{className:"mt-10 space-y-0.5 p-2",children:[!_.length&&u.jsx(FY,{callback:()=>{rt("sidebar_truncate_multiple_tables")}}),u.jsx(BY,{callback:()=>{rt("sidebar_drop_multiple_tables"),_.length&&rt("sidebar_drop_multiple_views")}})]})]})}),u.jsx("div",{className:z("flex min-w-[0] flex-1 flex-col overflow-auto",C&&"hidden",h&&"pointer-events-none blur-[5px]"),children:d&&F})]})]})},UZe=({isSeparate:t,Playground:e,CustomTopPanel:r,CustomTopButtons:n,CustomBottomButtons:s,CustomBottomPanel:i,className:o,Notifications:a,Seeder:l,DrizzleRunner:c,SQLRunner:d,isTempSnippet:h})=>{const m=ht(E=>E.isBugReportOpen),f=Me(E=>E.currentPage),p=y.useMemo(()=>f==="seeder"&&l?u.jsx(l,{}):f==="sql-runner"&&d?u.jsx(d,{CustomTopPanel:r,CustomTopButtons:n,CustomBottomPanel:i,CustomBottomButtons:s}):u.jsx(kZe,{className:o,isSeparate:t,Playground:e,CustomTopPanel:r,CustomTopButtons:n,CustomBottomButtons:s,CustomBottomPanel:i,Notifications:a,DrizzleRunner:c}),[t,f,l,e,r,n,s,i,o,a,c,h,d]);return u.jsxs("div",{className:"grid size-full",style:{gridTemplate:"100% / 100%"},children:[p,u.jsx(g9e,{}),m&&u.jsx(E7,{}),u.jsx(E9e,{}),u.jsx(Dke,{}),u.jsx(wke,{})]})},_re=({item:t})=>{const[e,r]=y.useState(!1),n=y.useRef(null);return u.jsxs(ss,{value:t.id,className:"cursor-pointer !p-2",children:[t.type==="table"?u.jsx(ff,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}):u.jsx(d0,{className:"!size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,open:e,onOpenChange:s=>{if(!s){r(!1);return}const i=n.current;s&&i&&i.offsetWidth<i.scrollWidth&&r(!0)},children:[u.jsx(xr,{asChild:!0,children:u.jsx("p",{ref:n,className:"select-none truncate",children:t.name})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",collisionPadding:11,children:u.jsx("p",{className:"font-mono text-xs",children:t.name})})]})})]},t.id)},jZe=()=>{var d;const t=it(h=>h.schemas),e=ht(h=>h.isSchemaPaletteOpen),r=ht(h=>h.setIsSchemaPaletteOpen),[n,s]=y.useState(!1),i=y.useMemo(()=>Object.values(t).reduce((h,m)=>h.concat(Object.values(m.tables),Object.values(m.views)),[]),[t]),[o,a]=y.useState(((d=i[0])==null?void 0:d.id)||""),l=y.useMemo(()=>i.find(h=>h.id===o),[i,o]),c=y.useMemo(()=>Object.values(t).filter(h=>Object.keys(h.tables).length>0||Object.keys(h.views).length>0).map(h=>u.jsxs(fu,{heading:h.name,children:[Object.values(h.tables).map(m=>u.jsx(_re,{item:m},m.id)),Object.values(h.views).map(m=>u.jsx(_re,{item:m},m.id))]},h.name)),[i]);return y.useEffect(()=>{const h=m=>{m.code==="KeyJ"&&(m.metaKey||m.ctrlKey)&&(m.preventDefault(),ht.setState(f=>({isSchemaPaletteOpen:!f.isSchemaPaletteOpen})))};return document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)}},[]),u.jsxs(fz,{open:e,onOpenChange:r,value:o,onValueChange:a,className:z("@[1000px]:w-[70cqw] relative m-12 h-[70cqh] w-full overflow-visible [&_[cmdk-root]]:outline-none",!1),children:[n&&u.jsx("div",{className:"absolute inset-x-0 -top-10 z-[2] flex justify-center",children:u.jsx("div",{className:"bg-popover animate-in fade-in-50 slide-in-from-bottom-1 text-popover-foreground rounded-md border px-3 py-1.5 text-sm shadow-md",children:"Copied to clipboard"})}),u.jsx(cA,{autoFocus:!0,placeholder:"Search for entities..."}),u.jsxs(uA,{className:z("flex max-h-full min-h-0 grow flex-col [&_[cmdk-list-sizer]]:flex [&_[cmdk-list-sizer]]:min-h-0 [&_[cmdk-list-sizer]]:grow [&_[cmdk-list-sizer]]:flex-col"),children:[u.jsx(dA,{className:z("flex h-[70cqh] items-center justify-center"),children:"No results found."}),u.jsxs("div",{className:"flex min-h-0 grow",children:[u.jsx("div",{className:z("min-h-0 w-[30%] grow overflow-auto"),children:c}),u.jsx("div",{className:"grow border-r"}),u.jsx("div",{className:z("relative flex min-h-0 w-[70%] grow overflow-auto"),children:u.jsxs("div",{className:"grow",children:[(l==null?void 0:l.type)==="table"&&u.jsx(tK,{schema:l.schema,name:l.name,clickToCopy:!0,setIsCopiedTooltipVisible:s}),((l==null?void 0:l.type)==="view"||(l==null?void 0:l.type)==="mat_view")&&u.jsx(rK,{schema:l.schema,name:l.name,clickToCopy:!0,setIsCopiedTooltipVisible:s})]})})]})]})]})},db=y.createContext(null);db.displayName="PanelGroupContext";const An={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},gk=10,Th=y.useLayoutEffect,Lre=Zb.useId,BZe=typeof Lre=="function"?Lre:()=>null;let FZe=0;function Tk(t=null){const e=BZe(),r=y.useRef(t||e||null);return r.current===null&&(r.current=""+FZe++),t??r.current}function Dre({children:t,className:e="",collapsedSize:r,collapsible:n,defaultSize:s,forwardedRef:i,id:o,maxSize:a,minSize:l,onCollapse:c,onExpand:d,onResize:h,order:m,style:f,tagName:p="div",...E}){const g=y.useContext(db);if(g===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:T,expandPanel:S,getPanelSize:v,getPanelStyle:N,groupId:C,isPanelCollapsed:x,reevaluatePanelConstraints:A,registerPanel:b,resizePanel:_,unregisterPanel:U}=g,j=Tk(o),L=y.useRef({callbacks:{onCollapse:c,onExpand:d,onResize:h},constraints:{collapsedSize:r,collapsible:n,defaultSize:s,maxSize:a,minSize:l},id:j,idIsFromProps:o!==void 0,order:m});y.useRef({didLogMissingDefaultSizeWarning:!1}),Th(()=>{const{callbacks:I,constraints:F}=L.current,W={...F};L.current.id=j,L.current.idIsFromProps=o!==void 0,L.current.order=m,I.onCollapse=c,I.onExpand=d,I.onResize=h,F.collapsedSize=r,F.collapsible=n,F.defaultSize=s,F.maxSize=a,F.minSize=l,(W.collapsedSize!==F.collapsedSize||W.collapsible!==F.collapsible||W.maxSize!==F.maxSize||W.minSize!==F.minSize)&&A(L.current,W)}),Th(()=>{const I=L.current;return b(I),()=>{U(I)}},[m,j,b,U]),y.useImperativeHandle(i,()=>({collapse:()=>{T(L.current)},expand:I=>{S(L.current,I)},getId(){return j},getSize(){return v(L.current)},isCollapsed(){return x(L.current)},isExpanded(){return!x(L.current)},resize:I=>{_(L.current,I)}}),[T,S,v,x,j,_]);const P=N(L.current,s);return y.createElement(p,{...E,children:t,className:e,id:j,style:{...P,...f},[An.groupId]:C,[An.panel]:"",[An.panelCollapsible]:n||void 0,[An.panelId]:j,[An.panelSize]:parseFloat(""+P.flexGrow).toFixed(1)})}const Mre=y.forwardRef((t,e)=>y.createElement(Dre,{...t,forwardedRef:e}));Dre.displayName="Panel",Mre.displayName="forwardRef(Panel)";let Sk=null,hb=-1,Ku=null;function HZe(t,e){if(e){const r=(e&$re)!==0,n=(e&Gre)!==0,s=(e&Vre)!==0,i=(e&zre)!==0;if(r)return s?"se-resize":i?"ne-resize":"e-resize";if(n)return s?"sw-resize":i?"nw-resize":"w-resize";if(s)return"s-resize";if(i)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function $Ze(){Ku!==null&&(document.head.removeChild(Ku),Sk=null,Ku=null,hb=-1)}function vk(t,e){var r,n;const s=HZe(t,e);if(Sk!==s){if(Sk=s,Ku===null&&(Ku=document.createElement("style"),document.head.appendChild(Ku)),hb>=0){var i;(i=Ku.sheet)===null||i===void 0||i.removeRule(hb)}hb=(r=(n=Ku.sheet)===null||n===void 0?void 0:n.insertRule(`*{cursor: ${s} !important;}`))!==null&&r!==void 0?r:-1}}function Pre(t){return t.type==="keydown"}function kre(t){return t.type.startsWith("pointer")}function Ure(t){return t.type.startsWith("mouse")}function fb(t){if(kre(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(Ure(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function GZe(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function VZe(t,e,r){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function zZe(t,e){if(t===e)throw new Error("Cannot compare node with itself");const r={a:Fre(t),b:Fre(e)};let n;for(;r.a.at(-1)===r.b.at(-1);)t=r.a.pop(),e=r.b.pop(),n=t;Zt(n,"Stacking order can only be calculated for elements with a common ancestor");const s={a:Bre(jre(r.a)),b:Bre(jre(r.b))};if(s.a===s.b){const i=n.childNodes,o={a:r.a.at(-1),b:r.b.at(-1)};let a=i.length;for(;a--;){const l=i[a];if(l===o.a)return 1;if(l===o.b)return-1}}return Math.sign(s.a-s.b)}const WZe=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function YZe(t){var e;const r=getComputedStyle((e=Hre(t))!==null&&e!==void 0?e:t).display;return r==="flex"||r==="inline-flex"}function qZe(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||YZe(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||WZe.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function jre(t){let e=t.length;for(;e--;){const r=t[e];if(Zt(r,"Missing node"),qZe(r))return r}return null}function Bre(t){return t&&Number(getComputedStyle(t).zIndex)||0}function Fre(t){const e=[];for(;t;)e.push(t),t=Hre(t);return e}function Hre(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const $re=1,Gre=2,Vre=4,zre=8,KZe=GZe()==="coarse";let wa=[],ap=!1,Sh=new Map,mb=new Map;const JT=new Set;function XZe(t,e,r,n,s){var i;const{ownerDocument:o}=e,a={direction:r,element:e,hitAreaMargins:n,setResizeHandlerState:s},l=(i=Sh.get(o))!==null&&i!==void 0?i:0;return Sh.set(o,l+1),JT.add(a),pb(),function(){var d;mb.delete(t),JT.delete(a);const h=(d=Sh.get(o))!==null&&d!==void 0?d:1;if(Sh.set(o,h-1),pb(),h===1&&Sh.delete(o),wa.includes(a)){const m=wa.indexOf(a);m>=0&&wa.splice(m,1),bk(),s("up",!0,null)}}}function QZe(t){const{target:e}=t,{x:r,y:n}=fb(t);ap=!0,Rk({target:e,x:r,y:n}),pb(),wa.length>0&&(Eb("down",t),t.preventDefault(),Wre(e)||t.stopImmediatePropagation())}function yk(t){const{x:e,y:r}=fb(t);if(ap&&t.buttons===0&&(ap=!1,Eb("up",t)),!ap){const{target:n}=t;Rk({target:n,x:e,y:r})}Eb("move",t),bk(),wa.length>0&&t.preventDefault()}function Ak(t){const{target:e}=t,{x:r,y:n}=fb(t);mb.clear(),ap=!1,wa.length>0&&(t.preventDefault(),Wre(e)||t.stopImmediatePropagation()),Eb("up",t),Rk({target:e,x:r,y:n}),bk(),pb()}function Wre(t){let e=t;for(;e;){if(e.hasAttribute(An.resizeHandle))return!0;e=e.parentElement}return!1}function Rk({target:t,x:e,y:r}){wa.splice(0);let n=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(n=t),JT.forEach(s=>{const{element:i,hitAreaMargins:o}=s,a=i.getBoundingClientRect(),{bottom:l,left:c,right:d,top:h}=a,m=KZe?o.coarse:o.fine;if(e>=c-m&&e<=d+m&&r>=h-m&&r<=l+m){if(n!==null&&document.contains(n)&&i!==n&&!i.contains(n)&&!n.contains(i)&&zZe(n,i)>0){let p=n,E=!1;for(;p&&!p.contains(i);){if(VZe(p.getBoundingClientRect(),a)){E=!0;break}p=p.parentElement}if(E)return}wa.push(s)}})}function Nk(t,e){mb.set(t,e)}function bk(){let t=!1,e=!1;wa.forEach(n=>{const{direction:s}=n;s==="horizontal"?t=!0:e=!0});let r=0;mb.forEach(n=>{r|=n}),t&&e?vk("intersection",r):t?vk("horizontal",r):e?vk("vertical",r):$Ze()}let Ck=new AbortController;function pb(){Ck.abort(),Ck=new AbortController;const t={capture:!0,signal:Ck.signal};JT.size&&(ap?(wa.length>0&&Sh.forEach((e,r)=>{const{body:n}=r;e>0&&(n.addEventListener("contextmenu",Ak,t),n.addEventListener("pointerleave",yk,t),n.addEventListener("pointermove",yk,t))}),window.addEventListener("pointerup",Ak,t),window.addEventListener("pointercancel",Ak,t)):Sh.forEach((e,r)=>{const{body:n}=r;e>0&&(n.addEventListener("pointerdown",QZe,t),n.addEventListener("pointermove",yk,t))}))}function Eb(t,e){JT.forEach(r=>{const{setResizeHandlerState:n}=r,s=wa.includes(r);n(t,s,e)})}function JZe(){const[t,e]=y.useState(0);return y.useCallback(()=>e(r=>r+1),[])}function Zt(t,e){if(!t)throw console.error(e),Error(e)}function vh(t,e,r=gk){return t.toFixed(r)===e.toFixed(r)?0:t>e?1:-1}function Rc(t,e,r=gk){return vh(t,e,r)===0}function fo(t,e,r){return vh(t,e,r)===0}function ZZe(t,e,r){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){const s=t[n],i=e[n];if(!fo(s,i,r))return!1}return!0}function lp({panelConstraints:t,panelIndex:e,size:r}){const n=t[e];Zt(n!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:s=0,collapsible:i,maxSize:o=100,minSize:a=0}=n;if(vh(r,a)<0)if(i){const l=(s+a)/2;vh(r,l)<0?r=s:r=a}else r=a;return r=Math.min(o,r),r=parseFloat(r.toFixed(gk)),r}function ZT({delta:t,initialLayout:e,panelConstraints:r,pivotIndices:n,prevLayout:s,trigger:i}){if(fo(t,0))return e;const o=[...e],[a,l]=n;Zt(a!=null,"Invalid first pivot index"),Zt(l!=null,"Invalid second pivot index");let c=0;if(i==="keyboard"){{const h=t<0?l:a,m=r[h];Zt(m,`Panel constraints not found for index ${h}`);const{collapsedSize:f=0,collapsible:p,minSize:E=0}=m;if(p){const g=e[h];if(Zt(g!=null,`Previous layout not found for panel index ${h}`),fo(g,f)){const T=E-g;vh(T,Math.abs(t))>0&&(t=t<0?0-T:T)}}}{const h=t<0?a:l,m=r[h];Zt(m,`No panel constraints found for index ${h}`);const{collapsedSize:f=0,collapsible:p,minSize:E=0}=m;if(p){const g=e[h];if(Zt(g!=null,`Previous layout not found for panel index ${h}`),fo(g,E)){const T=g-f;vh(T,Math.abs(t))>0&&(t=t<0?0-T:T)}}}}{const h=t<0?1:-1;let m=t<0?l:a,f=0;for(;;){const E=e[m];Zt(E!=null,`Previous layout not found for panel index ${m}`);const T=lp({panelConstraints:r,panelIndex:m,size:100})-E;if(f+=T,m+=h,m<0||m>=r.length)break}const p=Math.min(Math.abs(t),Math.abs(f));t=t<0?0-p:p}{let m=t<0?a:l;for(;m>=0&&m<r.length;){const f=Math.abs(t)-Math.abs(c),p=e[m];Zt(p!=null,`Previous layout not found for panel index ${m}`);const E=p-f,g=lp({panelConstraints:r,panelIndex:m,size:E});if(!fo(p,g)&&(c+=p-g,o[m]=g,c.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?m--:m++}}if(ZZe(s,o))return s;{const h=t<0?l:a,m=e[h];Zt(m!=null,`Previous layout not found for panel index ${h}`);const f=m+c,p=lp({panelConstraints:r,panelIndex:h,size:f});if(o[h]=p,!fo(p,f)){let E=f-p,T=t<0?l:a;for(;T>=0&&T<r.length;){const S=o[T];Zt(S!=null,`Previous layout not found for panel index ${T}`);const v=S+E,N=lp({panelConstraints:r,panelIndex:T,size:v});if(fo(S,N)||(E-=N-S,o[T]=N),fo(E,0))break;t>0?T--:T++}}}const d=o.reduce((h,m)=>m+h,0);return fo(d,100)?o:s}function eet({layout:t,panelsArray:e,pivotIndices:r}){let n=0,s=100,i=0,o=0;const a=r[0];Zt(a!=null,"No pivot index found"),e.forEach((h,m)=>{const{constraints:f}=h,{maxSize:p=100,minSize:E=0}=f;m===a?(n=E,s=p):(i+=E,o+=p)});const l=Math.min(s,100-i),c=Math.max(n,100-o),d=t[a];return{valueMax:l,valueMin:c,valueNow:d}}function eS(t,e=document){return Array.from(e.querySelectorAll(`[${An.resizeHandleId}][data-panel-group-id="${t}"]`))}function Yre(t,e,r=document){const s=eS(t,r).findIndex(i=>i.getAttribute(An.resizeHandleId)===e);return s??null}function qre(t,e,r){const n=Yre(t,e,r);return n!=null?[n,n+1]:[-1,-1]}function Kre(t,e=document){var r;if(e instanceof HTMLElement&&(e==null||(r=e.dataset)===null||r===void 0?void 0:r.panelGroupId)==t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function gb(t,e=document){const r=e.querySelector(`[${An.resizeHandleId}="${t}"]`);return r||null}function tet(t,e,r,n=document){var s,i,o,a;const l=gb(e,n),c=eS(t,n),d=l?c.indexOf(l):-1,h=(s=(i=r[d])===null||i===void 0?void 0:i.id)!==null&&s!==void 0?s:null,m=(o=(a=r[d+1])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null;return[h,m]}function ret({committedValuesRef:t,eagerValuesRef:e,groupId:r,layout:n,panelDataArray:s,panelGroupElement:i,setLayout:o}){y.useRef({didWarnAboutMissingResizeHandle:!1}),Th(()=>{if(!i)return;const a=eS(r,i);for(let l=0;l<s.length-1;l++){const{valueMax:c,valueMin:d,valueNow:h}=eet({layout:n,panelsArray:s,pivotIndices:[l,l+1]}),m=a[l];if(m!=null){const f=s[l];Zt(f,`No panel data found for index "${l}"`),m.setAttribute("aria-controls",f.id),m.setAttribute("aria-valuemax",""+Math.round(c)),m.setAttribute("aria-valuemin",""+Math.round(d)),m.setAttribute("aria-valuenow",h!=null?""+Math.round(h):"")}}return()=>{a.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[r,n,s,i]),y.useEffect(()=>{if(!i)return;const a=e.current;Zt(a,"Eager values not found");const{panelDataArray:l}=a,c=Kre(r,i);Zt(c!=null,`No group found for id "${r}"`);const d=eS(r,i);Zt(d,`No resize handles found for group id "${r}"`);const h=d.map(m=>{const f=m.getAttribute(An.resizeHandleId);Zt(f,"Resize handle element has no handle id attribute");const[p,E]=tet(r,f,l,i);if(p==null||E==null)return()=>{};const g=T=>{if(!T.defaultPrevented)switch(T.key){case"Enter":{T.preventDefault();const S=l.findIndex(v=>v.id===p);if(S>=0){const v=l[S];Zt(v,`No panel data found for index ${S}`);const N=n[S],{collapsedSize:C=0,collapsible:x,minSize:A=0}=v.constraints;if(N!=null&&x){const b=ZT({delta:fo(N,C)?A-C:C-N,initialLayout:n,panelConstraints:l.map(_=>_.constraints),pivotIndices:qre(r,f,i),prevLayout:n,trigger:"keyboard"});n!==b&&o(b)}}break}}};return m.addEventListener("keydown",g),()=>{m.removeEventListener("keydown",g)}});return()=>{h.forEach(m=>m())}},[i,t,e,r,n,s,o])}function Xre(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Qre(t,e){const r=t==="horizontal",{x:n,y:s}=fb(e);return r?n:s}function net(t,e,r,n,s){const i=r==="horizontal",o=gb(e,s);Zt(o,`No resize handle element found for id "${e}"`);const a=o.getAttribute(An.groupId);Zt(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=n;const c=Qre(r,t),d=Kre(a,s);Zt(d,`No group element found for id "${a}"`);const h=d.getBoundingClientRect(),m=i?h.width:h.height;return(c-l)/m*100}function set(t,e,r,n,s,i){if(Pre(t)){const o=r==="horizontal";let a=0;t.shiftKey?a=100:s!=null?a=s:a=10;let l=0;switch(t.key){case"ArrowDown":l=o?0:a;break;case"ArrowLeft":l=o?-a:0;break;case"ArrowRight":l=o?a:0;break;case"ArrowUp":l=o?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return n==null?0:net(t,e,r,n,i)}function iet({panelDataArray:t}){const e=Array(t.length),r=t.map(i=>i.constraints);let n=0,s=100;for(let i=0;i<t.length;i++){const o=r[i];Zt(o,`Panel constraints not found for index ${i}`);const{defaultSize:a}=o;a!=null&&(n++,e[i]=a,s-=a)}for(let i=0;i<t.length;i++){const o=r[i];Zt(o,`Panel constraints not found for index ${i}`);const{defaultSize:a}=o;if(a!=null)continue;const l=t.length-n,c=s/l;n++,e[i]=c,s-=c}return e}function cp(t,e,r){e.forEach((n,s)=>{const i=t[s];Zt(i,`Panel data not found for index ${s}`);const{callbacks:o,constraints:a,id:l}=i,{collapsedSize:c=0,collapsible:d}=a,h=r[l];if(h==null||n!==h){r[l]=n;const{onCollapse:m,onExpand:f,onResize:p}=o;p&&p(n,h),d&&(m||f)&&(f&&(h==null||Rc(h,c))&&!Rc(n,c)&&f(),m&&(h==null||!Rc(h,c))&&Rc(n,c)&&m())}})}function Tb(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r])return!1;return!0}function oet({defaultSize:t,dragState:e,layout:r,panelData:n,panelIndex:s,precision:i=3}){const o=r[s];let a;return o==null?a=t!=null?t.toPrecision(i):"1":n.length===1?a="1":a=o.toPrecision(i),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function aet(t,e=10){let r=null;return(...s)=>{r!==null&&clearTimeout(r),r=setTimeout(()=>{t(...s)},e)}}function Jre(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,r)=>{localStorage.setItem(e,r)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function Zre(t){return`react-resizable-panels:${t}`}function ene(t){return t.map(e=>{const{constraints:r,id:n,idIsFromProps:s,order:i}=e;return s?n:i?`${i}:${JSON.stringify(r)}`:JSON.stringify(r)}).sort((e,r)=>e.localeCompare(r)).join(",")}function tne(t,e){try{const r=Zre(t),n=e.getItem(r);if(n){const s=JSON.parse(n);if(typeof s=="object"&&s!=null)return s}}catch{}return null}function cet(t,e,r){var n,s;const i=(n=tne(t,r))!==null&&n!==void 0?n:{},o=ene(e);return(s=i[o])!==null&&s!==void 0?s:null}function uet(t,e,r,n,s){var i;const o=Zre(t),a=ene(e),l=(i=tne(t,s))!==null&&i!==void 0?i:{};l[a]={expandToSizes:Object.fromEntries(r.entries()),layout:n};try{s.setItem(o,JSON.stringify(l))}catch(c){console.error(c)}}function rne({layout:t,panelConstraints:e}){const r=[...t],n=r.reduce((i,o)=>i+o,0);if(r.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${r.map(i=>`${i}%`).join(", ")}`);if(!fo(n,100)&&r.length>0)for(let i=0;i<e.length;i++){const o=r[i];Zt(o!=null,`No layout data found for index ${i}`);const a=100/n*o;r[i]=a}let s=0;for(let i=0;i<e.length;i++){const o=r[i];Zt(o!=null,`No layout data found for index ${i}`);const a=lp({panelConstraints:e,panelIndex:i,size:o});o!=a&&(s+=o-a,r[i]=a)}if(!fo(s,0))for(let i=0;i<e.length;i++){const o=r[i];Zt(o!=null,`No layout data found for index ${i}`);const a=o+s,l=lp({panelConstraints:e,panelIndex:i,size:a});if(o!==l&&(s-=l-o,r[i]=l,fo(s,0)))break}return r}const det=100,tS={getItem:t=>(Jre(tS),tS.getItem(t)),setItem:(t,e)=>{Jre(tS),tS.setItem(t,e)}},nne={};function sne({autoSaveId:t=null,children:e,className:r="",direction:n,forwardedRef:s,id:i=null,onLayout:o=null,keyboardResizeBy:a=null,storage:l=tS,style:c,tagName:d="div",...h}){const m=Tk(i),f=y.useRef(null),[p,E]=y.useState(null),[g,T]=y.useState([]),S=JZe(),v=y.useRef({}),N=y.useRef(new Map),C=y.useRef(0),x=y.useRef({autoSaveId:t,direction:n,dragState:p,id:m,keyboardResizeBy:a,onLayout:o,storage:l}),A=y.useRef({layout:g,panelDataArray:[],panelDataArrayChanged:!1});y.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),y.useImperativeHandle(s,()=>({getId:()=>x.current.id,getLayout:()=>{const{layout:X}=A.current;return X},setLayout:X=>{const{onLayout:J}=x.current,{layout:Z,panelDataArray:Ee}=A.current,se=rne({layout:X,panelConstraints:Ee.map(ie=>ie.constraints)});Xre(Z,se)||(T(se),A.current.layout=se,J&&J(se),cp(Ee,se,v.current))}}),[]),Th(()=>{x.current.autoSaveId=t,x.current.direction=n,x.current.dragState=p,x.current.id=m,x.current.onLayout=o,x.current.storage=l}),ret({committedValuesRef:x,eagerValuesRef:A,groupId:m,layout:g,panelDataArray:A.current.panelDataArray,setLayout:T,panelGroupElement:f.current}),y.useEffect(()=>{const{panelDataArray:X}=A.current;if(t){if(g.length===0||g.length!==X.length)return;let J=nne[t];J==null&&(J=aet(uet,det),nne[t]=J);const Z=[...X],Ee=new Map(N.current);J(t,Z,Ee,g,l)}},[t,g,l]),y.useEffect(()=>{});const b=y.useCallback(X=>{const{onLayout:J}=x.current,{layout:Z,panelDataArray:Ee}=A.current;if(X.constraints.collapsible){const se=Ee.map(_e=>_e.constraints),{collapsedSize:ie=0,panelSize:Te,pivotIndices:ve}=yh(Ee,X,Z);if(Zt(Te!=null,`Panel size not found for panel "${X.id}"`),!Rc(Te,ie)){N.current.set(X.id,Te);const fe=up(Ee,X)===Ee.length-1?Te-ie:ie-Te,je=ZT({delta:fe,initialLayout:Z,panelConstraints:se,pivotIndices:ve,prevLayout:Z,trigger:"imperative-api"});Tb(Z,je)||(T(je),A.current.layout=je,J&&J(je),cp(Ee,je,v.current))}}},[]),_=y.useCallback((X,J)=>{const{onLayout:Z}=x.current,{layout:Ee,panelDataArray:se}=A.current;if(X.constraints.collapsible){const ie=se.map(H=>H.constraints),{collapsedSize:Te=0,panelSize:ve=0,minSize:_e=0,pivotIndices:fe}=yh(se,X,Ee),je=J??_e;if(Rc(ve,Te)){const H=N.current.get(X.id),Ce=H!=null&&H>=je?H:je,ce=up(se,X)===se.length-1?ve-Ce:Ce-ve,Q=ZT({delta:ce,initialLayout:Ee,panelConstraints:ie,pivotIndices:fe,prevLayout:Ee,trigger:"imperative-api"});Tb(Ee,Q)||(T(Q),A.current.layout=Q,Z&&Z(Q),cp(se,Q,v.current))}}},[]),U=y.useCallback(X=>{const{layout:J,panelDataArray:Z}=A.current,{panelSize:Ee}=yh(Z,X,J);return Zt(Ee!=null,`Panel size not found for panel "${X.id}"`),Ee},[]),j=y.useCallback((X,J)=>{const{panelDataArray:Z}=A.current,Ee=up(Z,X);return oet({defaultSize:J,dragState:p,layout:g,panelData:Z,panelIndex:Ee})},[p,g]),L=y.useCallback(X=>{const{layout:J,panelDataArray:Z}=A.current,{collapsedSize:Ee=0,collapsible:se,panelSize:ie}=yh(Z,X,J);return Zt(ie!=null,`Panel size not found for panel "${X.id}"`),se===!0&&Rc(ie,Ee)},[]),P=y.useCallback(X=>{const{layout:J,panelDataArray:Z}=A.current,{collapsedSize:Ee=0,collapsible:se,panelSize:ie}=yh(Z,X,J);return Zt(ie!=null,`Panel size not found for panel "${X.id}"`),!se||vh(ie,Ee)>0},[]),I=y.useCallback(X=>{const{panelDataArray:J}=A.current;J.push(X),J.sort((Z,Ee)=>{const se=Z.order,ie=Ee.order;return se==null&&ie==null?0:se==null?-1:ie==null?1:se-ie}),A.current.panelDataArrayChanged=!0,S()},[S]);Th(()=>{if(A.current.panelDataArrayChanged){A.current.panelDataArrayChanged=!1;const{autoSaveId:X,onLayout:J,storage:Z}=x.current,{layout:Ee,panelDataArray:se}=A.current;let ie=null;if(X){const ve=cet(X,se,Z);ve&&(N.current=new Map(Object.entries(ve.expandToSizes)),ie=ve.layout)}ie==null&&(ie=iet({panelDataArray:se}));const Te=rne({layout:ie,panelConstraints:se.map(ve=>ve.constraints)});Xre(Ee,Te)||(T(Te),A.current.layout=Te,J&&J(Te),cp(se,Te,v.current))}}),Th(()=>{const X=A.current;return()=>{X.layout=[]}},[]);const F=y.useCallback(X=>{let J=!1;const Z=f.current;return Z&&window.getComputedStyle(Z,null).getPropertyValue("direction")==="rtl"&&(J=!0),function(se){se.preventDefault();const ie=f.current;if(!ie)return()=>null;const{direction:Te,dragState:ve,id:_e,keyboardResizeBy:fe,onLayout:je}=x.current,{layout:H,panelDataArray:Ce}=A.current,{initialLayout:be}=ve??{},ce=qre(_e,X,ie);let Q=set(se,X,Te,ve,fe,ie);const Ae=Te==="horizontal";Ae&&J&&(Q=-Q);const te=Ce.map(we=>we.constraints),ae=ZT({delta:Q,initialLayout:be??H,panelConstraints:te,pivotIndices:ce,prevLayout:H,trigger:Pre(se)?"keyboard":"mouse-or-touch"}),le=!Tb(H,ae);(kre(se)||Ure(se))&&C.current!=Q&&(C.current=Q,!le&&Q!==0?Ae?Nk(X,Q<0?$re:Gre):Nk(X,Q<0?Vre:zre):Nk(X,0)),le&&(T(ae),A.current.layout=ae,je&&je(ae),cp(Ce,ae,v.current))}},[]),W=y.useCallback((X,J)=>{const{onLayout:Z}=x.current,{layout:Ee,panelDataArray:se}=A.current,ie=se.map(H=>H.constraints),{panelSize:Te,pivotIndices:ve}=yh(se,X,Ee);Zt(Te!=null,`Panel size not found for panel "${X.id}"`);const fe=up(se,X)===se.length-1?Te-J:J-Te,je=ZT({delta:fe,initialLayout:Ee,panelConstraints:ie,pivotIndices:ve,prevLayout:Ee,trigger:"imperative-api"});Tb(Ee,je)||(T(je),A.current.layout=je,Z&&Z(je),cp(se,je,v.current))},[]),Y=y.useCallback((X,J)=>{const{layout:Z,panelDataArray:Ee}=A.current,{collapsedSize:se=0,collapsible:ie}=J,{collapsedSize:Te=0,collapsible:ve,maxSize:_e=100,minSize:fe=0}=X.constraints,{panelSize:je}=yh(Ee,X,Z);je!=null&&(ie&&ve&&Rc(je,se)?Rc(se,Te)||W(X,Te):je<fe?W(X,fe):je>_e&&W(X,_e))},[W]),k=y.useCallback((X,J)=>{const{direction:Z}=x.current,{layout:Ee}=A.current;if(!f.current)return;const se=gb(X,f.current);Zt(se,`Drag handle element not found for id "${X}"`);const ie=Qre(Z,J);E({dragHandleId:X,dragHandleRect:se.getBoundingClientRect(),initialCursorPosition:ie,initialLayout:Ee})},[]),V=y.useCallback(()=>{E(null)},[]),re=y.useCallback(X=>{const{panelDataArray:J}=A.current,Z=up(J,X);Z>=0&&(J.splice(Z,1),delete v.current[X.id],A.current.panelDataArrayChanged=!0,S())},[S]),K=y.useMemo(()=>({collapsePanel:b,direction:n,dragState:p,expandPanel:_,getPanelSize:U,getPanelStyle:j,groupId:m,isPanelCollapsed:L,isPanelExpanded:P,reevaluatePanelConstraints:Y,registerPanel:I,registerResizeHandle:F,resizePanel:W,startDragging:k,stopDragging:V,unregisterPanel:re,panelGroupElement:f.current}),[b,p,n,_,U,j,m,L,P,Y,I,F,W,k,V,re]),B={display:"flex",flexDirection:n==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return y.createElement(db.Provider,{value:K},y.createElement(d,{...h,children:e,className:r,id:i,ref:f,style:{...B,...c},[An.group]:"",[An.groupDirection]:n,[An.groupId]:m}))}const ine=y.forwardRef((t,e)=>y.createElement(sne,{...t,forwardedRef:e}));sne.displayName="PanelGroup",ine.displayName="forwardRef(PanelGroup)";function up(t,e){return t.findIndex(r=>r===e||r.id===e.id)}function yh(t,e,r){const n=up(t,e),i=n===t.length-1?[n-1,n]:[n,n+1],o=r[n];return{...e.constraints,panelSize:o,pivotIndices:i}}function het({disabled:t,handleId:e,resizeHandler:r,panelGroupElement:n}){y.useEffect(()=>{if(t||r==null||n==null)return;const s=gb(e,n);if(s==null)return;const i=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),r(o);break}case"F6":{o.preventDefault();const a=s.getAttribute(An.groupId);Zt(a,`No group element found for id "${a}"`);const l=eS(a,n),c=Yre(a,e,n);Zt(c!==null,`No resize element found for id "${e}"`);const d=o.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[d].focus();break}}};return s.addEventListener("keydown",i),()=>{s.removeEventListener("keydown",i)}},[n,t,e,r])}function one({children:t=null,className:e="",disabled:r=!1,hitAreaMargins:n,id:s,onBlur:i,onClick:o,onDragging:a,onFocus:l,onPointerDown:c,onPointerUp:d,style:h={},tabIndex:m=0,tagName:f="div",...p}){var E,g;const T=y.useRef(null),S=y.useRef({onClick:o,onDragging:a,onPointerDown:c,onPointerUp:d});y.useEffect(()=>{S.current.onClick=o,S.current.onDragging=a,S.current.onPointerDown=c,S.current.onPointerUp=d});const v=y.useContext(db);if(v===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:N,groupId:C,registerResizeHandle:x,startDragging:A,stopDragging:b,panelGroupElement:_}=v,U=Tk(s),[j,L]=y.useState("inactive"),[P,I]=y.useState(!1),[F,W]=y.useState(null),Y=y.useRef({state:j});Th(()=>{Y.current.state=j}),y.useEffect(()=>{if(r)W(null);else{const K=x(U);W(()=>K)}},[r,U,x]);const k=(E=n==null?void 0:n.coarse)!==null&&E!==void 0?E:15,V=(g=n==null?void 0:n.fine)!==null&&g!==void 0?g:5;y.useEffect(()=>{if(r||F==null)return;const K=T.current;Zt(K,"Element ref not attached");let B=!1;return XZe(U,K,N,{coarse:k,fine:V},(J,Z,Ee)=>{if(!Z){L("inactive");return}switch(J){case"down":{L("drag"),B=!1,Zt(Ee,'Expected event to be defined for "down" action'),A(U,Ee);const{onDragging:se,onPointerDown:ie}=S.current;se==null||se(!0),ie==null||ie();break}case"move":{const{state:se}=Y.current;B=!0,se!=="drag"&&L("hover"),Zt(Ee,'Expected event to be defined for "move" action'),F(Ee);break}case"up":{L("hover"),b();const{onClick:se,onDragging:ie,onPointerUp:Te}=S.current;ie==null||ie(!1),Te==null||Te(),B||se==null||se();break}}})},[k,N,r,V,x,U,F,A,b]),het({disabled:r,handleId:U,resizeHandler:F,panelGroupElement:_});const re={touchAction:"none",userSelect:"none"};return y.createElement(f,{...p,children:t,className:e,id:s,onBlur:()=>{I(!1),i==null||i()},onFocus:()=>{I(!0),l==null||l()},ref:T,role:"separator",style:{...re,...h},tabIndex:m,[An.groupDirection]:N,[An.groupId]:C,[An.resizeHandle]:"",[An.resizeHandleActive]:j==="drag"?"pointer":P?"keyboard":void 0,[An.resizeHandleEnabled]:!r,[An.resizeHandleId]:U,[An.resizeHandleState]:j})}one.displayName="PanelResizeHandle";const fet=({className:t,...e})=>u.jsx(ine,{className:z("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...e}),ane=Mre,met=({withHandle:t,className:e,...r})=>u.jsx(one,{className:z("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:!outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...r,children:t&&u.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:u.jsx(l0,{className:"h-2.5 w-2.5"})})});var Sb="Tabs",[pet,xst]=fi(Sb,[TA]),lne=TA(),[Eet,xk]=pet(Sb),cne=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=lm(a),[h,m]=Do({prop:n,onChange:s,defaultProp:i??"",caller:Sb});return u.jsx(Eet,{scope:r,baseId:ys(),value:h,onValueChange:m,orientation:o,dir:d,activationMode:l,children:u.jsx(Et.div,{dir:d,"data-orientation":o,...c,ref:e})})});cne.displayName=Sb;var une="TabsList",dne=y.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=xk(une,r),o=lne(r);return u.jsx(Jz,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:u.jsx(Et.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});dne.displayName=une;var hne="TabsTrigger",fne=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,o=xk(hne,r),a=lne(r),l=Ene(o.baseId,n),c=gne(o.baseId,n),d=n===o.value;return u.jsx(Zz,{asChild:!0,...a,focusable:!s,active:d,children:u.jsx(Et.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:tt(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:tt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:tt(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(n)})})})});fne.displayName=hne;var mne="TabsContent",pne=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=t,a=xk(mne,r),l=Ene(a.baseId,n),c=gne(a.baseId,n),d=n===a.value,h=y.useRef(d);return y.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),u.jsx(ns,{present:s||d,children:({present:m})=>u.jsx(Et.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});pne.displayName=mne;function Ene(t,e){return`${t}-trigger-${e}`}function gne(t,e){return`${t}-content-${e}`}var get=cne,Tne=dne,Sne=fne,vne=pne;const Tet=get,yne=y.forwardRef(({className:t,...e},r)=>u.jsx(Tne,{ref:r,className:z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));yne.displayName=Tne.displayName;const Ane=y.forwardRef(({className:t,...e},r)=>u.jsx(Sne,{ref:r,className:z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:!outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ane.displayName=Sne.displayName;const Rne=y.forwardRef(({className:t,...e},r)=>u.jsx(vne,{ref:r,className:z("mt-2 ring-offset-background focus-visible:!outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Rne.displayName=vne.displayName;const vet=36,Nne=1,yet=2,dp=3,wk=4,Aet=5,Ret=6,Net=7,bet=8,Cet=9,xet=10,wet=11,Oet=12,Iet=13,_et=14,Let=15,Det=16,Met=17,bne=18,Pet=19,Cne=20,xne=21,wne=22,ket=23,Uet=24;function Ok(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function jet(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function Ah(t,e,r){for(let n=!1;;){if(t.next<0)return;if(t.next==e&&!n){t.advance();return}n=r&&!n&&t.next==92,t.advance()}}function Bet(t,e){e:for(;;){if(t.next<0)return;if(t.next==36){t.advance();for(let r=0;r<e.length;r++){if(t.next!=e.charCodeAt(r))continue e;t.advance()}if(t.next==36){t.advance();return}}else t.advance()}}function Fet(t,e){let r="[{<(".indexOf(String.fromCharCode(e)),n=r<0?e:"]}>)".charCodeAt(r);for(;;){if(t.next<0)return;if(t.next==n&&t.peek(1)==39){t.advance(2);return}t.advance()}}function Ik(t,e){for(;!(t.next!=95&&!Ok(t.next));)e!=null&&(e+=String.fromCharCode(t.next)),t.advance();return e}function Het(t){if(t.next==39||t.next==34||t.next==96){let e=t.next;t.advance(),Ah(t,e,!1)}else Ik(t)}function One(t,e){for(;t.next==48||t.next==49;)t.advance();e&&t.next==e&&t.advance()}function Ine(t,e){for(;;){if(t.next==46){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(t.next==69||t.next==101)for(t.advance(),(t.next==43||t.next==45)&&t.advance();t.next>=48&&t.next<=57;)t.advance()}function _ne(t){for(;!(t.next<0||t.next==10);)t.advance()}function Rh(t,e){for(let r=0;r<e.length;r++)if(e.charCodeAt(r)==t)return!0;return!1}const _k=` 	\r
`;function Lne(t,e,r){let n=Object.create(null);n.true=n.false=Aet,n.null=n.unknown=Ret;for(let s of t.split(" "))s&&(n[s]=Cne);for(let s of e.split(" "))s&&(n[s]=xne);for(let s of(r||"").split(" "))s&&(n[s]=Uet);return n}const vb="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",yb="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",Lk={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:Lne(yb,vb)};function $et(t,e,r,n){let s={};for(let i in Lk)s[i]=(t.hasOwnProperty(i)?t:Lk)[i];return e&&(s.words=Lne(e,r||"",n)),s}function Dne(t){return new xKe(e=>{var r;let{next:n}=e;if(e.advance(),Rh(n,_k)){for(;Rh(e.next,_k);)e.advance();e.acceptToken(vet)}else if(n==36&&t.doubleDollarQuotedStrings){let s=Ik(e,"");e.next==36&&(e.advance(),Bet(e,s),e.acceptToken(dp))}else if(n==39||n==34&&t.doubleQuotedStrings)Ah(e,n,t.backslashEscapes),e.acceptToken(dp);else if(n==35&&t.hashComments||n==47&&e.next==47&&t.slashComments)_ne(e),e.acceptToken(Nne);else if(n==45&&e.next==45&&(!t.spaceAfterDashes||e.peek(1)==32))_ne(e),e.acceptToken(Nne);else if(n==47&&e.next==42){e.advance();for(let s=1;;){let i=e.next;if(e.next<0)break;if(e.advance(),i==42&&e.next==47){if(s--,e.advance(),!s)break}else i==47&&e.next==42&&(s++,e.advance())}e.acceptToken(yet)}else if((n==101||n==69)&&e.next==39)e.advance(),Ah(e,39,!0),e.acceptToken(dp);else if((n==110||n==78)&&e.next==39&&t.charSetCasts)e.advance(),Ah(e,39,t.backslashEscapes),e.acceptToken(dp);else if(n==95&&t.charSetCasts)for(let s=0;;s++){if(e.next==39&&s>1){e.advance(),Ah(e,39,t.backslashEscapes),e.acceptToken(dp);break}if(!Ok(e.next))break;e.advance()}else if(t.plsqlQuotingMechanism&&(n==113||n==81)&&e.next==39&&e.peek(1)>0&&!Rh(e.peek(1),_k)){let s=e.peek(1);e.advance(2),Fet(e,s),e.acceptToken(dp)}else if(n==40)e.acceptToken(Net);else if(n==41)e.acceptToken(bet);else if(n==123)e.acceptToken(Cet);else if(n==125)e.acceptToken(xet);else if(n==91)e.acceptToken(wet);else if(n==93)e.acceptToken(Oet);else if(n==59)e.acceptToken(Iet);else if(t.unquotedBitLiterals&&n==48&&e.next==98)e.advance(),One(e),e.acceptToken(wne);else if((n==98||n==66)&&(e.next==39||e.next==34)){const s=e.next;e.advance(),t.treatBitsAsBytes?(Ah(e,s,t.backslashEscapes),e.acceptToken(ket)):(One(e,s),e.acceptToken(wne))}else if(n==48&&(e.next==120||e.next==88)||(n==120||n==88)&&e.next==39){let s=e.next==39;for(e.advance();jet(e.next);)e.advance();s&&e.next==39&&e.advance(),e.acceptToken(wk)}else if(n==46&&e.next>=48&&e.next<=57)Ine(e,!0),e.acceptToken(wk);else if(n==46)e.acceptToken(_et);else if(n>=48&&n<=57)Ine(e,!1),e.acceptToken(wk);else if(Rh(n,t.operatorChars)){for(;Rh(e.next,t.operatorChars);)e.advance();e.acceptToken(Let)}else if(Rh(n,t.specialVar))e.next==n&&e.advance(),Het(e),e.acceptToken(Met);else if(Rh(n,t.identifierQuotes))Ah(e,n,!1),e.acceptToken(Pet);else if(n==58||n==44)e.acceptToken(Det);else if(Ok(n)){let s=Ik(e,String.fromCharCode(n));e.acceptToken(e.next==46||e.peek(-s.length-1)==46?bne:(r=t.words[s.toLowerCase()])!==null&&r!==void 0?r:bne)}})}const Mne=Dne(Lk),Get=jT.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,Mne],topRules:{Script:[0,25]},tokenPrec:0});function Dk(t){let e=t.cursor().moveTo(t.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function rS(t,e){let r=t.sliceString(e.from,e.to),n=/^([`'"])(.*)\1$/.exec(r);return n?n[2]:r}function Ab(t){return t&&(t.name=="Identifier"||t.name=="QuotedIdentifier")}function Vet(t,e){if(e.name=="CompositeIdentifier"){let r=[];for(let n=e.firstChild;n;n=n.nextSibling)Ab(n)&&r.push(rS(t,n));return r}return[rS(t,e)]}function Pne(t,e){for(let r=[];;){if(!e||e.name!=".")return r;let n=Dk(e);if(!Ab(n))return r;r.unshift(rS(t,n)),e=Dk(n)}}function zet(t,e){let r=bs(t).resolveInner(e,-1),n=Yet(t.doc,r);return r.name=="Identifier"||r.name=="QuotedIdentifier"||r.name=="Keyword"?{from:r.from,quoted:r.name=="QuotedIdentifier"?t.doc.sliceString(r.from,r.from+1):null,parents:Pne(t.doc,Dk(r)),aliases:n}:r.name=="."?{from:e,quoted:null,parents:Pne(t.doc,r),aliases:n}:{from:e,quoted:null,parents:[],empty:!0,aliases:n}}const Wet=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function Yet(t,e){let r;for(let s=e;!r;s=s.parent){if(!s)return null;s.name=="Statement"&&(r=s)}let n=null;for(let s=r.firstChild,i=!1,o=null;s;s=s.nextSibling){let a=s.name=="Keyword"?t.sliceString(s.from,s.to).toLowerCase():null,l=null;if(!i)i=a=="from";else if(a=="as"&&o&&Ab(s.nextSibling))l=rS(t,s.nextSibling);else{if(a&&Wet.has(a))break;o&&Ab(s)&&(l=rS(t,s))}l&&(n||(n=Object.create(null)),n[l]=Vet(t,o)),o=/Identifier$/.test(s.name)?s:null}return n}function qet(t,e){return t?e.map(r=>Object.assign(Object.assign({},r),{label:r.label[0]==t?r.label:t+r.label+t,apply:void 0})):e}const Ket=/^\w*$/,Xet=/^[`'"]?\w*[`'"]?$/;function kne(t){return t.self&&typeof t.self.label=="string"}class Mk{constructor(e,r){this.idQuote=e,this.idCaseInsensitive=r,this.list=[],this.children=void 0}child(e){let r=this.children||(this.children=Object.create(null)),n=r[e];return n||(e&&!this.list.some(s=>s.label==e)&&this.list.push(Une(e,"type",this.idQuote,this.idCaseInsensitive)),r[e]=new Mk(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let r=this.list.findIndex(n=>n.label==e.label);r>-1?this.list[r]=e:this.list.push(e)}addCompletions(e){for(let r of e)this.addCompletion(typeof r=="string"?Une(r,"property",this.idQuote,this.idCaseInsensitive):r)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):kne(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let r of Object.keys(e)){let n=e[r],s=null,i=r.replace(/\\?\./g,a=>a=="."?"\0":a).split("\0"),o=this;kne(n)&&(s=n.self,n=n.children);for(let a=0;a<i.length;a++)s&&a==i.length-1&&o.addCompletion(s),o=o.child(i[a].replace(/\\\./g,"."));o.addNamespace(n)}}}function Une(t,e,r,n){return new RegExp("^[a-z_][a-z_\\d]*$",n?"i":"").test(t)?{label:t,type:e}:{label:t,type:e,apply:r+t+r}}function Qet(t,e,r,n,s,i){var o;let a=((o=i==null?void 0:i.spec.identifierQuotes)===null||o===void 0?void 0:o[0])||'"',l=new Mk(a,!!(i!=null&&i.spec.caseInsensitiveIdentifiers)),c=s?l.child(s):null;return l.addNamespace(t),e&&(c||l).addCompletions(e),r&&l.addCompletions(r),c&&l.addCompletions(c.list),n&&l.addCompletions((c||l).child(n).list),d=>{let{parents:h,from:m,quoted:f,empty:p,aliases:E}=zet(d.state,d.pos);if(p&&!d.explicit)return null;E&&h.length==1&&(h=E[h[0]]||h);let g=l;for(let v of h){for(;!g.children||!g.children[v];)if(g==l&&c)g=c;else if(g==c&&n)g=g.child(n);else return null;let N=g.maybeChild(v);if(!N)return null;g=N}let T=f&&d.state.sliceDoc(d.pos,d.pos+1)==f,S=g.list;return g==l&&E&&(S=S.concat(Object.keys(E).map(v=>({label:v,type:"constant"})))),{from:m,to:T?d.pos+1:void 0,options:qet(f,S),validFor:f?Xet:Ket}}}function Jet(t){return t==xne?"type":t==Cne?"keyword":"variable"}function Zet(t,e,r){let n=Object.keys(t).map(s=>r(e?s.toUpperCase():s,Jet(t[s])));return JYe(["QuotedIdentifier","SpecialVar","String","LineComment","BlockComment","."],VZ(n))}let ett=Get.configure({props:[qM.add({Statement:XM()}),QM.add({Statement(t,e){return{from:Math.min(t.from+100,e.doc.lineAt(t.from).to),to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),GM({Keyword:me.keyword,Type:me.typeName,Builtin:me.standard(me.name),Bits:me.number,Bytes:me.string,Bool:me.bool,Null:me.null,Number:me.number,String:me.string,Identifier:me.name,QuotedIdentifier:me.special(me.string),SpecialVar:me.special(me.name),LineComment:me.lineComment,BlockComment:me.blockComment,Operator:me.operator,"Semi Punctuation":me.punctuation,"( )":me.paren,"{ }":me.brace,"[ ]":me.squareBracket})]});class hp{constructor(e,r,n){this.dialect=e,this.language=r,this.spec=n}get extension(){return this.language.extension}static define(e){let r=$et(e,e.keywords,e.types,e.builtin),n=NT.define({name:"sql",parser:ett.configure({tokenizers:[{from:Mne,to:Dne(r)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new hp(r,n,e)}}function ttt(t,e){return{label:t,type:e,boost:-1}}function jne(t,e=!1,r){return Zet(t.dialect.words,e,r||ttt)}function Bne(t){return t.schema?Qet(t.schema,t.tables,t.schemas,t.defaultTable,t.defaultSchema,t.dialect||Pk):()=>null}function rtt(t){return t.schema?(t.dialect||Pk).language.data.of({autocomplete:Bne(t)}):[]}function ntt(t={}){let e=t.dialect||Pk;return new NZ(e.language,[rtt(t),e.language.data.of({autocomplete:jne(e,t.upperCaseKeywords,t.keywordCompletion)})])}const Pk=hp.define({}),kk=hp.define({charSetCasts:!0,doubleDollarQuotedStrings:!0,operatorChars:"+-*/<>=~!@#%^&|`?",specialVar:"",keywords:yb+"abort abs absent access according ada admin aggregate alias also always analyse analyze array_agg array_max_cardinality asensitive assert assignment asymmetric atomic attach attribute attributes avg backward base64 begin_frame begin_partition bernoulli bit_length blocked bom cache called cardinality catalog_name ceil ceiling chain char_length character_length character_set_catalog character_set_name character_set_schema characteristics characters checkpoint class class_origin cluster coalesce cobol collation_catalog collation_name collation_schema collect column_name columns command_function command_function_code comment comments committed concurrently condition_number configuration conflict connection_name constant constraint_catalog constraint_name constraint_schema contains content control conversion convert copy corr cost covar_pop covar_samp csv cume_dist current_catalog current_row current_schema cursor_name database datalink datatype datetime_interval_code datetime_interval_precision db debug defaults defined definer degree delimiter delimiters dense_rank depends derived detach detail dictionary disable discard dispatch dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue document dump dynamic_function dynamic_function_code element elsif empty enable encoding encrypted end_frame end_partition endexec enforced enum errcode error event every exclude excluding exclusive exp explain expression extension extract family file filter final first_value flag floor following force foreach fortran forward frame_row freeze fs functions fusion generated granted greatest groups handler header hex hierarchy hint id ignore ilike immediately immutable implementation implicit import include including increment indent index indexes info inherit inherits inline insensitive instance instantiable instead integrity intersection invoker isnull key_member key_type label lag last_value lead leakproof least length library like_regex link listen ln load location lock locked log logged lower mapping matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text min minvalue mod mode more move multiset mumps name namespace nfc nfd nfkc nfkd nil normalize normalized nothing notice notify notnull nowait nth_value ntile nullable nullif nulls number occurrences_regex octet_length octets off offset oids operator options ordering others over overlay overriding owned owner parallel parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partition pascal passing passthrough password percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding prepared print_strict_params procedural procedures program publication query quote raise range rank reassign recheck recovery refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex rename repeatable replace replica requiring reset respect restart restore result_oid returned_cardinality returned_length returned_octet_length returned_sqlstate returning reverse routine_catalog routine_name routine_schema routines row_count row_number rowtype rule scale schema_name schemas scope scope_catalog scope_name scope_schema security selective self sensitive sequence sequences serializable server server_name setof share show simple skip slice snapshot source specific_name sqlcode sqlerror sqrt stable stacked standalone statement statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time table_name tables tablesample tablespace temp template ties token top_level_count transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex trigger_catalog trigger_name trigger_schema trim trim_array truncate trusted type types uescape unbounded uncommitted unencrypted unlink unlisten unlogged unnamed untyped upper uri use_column use_variable user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema vacuum valid validate validator value_of var_pop var_samp varbinary variable_conflict variadic verbose version versioning views volatile warning whitespace width_bucket window within wrapper xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate yes",types:vb+"bigint int8 bigserial serial8 varbit bool box bytea cidr circle precision float8 inet int4 json jsonb line lseg macaddr macaddr8 money numeric pg_lsn point polygon float4 int2 smallserial serial2 serial serial4 text timetz timestamptz tsquery tsvector txid_snapshot uuid xml"}),stt="accessible algorithm analyze asensitive authors auto_increment autocommit avg avg_row_length binlog btree cache catalog_name chain change changed checkpoint checksum class_origin client_statistics coalesce code collations columns comment committed completion concurrent consistent contains contributors convert database databases day_hour day_microsecond day_minute day_second delay_key_write delayed delimiter des_key_file dev_pop dev_samp deviance directory disable discard distinctrow div dual dumpfile enable enclosed ends engine engines enum errors escaped even event events every explain extended fast field fields flush force found_rows fulltext grants handler hash high_priority hosts hour_microsecond hour_minute hour_second ignore ignore_server_ids import index index_statistics infile innodb insensitive insert_method install invoker iterate keys kill linear lines list load lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modify mutex mysql_errno no_write_to_binlog offline offset one online optimize optionally outfile pack_keys parser partition partitions password phase plugin plugins prev processlist profile profiles purge query quick range read_write rebuild recover regexp relaylog remove rename reorganize repair repeatable replace require resume rlike row_format rtree schedule schema_name schemas second_microsecond security sensitive separator serializable server share show slave slow snapshot soname spatial sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result ssl starting starts std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace terminated triggers truncate uncommitted uninstall unlock upgrade use use_frm user_resources user_statistics utc_date utc_time utc_timestamp variables views warnings xa xor year_month zerofill",itt=vb+"bool blob long longblob longtext medium mediumblob mediumint mediumtext tinyblob tinyint tinytext text bigint int1 int2 int3 int4 int8 float4 float8 varbinary varcharacter precision datetime unsigned signed",Uk=hp.define({operatorChars:"*+-%<>!=&|^",charSetCasts:!0,doubleQuotedStrings:!0,unquotedBitLiterals:!0,hashComments:!0,spaceAfterDashes:!0,specialVar:"@?",identifierQuotes:"`",keywords:yb+"group_concat "+stt,types:itt,builtin:"charset clear edit ego help nopager notee nowarning pager print prompt quit rehash source status system tee"}),jk=hp.define({keywords:yb+"abort analyze attach autoincrement conflict database detach exclusive fail glob ignore index indexed instead isnull notnull offset plan pragma query raise regexp reindex rename replace temp vacuum virtual",types:vb+"bool blob long longblob longtext medium mediumblob mediumint mediumtext tinyblob tinyint tinytext text bigint int2 int8 unsigned signed real",builtin:"auth backup bail changes clone databases dbinfo dump echo eqp explain fullschema headers help import imposter indexes iotrace lint load log mode nullvalue once print prompt quit restore save scanstats separator shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width",operatorChars:"*+-%<>!=&|/~",identifierQuotes:'`"',specialVar:"@:?$"});let Bk=FJ||function(){let t={cursorBlinkRate:1200};return function(){return t}}(),ott=class{constructor(e,r,n,s,i,o,a,l,c,d){this.left=e,this.top=r,this.height=n,this.fontFamily=s,this.fontSize=i,this.fontWeight=o,this.color=a,this.className=l,this.letter=c,this.partial=d}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.fontFamily=this.fontFamily,e.style.fontSize=this.fontSize,e.style.fontWeight=this.fontWeight,e.style.color=this.partial?"transparent":this.color,e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.height==e.height&&this.fontFamily==e.fontFamily&&this.fontSize==e.fontSize&&this.fontWeight==e.fontWeight&&this.color==e.color&&this.className==e.className&&this.letter==e.letter}},att=class{constructor(e,r){this.view=e,this.rangePieces=[],this.cursors=[],this.em=r,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){let r=Bk(this.view.state).cursorBlinkRate;this.cursorLayer.style.animationDuration=r+"ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),ltt(e)&&this.setBlinkRate()}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,r=[];for(let n of e.selection.ranges){let s=n==e.selection.main,i=htt(this.em,this.view,n,s);i&&r.push(i)}return{cursors:r}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((r,n)=>!r.eq(this.cursors[n]))){let r=this.cursorLayer.children;if(r.length!==e.length){this.cursorLayer.textContent="";for(const n of e)this.cursorLayer.appendChild(n.draw())}else e.forEach((n,s)=>n.adjust(r[s]));this.cursors=e}}destroy(){this.cursorLayer.remove()}};function ltt(t){return Bk(t.startState)!=Bk(t.state)}const ctt={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}},utt=ya.highest(ot.theme(ctt));function dtt(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Gr.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function htt(t,e,r,n){var s,i;let o=r.head,a=1;(t.$data.count||t.$data.keyChain)&&(a=.5);{let c=o<e.state.doc.length&&e.state.sliceDoc(o,o+1);c&&/[\uDC00-\uDFFF]/.test(c)&&o>1&&(o--,c=e.state.sliceDoc(o,o+1));let d=e.coordsAtPos(o,1);if(!d)return null;let h=dtt(e),m=e.domAtPos(o),f=m?m.node:e.contentDOM;for(;m&&m.node instanceof HTMLElement;)f=m.node,m={node:m.node.childNodes[m.offset],offset:0};if(!(f instanceof HTMLElement)){if(!f.parentNode)return null;f=f.parentNode}let p=getComputedStyle(f),E=d.left,g=(i=(s=e).coordsForChar)===null||i===void 0?void 0:i.call(s,o);if(g&&(E=g.left),!c||c==`
`||c=="\r")c="";else if(c=="	"){c="";var l=e.coordsAtPos(o+1,-1);l&&(E=l.left-(l.left-d.left)/parseInt(p.tabSize))}else/[\uD800-\uDBFF]/.test(c)&&o<e.state.doc.length-1&&(c+=e.state.sliceDoc(o+1,o+2));let T=d.bottom-d.top;return new ott(E-h.left,d.top-h.top+T*(1-a),T*a,p.fontFamily,p.fontSize,p.fontWeight,p.color,n?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",c,a!=1)}}const ftt=ot.theme({".cm-emacsMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"5px 10px",backgroundColor:"#fffa8f",fontFamily:"monospace"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"#fffa8f"}}),mtt=kn.fromClass(class{constructor(t){this.status="",this.view=t,this.em=new Nh(t),this.blockCursor=new att(t,this.em),this.view.scrollDOM.classList.add("cm-emacsMode")}update(t){t.docChanged&&(this.em.$emacsMark=null,this.em.updateMarksOnChange(t.changes)),this.blockCursor.update(t)}destroy(){this.view.scrollDOM.classList.remove("cm-emacsMode"),this.blockCursor.destroy()}},{eventHandlers:{keydown:function(t,e){var r=this.em.handleKeyboard(t);return r&&this.blockCursor.scheduleRedraw(),!!r},mousedown:function(){this.em.$emacsMark=null}}}),ptt=jt.define(),Ett=yn.define({create:()=>!1,update(t,e){for(let r of e.effects)r.is(ptt)&&(t=r.value);return t},provide:t=>ku.from(t,e=>e?gtt:null)});function gtt(t){let e=document.createElement("div");return e.className="cm-vim-panel",{top:!1,dom:e}}function Ttt(t={}){return[ftt,mtt,utt,Ett]}var Stt={Return:"Return",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"Return",Divide:"/",Slash:"/",Multiply:"*",Subtract:"-",Minus:"-",Equal:"="},vtt={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1};const Fk={};class Nh{constructor(e){this.view=e,this.$data={count:0,keyChain:"",lastCommand:""},this.$emacsMarkRing=[],this.$emacsMark=null}static bindKey(e,r){e.split("|").forEach(function(n){let s="",i=n.split(/\s+/);i.forEach(function(o,a){let l=o.split(/-(?=.)/),c=l.pop();l.length&&(s+=l.sort().join("-")+"-"),s+=c,a===i.length-1?Fk[s]=r:(Fk[s]="null",s+=" ")})})}static getKey(e){var r=e.code,n=e.key;if(vtt[n])return["","",""];r.length>1&&(r[0]=="N"&&(r=r.replace(/^Numpad/,"")),r[0]=="K"&&(r=r.replace(/^Key/,""))),r=Stt[r]||r,r.length==1&&(r=r.toLowerCase());var s="";return e.ctrlKey&&(s+="C-"),e.metaKey&&(s+="CMD-"),e.altKey&&(s+="M-"),e.shiftKey&&(s+="S-"),[r,s,n]}static addCommands(e){Object.keys(e).forEach(function(r){var n=e[r];typeof n=="function"&&(n={exec:n}),Nh.commands[r]=n})}static execCommand(e,r,n,s=1){var i=void 0;if(s<0&&(s=-s),typeof e=="function")for(var o=0;o<s;o++)e(r.view);else if(e!=="null")if(e.exec){s>1&&e.handlesCount&&(n||(n={}),typeof n=="object"&&(n.count=s),s=1);for(var o=0;o<s;o++)i=e.exec(r,n||{})}else throw new Error("missformed command");return i}handleKeyboard(e){var r=Nh.getKey(e),n=this.findCommand(r);if(!(/Up|Down/.test(r==null?void 0:r[0])&&$qe(this.view.state))){if(n&&n.command){var s=Nh.execCommand(n.command,this,n.args,n.count);if(s===!1)return}return n}}findCommand([e,r,n]){if(e){var s=this,i=this.$data;if(!r&&e.length==1&&(s.pushEmacsMark(),i.count)){var o=new Array(i.count+1).join(n);return i.count=null,{command:"insertstring",args:o}}if(r=="C-"||i.count){var c=parseInt(e[e.length-1]);if(typeof c=="number"&&!isNaN(c))return i.count=Math.max(i.count||0,0),i.count=10*i.count+c,{command:"null"}}r&&(e=r+e),i.keyChain&&(e=i.keyChain+=" "+e);var a=Fk[e];if(i.keyChain=a=="null"?e:"",!!a){if(a==="null")return{command:"null"};if(a==="universalArgument")return i.count=-4,{command:"null"};var l;if(typeof a!="string"&&(l=a.args,a.command&&(a=a.command)),(a==="insertstring"||a===xP||a===EP)&&s.pushEmacsMark(),!(typeof a=="string"&&(a=Nh.commands[a],!a))){!a.readOnly&&!a.keepLastCommand&&(i.lastCommand=null);var c=i.count||1;return i.count&&(i.count=0),{command:a,args:l,count:c}}}}}showCommandLine(e){console.error("TODO")}updateMarksOnChange(e){this.$emacsMark&&(this.$emacsMark=this.updateMark(this.$emacsMark,e)),this.$emacsMarkRing=this.$emacsMarkRing.map(r=>this.updateMark(r,e)).filter(Boolean)}updateMark(e,r){if(e){var n=e.map(function(s){return r.mapPos(s,1,qn.TrackDel)}).filter(s=>s!=null);return n.length==0?null:n}}emacsMark(){return this.$emacsMark}setEmacsMark(e){this.$emacsMark=e}pushEmacsMark(e,r){var n=this.$emacsMark;n&&Fne(this.$emacsMarkRing,n),!e||r?this.setEmacsMark(e):Fne(this.$emacsMarkRing,e)}popEmacsMark(){var e=this.emacsMark();return e?(this.setEmacsMark(null),e):this.$emacsMarkRing.pop()}getLastEmacsMark(){return this.$emacsMark||this.$emacsMarkRing.slice(-1)[0]}getCopyText(){var e=this.view.state;return e.selection.ranges.map(r=>e.sliceDoc(r.from,r.to)).join(`
`)}clearSelection(){var e=this.view,r=e.state.selection,n=!r.ranges.some(i=>i.from!=i.to);if(n)return!1;var s=r.ranges.map(i=>Ve.range(i.head,i.head));return e.dispatch({selection:Ve.create(s,r.mainIndex)}),!0}onPaste(e){var r=this.view,n=r.state.selection,s;if(n.ranges.length>1){var i=e.split(`
`);i.length==n.ranges.length&&(s=i)}var o=0,a=r.state.changeByRange(l=>{var c=s?s[o]:e;return o++,{changes:{from:l.from,to:l.to,insert:c},range:Ve.cursor(l.from+c.length)}});r.dispatch(a)}selectionToEmacsMark(){var e=this.view.state.selection;return e.ranges.map(r=>r.head)}}Nh.commands={};function Fne(t,e){t.length&&t[t.length-1]+""==e+""||t.push(e)}function ytt(t,e=t.state){const r=new Set;for(const{from:n,to:s}of t.visibleRanges){let i=n;for(;i<=s;){const o=e.doc.lineAt(i);r.has(o)||r.add(o),i=o.to+1}}return r}function Hk(t){const e=t.selection.main.head;return t.doc.lineAt(e)}function Hne(t,e){let r=0;e:for(let n=0;n<t.length;n++)switch(t[n]){case" ":case"":{r+=1;continue e}case"	":{r+=e-r%e;continue e}case"\r":continue e;default:break e}return r}const Rb=pt.define({combine(t){return El(t,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:"fullScope",thickness:1})}});class Att{constructor(e,r,n,s){this.lines=e,this.state=r,this.map=new Map,this.unitWidth=n,this.markerType=s;for(const i of this.lines)this.add(i);this.state.facet(Rb).highlightActiveBlock&&this.findAndSetActiveLines()}has(e){return this.map.has(typeof e=="number"?e:e.number)}get(e){const r=this.map.get(typeof e=="number"?e:e.number);if(!r)throw new Error("Line not found in indentation map");return r}set(e,r,n){const s=!e.text.trim().length,i={line:e,col:r,level:n,empty:s};return this.map.set(i.line.number,i),i}add(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(e.number===1)return this.set(e,0,0);if(e.number===this.state.doc.lines){const o=this.closestNonEmpty(e,-1);return this.set(e,0,o.level)}const s=this.closestNonEmpty(e,-1),i=this.closestNonEmpty(e,1);return s.level>=i.level&&this.markerType!=="codeOnly"?this.set(e,0,s.level):s.empty&&s.level===0&&i.level!==0?this.set(e,0,0):i.level>s.level?this.set(e,0,s.level+1):this.set(e,0,i.level)}const r=Hne(e.text,this.state.tabSize),n=Math.floor(r/this.unitWidth);return this.set(e,r,n)}closestNonEmpty(e,r){let n=e.number+r;for(;r===-1?n>=1:n<=this.state.doc.lines;){if(this.has(n)){const o=this.get(n);if(!o.empty)return o}const i=this.state.doc.line(n);if(i.text.trim().length){const o=Hne(i.text,this.state.tabSize),a=Math.floor(o/this.unitWidth);return this.set(i,o,a)}n+=r}const s=this.state.doc.line(r===-1?1:this.state.doc.lines);return this.set(s,0,0)}findAndSetActiveLines(){const e=Hk(this.state);if(!this.has(e))return;let r=this.get(e);if(this.has(r.line.number+1)){const i=this.get(r.line.number+1);i.level>r.level&&(r=i)}if(this.has(r.line.number-1)){const i=this.get(r.line.number-1);i.level>r.level&&(r=i)}if(r.level===0)return;r.active=r.level;let n,s;for(n=r.line.number;n>1;n--){if(!this.has(n-1))continue;const i=this.get(n-1);if(i.level<r.level)break;i.active=r.level}for(s=r.line.number;s<this.state.doc.lines;s++){if(!this.has(s+1))continue;const i=this.get(s+1);if(i.level<r.level)break;i.active=r.level}}}function Rtt(t){const e={light:"#F0F1F2",dark:"#2B3245",activeLight:"#E4E5E6",activeDark:"#3C445C"};let r=e;return t&&(r=Object.assign(Object.assign({},e),t)),ot.baseTheme({"&light":{"--indent-marker-bg-color":r.light,"--indent-marker-active-bg-color":r.activeLight},"&dark":{"--indent-marker-bg-color":r.dark,"--indent-marker-active-bg-color":r.activeDark},".cm-line":{position:"relative"},".cm-indent-markers::before":{content:'""',position:"absolute",top:0,left:"2px",right:0,bottom:0,background:"var(--indent-markers)",pointerEvents:"none",zIndex:"-1"}})}function Nb(t,e,r,n,s){return`${`repeating-linear-gradient(to right, var(${t}) 0 ${e}px, transparent ${e}px ${r}ch)`} ${n*r}.5ch/calc(${r*s}ch - 1px) no-repeat`}function Ntt(t,e,r,n,s){const{level:i,active:o}=t;if(s=s??n,r&&i===0)return[];const a=r?1:0,l=[];if(o!==void 0){const c=o-a-1;c>0&&l.push(Nb("--indent-marker-bg-color",n,e,a,c)),l.push(Nb("--indent-marker-active-bg-color",s,e,o-1,1)),o!==i&&l.push(Nb("--indent-marker-bg-color",n,e,o,i-o))}else l.push(Nb("--indent-marker-bg-color",n,e,a,i-a));return l.join(",")}class btt{constructor(e){this.view=e,this.unitWidth=Bm(e.state),this.currentLineNumber=Hk(e.state).number,this.generate(e.state)}update(e){const r=Bm(e.state),n=r!==this.unitWidth;n&&(this.unitWidth=r);const s=Hk(e.state).number,i=s!==this.currentLineNumber;this.currentLineNumber=s;const o=e.state.facet(Rb).highlightActiveBlock&&i;(e.docChanged||e.viewportChanged||n||o)&&this.generate(e.state)}generate(e){const r=new Aa,n=ytt(this.view,e),{hideFirstIndent:s,markerType:i,thickness:o,activeThickness:a}=e.facet(Rb),l=new Att(n,e,this.unitWidth,i);for(const c of n){const d=l.get(c.number);if(!(d!=null&&d.level))continue;const h=Ntt(d,this.unitWidth,s,o,a);r.add(c.from,c.from,Wt.line({class:"cm-indent-markers",attributes:{style:`--indent-markers: ${h}`}}))}this.decorations=r.finish()}}function Ctt(t={}){return[Rb.of(t),Rtt(t.colors),kn.fromClass(btt,{decorations:e=>e.decorations})]}function xtt(t){var e=t.Pos;function r(R,w,D){if(w.line===D.line&&w.ch>=D.ch-1){var M=R.getLine(w.line),$=M.charCodeAt(w.ch);55296<=$&&$<=55551&&(D.ch+=1)}return{start:w,end:D}}var n=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h"},{keys:"<Del>",type:"keyToKey",toKeys:"x"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"gq",type:"operator",operator:"hardWrap"},{keys:"gw",type:"operator",operator:"hardWrap",operatorArgs:{keepCursor:!0}},{keys:"g?",type:"operator",operator:"rot13"},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<register>",type:"action",action:"replayMacro"},{keys:"q<register>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<register>",type:"action",action:"setMark"},{keys:'"<register>',type:"action",action:"setRegister"},{keys:"<C-r><register>",type:"action",action:"insertRegister",context:"insert",isEdit:!0},{keys:"<C-o>",type:"action",action:"oneNormalCommand",context:"insert"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<register>",type:"motion",motion:"textObjectManipulation"},{keys:"i<register>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],s=Object.create(null),i=n.length,o=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"omap",shortName:"om"},{name:"noremap",shortName:"no"},{name:"nnoremap",shortName:"nn"},{name:"vnoremap",shortName:"vn"},{name:"inoremap",shortName:"ino"},{name:"onoremap",shortName:"ono"},{name:"unmap"},{name:"mapclear",shortName:"mapc"},{name:"nmapclear",shortName:"nmapc"},{name:"vmapclear",shortName:"vmapc"},{name:"imapclear",shortName:"imapc"},{name:"omapclear",shortName:"omapc"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"startinsert",shortName:"start"},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"marks",excludeFromCommandHistory:!0},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"delete",shortName:"d"},{name:"join",shortName:"j"},{name:"normal",shortName:"norm"},{name:"global",shortName:"g"}],a=je("");function l(R){R.setOption("disableInput",!0),R.setOption("showCursorWhenSelecting",!1),t.signal(R,"vim-mode-change",{mode:"normal"}),R.on("cursorActivity",yS),Y(R),t.on(R.getInputField(),"paste",d(R))}function c(R){R.setOption("disableInput",!1),R.off("cursorActivity",yS),t.off(R.getInputField(),"paste",d(R)),R.state.vim=null,To&&clearTimeout(To)}function d(R){var w=R.state.vim;return w.onPasteFn||(w.onPasteFn=function(){w.insertMode||(R.setCursor(Ge(R.getCursor(),0,1)),he.enterInsertMode(R,{},w))}),w.onPasteFn}var h=/[\d]/,m=[t.isWordChar,function(R){return R&&!t.isWordChar(R)&&!/\s/.test(R)}],f=[function(R){return/\S/.test(R)}],p=["<",">"],E=["-",'"',".",":","_","/","+"],g=/^\w$/,T=/^[A-Z]$/;try{T=new RegExp("^[\\p{Lu}]$","u")}catch{}function S(R,w){return w>=R.firstLine()&&w<=R.lastLine()}function v(R){return/^[a-z]$/.test(R)}function N(R){return"()[]{}".indexOf(R)!=-1}function C(R){return h.test(R)}function x(R){return T.test(R)}function A(R){return/^\s*$/.test(R)}function b(R){return".?!".indexOf(R)!=-1}function _(R,w){for(var D=0;D<w.length;D++)if(w[D]==R)return!0;return!1}var U={};function j(R,w,D,M,$){if(w===void 0&&!$)throw Error("defaultValue is required unless callback is provided");if(D||(D="string"),U[R]={type:D,defaultValue:w,callback:$},M)for(var G=0;G<M.length;G++)U[M[G]]=U[R];w&&L(R,w)}function L(R,w,D,M){var $=U[R];M=M||{};var G=M.scope;if(!$)return new Error("Unknown option: "+R);if($.type=="boolean"){if(w&&w!==!0)return new Error("Invalid argument: "+R+"="+w);w!==!1&&(w=!0)}$.callback?(G!=="local"&&$.callback(w,void 0),G!=="global"&&D&&$.callback(w,D)):(G!=="local"&&($.value=$.type=="boolean"?!!w:w),G!=="global"&&D&&(D.state.vim.options[R]={value:w}))}function P(R,w,D){var M=U[R];D=D||{};var $=D.scope;if(!M)return new Error("Unknown option: "+R);if(M.callback){let G=w&&M.callback(void 0,w);return $!=="global"&&G!==void 0?G:$!=="local"?M.callback():void 0}else return($!=="global"&&w&&w.state.vim.options[R]||$!=="local"&&M||{}).value}j("filetype",void 0,"string",["ft"],function(R,w){if(w!==void 0)if(R===void 0){let D=w.getOption("mode");return D=="null"?"":D}else{let D=R==""?"null":R;w.setOption("mode",D)}}),j("textwidth",80,"number",["tw"],function(R,w){if(w!==void 0)if(R===void 0){var D=w.getOption("textwidth");return D}else{var M=Math.round(R);M>1&&w.setOption("textwidth",M)}});var I=function(){var R=100,w=-1,D=0,M=0,$=new Array(R);function G(de,Re,ye){var Pe=w%R,ke=$[Pe];function Ue(Xe){var xe=++w%R,De=$[xe];De&&De.clear(),$[xe]=de.setBookmark(Xe)}if(ke){var Oe=ke.find();Oe&&!Lt(Oe,Re)&&Ue(Re)}else Ue(Re);Ue(ye),D=w,M=w-R+1,M<0&&(M=0)}function ee(de,Re){w+=Re,w>D?w=D:w<M&&(w=M);var ye=$[(R+w)%R];if(ye&&!ye.find()){var Pe=Re>0?1:-1,ke,Ue=de.getCursor();do if(w+=Pe,ye=$[(R+w)%R],ye&&(ke=ye.find())&&!Lt(Ue,ke))break;while(w<D&&w>M)}return ye}function oe(de,Re){var ye=w,Pe=ee(de,Re);return w=ye,Pe&&Pe.find()}return{cachedCursor:void 0,add:G,find:oe,move:ee}},F=function(R){return R?{changes:R.changes,expectCursorActivityForChange:R.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};class W{constructor(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=F()}exitMacroRecordMode(){var w=k.macroModeState;w.onRecordingDone&&w.onRecordingDone(),w.onRecordingDone=void 0,w.isRecording=!1}enterMacroRecordMode(w,D){var M=k.registerController.getRegister(D);if(M){if(M.clear(),this.latestRegister=D,w.openDialog){var $=Vi("span",{class:"cm-vim-message"},"recording @"+D);this.onRecordingDone=w.openDialog($,function(){},{bottom:!0})}this.isRecording=!0}}}function Y(R){return R.state.vim||(R.state.vim={inputState:new H,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeReturn:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:void 0,sel:{anchor:new e(0,0),head:new e(0,0)},options:{},expectLiteralNext:!1,status:""}),R.state.vim}var k;function V(){k={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:I(),macroModeState:new W,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new Ae({}),searchHistoryController:new te,exCommandHistoryController:new te};for(var R in U){var w=U[R];w.value=w.defaultValue}}class re{constructor(w,D){this.keyName=w,this.key=D.key,this.ctrlKey=D.ctrlKey,this.altKey=D.altKey,this.metaKey=D.metaKey,this.shiftKey=D.shiftKey}}var K,B={enterVimMode:l,leaveVimMode:c,buildKeyMap:function(){},getRegisterController:function(){return k.registerController},resetVimGlobalState_:V,getVimGlobalState_:function(){return k},maybeInitVimState_:Y,suppressErrorLogging:!1,InsertModeKey:re,map:function(R,w,D){ii.map(R,w,D)},unmap:function(R,w){return ii.unmap(R,w)},noremap:function(R,w,D){ii.map(R,w,D,!0)},mapclear:function(R){var w=n.length,D=i,M=n.slice(0,w-D);if(n=n.slice(w-D),R)for(var $=M.length-1;$>=0;$--){var G=M[$];if(R!==G.context)if(G.context)this._mapCommand(G);else{var ee=["normal","insert","visual"];for(var oe in ee)if(ee[oe]!==R){var de=Object.assign({},G);de.context=ee[oe],this._mapCommand(de)}}}},langmap:fe,vimKeyFromEvent:_e,setOption:L,getOption:P,defineOption:j,defineEx:function(R,w,D){if(!w)w=R;else if(R.indexOf(w)!==0)throw new Error('(Vim.defineEx) "'+w+'" is not a prefix of "'+R+'", command not registered');Hb[R]=D,ii.commandMap_[w]={name:R,shortName:w,type:"api"}},handleKey:function(R,w,D){var M=this.findKey(R,w,D);if(typeof M=="function")return M()},multiSelectHandleKey:k5,findKey:function(R,w,D){var M=Y(R),$=R;function G(){var ye=k.macroModeState;if(ye.isRecording){if(w=="q")return ye.exitMacroRecordMode(),Ce($),!0;D!="mapping"&&$b(ye,w)}}function ee(){if(w=="<Esc>"){if(M.visualMode)us($);else if(M.insertMode)Il($);else return;return Ce($),!0}}function oe(){if(ee())return!0;M.inputState.keyBuffer.push(w);var ye=M.inputState.keyBuffer.join(""),Pe=w.length==1,ke=ae.matchCommand(ye,n,M.inputState,"insert"),Ue=M.inputState.changeQueue;if(ke.type=="none")return Ce($),!1;if(ke.type=="partial"){if(ke.expectLiteralNext&&(M.expectLiteralNext=!0),K&&window.clearTimeout(K),K=Pe&&window.setTimeout(function(){M.insertMode&&M.inputState.keyBuffer.length&&Ce($)},P("insertModeEscKeysTimeout")),Pe){var Oe=$.listSelections();(!Ue||Ue.removed.length!=Oe.length)&&(Ue=M.inputState.changeQueue=new be),Ue.inserted+=w;for(var Xe=0;Xe<Oe.length;Xe++){var xe=Pt(Oe[Xe].anchor,Oe[Xe].head),De=vt(Oe[Xe].anchor,Oe[Xe].head),Be=$.getRange(xe,$.state.overwrite?Ge(De,0,1):De);Ue.removed[Xe]=(Ue.removed[Xe]||"")+Be}}return!Pe}else ke.type=="full"&&(M.inputState.keyBuffer.length=0);if(M.expectLiteralNext=!1,K&&window.clearTimeout(K),ke.command&&Ue){for(var Oe=$.listSelections(),Xe=0;Xe<Oe.length;Xe++){var et=Oe[Xe].head;$.replaceRange(Ue.removed[Xe]||"",Ge(et,0,-Ue.inserted.length),et,"+input")}k.macroModeState.lastInsertModeChanges.changes.pop()}return ke.command||Ce($),ke.command}function de(){if(G()||ee())return!0;M.inputState.keyBuffer.push(w);var ye=M.inputState.keyBuffer.join("");if(/^[1-9]\d*$/.test(ye))return!0;var Pe=/^(\d*)(.*)$/.exec(ye);if(!Pe)return Ce($),!1;var ke=M.visualMode?"visual":"normal",Ue=Pe[2]||Pe[1];M.inputState.operatorShortcut&&M.inputState.operatorShortcut.slice(-1)==Ue&&(Ue=M.inputState.operatorShortcut);var Oe=ae.matchCommand(Ue,n,M.inputState,ke);return Oe.type=="none"?(Ce($),!1):Oe.type=="partial"?(Oe.expectLiteralNext&&(M.expectLiteralNext=!0),!0):Oe.type=="clear"?(Ce($),!0):(M.expectLiteralNext=!1,M.inputState.keyBuffer.length=0,Pe=/^(\d*)(.*)$/.exec(ye),Pe&&Pe[1]&&Pe[1]!="0"&&M.inputState.pushRepeatDigit(Pe[1]),Oe.command)}var Re=M.insertMode?oe():de();if(Re===!1)return!M.insertMode&&(w.length===1||t.isMac&&/<A-.>/.test(w))?function(){return!0}:void 0;if(Re===!0)return function(){return!0};if(Re)return function(){return $.operation(function(){$.curOp.isVimOp=!0;try{if(typeof Re!="object")return;Re.type=="keyToKey"?se($,Re.toKeys,Re):ae.processCommand($,M,Re)}catch(ye){throw $.state.vim=void 0,Y($),B.suppressErrorLogging||console.log(ye),ye}return!0})}},handleEx:function(R,w){ii.processCommand(R,w)},defineMotion:we,defineAction:Ne,defineOperator:pe,mapCommand:P5,_mapCommand:TS,defineRegister:Q,exitVisualMode:us,exitInsertMode:Il},X=[],J=!1,Z;function Ee(R){if(!Z)throw new Error("No prompt to send key to");if(R[0]=="<"){var w=R.toLowerCase().slice(1,-1),D=w.split("-");if(w=D.pop()||"",w=="lt")R="<";else if(w=="space")R=" ";else if(w=="cr")R=`
`;else if(ve[w]){var M=Z.value||"",$={key:ve[w],target:{value:M,selectionEnd:M.length,selectionStart:M.length}};Z.onKeyDown&&Z.onKeyDown($,Z.value,ee),Z&&Z.onKeyUp&&Z.onKeyUp($,Z.value,ee);return}}if(R==`
`){var G=Z;Z=null,G.onClose&&G.onClose(G.value)}else Z.value=(Z.value||"")+R;function ee(oe){Z&&(typeof oe=="string"?Z.value=oe:Z=null)}}function se(R,w,D){var M=J;if(D){if(X.indexOf(D)!=-1)return;X.push(D),J=D.noremap!=!1}try{for(var $=Y(R),G=/<(?:[CSMA]-)*\w+>|./gi,ee;ee=G.exec(w);){var oe=ee[0],de=$.insertMode;if(Z){Ee(oe);continue}var Re=B.handleKey(R,oe,"mapping");if(!Re&&de&&$.insertMode){if(oe[0]=="<"){var ye=oe.toLowerCase().slice(1,-1),Pe=ye.split("-");if(ye=Pe.pop()||"",ye=="lt")oe="<";else if(ye=="space")oe=" ";else if(ye=="cr")oe=`
`;else if(ve.hasOwnProperty(ye)){oe=ve[ye],AS(R,oe);continue}else oe=oe[0],G.lastIndex=ee.index+1}R.replaceSelection(oe)}}}finally{if(X.pop(),J=X.length?M:!1,!X.length&&Z){var ke=Z;Z=null,go(R,ke)}}}var ie={Return:"CR",Backspace:"BS",Delete:"Del",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"CR"," ":"Space"},Te={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1,AltGraph:1,Dead:1,Unidentified:1},ve={};"Left|Right|Up|Down|End|Home".split("|").concat(Object.keys(ie)).forEach(function(R){ve[(ie[R]||"").toLowerCase()]=ve[R.toLowerCase()]=R});function _e(R,w){var G;var D=R.key;if(!Te[D]){D.length>1&&D[0]=="n"&&(D=D.replace("Numpad","")),D=ie[D]||D;var M="";if(R.ctrlKey&&(M+="C-"),R.altKey&&(M+="A-"),R.metaKey&&(M+="M-"),t.isMac&&M=="A-"&&D.length==1&&(M=M.slice(2)),(M||D.length>1)&&R.shiftKey&&(M+="S-"),w&&!w.expectLiteralNext&&D.length==1){if(a.keymap&&D in a.keymap)(a.remapCtrl!=!1||!M)&&(D=a.keymap[D]);else if(D.charCodeAt(0)>128&&!s[D]){var $=((G=R.code)==null?void 0:G.slice(-1))||"";R.shiftKey||($=$.toLowerCase()),$&&(D=$,!M&&R.altKey&&(M="A-"))}}return M+=D,M.length>1&&(M="<"+M+">"),M}}function fe(R,w){a.string!==R&&(a=je(R)),a.remapCtrl=w}function je(R){let w={};if(!R)return{keymap:w,string:""};function D(M){return M.split(/\\?(.)/).filter(Boolean)}return R.split(/((?:[^\\,]|\\.)+),/).map(M=>{if(!M)return;const $=M.split(/((?:[^\\;]|\\.)+);/);if($.length==3){const G=D($[1]),ee=D($[2]);if(G.length!==ee.length)return;for(let oe=0;oe<G.length;++oe)w[G[oe]]=ee[oe]}else if($.length==1){const G=D(M);if(G.length%2!==0)return;for(let ee=0;ee<G.length;ee+=2)w[G[ee]]=G[ee+1]}}),{keymap:w,string:R}}j("langmap",void 0,"string",["lmap"],function(R,w){if(R===void 0)return a.string;fe(R)});class H{constructor(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=void 0,this.changeQueue=null}pushRepeatDigit(w){this.operator?this.motionRepeat=this.motionRepeat.concat(w):this.prefixRepeat=this.prefixRepeat.concat(w)}getRepeat(){var w=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(w=1,this.prefixRepeat.length>0&&(w*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(w*=parseInt(this.motionRepeat.join(""),10))),w}}function Ce(R,w){R.state.vim.inputState=new H,R.state.vim.expectLiteralNext=!1,t.signal(R,"vim-command-done",w)}function be(){this.removed=[],this.inserted=""}class ce{constructor(w,D,M){this.clear(),this.keyBuffer=[w||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!D,this.blockwise=!!M}setText(w,D,M){this.keyBuffer=[w||""],this.linewise=!!D,this.blockwise=!!M}pushText(w,D){D&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(w)}pushInsertModeChanges(w){this.insertModeChanges.push(F(w))}pushSearchQuery(w){this.searchQueries.push(w)}clear(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1}toString(){return this.keyBuffer.join("")}}function Q(R,w){var D=k.registerController.registers;if(!R||R.length!=1)throw Error("Register name must be 1 character");if(D[R])throw Error("Register already defined "+R);D[R]=w,E.push(R)}class Ae{constructor(w){this.registers=w,this.unnamedRegister=w['"']=new ce,w["."]=new ce,w[":"]=new ce,w["/"]=new ce,w["+"]=new ce}pushText(w,D,M,$,G){if(w!=="_"){$&&M.charAt(M.length-1)!==`
`&&(M+=`
`);var ee=this.isValidRegister(w)?this.getRegister(w):null;if(!ee||!w){switch(D){case"yank":this.registers[0]=new ce(M,$,G);break;case"delete":case"change":M.indexOf(`
`)==-1?this.registers["-"]=new ce(M,$):(this.shiftNumericRegisters_(),this.registers[1]=new ce(M,$));break}this.unnamedRegister.setText(M,$,G);return}var oe=x(w);oe?ee.pushText(M,$):ee.setText(M,$,G),w==="+"&&navigator.clipboard.writeText(M),this.unnamedRegister.setText(ee.toString(),$)}}getRegister(w){return this.isValidRegister(w)?(w=w.toLowerCase(),this.registers[w]||(this.registers[w]=new ce),this.registers[w]):this.unnamedRegister}isValidRegister(w){return w&&(_(w,E)||g.test(w))}shiftNumericRegisters_(){for(var w=9;w>=2;w--)this.registers[w]=this.getRegister(""+(w-1))}}class te{constructor(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}nextMatch(w,D){var M=this.historyBuffer,$=D?-1:1;this.initialPrefix===null&&(this.initialPrefix=w);for(var G=this.iterator+$;D?G>=0:G<M.length;G+=$)for(var ee=M[G],oe=0;oe<=ee.length;oe++)if(this.initialPrefix==ee.substring(0,oe))return this.iterator=G,ee;if(G>=M.length)return this.iterator=M.length,this.initialPrefix;if(G<0)return w}pushInput(w){var D=this.historyBuffer.indexOf(w);D>-1&&this.historyBuffer.splice(D,1),w.length&&this.historyBuffer.push(w)}reset(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}}var ae={matchCommand:function(R,w,D,M){var $=Ze(R,w,M,D),G=$.full[0];if(!G)return $.partial.length?{type:"partial",expectLiteralNext:$.partial.length==1&&$.partial[0].keys.slice(-11)=="<character>"}:{type:"none"};if(G.keys.slice(-11)=="<character>"||G.keys.slice(-10)=="<register>"){var ee=He(R);if(!ee||ee.length>1)return{type:"clear"};D.selectedCharacter=ee}return{type:"full",command:G}},processCommand:function(R,w,D){switch(w.inputState.repeatOverride=D.repeatOverride,D.type){case"motion":this.processMotion(R,w,D);break;case"operator":this.processOperator(R,w,D);break;case"operatorMotion":this.processOperatorMotion(R,w,D);break;case"action":this.processAction(R,w,D);break;case"search":this.processSearch(R,w,D);break;case"ex":case"keyToEx":this.processEx(R,w,D);break}},processMotion:function(R,w,D){w.inputState.motion=D.motion,w.inputState.motionArgs=Ye(D.motionArgs),this.evalInput(R,w)},processOperator:function(R,w,D){var M=w.inputState;if(M.operator)if(M.operator==D.operator){M.motion="expandToLine",M.motionArgs={linewise:!0,repeat:1},this.evalInput(R,w);return}else Ce(R);M.operator=D.operator,M.operatorArgs=Ye(D.operatorArgs),D.keys.length>1&&(M.operatorShortcut=D.keys),D.exitVisualBlock&&(w.visualBlock=!1,Yt(R)),w.visualMode&&this.evalInput(R,w)},processOperatorMotion:function(R,w,D){var M=w.visualMode,$=Ye(D.operatorMotionArgs);$&&M&&$.visualLine&&(w.visualLine=!0),this.processOperator(R,w,D),M||this.processMotion(R,w,D)},processAction:function(R,w,D){var M=w.inputState,$=M.getRepeat(),G=!!$,ee=Ye(D.actionArgs)||{repeat:1};M.selectedCharacter&&(ee.selectedCharacter=M.selectedCharacter),D.operator&&this.processOperator(R,w,D),D.motion&&this.processMotion(R,w,D),(D.motion||D.operator)&&this.evalInput(R,w),ee.repeat=$||1,ee.repeatIsExplicit=G,ee.registerName=M.registerName,Ce(R),w.lastMotion=null,D.isEdit&&this.recordLastEdit(w,M,D),he[D.action](R,ee,w)},processSearch:function(R,w,D){if(!R.getSearchCursor)return;var M=D.searchArgs.forward,$=D.searchArgs.wholeWordOnly;Ai(R).setReversed(!M);var G=M?"/":"?",ee=Ai(R).getQuery(),oe=R.getScrollInfo(),de="";function Re(Be,et,ct){k.searchHistoryController.pushInput(Be),k.searchHistoryController.reset();try{Ih(R,Be,et,ct)}catch{Er(R,"Invalid regex: "+Be),Ce(R);return}ae.processMotion(R,w,{keys:"",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:D.searchArgs.toJumplist}})}function ye(Be){R.scrollTo(oe.left,oe.top),Re(Be,!0,!0);var et=k.macroModeState;et.isRecording&&vS(et,Be)}function Pe(){return P("pcre")?"(JavaScript regexp: set pcre)":"(Vim regexp: set nopcre)"}function ke(Be,et,ct){var ft=_e(Be),_t,Dt;ft=="<Up>"||ft=="<Down>"?(_t=ft=="<Up>",Dt=Be.target?Be.target.selectionEnd:0,et=k.searchHistoryController.nextMatch(et,_t)||"",ct(et),Dt&&Be.target&&(Be.target.selectionEnd=Be.target.selectionStart=Math.min(Dt,Be.target.value.length))):ft&&ft!="<Left>"&&ft!="<Right>"&&k.searchHistoryController.reset(),de=et,Ue()}function Ue(){var Be;try{Be=Ih(R,de,!0,!0)}catch{}Be?R.scrollIntoView(gp(R,!M,Be),30):(Ol(R),R.scrollTo(oe.left,oe.top))}function Oe(Be,et,ct){var ft=_e(Be);ft=="<Esc>"||ft=="<C-c>"||ft=="<C-[>"||ft=="<BS>"&&et==""?(k.searchHistoryController.pushInput(et),k.searchHistoryController.reset(),Ih(R,(ee==null?void 0:ee.source)||""),Ol(R),R.scrollTo(oe.left,oe.top),t.e_stop(Be),Ce(R),ct(),R.focus()):ft=="<Up>"||ft=="<Down>"?t.e_stop(Be):ft=="<C-u>"&&(t.e_stop(Be),ct(""))}switch(D.searchArgs.querySrc){case"prompt":var Xe=k.macroModeState;if(Xe.isPlaying){let et=Xe.replaySearchQueries.shift();Re(et||"",!0,!1)}else go(R,{onClose:ye,prefix:G,desc:Vi("span",{$cursor:"pointer",onmousedown:function(et){et.preventDefault(),L("pcre",!P("pcre")),this.textContent=Pe(),Ue()}},Pe()),onKeyUp:ke,onKeyDown:Oe});break;case"wordUnderCursor":var xe=bc(R,{noSymbol:!0}),De=!0;if(xe||(xe=bc(R,{noSymbol:!1}),De=!1),!xe){Er(R,"No word under cursor"),Ce(R);return}let Be=R.getLine(xe.start.line).substring(xe.start.ch,xe.end.ch);De&&$?Be="\\b"+Be+"\\b":Be=ln(Be),k.jumpList.cachedCursor=R.getCursor(),R.setCursor(xe.start),Re(Be,!0,!1);break}},processEx:function(R,w,D){function M(oe){k.exCommandHistoryController.pushInput(oe),k.exCommandHistoryController.reset(),ii.processCommand(R,oe),R.state.vim&&Ce(R),Ol(R)}function $(oe,de,Re){var ye=_e(oe),Pe,ke;(ye=="<Esc>"||ye=="<C-c>"||ye=="<C-[>"||ye=="<BS>"&&de=="")&&(k.exCommandHistoryController.pushInput(de),k.exCommandHistoryController.reset(),t.e_stop(oe),Ce(R),Ol(R),Re(),R.focus()),ye=="<Up>"||ye=="<Down>"?(t.e_stop(oe),Pe=ye=="<Up>",ke=oe.target?oe.target.selectionEnd:0,de=k.exCommandHistoryController.nextMatch(de,Pe)||"",Re(de),ke&&oe.target&&(oe.target.selectionEnd=oe.target.selectionStart=Math.min(ke,oe.target.value.length))):ye=="<C-u>"?(t.e_stop(oe),Re("")):ye&&ye!="<Left>"&&ye!="<Right>"&&k.exCommandHistoryController.reset()}function G(oe,de){var Re=new t.StringStream(de),ye={};try{if(ii.parseInput_(R,Re,ye),ye.commandName!="s"){Ol(R);return}var Pe=ii.matchCommand_(ye.commandName);if(!Pe||(ii.parseCommandArgs_(Re,ye,Pe),!ye.argString))return;var ke=jb(ye.argString.slice(1),!0,!0);ke&&pS(R,ke)}catch{}}if(D.type=="keyToEx")ii.processCommand(R,D.exArgs.input);else{var ee={onClose:M,onKeyDown:$,onKeyUp:G,prefix:":"};w.visualMode&&(ee.value="'<,'>",ee.selectValueOnOpen=!1),go(R,ee)}},evalInput:function(R,w){var D=w.inputState,M=D.motion,$=D.motionArgs||{repeat:1},G=D.operator,ee=D.operatorArgs||{},oe=D.registerName,de=w.sel,Re=Qe(w.visualMode?Se(R,de.head):R.getCursor("head")),ye=Qe(w.visualMode?Se(R,de.anchor):R.getCursor("anchor")),Pe=Qe(Re),ke=Qe(ye),Ue,Oe,Xe;if(G&&this.recordLastEdit(w,D),D.repeatOverride!==void 0?Xe=D.repeatOverride:Xe=D.getRepeat(),Xe>0&&$.explicitRepeat?$.repeatIsExplicit=!0:($.noRepeat||!$.explicitRepeat&&Xe===0)&&(Xe=1,$.repeatIsExplicit=!1),D.selectedCharacter&&($.selectedCharacter=ee.selectedCharacter=D.selectedCharacter),$.repeat=Xe,Ce(R),M){var xe=le[M](R,Re,$,w,D);if(w.lastMotion=le[M],!xe)return;if($.toJumplist){var De=k.jumpList,Be=De.cachedCursor;Be?(aS(R,Be,xe),delete De.cachedCursor):aS(R,Re,xe)}xe instanceof Array?(Oe=xe[0],Ue=xe[1]):Ue=xe,Ue||(Ue=Qe(Re)),w.visualMode?(w.visualBlock&&Ue.ch===1/0||(Ue=Se(R,Ue,Pe)),Oe&&(Oe=Se(R,Oe)),Oe=Oe||ke,de.anchor=Oe,de.head=Ue,Yt(R),Ia(R,w,"<",Nt(Oe,Ue)?Oe:Ue),Ia(R,w,">",Nt(Oe,Ue)?Ue:Oe)):G||(Ue=Se(R,Ue,Pe),R.setCursor(Ue.line,Ue.ch))}if(G){if(ee.lastSel){Oe=ke;var et=ee.lastSel,ct=Math.abs(et.head.line-et.anchor.line),ft=Math.abs(et.head.ch-et.anchor.ch);et.visualLine?Ue=new e(ke.line+ct,ke.ch):et.visualBlock?Ue=new e(ke.line+ct,ke.ch+ft):et.head.line==et.anchor.line?Ue=new e(ke.line,ke.ch+ft):Ue=new e(ke.line+ct,ke.ch),w.visualMode=!0,w.visualLine=et.visualLine,w.visualBlock=et.visualBlock,de=w.sel={anchor:Oe,head:Ue},Yt(R)}else w.visualMode&&(ee.lastSel={anchor:Qe(de.anchor),head:Qe(de.head),visualBlock:w.visualBlock,visualLine:w.visualLine});var _t,Dt,Mt,bt,ar;if(w.visualMode){_t=Pt(de.head,de.anchor),Dt=vt(de.head,de.anchor),Mt=w.visualLine||ee.linewise,bt=w.visualBlock?"block":Mt?"line":"char";var Os=r(R,_t,Dt);if(ar=Ur(R,{anchor:Os.start,head:Os.end},bt),Mt){var Un=ar.ranges;if(bt=="block")for(var oi=0;oi<Un.length;oi++)Un[oi].head.ch=wt(R,Un[oi].head.line);else bt=="line"&&(Un[0].head=new e(Un[0].head.line+1,0))}}else{if(_t=Qe(Oe||ke),Dt=Qe(Ue||Pe),Nt(Dt,_t)){var Ri=_t;_t=Dt,Dt=Ri}Mt=$.linewise||ee.linewise,Mt?Nc(R,_t,Dt):$.forward&&Zo(R,_t,Dt),bt="char";var U5=!$.inclusive||Mt,Os=r(R,_t,Dt);ar=Ur(R,{anchor:Os.start,head:Os.end},bt,U5)}R.setSelections(ar.ranges,ar.primary),w.lastMotion=null,ee.repeat=Xe,ee.registerName=oe,ee.linewise=Mt;var NS=ue[G](R,ee,ar.ranges,ke,Ue);w.visualMode&&us(R,NS!=null),NS&&R.setCursor(NS)}},recordLastEdit:function(R,w,D){var M=k.macroModeState;M.isPlaying||(R.lastEditInputState=w,R.lastEditActionCommand=D,M.lastInsertModeChanges.changes=[],M.lastInsertModeChanges.expectCursorActivityForChange=!1,M.lastInsertModeChanges.visualBlock=R.visualBlock?R.sel.head.line-R.sel.anchor.line:0)}},le={moveToTopLine:function(R,w,D){var M=Zu(R).top+D.repeat-1;return new e(M,si(R.getLine(M)))},moveToMiddleLine:function(R){var w=Zu(R),D=Math.floor((w.top+w.bottom)*.5);return new e(D,si(R.getLine(D)))},moveToBottomLine:function(R,w,D){var M=Zu(R).bottom-D.repeat+1;return new e(M,si(R.getLine(M)))},expandToLine:function(R,w,D){var M=w;return new e(M.line+D.repeat-1,1/0)},findNext:function(R,w,D){var M=Ai(R),$=M.getQuery();if($){var G=!D.forward;G=M.isReversed()?!G:G,pS(R,$);var ee=gp(R,G,$,D.repeat);return ee||Er(R,"No match found "+$+(P("pcre")?" (set nopcre to use Vim regexps)":"")),ee}},findAndSelectNextInclusive:function(R,w,D,M,$){var G=Ai(R),ee=G.getQuery();if(ee){var oe=!D.forward;oe=G.isReversed()?!oe:oe;var de=ES(R,oe,ee,D.repeat,M);if(de){if($.operator)return de;var Re=de[0],ye=new e(de[1].line,de[1].ch-1);if(M.visualMode){(M.visualLine||M.visualBlock)&&(M.visualLine=!1,M.visualBlock=!1,t.signal(R,"vim-mode-change",{mode:"visual",subMode:""}));var Pe=M.sel.anchor;if(Pe)return G.isReversed()?D.forward?[Pe,Re]:[Pe,ye]:D.forward?[Pe,ye]:[Pe,Re]}else M.visualMode=!0,M.visualLine=!1,M.visualBlock=!1,t.signal(R,"vim-mode-change",{mode:"visual",subMode:""});return oe?[ye,Re]:[Re,ye]}}},goToMark:function(R,w,D,M){var $=wc(R,M,D.selectedCharacter||"");return $?D.linewise?{line:$.line,ch:si(R.getLine($.line))}:$:null},moveToOtherHighlightedEnd:function(R,w,D,M){var $=M.sel;return M.visualBlock&&D.sameLine?[Se(R,new e($.anchor.line,$.head.ch)),Se(R,new e($.head.line,$.anchor.ch))]:[$.head,$.anchor]},jumpToMark:function(R,w,D,M){for(var $=w,G=0;G<D.repeat;G++){var ee=$;for(var oe in M.marks)if(v(oe)){var de=M.marks[oe].find(),Re=D.forward?Nt(de,ee):Nt(ee,de);if(!Re&&!(D.linewise&&de.line==ee.line)){var ye=Lt(ee,$),Pe=D.forward?mn(ee,de,$):mn($,de,ee);(ye||Pe)&&($=de)}}}return D.linewise&&($=new e($.line,si(R.getLine($.line)))),$},moveByCharacters:function(R,w,D){var M=w,$=D.repeat,G=D.forward?M.ch+$:M.ch-$;return new e(M.line,G)},moveByLines:function(R,w,D,M){var $=w,G=$.ch;switch(M.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:G=M.lastHPos;break;default:M.lastHPos=G}var ee=D.repeat+(D.repeatOffset||0),oe=D.forward?$.line+ee:$.line-ee,de=R.firstLine(),Re=R.lastLine(),ye=R.findPosV($,D.forward?ee:-ee,"line",M.lastHSPos),Pe=D.forward?ye.line>oe:ye.line<oe;return Pe&&(oe=ye.line,G=ye.ch),oe<de&&$.line==de?this.moveToStartOfLine(R,w,D,M):oe>Re&&$.line==Re?xc(R,w,D,M,!0):(D.toFirstChar&&(G=si(R.getLine(oe)),M.lastHPos=G),M.lastHSPos=R.charCoords(new e(oe,G),"div").left,new e(oe,G))},moveByDisplayLines:function(R,w,D,M){var $=w;switch(M.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:M.lastHSPos=R.charCoords($,"div").left}var G=D.repeat,ee=R.findPosV($,D.forward?G:-G,"line",M.lastHSPos);if(ee.hitSide)if(D.forward){var oe=R.charCoords(ee,"div"),de={top:oe.top+8,left:M.lastHSPos};ee=R.coordsChar(de,"div")}else{var Re=R.charCoords(new e(R.firstLine(),0),"div");Re.left=M.lastHSPos,ee=R.coordsChar(Re,"div")}return M.lastHPos=ee.ch,ee},moveByPage:function(R,w,D){var M=w,$=D.repeat;return R.findPosV(M,D.forward?$:-$,"page")},moveByParagraph:function(R,w,D){var M=D.forward?1:-1;return uS(R,w,D.repeat,M).start},moveBySentence:function(R,w,D){var M=D.forward?1:-1;return dS(R,w,D.repeat,M)},moveByScroll:function(R,w,D,M){var $=R.getScrollInfo(),G=null,ee=D.repeat;ee||(ee=$.clientHeight/(2*R.defaultTextHeight()));var oe=R.charCoords(w,"local");if(D.repeat=ee,G=le.moveByDisplayLines(R,w,D,M),!G)return null;var de=R.charCoords(G,"local");return R.scrollTo(null,$.top+de.top-oe.top),G},moveByWords:function(R,w,D){return It(R,w,D.repeat,!!D.forward,!!D.wordEnd,!!D.bigWord)},moveTillCharacter:function(R,w,D){var M=D.repeat,$=dr(R,M,D.forward,D.selectedCharacter,w),G=D.forward?-1:1;return Cc(G,D),$?($.ch+=G,$):null},moveToCharacter:function(R,w,D){var M=D.repeat;return Cc(0,D),dr(R,M,D.forward,D.selectedCharacter,w)||w},moveToSymbol:function(R,w,D){var M=D.repeat;return D.selectedCharacter&&mp(R,M,D.forward,D.selectedCharacter)||w},moveToColumn:function(R,w,D,M){var $=D.repeat;return M.lastHPos=$-1,M.lastHSPos=R.charCoords(w,"div").left,cS(R,$)},moveToEol:function(R,w,D,M){return xc(R,w,D,M,!1)},moveToFirstNonWhiteSpaceCharacter:function(R,w){var D=w;return new e(D.line,si(R.getLine(D.line)))},moveToMatchedSymbol:function(R,w){for(var D=w,M=D.line,$=D.ch,G=R.getLine(M),ee;$<G.length;$++)if(ee=G.charAt($),ee&&N(ee)){var oe=R.getTokenTypeAt(new e(M,$+1));if(oe!=="string"&&oe!=="comment")break}if($<G.length){var de=ee==="<"||ee===">"?/[(){}[\]<>]/:/[(){}[\]]/,Re=R.findMatchingBracket(new e(M,$),{bracketRegex:de});return Re.to}else return D},moveToStartOfLine:function(R,w){return new e(w.line,0)},moveToLineOrEdgeOfDocument:function(R,w,D){var M=D.forward?R.lastLine():R.firstLine();return D.repeatIsExplicit&&(M=D.repeat-R.getOption("firstLineNumber")),new e(M,si(R.getLine(M)))},moveToStartOfDisplayLine:function(R){return R.execCommand("goLineLeft"),R.getCursor()},moveToEndOfDisplayLine:function(R){R.execCommand("goLineRight");var w=R.getCursor();return w.sticky=="before"&&w.ch--,w},textObjectManipulation:function(R,w,D,M){var $={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},G={"'":!0,'"':!0,"`":!0},ee=D.selectedCharacter||"";ee=="b"?ee="(":ee=="B"&&(ee="{");var oe=!D.textObjectInner,de,Re;if($[ee]){if(Re=!0,de=pp(R,w,ee,oe),!de){var ye=R.getSearchCursor(new RegExp("\\"+ee,"g"),w);ye.find()&&(de=pp(R,ye.from(),ee,oe))}}else if(G[ee])Re=!0,de=Pb(R,w,ee,oe);else if(ee==="W"||ee==="w")for(var Pe=D.repeat||1;Pe-- >0;){var ke=bc(R,{inclusive:oe,innerWord:!oe,bigWord:ee==="W",noSymbol:ee==="W",multiline:!0},de&&de.end);ke&&(de||(de=ke),de.end=ke.end)}else if(ee==="p")if(de=uS(R,w,D.repeat,0,oe),D.linewise=!0,M.visualMode)M.visualLine||(M.visualLine=!0);else{var Ue=M.inputState.operatorArgs;Ue&&(Ue.linewise=!0),de.end.line--}else if(ee==="t")de=Xu(R,w,oe);else if(ee==="s"){var Oe=R.getLine(w.line);w.ch>0&&b(Oe[w.ch])&&(w.ch-=1);var Xe=Qu(R,w,D.repeat,1,oe),xe=Qu(R,w,D.repeat,-1,oe);A(R.getLine(xe.line)[xe.ch])&&A(R.getLine(Xe.line)[Xe.ch-1])&&(xe={line:xe.line,ch:xe.ch+1}),de={start:xe,end:Xe}}return de?R.state.vim.visualMode?ur(R,de.start,de.end,Re):[de.start,de.end]:null},repeatLastCharacterSearch:function(R,w,D){var M=k.lastCharacterSearch,$=D.repeat,G=D.forward===M.forward,ee=(M.increment?1:0)*(G?-1:1);R.moveH(-ee,"char"),D.inclusive=!!G;var oe=dr(R,$,G,M.selectedCharacter);return oe?(oe.ch+=ee,oe):(R.moveH(ee,"char"),w)}};function we(R,w){le[R]=w}function Ie(R,w){for(var D=[],M=0;M<w;M++)D.push(R);return D}var ue={change:function(R,w,D){var M,$,G=R.state.vim,ee=D[0].anchor,oe=D[0].head;if(G.visualMode)if(w.fullLine)oe.ch=Number.MAX_VALUE,oe.line--,R.setSelection(ee,oe),$=R.getSelection(),R.replaceSelection(""),M=ee;else{$=R.getSelection();var ye=Ie("",D.length);R.replaceSelections(ye),M=Pt(D[0].head,D[0].anchor)}else{$=R.getRange(ee,oe);var de=G.lastEditInputState;if((de==null?void 0:de.motion)=="moveByWords"&&!A($)){var Re=/\s+$/.exec($);Re&&de.motionArgs&&de.motionArgs.forward&&(oe=Ge(oe,0,-Re[0].length),$=$.slice(0,-Re[0].length))}w.linewise&&(ee=new e(ee.line,si(R.getLine(ee.line))),oe.line>ee.line&&(oe=new e(oe.line-1,Number.MAX_VALUE))),R.replaceRange("",ee,oe),M=ee}k.registerController.pushText(w.registerName,"change",$,w.linewise,D.length>1),he.enterInsertMode(R,{head:M},R.state.vim)},delete:function(R,w,D){var M,$,G=R.state.vim;if(G.visualBlock){$=R.getSelection();var de=Ie("",D.length);R.replaceSelections(de),M=Pt(D[0].head,D[0].anchor)}else{var ee=D[0].anchor,oe=D[0].head;w.linewise&&oe.line!=R.firstLine()&&ee.line==R.lastLine()&&ee.line==oe.line-1&&(ee.line==R.firstLine()?ee.ch=0:ee=new e(ee.line-1,wt(R,ee.line-1))),$=R.getRange(ee,oe),R.replaceRange("",ee,oe),M=ee,w.linewise&&(M=le.moveToFirstNonWhiteSpaceCharacter(R,ee))}return k.registerController.pushText(w.registerName,"delete",$,w.linewise,G.visualBlock),Se(R,M)},indent:function(R,w,D){var M=R.state.vim,$=M.visualMode&&w.repeat||1;if(M.visualBlock){for(var G=R.getOption("tabSize"),ee=R.getOption("indentWithTabs")?"	":" ".repeat(G),oe,de=D.length-1;de>=0;de--)if(oe=Pt(D[de].anchor,D[de].head),w.indentRight)R.replaceRange(ee.repeat($),oe,oe);else{for(var Re=R.getLine(oe.line),ye=0,Pe=0;Pe<$;Pe++){var ke=Re[oe.ch+ye];if(ke=="	")ye++;else if(ke==" "){ye++;for(var Ue=1;Ue<ee.length&&(ke=Re[oe.ch+ye],ke===" ");Ue++)ye++}else break}R.replaceRange("",oe,Ge(oe,0,ye))}return oe}else if(R.indentMore)for(var Pe=0;Pe<$;Pe++)w.indentRight?R.indentMore():R.indentLess();else{var Oe=D[0].anchor.line,Xe=M.visualBlock?D[D.length-1].anchor.line:D[0].head.line;w.linewise&&Xe--;for(var de=Oe;de<=Xe;de++)for(var Pe=0;Pe<$;Pe++)R.indentLine(de,w.indentRight)}return le.moveToFirstNonWhiteSpaceCharacter(R,D[0].anchor)},indentAuto:function(R,w,D){return R.execCommand("indentAuto"),le.moveToFirstNonWhiteSpaceCharacter(R,D[0].anchor)},hardWrap:function(R,w,D,M){if(R.hardWrap){var $=D[0].anchor.line,G=D[0].head.line;w.linewise&&G--;var ee=R.hardWrap({from:$,to:G});return ee>$&&w.linewise&&ee--,w.keepCursor?M:new e(ee,0)}},changeCase:function(R,w,D,M,$){for(var G=R.getSelections(),ee=[],oe=w.toLower,de=0;de<G.length;de++){var Re=G[de],ye="";if(oe===!0)ye=Re.toLowerCase();else if(oe===!1)ye=Re.toUpperCase();else for(var Pe=0;Pe<Re.length;Pe++){var ke=Re.charAt(Pe);ye+=x(ke)?ke.toLowerCase():ke.toUpperCase()}ee.push(ye)}return R.replaceSelections(ee),w.shouldMoveCursor?$:!R.state.vim.visualMode&&w.linewise&&D[0].anchor.line+1==D[0].head.line?le.moveToFirstNonWhiteSpaceCharacter(R,M):w.linewise?M:Pt(D[0].anchor,D[0].head)},yank:function(R,w,D,M){var $=R.state.vim,G=R.getSelection(),ee=$.visualMode?Pt($.sel.anchor,$.sel.head,D[0].head,D[0].anchor):M;return k.registerController.pushText(w.registerName,"yank",G,w.linewise,$.visualBlock),ee},rot13:function(R,w,D,M,$){for(var G=R.getSelections(),ee=[],oe=0;oe<G.length;oe++){const de=G[oe].split("").map(Re=>{const ye=Re.charCodeAt(0);return ye>=65&&ye<=90?String.fromCharCode(65+(ye-65+13)%26):ye>=97&&ye<=122?String.fromCharCode(97+(ye-97+13)%26):Re}).join("");ee.push(de)}return R.replaceSelections(ee),w.shouldMoveCursor?$:!R.state.vim.visualMode&&w.linewise&&D[0].anchor.line+1==D[0].head.line?le.moveToFirstNonWhiteSpaceCharacter(R,M):w.linewise?M:Pt(D[0].anchor,D[0].head)}};function pe(R,w){ue[R]=w}var he={jumpListWalk:function(R,w,D){if(!D.visualMode){var M=w.repeat||1,$=w.forward,G=k.jumpList,ee=G.move(R,$?M:-M),oe=ee?ee.find():void 0;oe=oe||R.getCursor(),R.setCursor(oe)}},scroll:function(R,w,D){if(!D.visualMode){var M=w.repeat||1,$=R.defaultTextHeight(),G=R.getScrollInfo().top,ee=$*M,oe=w.forward?G+ee:G-ee,de=Qe(R.getCursor()),Re=R.charCoords(de,"local");if(w.forward)oe>Re.top?(de.line+=(oe-Re.top)/$,de.line=Math.ceil(de.line),R.setCursor(de),Re=R.charCoords(de,"local"),R.scrollTo(null,Re.top)):R.scrollTo(null,oe);else{var ye=oe+R.getScrollInfo().clientHeight;ye<Re.bottom?(de.line-=(Re.bottom-ye)/$,de.line=Math.floor(de.line),R.setCursor(de),Re=R.charCoords(de,"local"),R.scrollTo(null,Re.bottom-R.getScrollInfo().clientHeight)):R.scrollTo(null,oe)}}},scrollToCursor:function(R,w){var D=R.getCursor().line,M=R.charCoords(new e(D,0),"local"),$=R.getScrollInfo().clientHeight,G=M.top;switch(w.position){case"center":G=M.bottom-$/2;break;case"bottom":var ee=new e(D,R.getLine(D).length-1),oe=R.charCoords(ee,"local"),de=oe.bottom-G;G=G-$+de;break}R.scrollTo(null,G)},replayMacro:function(R,w,D){var M=w.selectedCharacter||"",$=w.repeat||1,G=k.macroModeState;for(M=="@"?M=G.latestRegister||"":G.latestRegister=M;$--;)Tp(R,D,G,M)},enterMacroRecordMode:function(R,w){var D=k.macroModeState,M=w.selectedCharacter;k.registerController.isValidRegister(M)&&D.enterMacroRecordMode(R,M)},toggleOverwrite:function(R){R.state.overwrite?(R.toggleOverwrite(!1),R.setOption("keyMap","vim-insert"),t.signal(R,"vim-mode-change",{mode:"insert"})):(R.toggleOverwrite(!0),R.setOption("keyMap","vim-replace"),t.signal(R,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(R,w,D){if(!R.getOption("readOnly")){D.insertMode=!0,D.insertModeRepeat=w&&w.repeat||1;var M=w?w.insertAt:null,$=D.sel,G=w.head||R.getCursor("head"),ee=R.listSelections().length;if(M=="eol")G=new e(G.line,wt(R,G.line));else if(M=="bol")G=new e(G.line,0);else if(M=="charAfter"){var oe=r(R,G,Ge(G,0,1));G=oe.end}else if(M=="firstNonBlank"){var oe=r(R,G,le.moveToFirstNonWhiteSpaceCharacter(R,G));G=oe.end}else if(M=="startOfSelectedArea"){if(!D.visualMode)return;D.visualBlock?(G=new e(Math.min($.head.line,$.anchor.line),Math.min($.head.ch,$.anchor.ch)),ee=Math.abs($.head.line-$.anchor.line)+1):$.head.line<$.anchor.line?G=$.head:G=new e($.anchor.line,0)}else if(M=="endOfSelectedArea"){if(!D.visualMode)return;D.visualBlock?(G=new e(Math.min($.head.line,$.anchor.line),Math.max($.head.ch,$.anchor.ch)+1),ee=Math.abs($.head.line-$.anchor.line)+1):$.head.line>=$.anchor.line?G=Ge($.head,0,1):G=new e($.anchor.line,0)}else if(M=="inplace"){if(D.visualMode)return}else M=="lastEdit"&&(G=Oc(R)||G);R.setOption("disableInput",!1),w&&w.replace?(R.toggleOverwrite(!0),R.setOption("keyMap","vim-replace"),t.signal(R,"vim-mode-change",{mode:"replace"})):(R.toggleOverwrite(!1),R.setOption("keyMap","vim-insert"),t.signal(R,"vim-mode-change",{mode:"insert"})),k.macroModeState.isPlaying||(R.on("change",Gb),D.insertEnd&&D.insertEnd.clear(),D.insertEnd=R.setBookmark(G,{insertLeft:!0}),t.on(R.getInputField(),"keydown",zb)),D.visualMode&&us(R),Rn(R,G,ee)}},toggleVisualMode:function(R,w,D){var M=w.repeat,$=R.getCursor(),G;if(D.visualMode)D.visualLine!=!!w.linewise||D.visualBlock!=!!w.blockwise?(D.visualLine=!!w.linewise,D.visualBlock=!!w.blockwise,t.signal(R,"vim-mode-change",{mode:"visual",subMode:D.visualLine?"linewise":D.visualBlock?"blockwise":""}),Yt(R)):us(R);else{D.visualMode=!0,D.visualLine=!!w.linewise,D.visualBlock=!!w.blockwise,G=Se(R,new e($.line,$.ch+M-1));var ee=r(R,$,G);D.sel={anchor:ee.start,head:ee.end},t.signal(R,"vim-mode-change",{mode:"visual",subMode:D.visualLine?"linewise":D.visualBlock?"blockwise":""}),Yt(R),Ia(R,D,"<",Pt($,G)),Ia(R,D,">",vt($,G))}},reselectLastSelection:function(R,w,D){var M=D.lastSelection;if(D.visualMode&&Qt(R,D),M){var $=M.anchorMark.find(),G=M.headMark.find();if(!$||!G)return;D.sel={anchor:$,head:G},D.visualMode=!0,D.visualLine=M.visualLine,D.visualBlock=M.visualBlock,Yt(R),Ia(R,D,"<",Pt($,G)),Ia(R,D,">",vt($,G)),t.signal(R,"vim-mode-change",{mode:"visual",subMode:D.visualLine?"linewise":D.visualBlock?"blockwise":""})}},joinLines:function(R,w,D){var M,$;if(D.visualMode){if(M=R.getCursor("anchor"),$=R.getCursor("head"),Nt($,M)){var G=$;$=M,M=G}$.ch=wt(R,$.line)-1}else{var ee=Math.max(w.repeat,2);M=R.getCursor(),$=Se(R,new e(M.line+ee-1,1/0))}for(var oe=0,de=M.line;de<$.line;de++){oe=wt(R,M.line);var Re="",ye=0;if(!w.keepSpaces){var Pe=R.getLine(M.line+1);ye=Pe.search(/\S/),ye==-1?ye=Pe.length:Re=" "}R.replaceRange(Re,new e(M.line,oe),new e(M.line+1,ye))}var ke=Se(R,new e(M.line,oe));D.visualMode&&us(R,!1),R.setCursor(ke)},newLineAndEnterInsertMode:function(R,w,D){D.insertMode=!0;var M=Qe(R.getCursor());if(M.line===R.firstLine()&&!w.after)R.replaceRange(`
`,new e(R.firstLine(),0)),R.setCursor(R.firstLine(),0);else{M.line=w.after?M.line:M.line-1,M.ch=wt(R,M.line),R.setCursor(M);var $=t.commands.newlineAndIndentContinueComment||t.commands.newlineAndIndent;$(R)}this.enterInsertMode(R,{repeat:w.repeat},D)},paste:function(R,w,D){var M=k.registerController.getRegister(w.registerName);if(w.registerName==="+")navigator.clipboard.readText().then(G=>{this.continuePaste(R,w,D,G,M)});else{var $=M.toString();this.continuePaste(R,w,D,$,M)}},continuePaste:function(R,w,D,M,$){var G=Qe(R.getCursor());if(M){if(w.matchIndent){var ee=R.getOption("tabSize"),oe=function(Un){var oi=Un.split("	").length-1,Ri=Un.split(" ").length-1;return oi*ee+Ri*1},de=R.getLine(R.getCursor().line),Re=oe(de.match(/^\s*/)[0]),ye=M.replace(/\n$/,""),Pe=M!==ye,ke=oe(M.match(/^\s*/)[0]),M=ye.replace(/^\s*/gm,function(Un){var oi=Re+(oe(Un)-ke);if(oi<0)return"";if(R.getOption("indentWithTabs")){var Ri=Math.floor(oi/ee);return Array(Ri+1).join("	")}else return Array(oi+1).join(" ")});M+=Pe?`
`:""}w.repeat>1&&(M=Array(w.repeat+1).join(M));var Ue=$.linewise,Oe=$.blockwise,Xe=Oe?M.split(`
`):void 0;if(Xe){Ue&&Xe.pop();for(var xe=0;xe<Xe.length;xe++)Xe[xe]=Xe[xe]==""?" ":Xe[xe];G.ch+=w.after?1:0,G.ch=Math.min(wt(R,G.line),G.ch)}else Ue?D.visualMode?M=D.visualLine?M.slice(0,-1):`
`+M.slice(0,M.length-1)+`
`:w.after?(M=`
`+M.slice(0,M.length-1),G.ch=wt(R,G.line)):G.ch=0:G.ch+=w.after?1:0;var De;if(D.visualMode){D.lastPastedText=M;var Be,et=Eo(R),ct=et[0],ft=et[1],_t=R.getSelection(),Dt=R.listSelections(),Mt=new Array(Dt.length).join("1").split("1");D.lastSelection&&(Be=D.lastSelection.headMark.find()),k.registerController.unnamedRegister.setText(_t),Oe?(R.replaceSelections(Mt),ft=new e(ct.line+M.length-1,ct.ch),R.setCursor(ct),Jr(R,ft),R.replaceSelections(M),De=ct):D.visualBlock?(R.replaceSelections(Mt),R.setCursor(ct),R.replaceRange(M,ct,ct),De=ct):(R.replaceRange(M,ct,ft),De=R.posFromIndex(R.indexFromPos(ct)+M.length-1)),Be&&(D.lastSelection.headMark=R.setBookmark(Be)),Ue&&(De.ch=0)}else if(Oe&&Xe){R.setCursor(G);for(var xe=0;xe<Xe.length;xe++){var bt=G.line+xe;bt>R.lastLine()&&R.replaceRange(`
`,new e(bt,0));var ar=wt(R,bt);ar<G.ch&&Zn(R,bt,G.ch)}R.setCursor(G),Jr(R,new e(G.line+Xe.length-1,G.ch)),R.replaceSelections(Xe),De=G}else if(R.replaceRange(M,G),Ue){var bt=w.after?G.line+1:G.line;De=new e(bt,si(R.getLine(bt)))}else De=Qe(G),/\n/.test(M)||(De.ch+=M.length-(w.after?1:0));D.visualMode&&us(R,!1),R.setCursor(De)}},undo:function(R,w){R.operation(function(){lt(R,t.commands.undo,w.repeat)(),R.setCursor(Se(R,R.getCursor("start")))})},redo:function(R,w){lt(R,t.commands.redo,w.repeat)()},setRegister:function(R,w,D){D.inputState.registerName=w.selectedCharacter},insertRegister:function(R,w,D){var M=w.selectedCharacter,$=k.registerController.getRegister(M),G=$&&$.toString();G&&R.replaceSelection(G)},oneNormalCommand:function(R,w,D){Il(R,!0),D.insertModeReturn=!0,t.on(R,"vim-command-done",function M(){D.visualMode||(D.insertModeReturn&&(D.insertModeReturn=!1,D.insertMode||he.enterInsertMode(R,{},D)),t.off(R,"vim-command-done",M))})},setMark:function(R,w,D){var M=w.selectedCharacter;M&&Ia(R,D,M,R.getCursor())},replace:function(R,w,D){var M=w.selectedCharacter||"",$=R.getCursor(),G,ee,oe=R.listSelections();if(D.visualMode)$=R.getCursor("start"),ee=R.getCursor("end");else{var de=R.getLine($.line);G=$.ch+w.repeat,G>de.length&&(G=de.length),ee=new e($.line,G)}var Re=r(R,$,ee);if($=Re.start,ee=Re.end,M==`
`)D.visualMode||R.replaceRange("",$,ee),(t.commands.newlineAndIndentContinueComment||t.commands.newlineAndIndent)(R);else{var ye=R.getRange($,ee);if(ye=ye.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,M),ye=ye.replace(/[^\n]/g,M),D.visualBlock){var Pe=new Array(R.getOption("tabSize")+1).join(" ");ye=R.getSelection(),ye=ye.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,M);var ke=ye.replace(/\t/g,Pe).replace(/[^\n]/g,M).split(`
`);R.replaceSelections(ke)}else R.replaceRange(ye,$,ee);D.visualMode?($=Nt(oe[0].anchor,oe[0].head)?oe[0].anchor:oe[0].head,R.setCursor($),us(R,!1)):R.setCursor(Ge(ee,0,-1))}},incrementNumberToken:function(R,w){for(var D=R.getCursor(),M=R.getLine(D.line),$=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,G,ee,oe,de;(G=$.exec(M))!==null&&(ee=G.index,oe=ee+G[0].length,!(D.ch<oe)););if(!(!w.backtrack&&oe<=D.ch)){if(G){var Re=G[2]||G[4],ye=G[3]||G[5],Pe=w.increase?1:-1,ke={"0b":2,0:8,"":10,"0x":16}[Re.toLowerCase()],Ue=parseInt(G[1]+ye,ke)+Pe*w.repeat;de=Ue.toString(ke);var Oe=Re?new Array(ye.length-de.length+1+G[1].length).join("0"):"";de.charAt(0)==="-"?de="-"+Re+Oe+de.substr(1):de=Re+Oe+de;var Xe=new e(D.line,ee),xe=new e(D.line,oe);R.replaceRange(de,Xe,xe)}else return;R.setCursor(new e(D.line,ee+de.length-1))}},repeatLastEdit:function(R,w,D){var M=D.lastEditInputState;if(M){var $=w.repeat;$&&w.repeatIsExplicit?M.repeatOverride=$:$=M.repeatOverride||$,_h(R,D,$,!1)}},indent:function(R,w){R.indentLine(R.getCursor().line,w.indentRight)},exitInsertMode:function(R,w){Il(R)}};function Ne(R,w){he[R]=w}function Se(R,w,D){var M=R.state.vim,$=M.insertMode||M.visualMode,G=Math.min(Math.max(R.firstLine(),w.line),R.lastLine()),ee=R.getLine(G),oe=ee.length-1+ +!!$,de=Math.min(Math.max(0,w.ch),oe),Re=ee.charCodeAt(de);if(56320<=Re&&Re<=57343){var ye=1;D&&D.line==G&&D.ch>de&&(ye=-1),de+=ye,de>oe&&(de-=2)}return new e(G,de)}function Ye(R){var w={};for(var D in R)Object.prototype.hasOwnProperty.call(R,D)&&(w[D]=R[D]);return w}function Ge(R,w,D){return typeof w=="object"&&(D=w.ch,w=w.line),new e(R.line+w,R.ch+D)}function Ze(R,w,D,M){M.operator&&(D="operatorPending");for(var $,G=[],ee=[],oe=J?w.length-i:0,de=oe;de<w.length;de++){var Re=w[de];D=="insert"&&Re.context!="insert"||Re.context&&Re.context!=D||M.operator&&Re.type=="action"||!($=ut(R,Re.keys))||($=="partial"&&G.push(Re),$=="full"&&ee.push(Re))}return{partial:G,full:ee}}function ut(R,w){const D=w.slice(-11)=="<character>",M=w.slice(-10)=="<register>";if(D||M){var $=w.length-(D?11:10),G=R.slice(0,$),ee=w.slice(0,$);return G==ee&&R.length>$?"full":ee.indexOf(G)==0?"partial":!1}else return R==w?"full":w.indexOf(R)==0?"partial":!1}function He(R){var w=/^.*(<[^>]+>)$/.exec(R),D=w?w[1]:R.slice(-1);if(D.length>1)switch(D){case"<CR>":case"<S-CR>":D=`
`;break;case"<Space>":case"<S-Space>":D=" ";break;default:D="";break}return D}function lt(R,w,D){return function(){for(var M=0;M<D;M++)w(R)}}function Qe(R){return new e(R.line,R.ch)}function Lt(R,w){return R.ch==w.ch&&R.line==w.line}function Nt(R,w){return R.line<w.line||R.line==w.line&&R.ch<w.ch}function Pt(R,w){return arguments.length>2&&(w=Pt.apply(void 0,Array.prototype.slice.call(arguments,1))),Nt(R,w)?R:w}function vt(R,w){return arguments.length>2&&(w=vt.apply(void 0,Array.prototype.slice.call(arguments,1))),Nt(R,w)?w:R}function mn(R,w,D){var M=Nt(R,w),$=Nt(w,D);return M&&$}function wt(R,w){return R.getLine(w).length}function Rr(R){return R.trim?R.trim():R.replace(/^\s+|\s+$/g,"")}function ln(R){return R.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function Zn(R,w,D){var M=wt(R,w),$=new Array(D-M+1).join(" ");R.setCursor(new e(w,M)),R.replaceRange($,R.getCursor())}function Jr(R,w){var D=[],M=R.listSelections(),$=Qe(R.clipPos(w)),G=!Lt(w,$),ee=R.getCursor("head"),oe=ws(M,ee),de=Lt(M[oe].head,M[oe].anchor),Re=M.length-1,ye=Re-oe>oe?Re:0,Pe=M[ye].anchor,ke=Math.min(Pe.line,$.line),Ue=Math.max(Pe.line,$.line),Oe=Pe.ch,Xe=$.ch,xe=M[ye].head.ch-Oe,De=Xe-Oe;xe>0&&De<=0?(Oe++,G||Xe--):xe<0&&De>=0?(Oe--,de||Xe++):xe<0&&De==-1&&(Oe--,Xe++);for(var Be=ke;Be<=Ue;Be++){var et={anchor:new e(Be,Oe),head:new e(Be,Xe)};D.push(et)}return R.setSelections(D),w.ch=Xe,Pe.ch=Oe,Pe}function Rn(R,w,D){for(var M=[],$=0;$<D;$++){var G=Ge(w,$,0);M.push({anchor:G,head:G})}R.setSelections(M,0)}function ws(R,w,D){for(var M=0;M<R.length;M++){var $=Lt(R[M].anchor,w),G=Lt(R[M].head,w);if($||G)return M}return-1}function Eo(R,w){var D=R.listSelections(),M=D[0],$=D[D.length-1],G=Nt(M.anchor,M.head)?M.anchor:M.head,ee=Nt($.anchor,$.head)?$.head:$.anchor;return[G,ee]}function Qt(R,w){var D=w.sel.anchor,M=w.sel.head;w.lastPastedText&&(M=R.posFromIndex(R.indexFromPos(D)+w.lastPastedText.length),w.lastPastedText=void 0),w.lastSelection={anchorMark:R.setBookmark(D),headMark:R.setBookmark(M),anchor:Qe(D),head:Qe(M),visualMode:w.visualMode,visualLine:w.visualLine,visualBlock:w.visualBlock}}function ur(R,w,D,M){var $=R.state.vim.sel,G=M?w:$.head,ee=M?w:$.anchor,oe;return Nt(D,w)&&(oe=D,D=w,w=oe),Nt(G,ee)?(G=Pt(w,G),ee=vt(ee,D)):(ee=Pt(w,ee),G=vt(G,D),G=Ge(G,0,-1),G.ch==-1&&G.line!=R.firstLine()&&(G=new e(G.line-1,wt(R,G.line-1)))),[ee,G]}function Yt(R,w,D){var M=R.state.vim;w=w||M.sel,D||(D=M.visualLine?"line":M.visualBlock?"block":"char");var $=Ur(R,w,D);R.setSelections($.ranges,$.primary)}function Ur(R,w,D,M){var $=Qe(w.head),G=Qe(w.anchor);if(D=="char"){var ee=!M&&!Nt(w.head,w.anchor)?1:0,oe=Nt(w.head,w.anchor)?1:0;return $=Ge(w.head,0,ee),G=Ge(w.anchor,0,oe),{ranges:[{anchor:G,head:$}],primary:0}}else if(D=="line"){if(Nt(w.head,w.anchor))$.ch=0,G.ch=wt(R,G.line);else{G.ch=0;var de=R.lastLine();$.line>de&&($.line=de),$.ch=wt(R,$.line)}return{ranges:[{anchor:G,head:$}],primary:0}}else if(D=="block"){var Re=Math.min(G.line,$.line),ye=G.ch,Pe=Math.max(G.line,$.line),ke=$.ch;ye<ke?ke+=1:ye+=1;for(var Ue=Pe-Re+1,Oe=$.line==Re?0:Ue-1,Xe=[],xe=0;xe<Ue;xe++)Xe.push({anchor:new e(Re+xe,ye),head:new e(Re+xe,ke)});return{ranges:Xe,primary:Oe}}throw"never happens"}function cs(R){var w=R.getCursor("head");return R.getSelection().length==1&&(w=Pt(w,R.getCursor("anchor"))),w}function us(R,w){var D=R.state.vim;w!==!1&&R.setCursor(Se(R,D.sel.head)),Qt(R,D),D.visualMode=!1,D.visualLine=!1,D.visualBlock=!1,D.insertMode||t.signal(R,"vim-mode-change",{mode:"normal"})}function Zo(R,w,D){var M=R.getRange(w,D);if(/\n\s*$/.test(M)){var $=M.split(`
`);$.pop();for(var G=$.pop();$.length>0&&G&&A(G);G=$.pop())D.line--,D.ch=0;G?(D.line--,D.ch=wt(R,D.line)):D.ch=0}}function Nc(R,w,D){w.ch=0,D.ch=0,D.line++}function si(R){if(!R)return 0;var w=R.search(/\S/);return w==-1?R.length:w}function bc(R,{inclusive:w,innerWord:D,bigWord:M,noSymbol:$,multiline:G},ee){var oe=ee||cs(R),de=R.getLine(oe.line),Re=de,ye=oe.line,Pe=ye,ke=oe.ch,Ue,Oe=$?m[0]:f[0];if(D&&/\s/.test(de.charAt(ke)))Oe=function(ct){return/\s/.test(ct)};else{for(;!Oe(de.charAt(ke));)if(ke++,ke>=de.length){if(!G)return null;ke--,Ue=Oa(R,oe,!0,M,!0);break}M?Oe=f[0]:(Oe=m[0],Oe(de.charAt(ke))||(Oe=m[1]))}for(var Xe=ke,xe=ke;Oe(de.charAt(xe))&&xe>=0;)xe--;if(xe++,Ue)Xe=Ue.to,Pe=Ue.line,Re=R.getLine(Pe),!Re&&Xe==0&&Xe++;else for(;Oe(de.charAt(Xe))&&Xe<de.length;)Xe++;if(w){var De=Xe,Be=oe.ch<=xe&&/\s/.test(de.charAt(oe.ch));if(!Be)for(;/\s/.test(Re.charAt(Xe))&&Xe<Re.length;)Xe++;if(De==Xe||Be){for(var et=xe;/\s/.test(de.charAt(xe-1))&&xe>0;)xe--;!xe&&!Be&&(xe=et)}}return{start:new e(ye,xe),end:new e(Pe,Xe)}}function Xu(R,w,D){var M=w;if(!t.findMatchingTag||!t.findEnclosingTag)return{start:M,end:M};var $=t.findMatchingTag(R,w)||t.findEnclosingTag(R,w);return!$||!$.open||!$.close?{start:M,end:M}:D?{start:$.open.from,end:$.close.to}:{start:$.open.to,end:$.close.from}}function aS(R,w,D){Lt(w,D)||k.jumpList.add(R,w,D)}function Cc(R,w){k.lastCharacterSearch.increment=R,k.lastCharacterSearch.forward=w.forward,k.lastCharacterSearch.selectedCharacter=w.selectedCharacter}var lS={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},Vs={bracket:{isComplete:function(R){if(R.nextCh===R.symb){if(R.depth++,R.depth>=1)return!0}else R.nextCh===R.reverseSymb&&R.depth--;return!1}},section:{init:function(R){R.curMoveThrough=!0,R.symb=(R.forward?"]":"[")===R.symb?"{":"}"},isComplete:function(R){return R.index===0&&R.nextCh===R.symb}},comment:{isComplete:function(R){var w=R.lastCh==="*"&&R.nextCh==="/";return R.lastCh=R.nextCh,w}},method:{init:function(R){R.symb=R.symb==="m"?"{":"}",R.reverseSymb=R.symb==="{"?"}":"{"},isComplete:function(R){return R.nextCh===R.symb}},preprocess:{init:function(R){R.index=0},isComplete:function(R){var D;if(R.nextCh==="#"){var w=(D=R.lineText.match(/^#(\w+)/))==null?void 0:D[1];if(w==="endif"){if(R.forward&&R.depth===0)return!0;R.depth++}else if(w==="if"){if(!R.forward&&R.depth===0)return!0;R.depth--}if(w==="else"&&R.depth===0)return!0}return!1}}};function mp(R,w,D,M){var $=Qe(R.getCursor()),G=D?1:-1,ee=D?R.lineCount():-1,oe=$.ch,de=$.line,Re=R.getLine(de),ye={lineText:Re,nextCh:Re.charAt(oe),lastCh:null,index:oe,symb:M,reverseSymb:(D?{")":"(","}":"{"}:{"(":")","{":"}"})[M],forward:D,depth:0,curMoveThrough:!1},Pe=lS[M];if(!Pe)return $;var ke=Vs[Pe].init,Ue=Vs[Pe].isComplete;for(ke&&ke(ye);de!==ee&&w;){if(ye.index+=G,ye.nextCh=ye.lineText.charAt(ye.index),!ye.nextCh){if(de+=G,ye.lineText=R.getLine(de)||"",G>0)ye.index=0;else{var Oe=ye.lineText.length;ye.index=Oe>0?Oe-1:0}ye.nextCh=ye.lineText.charAt(ye.index)}Ue(ye)&&($.line=de,$.ch=ye.index,w--)}return ye.nextCh||ye.curMoveThrough?new e(de,ye.index):$}function Oa(R,w,D,M,$){var G=w.line,ee=w.ch,oe=R.getLine(G),de=D?1:-1,Re=M?f:m;if($&&oe==""){if(G+=de,oe=R.getLine(G),!S(R,G))return null;ee=D?0:oe.length}for(;;){if($&&oe=="")return{from:0,to:0,line:G};for(var ye=de>0?oe.length:-1,Pe=ye,ke=ye;ee!=ye;){for(var Ue=!1,Oe=0;Oe<Re.length&&!Ue;++Oe)if(Re[Oe](oe.charAt(ee))){for(Pe=ee;ee!=ye&&Re[Oe](oe.charAt(ee));)ee+=de;if(ke=ee,Ue=Pe!=ke,Pe==w.ch&&G==w.line&&ke==Pe+de)continue;return{from:Math.min(Pe,ke+1),to:Math.max(Pe,ke),line:G}}Ue||(ee+=de)}if(G+=de,!S(R,G))return null;oe=R.getLine(G),ee=de>0?0:oe.length}}function It(R,w,D,M,$,G){var ee=Qe(w),oe=[];(M&&!$||!M&&$)&&D++;for(var de=!(M&&$),Re=0;Re<D;Re++){var ye=Oa(R,w,M,G,de);if(!ye){var Pe=wt(R,R.lastLine());oe.push(M?{line:R.lastLine(),from:Pe,to:Pe}:{line:0,from:0,to:0});break}oe.push(ye),w=new e(ye.line,M?ye.to-1:ye.from)}var ke=oe.length!=D,Ue=oe[0],Oe=oe.pop();return M&&!$?(!ke&&(Ue.from!=ee.ch||Ue.line!=ee.line)&&(Oe=oe.pop()),Oe&&new e(Oe.line,Oe.from)):M&&$?Oe&&new e(Oe.line,Oe.to-1):!M&&$?(!ke&&(Ue.to!=ee.ch||Ue.line!=ee.line)&&(Oe=oe.pop()),Oe&&new e(Oe.line,Oe.to)):Oe&&new e(Oe.line,Oe.from)}function xc(R,w,D,M,$){var G=w,ee=new e(G.line+D.repeat-1,1/0),oe=R.clipPos(ee);return oe.ch--,$||(M.lastHPos=1/0,M.lastHSPos=R.charCoords(oe,"div").left),ee}function dr(R,w,D,M,$){if(M){for(var G=$||R.getCursor(),ee=G.ch,oe,de=0;de<w;de++){var Re=R.getLine(G.line);if(oe=Mb(ee,Re,M,D),oe==-1)return;ee=oe}if(oe!=null)return new e(R.getCursor().line,oe)}}function cS(R,w){var D=R.getCursor().line;return Se(R,new e(D,w-1))}function Ia(R,w,D,M){!_(D,p)&&!g.test(D)||(w.marks[D]&&w.marks[D].clear(),w.marks[D]=R.setBookmark(M))}function Mb(R,w,D,M,$){var G;return M?G=w.indexOf(D,R+1):G=w.lastIndexOf(D,R-1),G}function uS(R,w,D,M,$){var G=w.line,ee=R.firstLine(),oe=R.lastLine(),de,Re,ye=G;function Pe(xe){return!R.getLine(xe)}function ke(xe,De,Be){return Be?Pe(xe)!=Pe(xe+De):!Pe(xe)&&Pe(xe+De)}if(M){for(;ee<=ye&&ye<=oe&&D>0;)ke(ye,M)&&D--,ye+=M;return{start:new e(ye,0),end:w}}var Ue=R.state.vim;if(Ue.visualLine&&ke(G,1,!0)){var Oe=Ue.sel.anchor;ke(Oe.line,-1,!0)&&(!$||Oe.line!=G)&&(G+=1)}var Xe=Pe(G);for(ye=G;ye<=oe&&D;ye++)ke(ye,1,!0)&&(!$||Pe(ye)!=Xe)&&D--;for(Re=new e(ye,0),ye>oe&&!Xe?Xe=!0:$=!1,ye=G;ye>ee&&!((!$||Pe(ye)==Xe||ye==G)&&ke(ye,-1,!0));ye--);return de=new e(ye,0),{start:de,end:Re}}function Qu(R,w,D,M,$){function G(Re){Re.line!==null&&(Re.pos+Re.dir<0||Re.pos+Re.dir>=Re.line.length?Re.line=null:Re.pos+=Re.dir)}function ee(Re,ye,Pe,ke){var Ue=Re.getLine(ye),Oe={line:Ue,ln:ye,pos:Pe,dir:ke};if(Oe.line==="")return{ln:Oe.ln,pos:Oe.pos};var Xe=Oe.pos;for(G(Oe);Oe.line!==null;){if(Xe=Oe.pos,b(Oe.line[Oe.pos]))if($){for(G(Oe);Oe.line!==null&&A(Oe.line[Oe.pos]);)Xe=Oe.pos,G(Oe);return{ln:Oe.ln,pos:Xe+1}}else return{ln:Oe.ln,pos:Oe.pos+1};G(Oe)}return{ln:Oe.ln,pos:Xe+1}}function oe(Re,ye,Pe,ke){var Ue=Re.getLine(ye),Oe={line:Ue,ln:ye,pos:Pe,dir:ke};if(Oe.line==="")return{ln:Oe.ln,pos:Oe.pos};var Xe=Oe.pos;for(G(Oe);Oe.line!==null;){if(!A(Oe.line[Oe.pos])&&!b(Oe.line[Oe.pos]))Xe=Oe.pos;else if(b(Oe.line[Oe.pos]))return $?A(Oe.line[Oe.pos+1])?{ln:Oe.ln,pos:Oe.pos+1}:{ln:Oe.ln,pos:Xe}:{ln:Oe.ln,pos:Xe};G(Oe)}return Oe.line=Ue,$&&A(Oe.line[Oe.pos])?{ln:Oe.ln,pos:Oe.pos}:{ln:Oe.ln,pos:Xe}}for(var de={ln:w.line,pos:w.ch};D>0;)M<0?de=oe(R,de.ln,de.pos,M):de=ee(R,de.ln,de.pos,M),D--;return new e(de.ln,de.pos)}function dS(R,w,D,M){function $(de,Re){if(Re.line!==null)if(Re.pos+Re.dir<0||Re.pos+Re.dir>=Re.line.length){if(Re.ln+=Re.dir,!S(de,Re.ln)){Re.line=null;return}Re.line=de.getLine(Re.ln),Re.pos=Re.dir>0?0:Re.line.length-1}else Re.pos+=Re.dir}function G(de,Re,ye,Pe){var xe=de.getLine(Re),ke=xe==="",Ue={line:xe,ln:Re,pos:ye,dir:Pe},Oe={ln:Ue.ln,pos:Ue.pos},Xe=Ue.line==="";for($(de,Ue);Ue.line!==null;){if(Oe.ln=Ue.ln,Oe.pos=Ue.pos,Ue.line===""&&!Xe)return{ln:Ue.ln,pos:Ue.pos};if(ke&&Ue.line!==""&&!A(Ue.line[Ue.pos]))return{ln:Ue.ln,pos:Ue.pos};b(Ue.line[Ue.pos])&&!ke&&(Ue.pos===Ue.line.length-1||A(Ue.line[Ue.pos+1]))&&(ke=!0),$(de,Ue)}var xe=de.getLine(Oe.ln);Oe.pos=0;for(var De=xe.length-1;De>=0;--De)if(!A(xe[De])){Oe.pos=De;break}return Oe}function ee(de,Re,ye,Pe){var xe=de.getLine(Re),ke={line:xe,ln:Re,pos:ye,dir:Pe},Ue=ke.ln,Oe=null,Xe=ke.line==="";for($(de,ke);ke.line!==null;){if(ke.line===""&&!Xe)return Oe!==null?{ln:Ue,pos:Oe}:{ln:ke.ln,pos:ke.pos};if(b(ke.line[ke.pos])&&Oe!==null&&!(ke.ln===Ue&&ke.pos+1===Oe))return{ln:Ue,pos:Oe};ke.line!==""&&!A(ke.line[ke.pos])&&(Xe=!1,Ue=ke.ln,Oe=ke.pos),$(de,ke)}var xe=de.getLine(Ue);Oe=0;for(var De=0;De<xe.length;++De)if(!A(xe[De])){Oe=De;break}return{ln:Ue,pos:Oe}}for(var oe={ln:w.line,pos:w.ch};D>0;)M<0?oe=ee(R,oe.ln,oe.pos,M):oe=G(R,oe.ln,oe.pos,M),D--;return new e(oe.ln,oe.pos)}function pp(R,w,D,M){var $=w,G={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[D],ee={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[D],oe=R.getLine($.line).charAt($.ch),de=oe===ee?1:0,Re=R.scanForBracket(new e($.line,$.ch+de),-1,void 0,{bracketRegex:G}),ye=R.scanForBracket(new e($.line,$.ch+de),1,void 0,{bracketRegex:G});if(!Re||!ye)return null;var Pe=Re.pos,ke=ye.pos;if(Pe.line==ke.line&&Pe.ch>ke.ch||Pe.line>ke.line){var Ue=Pe;Pe=ke,ke=Ue}return M?ke.ch+=1:Pe.ch+=1,{start:Pe,end:ke}}function Pb(R,w,D,M){var $=Qe(w),G=R.getLine($.line),ee=G.split(""),oe,de,Re,ye,Pe=ee.indexOf(D);if($.ch<Pe)$.ch=Pe;else if(Pe<$.ch&&ee[$.ch]==D){var ke=/string/.test(R.getTokenTypeAt(Ge(w,0,1))),Ue=/string/.test(R.getTokenTypeAt(w)),Oe=ke&&!Ue;Oe||(de=$.ch,--$.ch)}if(ee[$.ch]==D&&!de)oe=$.ch+1;else for(Re=$.ch;Re>-1&&!oe;Re--)ee[Re]==D&&(oe=Re+1);if(oe&&!de)for(Re=oe,ye=ee.length;Re<ye&&!de;Re++)ee[Re]==D&&(de=Re);return!oe||!de?{start:$,end:$}:(M&&(--oe,++de),{start:new e($.line,oe),end:new e($.line,de)})}j("pcre",!0,"boolean");class Ep{constructor(){this.highlightTimeout}getQuery(){return k.query}setQuery(w){k.query=w}getOverlay(){return this.searchOverlay}setOverlay(w){this.searchOverlay=w}isReversed(){return k.isReversed}setReversed(w){k.isReversed=w}getScrollbarAnnotate(){return this.annotate}setScrollbarAnnotate(w){this.annotate=w}}function Ai(R){var w=R.state.vim;return w.searchState_||(w.searchState_=new Ep)}function kb(R){return hS(R,"/")}function w5(R){return fS(R,"/")}function hS(R,w){var D=fS(R,w)||[];if(!D.length)return[];var M=[];if(D[0]===0){for(var $=0;$<D.length;$++)typeof D[$]=="number"&&M.push(R.substring(D[$]+1,D[$+1]));return M}}function fS(R,w){w||(w="/");for(var D=!1,M=[],$=0;$<R.length;$++){var G=R.charAt($);!D&&G==w&&M.push($),D=!D&&G=="\\"}return M}function O5(R){var w={V:"|(){+?*.[$^",M:"|(){+?*.[",m:"|(){+?",v:"<>"},D={">":"(?<=[\\w])(?=[^\\w]|$)","<":"(?<=[^\\w]|^)(?=[\\w])"},M=w.m,$=R.replace(/\\.|[\[|(){+*?.$^<>]/g,function(ee){if(ee[0]==="\\"){var oe=ee[1];return oe==="}"||M.indexOf(oe)!=-1?oe:oe in w?(M=w[oe],""):oe in D?D[oe]:ee}else return M.indexOf(ee)!=-1?D[ee]||"\\"+ee:ee}),G=$.indexOf("\\zs");return G!=-1&&($="(?<="+$.slice(0,G)+")"+$.slice(G+3)),G=$.indexOf("\\ze"),G!=-1&&($=$.slice(0,G)+"(?="+$.slice(G+3)+")"),$}var Ub={"\\n":`
`,"\\r":"\r","\\t":"	"};function Oh(R){for(var w=!1,D=[],M=-1;M<R.length;M++){var $=R.charAt(M)||"",G=R.charAt(M+1)||"";Ub[$+G]?(D.push(Ub[$+G]),M++):w?(D.push($),w=!1):$==="\\"?(w=!0,C(G)||G==="$"?D.push("$"):G!=="/"&&G!=="\\"&&D.push("\\")):($==="$"&&D.push("$"),D.push($),G==="/"&&D.push("\\"))}return D.join("")}var Ju={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function mS(R){for(var w=new t.StringStream(R),D=[];!w.eol();){for(;w.peek()&&w.peek()!="\\";)D.push(w.next());var M=!1;for(var $ in Ju)if(w.match($,!0)){M=!0,D.push(Ju[$]);break}M||D.push(w.next())}return D.join("")}function jb(R,w,D){var M=k.registerController.getRegister("/");M.setText(R);var $=w5(R),G,ee;if(!$.length)G=R;else{G=R.substring(0,$[0]);var oe=R.substring($[0]);ee=oe.indexOf("i")!=-1}if(!G)return null;P("pcre")||(G=O5(G)),D&&(w=/^[^A-Z]*$/.test(G));var de=new RegExp(G,w||ee?"im":"m");return de}function Vi(R){typeof R=="string"&&(R=document.createElement(R));for(var w=1;w<arguments.length;w++){var D=arguments[w];if(D)if(typeof D!="object"&&(D=document.createTextNode(D)),D.nodeType)R.appendChild(D);else for(var M in D)Object.prototype.hasOwnProperty.call(D,M)&&(M[0]==="$"?R.style[M.slice(1)]=D[M]:typeof D[M]=="function"?R[M]=D[M]:R.setAttribute(M,D[M]))}return R}function Er(R,w,D){var M=Vi("div",{$color:"red",$whiteSpace:"pre",class:"cm-vim-message"},w);R.openNotification?D?(M=Vi("div",{},M,Vi("div",{},"Press ENTER or type command to continue")),R.state.closeVimNotification&&R.state.closeVimNotification(),R.state.closeVimNotification=R.openNotification(M,{bottom:!0,duration:0})):R.openNotification(M,{bottom:!0,duration:15e3}):alert(M.innerText)}function Bb(R,w){return Vi("div",{$display:"flex",$flex:1},Vi("span",{$fontFamily:"monospace",$whiteSpace:"pre",$flex:1,$display:"flex"},R,Vi("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false",$flex:1})),w&&Vi("span",{$color:"#888"},w))}function go(R,w){var $;if(X.length){w.value||(w.value=""),Z=w;return}var D=Bb(w.prefix,w.desc);if(R.openDialog)R.openDialog(D,w.onClose,{onKeyDown:w.onKeyDown,onKeyUp:w.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:w.value});else{var M="";typeof w.prefix!="string"&&w.prefix&&(M+=w.prefix.textContent),w.desc&&(M+=" "+w.desc),($=w.onClose)==null||$.call(w,prompt(M,""))}}function I5(R,w){return R instanceof RegExp&&w instanceof RegExp?R.flags==w.flags&&R.source==w.source:!1}function Ih(R,w,D,M){if(w){var $=Ai(R),G=jb(w,!!D,!!M);if(G)return pS(R,G),I5(G,$.getQuery())||$.setQuery(G),G}}function Fb(R){if(R.source.charAt(0)=="^")var w=!0;return{token:function(D){if(w&&!D.sol()){D.skipToEnd();return}var M=D.match(R,!1);if(M)return M[0].length==0?(D.next(),"searching"):!D.sol()&&(D.backUp(1),!R.exec(D.next()+M[0]))?(D.next(),null):(D.match(R),"searching");for(;!D.eol()&&(D.next(),!D.match(R,!1)););},query:R}}var To=0;function pS(R,w){clearTimeout(To);var D=Ai(R);D.highlightTimeout=To,To=setTimeout(function(){if(R.state.vim){var M=Ai(R);M.highlightTimeout=void 0;var $=M.getOverlay();(!$||w!=$.query)&&($&&R.removeOverlay($),$=Fb(w),R.addOverlay($),R.showMatchesOnScrollbar&&(M.getScrollbarAnnotate()&&M.getScrollbarAnnotate().clear(),M.setScrollbarAnnotate(R.showMatchesOnScrollbar(w))),M.setOverlay($))}},50)}function gp(R,w,D,M){return R.operation(function(){M===void 0&&(M=1);for(var $=R.getCursor(),G=R.getSearchCursor(D,$),ee=0;ee<M;ee++){var oe=G.find(w);if(ee==0&&oe&&Lt(G.from(),$)){var de=w?G.from():G.to();oe=G.find(w),oe&&!oe[0]&&Lt(G.from(),de)&&R.getLine(de.line).length==de.ch&&(oe=G.find(w))}if(!oe&&(G=R.getSearchCursor(D,w?new e(R.lastLine()):new e(R.firstLine(),0)),!G.find(w)))return}return G.from()})}function ES(R,w,D,M,$){return R.operation(function(){M===void 0&&(M=1);var G=R.getCursor(),ee=R.getSearchCursor(D,G),oe=ee.find(!w);!$.visualMode&&oe&&Lt(ee.from(),G)&&ee.find(!w);for(var de=0;de<M;de++)if(oe=ee.find(w),!oe&&(ee=R.getSearchCursor(D,w?new e(R.lastLine()):new e(R.firstLine(),0)),!ee.find(w)))return;var Re=ee.from(),ye=ee.to();return Re&&ye&&[Re,ye]})}function Ol(R){var w=Ai(R);w.highlightTimeout&&(clearTimeout(w.highlightTimeout),w.highlightTimeout=void 0),R.removeOverlay(Ai(R).getOverlay()),w.setOverlay(null),w.getScrollbarAnnotate()&&(w.getScrollbarAnnotate().clear(),w.setScrollbarAnnotate(null))}function gS(R,w,D){return typeof R!="number"&&(R=R.line),w instanceof Array?_(R,w):typeof D=="number"?R>=w&&R<=D:R==w}function Zu(R){var w=R.getScrollInfo(),D=6,M=10,$=R.coordsChar({left:0,top:D+w.top},"local"),G=w.clientHeight-M+w.top,ee=R.coordsChar({left:0,top:G},"local");return{top:$.line,bottom:ee.line}}function wc(R,w,D){if(D=="'"||D=="`")return k.jumpList.find(R,-1)||new e(0,0);if(D==".")return Oc(R);var M=w.marks[D];return M&&M.find()}function Oc(R){if(R.getLastEditEnd)return R.getLastEditEnd();for(var w=R.doc.history.done,D=w.length;D--;)if(w[D].changes)return Qe(w[D].changes[0].to)}class _5{constructor(){this.commandMap_,this.buildCommandMap_()}processCommand(w,D,M){var $=this;w.operation(function(){w.curOp&&(w.curOp.isVimOp=!0),$._processCommand(w,D,M)})}_processCommand(w,D,M){var $=w.state.vim,G=k.registerController.getRegister(":"),ee=G.toString(),oe=new t.StringStream(D);G.setText(D);var de=M||{};de.input=D;try{this.parseInput_(w,oe,de)}catch(Pe){throw Er(w,Pe+""),Pe}$.visualMode&&us(w);var Re,ye;if(!de.commandName)de.line!==void 0&&(ye="move");else if(Re=this.matchCommand_(de.commandName),Re){if(ye=Re.name,Re.excludeFromCommandHistory&&G.setText(ee),this.parseCommandArgs_(oe,de,Re),Re.type=="exToKey"){se(w,Re.toKeys||"",Re);return}else if(Re.type=="exToEx"){this.processCommand(w,Re.toInput||"");return}}if(!ye){Er(w,'Not an editor command ":'+D+'"');return}try{Hb[ye](w,de),(!Re||!Re.possiblyAsync)&&de.callback&&de.callback()}catch(Pe){throw Er(w,Pe+""),Pe}}parseInput_(w,D,M){var G,ee;D.eatWhile(":"),D.eat("%")?(M.line=w.firstLine(),M.lineEnd=w.lastLine()):(M.line=this.parseLineSpec_(w,D),M.line!==void 0&&D.eat(",")&&(M.lineEnd=this.parseLineSpec_(w,D))),M.line==null?w.state.vim.visualMode?(M.selectionLine=(G=wc(w,w.state.vim,"<"))==null?void 0:G.line,M.selectionLineEnd=(ee=wc(w,w.state.vim,">"))==null?void 0:ee.line):M.selectionLine=w.getCursor().line:(M.selectionLine=M.line,M.selectionLineEnd=M.lineEnd);var $=D.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return $?M.commandName=$[1]:M.commandName=(D.match(/.*/)||[""])[0],M}parseLineSpec_(w,D){var M=D.match(/^(\d+)/);if(M)return parseInt(M[1],10)-1;switch(D.next()){case".":return this.parseLineSpecOffset_(D,w.getCursor().line);case"$":return this.parseLineSpecOffset_(D,w.lastLine());case"'":var $=D.next()||"",G=wc(w,w.state.vim,$);if(!G)throw new Error("Mark not set");return this.parseLineSpecOffset_(D,G.line);case"-":case"+":return D.backUp(1),this.parseLineSpecOffset_(D,w.getCursor().line);default:D.backUp(1);return}}parseLineSpecOffset_(w,D){var M=w.match(/^([+-])?(\d+)/);if(M){var $=parseInt(M[2],10);M[1]=="-"?D-=$:D+=$}return D}parseCommandArgs_(w,D,M){var ee;if(!w.eol()){D.argString=(ee=w.match(/.*/))==null?void 0:ee[0];var $=M.argDelimiter||/\s+/,G=Rr(D.argString||"").split($);G.length&&G[0]&&(D.args=G)}}matchCommand_(w){for(var D=w.length;D>0;D--){var M=w.substring(0,D);if(this.commandMap_[M]){var $=this.commandMap_[M];if($.name.indexOf(w)===0)return $}}}buildCommandMap_(){this.commandMap_={};for(var w=0;w<o.length;w++){var D=o[w],M=D.shortName||D.name;this.commandMap_[M]=D}}map(w,D,M,$){if(w!=":"&&w.charAt(0)==":"){if(M)throw Error("Mode not supported for ex mappings");var G=w.substring(1);D!=":"&&D.charAt(0)==":"?this.commandMap_[G]={name:G,type:"exToEx",toInput:D.substring(1),user:!0}:this.commandMap_[G]={name:G,type:"exToKey",toKeys:D,user:!0}}else{var ee={keys:w,type:"keyToKey",toKeys:D,noremap:!!$};M&&(ee.context=M),TS(ee)}}unmap(w,D){if(w!=":"&&w.charAt(0)==":"){if(D)throw Error("Mode not supported for ex mappings");var M=w.substring(1);if(this.commandMap_[M]&&this.commandMap_[M].user)return delete this.commandMap_[M],!0}else for(var $=w,G=0;G<n.length;G++)if($==n[G].keys&&n[G].context===D)return n.splice(G,1),M5($),!0}}var Hb={colorscheme:function(R,w){if(!w.args||w.args.length<1){Er(R,R.getOption("theme"));return}R.setOption("theme",w.args[0])},map:function(R,w,D,M){var $=w.args;if(!$||$.length<2){R&&Er(R,"Invalid mapping: "+w.input);return}ii.map($[0],$[1],D,M)},imap:function(R,w){this.map(R,w,"insert")},nmap:function(R,w){this.map(R,w,"normal")},vmap:function(R,w){this.map(R,w,"visual")},omap:function(R,w){this.map(R,w,"operatorPending")},noremap:function(R,w){this.map(R,w,void 0,!0)},inoremap:function(R,w){this.map(R,w,"insert",!0)},nnoremap:function(R,w){this.map(R,w,"normal",!0)},vnoremap:function(R,w){this.map(R,w,"visual",!0)},onoremap:function(R,w){this.map(R,w,"operatorPending",!0)},unmap:function(R,w,D){var M=w.args;(!M||M.length<1||!ii.unmap(M[0],D))&&R&&Er(R,"No such mapping: "+w.input)},mapclear:function(R,w){B.mapclear()},imapclear:function(R,w){B.mapclear("insert")},nmapclear:function(R,w){B.mapclear("normal")},vmapclear:function(R,w){B.mapclear("visual")},omapclear:function(R,w){B.mapclear("operatorPending")},move:function(R,w){ae.processCommand(R,R.state.vim,{keys:"",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:w.line+1})},set:function(R,w){var D=w.args,M=w.setCfg||{};if(!D||D.length<1){R&&Er(R,"Invalid mapping: "+w.input);return}var $=D[0].split("="),G=$.shift()||"",ee=$.length>0?$.join("="):void 0,oe=!1,de=!1;if(G.charAt(G.length-1)=="?"){if(ee)throw Error("Trailing characters: "+w.argString);G=G.substring(0,G.length-1),oe=!0}else G.charAt(G.length-1)=="!"&&(G=G.substring(0,G.length-1),de=!0);ee===void 0&&G.substring(0,2)=="no"&&(G=G.substring(2),ee=!1);var Re=U[G]&&U[G].type=="boolean";if(Re&&(de?ee=!P(G,R,M):ee==null&&(ee=!0)),!Re&&ee===void 0||oe){var ye=P(G,R,M);ye instanceof Error?Er(R,ye.message):ye===!0||ye===!1?Er(R," "+(ye?"":"no")+G):Er(R,"  "+G+"="+ye)}else{var Pe=L(G,ee,R,M);Pe instanceof Error&&Er(R,Pe.message)}},setlocal:function(R,w){w.setCfg={scope:"local"},this.set(R,w)},setglobal:function(R,w){w.setCfg={scope:"global"},this.set(R,w)},registers:function(R,w){var D=w.args,M=k.registerController.registers,$=`----------Registers----------

`;if(D)for(var oe=D.join(""),de=0;de<oe.length;de++){var G=oe.charAt(de);if(k.registerController.isValidRegister(G)){var Re=M[G]||new ce;$+='"'+G+"    "+Re.toString()+`
`}}else for(var G in M){var ee=M[G].toString();ee.length&&($+='"'+G+"    "+ee+`
`)}Er(R,$,!0)},marks:function(R,w){var D=w.args,M=R.state.vim.marks,$=`-----------Marks-----------
mark	line	col

`;if(D)for(var oe=D.join(""),de=0;de<oe.length;de++){var G=oe.charAt(de),ee=M[G]&&M[G].find();ee&&($+=G+"	"+ee.line+"	"+ee.ch+`
`)}else for(var G in M){var ee=M[G]&&M[G].find();ee&&($+=G+"	"+ee.line+"	"+ee.ch+`
`)}Er(R,$,!0)},sort:function(R,w){var D,M,$,G,ee;function oe(){if(w.argString){var Mt=new t.StringStream(w.argString);if(Mt.eat("!")&&(D=!0),Mt.eol())return;if(!Mt.eatSpace())return"Invalid arguments";var bt=Mt.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!bt||!Mt.eol())return"Invalid arguments";if(bt[1]){M=bt[1].indexOf("i")!=-1,$=bt[1].indexOf("u")!=-1;var ar=bt[1].indexOf("d")!=-1||bt[1].indexOf("n")!=-1,Os=bt[1].indexOf("x")!=-1,Un=bt[1].indexOf("o")!=-1;if(Number(ar)+Number(Os)+Number(Un)>1)return"Invalid arguments";G=ar&&"decimal"||Os&&"hex"||Un&&"octal"}bt[2]&&(ee=new RegExp(bt[2].substr(1,bt[2].length-2),M?"i":""))}}var de=oe();if(de){Er(R,de+": "+w.argString);return}var Re=w.line||R.firstLine(),ye=w.lineEnd||w.line||R.lastLine();if(Re==ye)return;var Pe=new e(Re,0),ke=new e(ye,wt(R,ye)),Ue=R.getRange(Pe,ke).split(`
`),Oe=G=="decimal"?/(-?)([\d]+)/:G=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:G=="octal"?/([0-7]+)/:null,Xe=G=="decimal"?10:G=="hex"?16:G=="octal"?8:void 0,xe=[],De=[];if(G||ee)for(var Be=0;Be<Ue.length;Be++){var et=ee?Ue[Be].match(ee):null;et&&et[0]!=""?xe.push(et):Oe&&Oe.exec(Ue[Be])?xe.push(Ue[Be]):De.push(Ue[Be])}else De=Ue;function ct(Mt,bt){if(D){var ar;ar=Mt,Mt=bt,bt=ar}M&&(Mt=Mt.toLowerCase(),bt=bt.toLowerCase());var Os=Oe&&Oe.exec(Mt),Un=Oe&&Oe.exec(bt);if(!Os||!Un)return Mt<bt?-1:1;var oi=parseInt((Os[1]+Os[2]).toLowerCase(),Xe),Ri=parseInt((Un[1]+Un[2]).toLowerCase(),Xe);return oi-Ri}function ft(Mt,bt){if(D){var ar;ar=Mt,Mt=bt,bt=ar}return M&&(Mt[0]=Mt[0].toLowerCase(),bt[0]=bt[0].toLowerCase()),Mt[0]<bt[0]?-1:1}if(xe.sort(ee?ft:ct),ee)for(var Be=0;Be<xe.length;Be++)xe[Be]=xe[Be].input;else G||De.sort(ct);if(Ue=D?xe.concat(De):De.concat(xe),$){var _t=Ue,Dt;Ue=[];for(var Be=0;Be<_t.length;Be++)_t[Be]!=Dt&&Ue.push(_t[Be]),Dt=_t[Be]}R.replaceRange(Ue.join(`
`),Pe,ke)},vglobal:function(R,w){this.global(R,w)},normal:function(R,w){var D=!1,M=w.argString;if(M&&M[0]=="!"&&(M=M.slice(1),D=!0),M=M.trimStart(),!M){Er(R,"Argument is required.");return}var $=w.line;if(typeof $=="number")for(var G=isNaN(w.lineEnd)?$:w.lineEnd,ee=$;ee<=G;ee++)R.setCursor(ee,0),se(R,w.argString.trimStart(),{noremap:D}),R.state.vim.insertMode&&Il(R,!0);else se(R,w.argString.trimStart(),{noremap:D}),R.state.vim.insertMode&&Il(R,!0)},global:function(R,w){var D=w.argString;if(!D){Er(R,"Regular Expression missing from global");return}var M=w.commandName[0]==="v";D[0]==="!"&&w.commandName[0]==="g"&&(M=!0,D=D.slice(1));var $=w.line!==void 0?w.line:R.firstLine(),G=w.lineEnd||w.line||R.lastLine(),ee=kb(D),oe=D,de="";if(ee&&ee.length&&(oe=ee[0],de=ee.slice(1,ee.length).join("/")),oe)try{Ih(R,oe,!0,!0)}catch{Er(R,"Invalid regex: "+oe);return}for(var Re=Ai(R).getQuery(),ye=[],Pe=$;Pe<=G;Pe++){var ke=R.getLine(Pe),Ue=Re.test(ke);Ue!==M&&ye.push(de?R.getLineHandle(Pe):ke)}if(!de){Er(R,ye.join(`
`));return}var Oe=0,Xe=function(){if(Oe<ye.length){var xe=ye[Oe++],De=R.getLineNumber(xe);if(De==null){Xe();return}var Be=De+1+de;ii.processCommand(R,Be,{callback:Xe})}else R.releaseLineHandles&&R.releaseLineHandles()};Xe()},substitute:function(R,w){if(!R.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var D=w.argString,M=D?hS(D,D[0]):[],$="",G="",ee,oe,de,Re=!1,ye=!1;if(M&&M.length)$=M[0],P("pcre")&&$!==""&&($=new RegExp($).source),G=M[1],G!==void 0&&(P("pcre")?G=mS(G.replace(/([^\\])&/g,"$1$$&")):G=Oh(G),k.lastSubstituteReplacePart=G),ee=M[2]?M[2].split(" "):[];else if(D&&D.length){Er(R,"Substitutions should be of the form :s/pattern/replace/");return}if(ee&&(oe=ee[0],de=parseInt(ee[1]),oe&&(oe.indexOf("c")!=-1&&(Re=!0),oe.indexOf("g")!=-1&&(ye=!0),P("pcre")?$=$+"/"+oe:$=$.replace(/\//g,"\\/")+"/"+oe)),$)try{Ih(R,$,!0,!0)}catch{Er(R,"Invalid regex: "+$);return}if(G=G||k.lastSubstituteReplacePart,G===void 0){Er(R,"No previous substitute regular expression");return}var Pe=Ai(R),ke=Pe.getQuery(),Ue=w.line!==void 0?w.line:R.getCursor().line,Oe=w.lineEnd||Ue;Ue==R.firstLine()&&Oe==R.lastLine()&&(Oe=1/0),de&&(Ue=Oe,Oe=Ue+de-1);var Xe=Se(R,new e(Ue,0)),xe=R.getSearchCursor(ke,Xe);L5(R,Re,ye,Ue,Oe,xe,ke,G,w.callback)},startinsert:function(R,w){se(R,w.argString=="!"?"A":"i",{})},redo:t.commands.redo,undo:t.commands.undo,write:function(R){t.commands.save?t.commands.save(R):R.save&&R.save()},nohlsearch:function(R){Ol(R)},yank:function(R){var w=Qe(R.getCursor()),D=w.line,M=R.getLine(D);k.registerController.pushText("0","yank",M,!0,!0)},delete:function(R,w){var D=w.selectionLine,M=isNaN(w.selectionLineEnd)?D:w.selectionLineEnd;ue.delete(R,{linewise:!0},[{anchor:new e(D,0),head:new e(M+1,0)}])},join:function(R,w){var D=w.selectionLine,M=isNaN(w.selectionLineEnd)?D:w.selectionLineEnd;R.setCursor(new e(D,0)),he.joinLines(R,{repeat:M-D},R.state.vim)},delmarks:function(R,w){if(!w.argString||!Rr(w.argString)){Er(R,"Argument required");return}for(var D=R.state.vim,M=new t.StringStream(Rr(w.argString));!M.eol();){M.eatSpace();var $=M.pos;if(!M.match(/[a-zA-Z]/,!1)){Er(R,"Invalid argument: "+w.argString.substring($));return}var G=M.next();if(M.match("-",!0)){if(!M.match(/[a-zA-Z]/,!1)){Er(R,"Invalid argument: "+w.argString.substring($));return}var ee=G,oe=M.next();if(ee&&oe&&v(ee)==v(oe)){var de=ee.charCodeAt(0),Re=oe.charCodeAt(0);if(de>=Re){Er(R,"Invalid argument: "+w.argString.substring($));return}for(var ye=0;ye<=Re-de;ye++){var Pe=String.fromCharCode(de+ye);delete D.marks[Pe]}}else{Er(R,"Invalid argument: "+ee+"-");return}}else G&&delete D.marks[G]}}},ii=new _5;B.defineEx("version","ve",R=>{Er(R,"Codemirror-vim version: 6.3.0")});function L5(R,w,D,M,$,G,ee,oe,de){R.state.vim.exMode=!0;var Re=!1,ye=0,Pe,ke,Ue;function Oe(){R.operation(function(){for(;!Re;)Xe(),De();Be()})}function Xe(){var ct="",ft=G.match||G.pos&&G.pos.match;if(ft)ct=oe.replace(/\$(\d{1,3}|[$&])/g,function(Mt,bt){if(bt=="$")return"$";if(bt=="&")return ft[0];for(var ar=bt;parseInt(ar)>=ft.length&&ar.length>0;)ar=ar.slice(0,ar.length-1);return ar?ft[ar]+bt.slice(ar.length,bt.length):Mt});else{var _t=R.getRange(G.from(),G.to());ct=_t.replace(ee,oe)}var Dt=G.to().line;G.replace(ct),ke=G.to().line,$+=ke-Dt,Ue=ke<Dt}function xe(){var ct=Pe&&Qe(G.to()),ft=G.findNext();return ft&&!ft[0]&&ct&&Lt(G.from(),ct)&&(ft=G.findNext()),ft&&ye++,ft}function De(){for(;xe()&&gS(G.from(),M,$);)if(!(!D&&G.from().line==ke&&!Ue)){R.scrollIntoView(G.from(),30),R.setSelection(G.from(),G.to()),Pe=G.from(),Re=!1;return}Re=!0}function Be(ct){if(ct&&ct(),R.focus(),Pe){R.setCursor(Pe);var ft=R.state.vim;ft.exMode=!1,ft.lastHPos=ft.lastHSPos=Pe.ch}de?de():Re&&Er(R,(ye?"Found "+ye+" matches":"No matches found")+" for pattern: "+ee+(P("pcre")?" (set nopcre to use Vim regexps)":""))}function et(ct,ft,_t){t.e_stop(ct);var Dt=_e(ct);switch(Dt){case"y":Xe(),De();break;case"n":De();break;case"a":var Mt=de;de=void 0,R.operation(Oe),de=Mt;break;case"l":Xe();case"q":case"<Esc>":case"<C-c>":case"<C-[>":Be(_t);break}return Re&&Be(_t),!0}if(De(),Re){Er(R,"No matches for "+ee+(P("pcre")?" (set nopcre to use vim regexps)":""));return}if(!w){Oe(),de&&de();return}go(R,{prefix:Vi("span","replace with ",Vi("strong",oe)," (y/n/a/q/l)"),onKeyDown:et})}function Il(R,w){var D=R.state.vim,M=k.macroModeState,$=k.registerController.getRegister("."),G=M.isPlaying,ee=M.lastInsertModeChanges;G||(R.off("change",Gb),D.insertEnd&&D.insertEnd.clear(),D.insertEnd=void 0,t.off(R.getInputField(),"keydown",zb)),!G&&D.insertModeRepeat&&D.insertModeRepeat>1&&(_h(R,D,D.insertModeRepeat-1,!0),D.lastEditInputState.repeatOverride=D.insertModeRepeat),delete D.insertModeRepeat,D.insertMode=!1,w||R.setCursor(R.getCursor().line,R.getCursor().ch-1),R.setOption("keyMap","vim"),R.setOption("disableInput",!0),R.toggleOverwrite(!1),$.setText(ee.changes.join("")),t.signal(R,"vim-mode-change",{mode:"normal"}),M.isRecording&&SS(M)}function TS(R){n.unshift(R),R.keys&&D5(R.keys)}function D5(R){R.split(/(<(?:[CSMA]-)*\w+>|.)/i).forEach(function(w){w&&(s[w]||(s[w]=0),s[w]++)})}function M5(R){R.split(/(<(?:[CSMA]-)*\w+>|.)/i).forEach(function(w){s[w]&&s[w]--})}function P5(R,w,D,M,$){var G={keys:R,type:w};G[w]=D,G[w+"Args"]=M;for(var ee in $)G[ee]=$[ee];TS(G)}j("insertModeEscKeysTimeout",200,"number");function Tp(R,w,D,M){var $=k.registerController.getRegister(M);if(M==":"){$.keyBuffer[0]&&ii.processCommand(R,$.keyBuffer[0]),D.isPlaying=!1;return}var G=$.keyBuffer,ee=0;D.isPlaying=!0,D.replaySearchQueries=$.searchQueries.slice(0);for(var oe=0;oe<G.length;oe++)for(var de=G[oe],Re,ye,Pe=/<(?:[CSMA]-)*\w+>|./gi;Re=Pe.exec(de);)if(ye=Re[0],B.handleKey(R,ye,"macro"),w.insertMode){var ke=$.insertModeChanges[ee++].changes;k.macroModeState.lastInsertModeChanges.changes=ke,Wb(R,ke,1),Il(R)}D.isPlaying=!1}function $b(R,w){if(!R.isPlaying){var D=R.latestRegister,M=k.registerController.getRegister(D);M&&M.pushText(w)}}function SS(R){if(!R.isPlaying){var w=R.latestRegister,D=k.registerController.getRegister(w);D&&D.pushInsertModeChanges&&D.pushInsertModeChanges(R.lastInsertModeChanges)}}function vS(R,w){if(!R.isPlaying){var D=R.latestRegister,M=k.registerController.getRegister(D);M&&M.pushSearchQuery&&M.pushSearchQuery(w)}}function Gb(R,w){var D=k.macroModeState,M=D.lastInsertModeChanges;if(!D.isPlaying)for(var $=R.state.vim;w;){if(M.expectCursorActivityForChange=!0,M.ignoreCount>1)M.ignoreCount--;else if(w.origin=="+input"||w.origin=="paste"||w.origin===void 0){var G=R.listSelections().length;G>1&&(M.ignoreCount=G);var ee=w.text.join(`
`);if(M.maybeReset&&(M.changes=[],M.maybeReset=!1),ee)if(R.state.overwrite&&!/\n/.test(ee))M.changes.push([ee]);else{if(ee.length>1){var oe=$&&$.insertEnd&&$.insertEnd.find(),de=R.getCursor();if(oe&&oe.line==de.line){var Re=oe.ch-de.ch;Re>0&&Re<ee.length&&(M.changes.push([ee,Re]),ee="")}}ee&&M.changes.push(ee)}}w=w.next}}function yS(R){var $;var w=R.state.vim;if(w.insertMode){var D=k.macroModeState;if(D.isPlaying)return;var M=D.lastInsertModeChanges;M.expectCursorActivityForChange?M.expectCursorActivityForChange=!1:(M.maybeReset=!0,w.insertEnd&&w.insertEnd.clear(),w.insertEnd=R.setBookmark(R.getCursor(),{insertLeft:!0}))}else($=R.curOp)!=null&&$.isVimOp||Vb(R,w)}function Vb(R,w){var D=R.getCursor("anchor"),M=R.getCursor("head");if(w.visualMode&&!R.somethingSelected()?us(R,!1):!w.visualMode&&!w.insertMode&&R.somethingSelected()&&(w.visualMode=!0,w.visualLine=!1,t.signal(R,"vim-mode-change",{mode:"visual"})),w.visualMode){var $=Nt(M,D)?0:-1,G=Nt(M,D)?-1:0;M=Ge(M,0,$),D=Ge(D,0,G),w.sel={anchor:D,head:M},Ia(R,w,"<",Pt(M,D)),Ia(R,w,">",vt(M,D))}else w.insertMode||(w.lastHPos=R.getCursor().ch)}function zb(R){var w=k.macroModeState,D=w.lastInsertModeChanges,M=t.keyName?t.keyName(R):R.key;M&&(M.indexOf("Delete")!=-1||M.indexOf("Backspace")!=-1)&&(D.maybeReset&&(D.changes=[],D.maybeReset=!1),D.changes.push(new re(M,R)))}function _h(R,w,D,M){var $=k.macroModeState;$.isPlaying=!0;var G=w.lastEditActionCommand,ee=w.inputState;function oe(){G?ae.processAction(R,w,G):ae.evalInput(R,w)}function de(ye){if($.lastInsertModeChanges.changes.length>0){ye=w.lastEditActionCommand?ye:1;var Pe=$.lastInsertModeChanges;Wb(R,Pe.changes,ye)}}if(w.inputState=w.lastEditInputState,G&&G.interlaceInsertRepeat)for(var Re=0;Re<D;Re++)oe(),de(1);else M||oe(),de(D);w.inputState=ee,w.insertMode&&!M&&Il(R),$.isPlaying=!1}function AS(R,w){t.lookupKey(w,"vim-insert",function(M){return typeof M=="string"?t.commands[M](R):M(R),!0})}function Wb(R,w,D){var M=R.getCursor("head"),$=k.macroModeState.lastInsertModeChanges.visualBlock;$&&(Rn(R,M,$+1),D=R.listSelections().length,R.setCursor(M));for(var G=0;G<D;G++){$&&R.setCursor(Ge(M,G,0));for(var ee=0;ee<w.length;ee++){var oe=w[ee];if(oe instanceof re)AS(R,oe.keyName);else if(typeof oe=="string")R.replaceSelection(oe);else{var de=R.getCursor(),Re=Ge(de,0,oe[0].length-(oe[1]||0));R.replaceRange(oe[0],de,oe[1]?de:Re),R.setCursor(Re)}}}$&&R.setCursor(Ge(M,0,1))}function RS(R){var w=new R.constructor;return Object.keys(R).forEach(function(D){if(D!="insertEnd"){var M=R[D];Array.isArray(M)?M=M.slice():M&&typeof M=="object"&&M.constructor!=Object&&(M=RS(M)),w[D]=M}}),R.sel&&(w.sel={head:R.sel.head&&Qe(R.sel.head),anchor:R.sel.anchor&&Qe(R.sel.anchor)}),w}function k5(R,w,D){var G=Y(R),M=R,$=!1,G=B.maybeInitVimState_(M),ee=G.visualBlock||G.wasInVisualBlock;if(M.state.closeVimNotification){var oe=M.state.closeVimNotification;if(M.state.closeVimNotification=null,oe(),w=="<CR>")return Ce(M),!0}var de=M.isInMultiSelectMode();if(G.wasInVisualBlock&&!de?G.wasInVisualBlock=!1:de&&G.visualBlock&&(G.wasInVisualBlock=!0),w=="<Esc>"&&!G.insertMode&&!G.visualMode&&de&&G.status=="<Esc>")Ce(M);else if(ee||!de||M.inVirtualSelectionMode)$=B.handleKey(M,w,D);else{var Re=RS(G),ye=G.inputState.changeQueueList||[];M.operation(function(){var ke;M.curOp&&(M.curOp.isVimOp=!0);var Pe=0;M.forEachSelection(function(){M.state.vim.inputState.changeQueue=ye[Pe];var Ue=M.getCursor("head"),Oe=M.getCursor("anchor"),Xe=Nt(Ue,Oe)?0:-1,xe=Nt(Ue,Oe)?-1:0;Ue=Ge(Ue,0,Xe),Oe=Ge(Oe,0,xe),M.state.vim.sel.head=Ue,M.state.vim.sel.anchor=Oe,$=B.handleKey(M,w,D),M.virtualSelection&&(ye[Pe]=M.state.vim.inputState.changeQueue,M.state.vim=RS(Re)),Pe++}),(ke=M.curOp)!=null&&ke.cursorActivity&&!$&&(M.curOp.cursorActivity=!1),M.state.vim=G,G.inputState.changeQueueList=ye,G.inputState.changeQueue=null},!0)}return $&&!G.visualMode&&!G.insertMode&&G.visualMode!=M.somethingSelected()&&Vb(M,G),$}return V(),B}function mo(t,e){var r=e.ch,n=e.line+1;n<1&&(n=1,r=0),n>t.lines&&(n=t.lines,r=Number.MAX_VALUE);var s=t.line(n);return Math.min(s.from+Math.max(0,r),s.to)}function Jo(t,e){let r=t.lineAt(e);return{line:r.number-1,ch:e-r.from}}class wl{constructor(e,r){this.line=e,this.ch=r}}function $ne(t,e,r){if(t.addEventListener)t.addEventListener(e,r,!1);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||[]).concat(r)}}function Gne(t,e,r){if(t.removeEventListener)t.removeEventListener(e,r,!1);else{var n=t._handlers,s=n&&n[e];if(s){var i=s.indexOf(r);i>-1&&(n[e]=s.slice(0,i).concat(s.slice(i+1)))}}}function Vne(t,e,...r){var n,s=(n=t._handlers)===null||n===void 0?void 0:n[e];if(s)for(var i=0;i<s.length;++i)s[i](...r)}function zne(t,...e){if(t)for(var r=0;r<t.length;++r)t[r](...e)}let $k;try{$k=new RegExp("[\\w\\p{Alphabetic}\\p{Number}_]","u")}catch{$k=/[\w]/}function nS(t,e){var r=t.cm6;if(!r.state.readOnly){var n="input.type.compose";if(t.curOp&&(t.curOp.lastChange||(n="input.type.compose.start")),e.annotations)try{e.annotations.some(function(s){s.value=="input"&&(s.value=n)})}catch(s){console.error(s)}else e.userEvent=n;return r.dispatch(e)}}function Wne(t,e){var r;t.curOp&&(t.curOp.$changeStart=void 0),(e?gN:Vm)(t.cm6);let n=(r=t.curOp)===null||r===void 0?void 0:r.$changeStart;n!=null&&t.cm6.dispatch({selection:{anchor:n}})}var wtt={Left:t=>dh(t.cm6,{key:"Left"},"editor"),Right:t=>dh(t.cm6,{key:"Right"},"editor"),Up:t=>dh(t.cm6,{key:"Up"},"editor"),Down:t=>dh(t.cm6,{key:"Down"},"editor"),Backspace:t=>dh(t.cm6,{key:"Backspace"},"editor"),Delete:t=>dh(t.cm6,{key:"Delete"},"editor")};class er{openDialog(e,r,n){return Itt(this,e,r,n)}openNotification(e,r){return Ott(this,e,r)}constructor(e){this.state={},this.marks=Object.create(null),this.$mid=0,this.options={},this._handlers={},this.$lastChangeEndOffset=0,this.virtualSelection=null,this.cm6=e,this.onChange=this.onChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this)}on(e,r){$ne(this,e,r)}off(e,r){Gne(this,e,r)}signal(e,r,n){Vne(this,e,r,n)}indexFromPos(e){return mo(this.cm6.state.doc,e)}posFromIndex(e){return Jo(this.cm6.state.doc,e)}foldCode(e){let r=this.cm6,n=r.state.selection.ranges,s=this.cm6.state.doc,i=mo(s,e),o=Ve.create([Ve.range(i,i)],0).ranges;r.state.selection.ranges=o,IZ(r),r.state.selection.ranges=n}firstLine(){return 0}lastLine(){return this.cm6.state.doc.lines-1}lineCount(){return this.cm6.state.doc.lines}setCursor(e,r){typeof e=="object"&&(r=e.ch,e=e.line);var n=mo(this.cm6.state.doc,{line:e,ch:r||0});this.cm6.dispatch({selection:{anchor:n}},{scrollIntoView:!this.curOp}),this.curOp&&!this.curOp.isVimOp&&this.onBeforeEndOperation()}getCursor(e){var r=this.cm6.state.selection.main,n=e=="head"||!e?r.head:e=="anchor"?r.anchor:e=="start"?r.from:e=="end"?r.to:null;if(n==null)throw new Error("Invalid cursor type");return this.posFromIndex(n)}listSelections(){var e=this.cm6.state.doc;return this.cm6.state.selection.ranges.map(r=>({anchor:Jo(e,r.anchor),head:Jo(e,r.head)}))}setSelections(e,r){var n=this.cm6.state.doc,s=e.map(i=>{var o=mo(n,i.head),a=mo(n,i.anchor);return o==a?Ve.cursor(o,1):Ve.range(a,o)});this.cm6.dispatch({selection:Ve.create(s,r)})}setSelection(e,r,n){this.setSelections([{anchor:e,head:r}],0),n&&n.origin=="*mouse"&&this.onBeforeEndOperation()}getLine(e){var r=this.cm6.state.doc;return e<0||e>=r.lines?"":this.cm6.state.doc.line(e+1).text}getLineHandle(e){return this.$lineHandleChanges||(this.$lineHandleChanges=[]),{row:e,index:this.indexFromPos(new wl(e,0))}}getLineNumber(e){var r=this.$lineHandleChanges;if(!r)return null;for(var n=e.index,s=0;s<r.length;s++)if(n=r[s].changes.mapPos(n,1,qn.TrackAfter),n==null)return null;var i=this.posFromIndex(n);return i.ch==0?i.line:null}releaseLineHandles(){this.$lineHandleChanges=void 0}getRange(e,r){var n=this.cm6.state.doc;return this.cm6.state.sliceDoc(mo(n,e),mo(n,r))}replaceRange(e,r,n,s){n||(n=r);var i=this.cm6.state.doc,o=mo(i,r),a=mo(i,n);nS(this,{changes:{from:o,to:a,insert:e}})}replaceSelection(e){nS(this,this.cm6.state.replaceSelection(e))}replaceSelections(e){var r=this.cm6.state.selection.ranges,n=r.map((s,i)=>({from:s.from,to:s.to,insert:e[i]||""}));nS(this,{changes:n})}getSelection(){return this.getSelections().join(`
`)}getSelections(){var e=this.cm6;return e.state.selection.ranges.map(r=>e.state.sliceDoc(r.from,r.to))}somethingSelected(){return this.cm6.state.selection.ranges.some(e=>!e.empty)}getInputField(){return this.cm6.contentDOM}clipPos(e){var r=this.cm6.state.doc,n=e.ch,s=e.line+1;s<1&&(s=1,n=0),s>r.lines&&(s=r.lines,n=Number.MAX_VALUE);var i=r.line(s);return n=Math.min(Math.max(0,n),i.to-i.from),new wl(s-1,n)}getValue(){return this.cm6.state.doc.toString()}setValue(e){var r=this.cm6;return r.dispatch({changes:{from:0,to:r.state.doc.length,insert:e},selection:Ve.range(0,0)})}focus(){return this.cm6.focus()}blur(){return this.cm6.contentDOM.blur()}defaultTextHeight(){return this.cm6.defaultLineHeight}findMatchingBracket(e,r){var n=this.cm6.state,s=mo(n.doc,e),i=Gu(n,s+1,-1);return i&&i.end?{to:Jo(n.doc,i.end.from)}:(i=Gu(n,s,1),i&&i.end?{to:Jo(n.doc,i.end.from)}:{to:void 0})}scanForBracket(e,r,n,s){return Dtt(this,e,r,n,s)}indentLine(e,r){r?this.indentMore():this.indentLess()}indentMore(){kT(this.cm6)}indentLess(){UT(this.cm6)}execCommand(e){if(e=="indentAuto")er.commands.indentAuto(this);else if(e=="goLineLeft")bN(this.cm6);else if(e=="goLineRight"){NN(this.cm6);let r=this.cm6.state,n=r.selection.main.head;n<r.doc.length&&r.sliceDoc(n,n+1)!==`
`&&sKe(this.cm6)}else console.log(e+" is not implemented")}setBookmark(e,r){var n=r!=null&&r.insertLeft?1:-1,s=this.indexFromPos(e),i=new ktt(this,s,n);return i}addOverlay({query:e}){let r=new BP({regexp:!0,search:e.source,caseSensitive:!/i/.test(e.flags)});if(r.valid){r.forVim=!0,this.cm6Query=r;let n=zu.of(r);return this.cm6.dispatch({effects:n}),r}}removeOverlay(e){if(!this.cm6Query)return;this.cm6Query.forVim=!1;let r=zu.of(this.cm6Query);this.cm6.dispatch({effects:r})}getSearchCursor(e,r){var n=this,s=null,i=null,o=!1;r.ch==null&&(r.ch=Number.MAX_VALUE);var a=mo(n.cm6.state.doc,r),l=e.source.replace(/(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,function(f,p){return p||"\\"+f});function c(f,p=0,E=f.length){return new kP(f,l,{ignoreCase:e.ignoreCase},p,E)}function d(f){var p=n.cm6.state.doc;if(f>p.length)return null;let E=c(p,f).next();return E.done?null:E.value}var h=1e4;function m(f,p){var E=n.cm6.state.doc;for(let g=1;;g++){let T=Math.max(f,p-g*h),S=c(E,T,p),v=null;for(;!S.next().done;)v=S.value;if(v&&(T==f||v.from>T+10))return v;if(T==f)return null}}return{findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(f){var p=n.cm6.state.doc;if(f){let E=s?o?s.to-1:s.from:a;s=m(0,E)}else{let E=s?o?s.to+1:s.to:a;s=d(E)}return i=s&&{from:Jo(p,s.from),to:Jo(p,s.to),match:s.match},o=s?s.from==s.to:!1,s&&s.match},from:function(){return i==null?void 0:i.from},to:function(){return i==null?void 0:i.to},replace:function(f){s&&(nS(n,{changes:{from:s.from,to:s.to,insert:f}}),s.to=s.from+f.length,i&&(i.to=Jo(n.cm6.state.doc,s.to)))},get match(){return i&&i.match}}}findPosV(e,r,n,s){let{cm6:i}=this;const o=i.state.doc;let a=n=="page"?i.dom.clientHeight:0;const l=mo(o,e);let c=Ve.cursor(l,1,void 0,s),d=Math.round(Math.abs(r));for(let m=0;m<d;m++)n=="page"?c=i.moveVertically(c,r>0,a):n=="line"&&(c=i.moveVertically(c,r>0));let h=Jo(o,c.head);return(r<0&&c.head==0&&s!=0&&e.line==0&&e.ch!=0||r>0&&c.head==o.length&&h.ch!=s&&e.line==h.line)&&(h.hitSide=!0),h}charCoords(e,r){var n=this.cm6.contentDOM.getBoundingClientRect(),s=mo(this.cm6.state.doc,e),i=this.cm6.coordsAtPos(s),o=-n.top;return{left:((i==null?void 0:i.left)||0)-n.left,top:((i==null?void 0:i.top)||0)+o,bottom:((i==null?void 0:i.bottom)||0)+o}}coordsChar(e,r){var n=this.cm6.contentDOM.getBoundingClientRect(),s=this.cm6.posAtCoords({x:e.left+n.left,y:e.top+n.top})||0;return Jo(this.cm6.state.doc,s)}getScrollInfo(){var e=this.cm6.scrollDOM;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight,width:e.scrollWidth,clientHeight:e.clientHeight,clientWidth:e.clientWidth}}scrollTo(e,r){e!=null&&(this.cm6.scrollDOM.scrollLeft=e),r!=null&&(this.cm6.scrollDOM.scrollTop=r)}scrollIntoView(e,r){if(e){var n=this.indexFromPos(e);this.cm6.dispatch({effects:ot.scrollIntoView(n)})}else this.cm6.dispatch({scrollIntoView:!0,userEvent:"scroll"})}getWrapperElement(){return this.cm6.dom}getMode(){return{name:this.getOption("mode")}}setSize(e,r){this.cm6.dom.style.width=e+4+"px",this.cm6.dom.style.height=r+"px",this.refresh()}refresh(){this.cm6.measure()}destroy(){this.removeOverlay()}getLastEditEnd(){return this.posFromIndex(this.$lastChangeEndOffset)}onChange(e){this.$lineHandleChanges&&this.$lineHandleChanges.push(e);for(let n in this.marks)this.marks[n].update(e.changes);this.virtualSelection&&(this.virtualSelection.ranges=this.virtualSelection.ranges.map(n=>n.map(e.changes)));var r=this.curOp=this.curOp||{};e.changes.iterChanges((n,s,i,o,a)=>{(r.$changeStart==null||r.$changeStart>i)&&(r.$changeStart=i),this.$lastChangeEndOffset=o;var l={text:a.toJSON()};r.lastChange?r.lastChange.next=r.lastChange=l:r.lastChange=r.change=l},!0),r.changeHandlers||(r.changeHandlers=this._handlers.change&&this._handlers.change.slice())}onSelectionChange(){var e=this.curOp=this.curOp||{};e.cursorActivityHandlers||(e.cursorActivityHandlers=this._handlers.cursorActivity&&this._handlers.cursorActivity.slice()),this.curOp.cursorActivity=!0}operation(e,r){this.curOp||(this.curOp={$d:0}),this.curOp.$d++;try{var n=e()}finally{this.curOp&&(this.curOp.$d--,this.curOp.$d||this.onBeforeEndOperation())}return n}onBeforeEndOperation(){var e=this.curOp,r=!1;e&&(e.change&&zne(e.changeHandlers,this,e.change),e&&e.cursorActivity&&(zne(e.cursorActivityHandlers,this,null),e.isVimOp&&(r=!0)),this.curOp=null),r&&this.scrollIntoView()}moveH(e,r){if(r=="char"){var n=this.getCursor();this.setCursor(n.line,n.ch+e)}}setOption(e,r){switch(e){case"keyMap":this.state.keyMap=r;break;case"textwidth":this.state.textwidth=r;break}}getOption(e){switch(e){case"firstLineNumber":return 1;case"tabSize":return this.cm6.state.tabSize||4;case"readOnly":return this.cm6.state.readOnly;case"indentWithTabs":return this.cm6.state.facet(jm)=="	";case"indentUnit":return this.cm6.state.facet(jm).length||2;case"textwidth":return this.state.textwidth;case"keyMap":return this.state.keyMap||"vim"}}toggleOverwrite(e){this.state.overwrite=e}getTokenTypeAt(e){var r,n=this.indexFromPos(e),s=yZ(this.cm6.state,n),i=s==null?void 0:s.resolve(n),o=((r=i==null?void 0:i.type)===null||r===void 0?void 0:r.name)||"";return/comment/i.test(o)?"comment":/string/i.test(o)?"string":""}overWriteSelection(e){var r=this.cm6.state.doc,n=this.cm6.state.selection,s=n.ranges.map(i=>{if(i.empty){var o=i.to<r.length?r.sliceString(i.from,i.to+1):"";if(o&&!/\n/.test(o))return Ve.range(i.from,i.to+1)}return i});this.cm6.dispatch({selection:Ve.create(s,n.mainIndex)}),this.replaceSelection(e)}isInMultiSelectMode(){return this.cm6.state.selection.ranges.length>1}virtualSelectionMode(){return!!this.virtualSelection}forEachSelection(e){var r=this.cm6.state.selection;this.virtualSelection=Ve.create(r.ranges,r.mainIndex);for(var n=0;n<this.virtualSelection.ranges.length;n++){var s=this.virtualSelection.ranges[n];s&&(this.cm6.dispatch({selection:Ve.create([s])}),e(),this.virtualSelection.ranges[n]=this.cm6.state.selection.ranges[0])}this.cm6.dispatch({selection:this.virtualSelection}),this.virtualSelection=null}hardWrap(e){return Utt(this,e)}}er.isMac=typeof navigator<"u"&&/Mac/.test(navigator.platform),er.Pos=wl,er.StringStream=YYe,er.commands={cursorCharLeft:function(t){DT(t.cm6)},redo:function(t){Wne(t,!1)},undo:function(t){Wne(t,!0)},newlineAndIndent:function(t){PT({state:t.cm6.state,dispatch:e=>nS(t,e)})},indentAuto:function(t){Kee(t.cm6)},newlineAndIndentContinueComment:void 0,save:void 0},er.isWordChar=function(t){return $k.test(t)},er.keys=wtt,er.addClass=function(t,e){},er.rmClass=function(t,e){},er.e_preventDefault=function(t){t.preventDefault()},er.e_stop=function(t){var e,r;(e=t==null?void 0:t.stopPropagation)===null||e===void 0||e.call(t),(r=t==null?void 0:t.preventDefault)===null||r===void 0||r.call(t)},er.lookupKey=function(e,r,n){var s=er.keys[e];!s&&/^Arrow/.test(e)&&(s=er.keys[e.slice(5)]),s&&n(s)},er.on=$ne,er.off=Gne,er.signal=Vne,er.findMatchingTag=Mtt,er.findEnclosingTag=Ptt,er.keyName=void 0;function Yne(t,e,r){var n=document.createElement("div");return n.appendChild(e),n}function qne(t,e){t.state.currentNotificationClose&&t.state.currentNotificationClose(),t.state.currentNotificationClose=e}function Ott(t,e,r){qne(t,a);var n=Yne(t,e,r&&r.bottom),s=!1,i,o=r&&typeof r.duration<"u"?r.duration:5e3;function a(){s||(s=!0,clearTimeout(i),n.remove(),Xne(t,n))}return n.onclick=function(l){l.preventDefault(),a()},Kne(t,n),o&&(i=setTimeout(a,o)),a}function Kne(t,e){var r=t.state.dialog;t.state.dialog=e,e.style.flex="1",e&&r!==e&&(r&&r.contains(document.activeElement)&&t.focus(),r&&r.parentElement?r.parentElement.replaceChild(e,r):r&&r.remove(),er.signal(t,"dialog"))}function Xne(t,e){t.state.dialog==e&&(t.state.dialog=null,er.signal(t,"dialog"))}function Itt(t,e,r,n){n||(n={}),qne(t,void 0);var s=Yne(t,e,n.bottom),i=!1;Kne(t,s);function o(l){if(typeof l=="string")a.value=l;else{if(i)return;i=!0,Xne(t,s),t.state.dialog||t.focus(),n.onClose&&n.onClose(s)}}var a=s.getElementsByTagName("input")[0];return a&&(n.value&&(a.value=n.value,n.selectValueOnOpen!==!1&&a.select()),n.onInput&&er.on(a,"input",function(l){n.onInput(l,a.value,o)}),n.onKeyUp&&er.on(a,"keyup",function(l){n.onKeyUp(l,a.value,o)}),er.on(a,"keydown",function(l){n&&n.onKeyDown&&n.onKeyDown(l,a.value,o)||(l.keyCode==13&&r&&r(a.value),(l.keyCode==27||n.closeOnEnter!==!1&&l.keyCode==13)&&(a.blur(),er.e_stop(l),o()))}),n.closeOnBlur!==!1&&er.on(a,"blur",function(){setTimeout(function(){document.activeElement!==a&&o()})}),a.focus()),o}var _tt={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function Ltt(t){return t&&t.bracketRegex||/[(){}[\]]/}function Dtt(t,e,r,n,s){for(var i=s&&s.maxScanLineLength||1e4,o=s&&s.maxScanLines||1e3,a=[],l=Ltt(s),c=r>0?Math.min(e.line+o,t.lastLine()+1):Math.max(t.firstLine()-1,e.line-o),d=e.line;d!=c;d+=r){var h=t.getLine(d);if(h){var m=r>0?0:h.length-1,f=r>0?h.length:-1;if(!(h.length>i))for(d==e.line&&(m=e.ch-(r<0?1:0));m!=f;m+=r){var p=h.charAt(m);if(l.test(p)){var E=_tt[p];if(E&&E.charAt(1)==">"==r>0)a.push(p);else if(a.length)a.pop();else return{pos:new wl(d,m),ch:p}}}}}return d-r==(r>0?t.lastLine():t.firstLine())?!1:null}function Mtt(t,e){return null}function Ptt(t,e){var r,n,s=t.cm6.state,i=t.indexFromPos(e);if(i<s.doc.length){var o=s.sliceDoc(i,i+1);o=="<"&&i++}for(var a=yZ(s,i),l=(a==null?void 0:a.resolve(i))||null;l;){if(((r=l.firstChild)===null||r===void 0?void 0:r.type.name)=="OpenTag"&&((n=l.lastChild)===null||n===void 0?void 0:n.type.name)=="CloseTag")return{open:Qne(s.doc,l.firstChild),close:Qne(s.doc,l.lastChild)};l=l.parent}}function Qne(t,e){return{from:Jo(t,e.from),to:Jo(t,e.to)}}class ktt{constructor(e,r,n){this.cm=e,this.id=e.$mid++,this.offset=r,this.assoc=n,e.marks[this.id]=this}clear(){delete this.cm.marks[this.id]}find(){return this.offset==null?null:this.cm.posFromIndex(this.offset)}update(e){this.offset!=null&&(this.offset=e.mapPos(this.offset,this.assoc,qn.TrackDel))}}function Utt(t,e){for(var r,n=e.column||t.getOption("textwidth")||80,s=e.allowMerge!=!1,i=Math.min(e.from,e.to),o=Math.max(e.from,e.to);i<=o;){var a=t.getLine(i);if(a.length>n){var l=p(a,n,5);if(l){var c=(r=/^\s*/.exec(a))===null||r===void 0?void 0:r[0];t.replaceRange(`
`+c,new wl(i,l.start),new wl(i,l.end))}o++}else if(s&&/\S/.test(a)&&i!=o){var d=t.getLine(i+1);if(d&&/\S/.test(d)){var h=a.replace(/\s+$/,""),m=d.replace(/^\s+/,""),f=h+" "+m,l=p(f,n,5);l&&l.start>h.length||f.length<n?(t.replaceRange(" ",new wl(i,h.length),new wl(i+1,d.length-m.length)),i--,o--):h.length<a.length&&t.replaceRange("",new wl(i,h.length),new wl(i,a.length))}}i++}return i;function p(E,g,T){if(!(E.length<g)){var S=E.slice(0,g),v=E.slice(g),N=/^(?:(\s+)|(\S+)(\s+))/.exec(v),C=/(?:(\s+)|(\s+)(\S+))$/.exec(S),x=0,A=0;if(C&&!C[2]&&(x=g-C[1].length,A=g),N&&!N[2]&&(x||(x=g),A=g+N[1].length),x)return{start:x,end:A};if(C&&C[2]&&C.index>T)return{start:C.index,end:C.index+C[2].length};if(N&&N[2])return x=g+N[2].length,{start:x,end:x+N[3].length}}}}let Gk=FJ||function(){let t={cursorBlinkRate:1200};return function(){return t}}();class jtt{constructor(e,r,n,s,i,o,a,l,c,d){this.left=e,this.top=r,this.height=n,this.fontFamily=s,this.fontSize=i,this.fontWeight=o,this.color=a,this.className=l,this.letter=c,this.partial=d}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.fontFamily=this.fontFamily,e.style.fontSize=this.fontSize,e.style.fontWeight=this.fontWeight,e.style.color=this.partial?"transparent":this.color,e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.height==e.height&&this.fontFamily==e.fontFamily&&this.fontSize==e.fontSize&&this.fontWeight==e.fontWeight&&this.color==e.color&&this.className==e.className&&this.letter==e.letter}}class Btt{constructor(e,r){this.view=e,this.rangePieces=[],this.cursors=[],this.cm=r,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){let r=Gk(this.cm.cm6.state).cursorBlinkRate;this.cursorLayer.style.animationDuration=r+"ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),Ftt(e)&&this.setBlinkRate()}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,r=[];for(let n of e.selection.ranges){let s=n==e.selection.main,i=Vtt(this.cm,this.view,n,s);i&&r.push(i)}return{cursors:r}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((r,n)=>!r.eq(this.cursors[n]))){let r=this.cursorLayer.children;if(r.length!==e.length){this.cursorLayer.textContent="";for(const n of e)this.cursorLayer.appendChild(n.draw())}else e.forEach((n,s)=>n.adjust(r[s]));this.cursors=e}}destroy(){this.cursorLayer.remove()}}function Ftt(t){return Gk(t.startState)!=Gk(t.state)}const Htt={".cm-vimMode .cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}},$tt=ya.highest(ot.theme(Htt));function Gtt(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Gr.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function Vtt(t,e,r,n){var s,i,o,a;let l=r.head,c=!1,d=1,h=t.state.vim;if(h&&(!h.insertMode||t.state.overwrite)){if(c=!0,h.visualBlock&&!n)return null;r.anchor<r.head&&(l<e.state.doc.length&&e.state.sliceDoc(l,l+1))!=`
`&&l--,t.state.overwrite?d=.2:h.status&&(d=.5)}if(c){let f=l<e.state.doc.length&&e.state.sliceDoc(l,l+1);f&&/[\uDC00-\uDFFF]/.test(f)&&l>1&&(l--,f=e.state.sliceDoc(l,l+1));let p=e.coordsAtPos(l,1);if(!p)return null;let E=Gtt(e),g=e.domAtPos(l),T=g?g.node:e.contentDOM;for(T instanceof Text&&g.offset>=T.data.length&&!((s=T.parentElement)===null||s===void 0)&&s.nextSibling&&(T=(i=T.parentElement)===null||i===void 0?void 0:i.nextSibling,g={node:T,offset:0});g&&g.node instanceof HTMLElement;)T=g.node,g={node:g.node.childNodes[g.offset],offset:0};if(!(T instanceof HTMLElement)){if(!T.parentNode)return null;T=T.parentNode}let S=getComputedStyle(T),v=p.left,N=(a=(o=e).coordsForChar)===null||a===void 0?void 0:a.call(o,l);if(N&&(v=N.left),!f||f==`
`||f=="\r")f="";else if(f=="	"){f="";var m=e.coordsAtPos(l+1,-1);m&&(v=m.left-(m.left-p.left)/parseInt(S.tabSize))}else/[\uD800-\uDBFF]/.test(f)&&l<e.state.doc.length-1&&(f+=e.state.sliceDoc(l+1,l+2));let C=p.bottom-p.top;return new jtt((v-E.left)/e.scaleX,(p.top-E.top+C*(1-d))/e.scaleY,C*d/e.scaleY,S.fontFamily,S.fontSize,S.fontWeight,S.color,n?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",f,d!=1)}else return null}var ztt=typeof navigator<"u"&&/linux/i.test(navigator.platform)&&/ Gecko\/\d+/.exec(navigator.userAgent);const bh=xtt(er),Wtt=250,Ytt=ot.baseTheme({".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"0px 10px",fontFamily:"monospace",minHeight:"1.3em",display:"flex"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"inherit"},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"}}),qtt=kn.fromClass(class{constructor(t){this.status="",this.query=null,this.decorations=Wt.none,this.waitForCopy=!1,this.lastKeydown="",this.useNextTextInput=!1,this.compositionText="",this.view=t;const e=this.cm=new er(t);bh.enterVimMode(this.cm),this.view.cm=this.cm,this.cm.state.vimPlugin=this,this.blockCursor=new Btt(t,e),this.updateClass(),this.cm.on("vim-command-done",()=>{e.state.vim&&(e.state.vim.status=""),this.blockCursor.scheduleRedraw(),this.updateStatus()}),this.cm.on("vim-mode-change",r=>{e.state.vim&&(e.state.vim.mode=r.mode,r.subMode&&(e.state.vim.mode+=" block"),e.state.vim.status="",this.blockCursor.scheduleRedraw(),this.updateClass(),this.updateStatus())}),this.cm.on("dialog",()=>{this.cm.state.statusbar?this.updateStatus():t.dispatch({effects:Jne.of(!!this.cm.state.dialog)})}),this.dom=document.createElement("span"),this.spacer=document.createElement("span"),this.spacer.style.flex="1",this.statusButton=document.createElement("span"),this.statusButton.onclick=r=>{bh.handleKey(this.cm,"<Esc>","user"),this.cm.focus()},this.statusButton.style.cssText="cursor: pointer"}update(t){var e;if((t.viewportChanged||t.docChanged)&&this.query&&this.highlight(this.query),t.docChanged&&this.cm.onChange(t),t.selectionSet&&this.cm.onSelectionChange(),t.viewportChanged,this.cm.curOp&&!this.cm.curOp.isVimOp&&this.cm.onBeforeEndOperation(),t.transactions){for(let r of t.transactions)for(let n of r.effects)if(n.is(zu))if(!((e=n.value)===null||e===void 0?void 0:e.forVim))this.highlight(null);else{let i=n.value.create();this.highlight(i)}}this.blockCursor.update(t)}updateClass(){const t=this.cm.state;!t.vim||t.vim.insertMode&&!t.overwrite?this.view.scrollDOM.classList.remove("cm-vimMode"):this.view.scrollDOM.classList.add("cm-vimMode")}updateStatus(){let t=this.cm.state.statusbar,e=this.cm.state.vim;if(!t||!e)return;let r=this.cm.state.dialog;if(r)r.parentElement!=t&&(t.textContent="",t.appendChild(r));else{t.textContent="";var n=(e.mode||"normal").toUpperCase();e.insertModeReturn&&(n+="(C-O)"),this.statusButton.textContent=`--${n}--`,t.appendChild(this.statusButton),t.appendChild(this.spacer)}this.dom.textContent=e.status,t.appendChild(this.dom)}destroy(){bh.leaveVimMode(this.cm),this.updateClass(),this.blockCursor.destroy(),delete this.view.cm}highlight(t){if(this.query=t,!t)return this.decorations=Wt.none;let{view:e}=this,r=new Aa;for(let n=0,s=e.visibleRanges,i=s.length;n<i;n++){let{from:o,to:a}=s[n];for(;n<i-1&&a>s[n+1].from-2*Wtt;)a=s[++n].to;t.highlight(e.state,o,a,(l,c)=>{r.add(l,c,Xtt)})}return this.decorations=r.finish()}handleKey(t,e){const r=this.cm;let n=r.state.vim;if(!n)return;const s=bh.vimKeyFromEvent(t,n);if(er.signal(this.cm,"inputEvent",{type:"handleKey",key:s}),!s)return;if(s=="<Esc>"&&!n.insertMode&&!n.visualMode&&this.query){const a=n.searchState_;a&&(r.removeOverlay(a.getOverlay()),a.setOverlay(null))}if(s==="<C-c>"&&!er.isMac&&r.somethingSelected())return this.waitForCopy=!0,!0;n.status=(n.status||"")+s;let o=bh.multiSelectHandleKey(r,s,"user");return n=bh.maybeInitVimState_(r),!o&&n.insertMode&&r.state.overwrite&&(t.key&&t.key.length==1&&!/\n/.test(t.key)?(o=!0,r.overWriteSelection(t.key)):t.key=="Backspace"&&(o=!0,er.commands.cursorCharLeft(r))),o&&(er.signal(this.cm,"vim-keypress",s),t.preventDefault(),t.stopPropagation(),this.blockCursor.scheduleRedraw()),this.updateStatus(),!!o}},{eventHandlers:{copy:function(t,e){this.waitForCopy&&(this.waitForCopy=!1,Promise.resolve().then(()=>{var r=this.cm,n=r.state.vim;n&&(n.insertMode?r.setSelection(r.getCursor(),r.getCursor()):r.operation(()=>{r.curOp&&(r.curOp.isVimOp=!0),bh.handleKey(r,"<Esc>","user")}))}))},compositionstart:function(t,e){this.useNextTextInput=!0,er.signal(this.cm,"inputEvent",t)},compositionupdate:function(t,e){er.signal(this.cm,"inputEvent",t)},compositionend:function(t,e){er.signal(this.cm,"inputEvent",t)},keypress:function(t,e){er.signal(this.cm,"inputEvent",t),this.lastKeydown=="Dead"&&this.handleKey(t,e)},keydown:function(t,e){er.signal(this.cm,"inputEvent",t),this.lastKeydown=t.key,this.lastKeydown=="Unidentified"||this.lastKeydown=="Process"||this.lastKeydown=="Dead"?this.useNextTextInput=!0:(this.useNextTextInput=!1,this.handleKey(t,e))}},provide:()=>[ot.inputHandler.of((t,e,r,n)=>{var s,i,o=trt(t);if(!o)return!1;var a=(s=o.state)===null||s===void 0?void 0:s.vim,l=o.state.vimPlugin;if(a&&!a.insertMode&&!(!((i=o.curOp)===null||i===void 0)&&i.isVimOp)){if(n==="\0\0")return!0;if(er.signal(o,"inputEvent",{type:"text",text:n,from:e,to:r}),n.length==1&&l.useNextTextInput){if(a.expectLiteralNext&&t.composing)return l.compositionText=n,!1;if(l.compositionText){var c=l.compositionText;l.compositionText="";var d=t.state.selection.main.head,h=t.state.sliceDoc(d-c.length,d);if(c===h){var m=o.getCursor();o.replaceRange("",o.posFromIndex(d-c.length),m)}}return l.handleKey({key:n,preventDefault:()=>{},stopPropagation:()=>{}}),Ktt(t),!0}}return!1})],decorations:t=>t.decorations});function Ktt(t){var e=t.scrollDOM.parentElement;if(e){if(ztt){t.contentDOM.textContent="\0\0",t.contentDOM.dispatchEvent(new CustomEvent("compositionend"));return}var r=t.scrollDOM.nextSibling,n=window.getSelection(),s=n&&{anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset};t.scrollDOM.remove(),e.insertBefore(t.scrollDOM,r);try{s&&n&&(n.setPosition(s.anchorNode,s.anchorOffset),s.focusNode&&n.extend(s.focusNode,s.focusOffset))}catch(i){console.error(i)}t.focus(),t.contentDOM.dispatchEvent(new CustomEvent("compositionend"))}}const Xtt=Wt.mark({class:"cm-searchMatch"}),Jne=jt.define(),Qtt=yn.define({create:()=>!1,update(t,e){for(let r of e.effects)r.is(Jne)&&(t=r.value);return t},provide:t=>ku.from(t,e=>e?Jtt:null)});function Jtt(t){let e=document.createElement("div");e.className="cm-vim-panel";let r=t.cm;return r.state.dialog&&e.appendChild(r.state.dialog),{top:!1,dom:e}}function Ztt(t){let e=document.createElement("div");e.className="cm-vim-panel";let r=t.cm;return r.state.statusbar=e,r.state.vimPlugin.updateStatus(),{dom:e}}function ert(t={}){return[Ytt,qtt,$tt,t.status?ku.of(Ztt):Qtt]}function trt(t){return t.cm||null}const Zne=t=>e=>{const r=t==="down";let n=e.state.selection;for(const s of n.ranges)n=n.addRange(e.moveVertically(s,r));return e.dispatch({selection:n}),!0},rrt=[{key:"Ctrl-Space",run:$m},{key:"Escape",run:cP},{key:"ArrowDown",run:qo(!0)},{key:"ArrowUp",run:qo(!1)},{key:"PageDown",run:qo(!0,"page")},{key:"PageUp",run:qo(!1,"page")},{key:"Enter",run:mN},{key:"Tab",run:mN},{key:"Mod-f",run:Ote,scope:"editor search-panel"},{key:"Escape",run:Ite,scope:"editor search-panel"},{key:"Alt-Enter",run:Nte,scope:"editor search-panel"},{key:"Mod-Alt-Enter",run:Cte,scope:"editor search-panel"},{key:"Ctrl-g",run:iXe},{key:"Mod-d",run:cXe,preventDefault:!0},{key:"Shift-Mod-l",run:gXe},{key:"Enter",run:PT,shift:PT},{key:"ArrowLeft",run:DT,shift:CN,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:See,shift:Oee},{key:"ArrowRight",run:vN,shift:xN,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:vee,shift:Iee},{key:"ArrowUp",run:AN,shift:wN,preventDefault:!0},{key:"ArrowDown",run:RN,shift:ON,preventDefault:!0},{key:"Home",run:bN,shift:bP},{mac:"Cmd-ArrowLeft",run:bN,shift:bP},{key:"Mod-Home",run:LN,shift:MN},{mac:"Cmd-ArrowUp",run:LN,shift:MN},{key:"PageUp",run:MT,shift:IN},{mac:"Ctrl-ArrowUp",run:MT,shift:IN},{key:"PageDown",run:Wm,shift:_N},{mac:"Ctrl-ArrowDown",run:Wm,shift:_N},{key:"End",run:NN,shift:NP},{mac:"Cmd-ArrowRight",run:NN,shift:NP},{key:"Mod-Alt-ArrowUp",linux:"Shift-Alt-ArrowUp",run:Zne("up"),preventDefault:!0},{key:"Mod-Alt-ArrowDown",linux:"Shift-Alt-ArrowDown",run:Zne("down"),preventDefault:!0},{key:"Shift-Alt-i",run:t=>{let e=null;for(const r of t.state.selection.ranges)if(!r.empty)for(let n=r.from;n<=r.to;){const s=t.state.doc.lineAt(n),i=Math.min(s.to,r.to);e?e=e.addRange(Ve.range(i,i)):e=Ve.single(i),n=s.to+1}return e?(t.dispatch({selection:e}),!0):!1}},{key:"Mod-End",run:DN,shift:PN},{mac:"Cmd-ArrowDown",run:DN,shift:PN},{key:"Mod-a",run:Pee},{key:"Backspace",run:Lqe},{key:"Backspace",run:qm,shift:qm},{key:"Delete",run:UN},{key:"Mod-Backspace",mac:"Alt-Backspace",run:jN},{key:"Mod-Delete",mac:"Alt-Delete",run:Bee},{mac:"Mod-Backspace",run:gKe},{mac:"Mod-Delete",run:CP},{mac:"Ctrl-b",run:DT,shift:CN,preventDefault:!0},{mac:"Ctrl-f",run:vN,shift:xN},{mac:"Ctrl-p",run:AN,shift:wN},{mac:"Ctrl-n",run:RN,shift:ON},{mac:"Ctrl-a",run:Nee,shift:Dee},{mac:"Ctrl-e",run:bee,shift:Mee},{mac:"Ctrl-d",run:UN},{mac:"Ctrl-h",run:qm},{mac:"Ctrl-k",run:CP},{mac:"Ctrl-Alt-h",run:jN},{mac:"Ctrl-o",run:xP},{mac:"Ctrl-t",run:Fee},{mac:"Ctrl-v",run:Wm},{mac:"Alt-v",run:MT},{key:"Shift-Mod-k",run:Yee},{key:"Alt-ArrowDown",run:Gee},{key:"Alt-ArrowUp",run:$ee},{win:"Shift-Alt-ArrowDown",mac:"Shift-Alt-ArrowDown",run:Wee},{win:"Shift-Alt-ArrowUp",mac:"Shift-Alt-ArrowUp",run:zee},{key:"Mod-l",run:kee,preventDefault:!0},{key:"Shift-Mod-\\",run:Cee},{key:"Tab",run:kT,shift:UT,preventDefault:!0},{key:"Mod-[",run:UT},{key:"Mod-]",run:kT},{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:IZ},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:DYe},{key:"Mod-k Mod-0",run:MYe},{key:"Mod-k Mod-j",run:PYe},{key:"Mod-k Mod-c",run:Vqe},{key:"Mod-k Mod-u",run:zqe},{key:"Mod-/",run:EP},{key:"Shift-Alt-a",run:dee},{key:"Mod-z",run:gN,preventDefault:!0},{key:"Mod-y",run:Vm,preventDefault:!0},{key:"Mod-Shift-z",run:Vm,preventDefault:!0},{key:"Mod-u",run:pee,preventDefault:!0},{key:"Mod-Shift-m",run:VKe},{key:"F8",run:zKe}];function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bb.apply(null,arguments)}var ese=t=>{var{theme:e,settings:r={},styles:n=[]}=t,s={".cm-gutters":{}},i={};r.background&&(i.backgroundColor=r.background),r.backgroundImage&&(i.backgroundImage=r.backgroundImage),r.foreground&&(i.color=r.foreground),r.fontSize&&(i.fontSize=r.fontSize),(r.background||r.foreground)&&(s["&"]=i),r.fontFamily&&(s["&.cm-editor .cm-scroller"]={fontFamily:r.fontFamily}),r.gutterBackground&&(s[".cm-gutters"].backgroundColor=r.gutterBackground),r.gutterForeground&&(s[".cm-gutters"].color=r.gutterForeground),r.gutterBorder&&(s[".cm-gutters"].borderRightColor=r.gutterBorder),r.caret&&(s[".cm-content"]={caretColor:r.caret},s[".cm-cursor, .cm-dropCursor"]={borderLeftColor:r.caret});var o={};r.gutterActiveForeground&&(o.color=r.gutterActiveForeground),r.lineHighlight&&(s[".cm-activeLine"]={backgroundColor:r.lineHighlight},o.backgroundColor=r.lineHighlight),s[".cm-activeLineGutter"]=o,r.selection&&(s["&.cm-focused .cm-selectionBackground, & .cm-line::selection, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={background:r.selection+" !important"}),r.selectionMatch&&(s["& .cm-selectionMatch"]={backgroundColor:r.selectionMatch});var a=ot.theme(s,{dark:e==="dark"}),l=Sc.define(n),c=[a,$u(l)];return c},nrt={background:"#fff",foreground:"#24292e",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#6e7781"},srt=[{tag:[me.standard(me.tagName),me.tagName],color:"#116329"},{tag:[me.comment,me.bracket],color:"#6a737d"},{tag:[me.className,me.propertyName],color:"#6f42c1"},{tag:[me.variableName,me.attributeName,me.number,me.operator],color:"#005cc5"},{tag:[me.keyword,me.typeName,me.typeOperator,me.typeName],color:"#d73a49"},{tag:[me.string,me.meta,me.regexp],color:"#032f62"},{tag:[me.name,me.quote],color:"#22863a"},{tag:[me.heading,me.strong],color:"#24292e",fontWeight:"bold"},{tag:[me.emphasis],color:"#24292e",fontStyle:"italic"},{tag:[me.deleted],color:"#b31d28",backgroundColor:"ffeef0"},{tag:[me.atom,me.bool,me.special(me.variableName)],color:"#e36209"},{tag:[me.url,me.escape,me.regexp,me.link],color:"#032f62"},{tag:me.link,textDecoration:"underline"},{tag:me.strikethrough,textDecoration:"line-through"},{tag:me.invalid,color:"#cb2431"}],tse=t=>{var{theme:e="light",settings:r={},styles:n=[]}=t||{};return ese({theme:e,settings:bb({},nrt,r),styles:[...srt,...n]})};tse();var irt={background:"#0d1117",foreground:"#c9d1d9",caret:"#c9d1d9",selection:"#003d73",selectionMatch:"#003d73",lineHighlight:"#36334280"},ort=[{tag:[me.standard(me.tagName),me.tagName],color:"#7ee787"},{tag:[me.comment,me.bracket],color:"#8b949e"},{tag:[me.className,me.propertyName],color:"#d2a8ff"},{tag:[me.variableName,me.attributeName,me.number,me.operator],color:"#79c0ff"},{tag:[me.keyword,me.typeName,me.typeOperator,me.typeName],color:"#ff7b72"},{tag:[me.string,me.meta,me.regexp],color:"#a5d6ff"},{tag:[me.name,me.quote],color:"#7ee787"},{tag:[me.heading,me.strong],color:"#d2a8ff",fontWeight:"bold"},{tag:[me.emphasis],color:"#d2a8ff",fontStyle:"italic"},{tag:[me.deleted],color:"#ffdcd7",backgroundColor:"ffeef0"},{tag:[me.atom,me.bool,me.special(me.variableName)],color:"#ffab70"},{tag:me.link,textDecoration:"underline"},{tag:me.strikethrough,textDecoration:"line-through"},{tag:me.invalid,color:"#f97583"}],rse=t=>{var{theme:e="dark",settings:r={},styles:n=[]}=t||{};return ese({theme:e,settings:bb({},irt,r),styles:[...ort,...n]})};rse();const nse=[ot.baseTheme({"#sql-editor &":{background:"var(--background, #030711)",color:"var(--cursor, #abb2bf)",paddingLeft:"4px"},"#sql-editor & .cm-cursor, #sql-editor & .cm-dropCursor":{borderLeftColor:"var(--cursor, #abb2bf)"},"#sql-editor & .cm-scroller":{paddingRight:"12px","&:focus":{outline:"none"}},"#sql-editor &.cm-focused":{outline:"none"},"#sql-editor & .cm-content":{caretColor:"var(--cursor, #abb2bf)",fontFamily:"var(--editor-font, Menlo)",cursor:"text",padding:"12px 0"},"#sql-editor & .cm-run-gutter .cm-gutterElement":{display:"flex",alignItems:"center",paddingLeft:"6px","& > div":{width:"100%",height:"100%",cursor:"pointer","& > svg":{width:"100%",height:"100%"},"&:hover":{backgroundColor:"#f5f5f014",borderRadius:"0.25rem"}}},"#sql-editor & .cm-indent-markers::before":{left:"-3px"},"#sql-editor & .cm-line":{color:"var(--cursor, #abb2bf)",paddingLeft:"0px"},"#sql-editor & .cm-activeLine":{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem",background:"var(--highlight-background, #f5f5f014)",zIndex:0},"#sql-editor & .cm-gutter:first-child":{marginRight:"4px",backgroundColor:"transparent !important"},"#sql-editor & .cm-gutter:first-child .cm-activeLineGutter":{backgroundColor:"transparent"},"#sql-editor & .cm-gutter:nth-child(2) .cm-activeLineGutter":{borderTopLeftRadius:"0.375rem",borderBottomLeftRadius:"0.375rem",backgroundColor:"var(--highlight-background, #f5f5f014)"},"#sql-editor & .cm-gutter .cm-activeLineGutter":{backgroundColor:"var(--highlight-background, #f5f5f014)"},"#sql-editor & .cm-gutters":{border:"none",fontFamily:"var(--editor-font, Menlo)",background:"var(--background, #030711)"},"#sql-editor & .cm-foldMarker":{width:"12px",height:"12px",marginLeft:"8px","&.folded":{transform:"rotate(-90deg)"}},"#sql-editor & .cm-foldPlaceholder":{background:"transparent",border:"none"},"#sql-editor & .cm-tooltip.cm-tooltip":{backgroundColor:"var(--background, #030711)",borderColor:"var(--border, #3b4252)"},"#sql-editor & .cm-tooltip.cm-tooltip-autocomplete > ul":{minWidth:"250px"},"#sql-editor & .cm-tooltip.cm-tooltip-autocomplete > ul > li":{display:"flex",alignItems:"center",padding:"2px"},"#sql-editor & .cm-tooltip.cm-tooltip-autocomplete > ul > li[aria-selected]":{backgroundColor:"var(--highlight-background, #f5f5f014)"},"#sql-editor & .cm-completionLabel":{},"#sql-editor & .cm-completionMatchedText":{textDecoration:"none",fontWeight:600,color:"var(--sql-keyword, #61afef)"},"#sql-editor & .cm-completionDetail":{fontStyle:"initial",color:"#ABABAB",marginLeft:"2rem"},"#sql-editor & .cm-completionInfo":{},"#sql-editor & .cm-tooltip-hover":{borderRadius:"0.25rem",overflow:"auto",whiteSpace:"pre-wrap",fontSize:"0.75rem",lineHeight:"1rem",maxWidth:"400px",maxHeight:"600px",padding:"0.5rem"},"#sql-editor & .cm-tooltip-section":{border:"none !important","&:not(:first-child)":{border:"none !important",marginTop:"0.5rem"}},"#sql-editor & .cm-lineNumbers .cm-gutterElement":{padding:"0",display:"flex",alignItems:"center",justifyContent:"end"},"#sql-editor & .cm-foldGutter .cm-gutterElement":{display:"flex",alignItems:"center","& > div":{minWidth:"20px",width:"100%",height:"100%",cursor:"pointer",color:"var(--line-number, #7d8799)","& > svg":{width:"70%",height:"70%"},"&:hover":{borderRadius:"0.25rem"}}}})],art=Sc.define([{tag:me.keyword,color:"var(--sql-keyword)"},{tag:me.operator,color:"var(--sql-keyword)"},{tag:me.number,color:"var(--sql-number)"},{tag:me.string,color:"var(--sql-string)"},{tag:me.bool,color:"var(--sql-boolean)"},{tag:me.name,color:"var(--sql-variable)"}]),lrt=[[nse,$u(art),ot.theme({"#sql-editor &":{background:"var(--background, #030711)"},".cm-tooltip-hover":{border:"1px solid #1d283a",backgroundColor:"#0d1117",color:"#c9d1d9"},".cm-sql-query":{backgroundColor:"var(--highlight-background)",display:"inline-block"},"#sql-editor & .cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"}},{dark:!0})],rse({settings:{gutterBackground:"transparent",selection:"var(--selection, #3e4451)"}})],crt=Sc.define([{tag:me.keyword,color:"var(--sql-keyword, #f87683)"},{tag:me.operator,color:"var(--sql-keyword, #f87683)"},{tag:me.number,color:"var(--sql-number, #79b8ff)"},{tag:me.string,color:"var(--sql-string, #91bae9)"},{tag:me.bool,color:"var(--sql-boolean, #e2e4e8)"},{tag:me.name,color:"var(--sql-variable, #e1e3e7)"}]),urt=[[nse,$u(crt),ot.theme({".cm-tooltip-hover":{border:"1px solid #e2e8f0",backgroundColor:"#fff",color:"#24292e"},".cm-sql-query":{backgroundColor:"var(--highlight-background)",display:"inline-block"},"#sql-editor & .cm-activeLineGutter":{backgroundColor:"#cceeff44"},"#sql-editor & .cm-foldPlaceholder":{backgroundColor:"transparent",border:"none"},"#sql-editor & .cm-lineNumbers .cm-gutterElement":{color:"var(--line-number, #7d8799)"}})],tse({settings:{gutterBackground:"transparent",selection:"var(--selection, #3e4451)"}})],sse=pl.define(),ise=new class extends Go{toDOM(){const t=document.createElement("div");return t.className="run-marker flex items-center justify-center group text-sql-console-gutter-run-button",t.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" style="width: 1.125rem; height: 1.125rem;" viewBox="0 0 24 24"><path class="group-hover:fill-current" fill="color-mix(in srgb, var(--sql-console-gutter-run-button, #17A34A), transparent 50%)" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6.906 4.537A.6.6 0 0 0 6 5.053v13.894a.6.6 0 0 0 .906.516l11.723-6.947a.6.6 0 0 0 0-1.032L6.906 4.537Z"/></svg>
      `,t}};class Vk extends Go{constructor(e,r,n){super(),this.type=e,this.isTopRounded=r,this.isBottomRounded=n}toDOM(){const e=document.createElement("div");return e.className="line-marker w-1 h-full",this.type==="marked"&&e.classList.add("bg-primary"),this.type==="highlighted"&&e.classList.add("bg-secondary"),this.isTopRounded&&e.classList.add("rounded-t-[0.375rem]"),this.isBottomRounded&&e.classList.add("rounded-b-[0.375rem]"),e}}const ose=jt.define({map:(t,e)=>({from:e.mapPos(t.from),to:e.mapPos(t.to),on:t.on})}),ase=jt.define(),lse=yn.define({create(){return hr.empty},update(t,e){t=t.map(e.changes);for(const r of e.effects)r.is(ose)?t=t.update({filter:n=>n<r.value.from,add:[ise.range(r.value.from)]}):r.is(ase)&&(t=t.update({filter:()=>!1}));return t}}),drt=jt.define({map:(t,e)=>({from:e.mapPos(t.from),to:e.mapPos(t.to)})}),hrt=jt.define(),frt=Wt.mark({class:"cm-sql-query"}),mrt=yn.define({create(){return Wt.none},update(t,e){t=t.map(e.changes);for(const r of e.effects)r.is(drt)?t=t.update({filter:()=>!1,add:[frt.range(r.value.from,r.value.to)]}):r.is(hrt)&&(t=t.update({filter:()=>!1}));return t},provide:t=>ot.decorations.from(t)}),cse=t=>(e,r)=>{const n=rl(e,{strict:!1,dialect:t==="postgresql"||t==="duckdb"?"psql":t==="singlestore"?"mysql":t||void 0}),s=[];if(n.forEach(i=>{try{const o=r.state.doc.lineAt(i.start),a=ose.of({from:o.from,to:o.to,on:!0});s.push(a)}catch{}}),s.length===0){r.dispatch({effects:[ase.of(null)]});return}r.dispatch({effects:s})},prt=(t,e,r)=>async n=>{const s=n.matchBefore(/.+/);if(!s||s.from==s.to&&!n.explicit)return null;const i=s.text.split(" "),o=i[i.length-1];if(o==="@@"){const a=wqe("SELECT * FROM ${1}",{label:"@@select",detail:"Select all columns from a table",type:"snippet"});return{from:s.to-2,validFor:()=>!0,options:[{...a,apply:(l,c,d,h)=>{a.apply&&typeof a.apply=="function"&&a.apply(l,c,d,h),$m(l)}}]}}if(o===""){const a=i[i.length-2].toUpperCase();if(a==="SELECT")return{from:s.to,validFor:()=>!0,options:[{label:"*",type:"variable",boost:99},...r]};if(a==="FROM"||a==="INTO"||a==="UPDATE"||a==="DELETE"||a==="JOIN")return{from:s.to,validFor:()=>!0,options:e}}else return await jne(t==="sqlite"?jk:t==="mysql"||t==="singlestore"?Uk:kk,!0,(l,c)=>({label:l,type:c,boost:["SELECT","INSERT","UPDATE","DELETE","FROM","WHERE","AND","OR","VALUES","SET","JOIN","ON","LIMIT","OFFSET","IS","NOT","NULL","ASC","DESC","INNER","LEFT","RIGHT","COUNT","SUM","AVG","MIN","MAX","DISTINCT","GROUP BY","ORDER BY","HAVING","LIKE","IN","BETWEEN","EXISTS","UNION","INTERSECT","EXCEPT"].includes(l)?50:0}))(n);return null},Ert=()=>{const t={acceptCompletion:mN,startCompletion:$m,closeCompletion:cP,nextSuggestion:qo(!0),previousSuggestion:qo(!1),nextSuggestionPage:qo(!0,"page"),previousSuggestionPage:qo(!1,"page")},e={nextSnippetField:ree,prevSnippetField:nee,clearSnippet:tee},r={acceptCompletion:["Tab","Enter"],startCompletion:["Ctrl-Space"],nextSuggestion:["ArrowDown"],previousSuggestion:["ArrowUp"],nextSuggestionPage:["PageDown"],previousSuggestionPage:["PageUp"],closeCompletion:["Escape"],nextSnippetField:["Tab"],prevSnippetField:["Shift-Tab"],clearSnippet:["Escape"]},n=[],s=[],i={...r};for(const[o,a]of Object.entries(i)){if(!Array.isArray(a)){console.warn("User snippet config: Mappings for",o,"must be an array.");continue}const l=Object.prototype.hasOwnProperty.call(e,o),c=Object.prototype.hasOwnProperty.call(t,o);if(!l&&!c){console.warn("User snippet config: Unknown command",o);continue}for(const d of a)if(l){const h=e[o];n.push({key:d,run:m=>h(m)&&$m(m)})}else{const h=t[o];n.push({key:d,run:h})}}return[ya.high(ba.of(n)),fP.of(s)]},grt=ot.theme({".cm-activeLine, .cm-activeLineGutter":{backgroundColor:"transparent !important"}}),use=new Ou,Trt=new Vk("highlighted",!1,!1),dse=new Ou,Srt=({dialect:t,className:e,value:r="",onChange:n,readOnly:s,queryFn:i,tableCompletions:o=[],columnCompletions:a=[],onExecute:l,markedQueries:c,schema:d,additionalExtensions:h=[],...m})=>{const{theme:f}=Is(),p=Vn(x=>x.keybindings),E=Vn(x=>x.fontSize),[g,T]=y.useState(null),{setView:S}=Sn(),v=y.useRef(null),N=ot.updateListener.of(x=>{if(x.selectionSet&&(x.state.selection.main.from!==x.state.selection.main.to?x.view.dispatch({effects:use.reconfigure(grt)}):x.view.dispatch({effects:use.reconfigure(GR())})),x.docChanged&&typeof n=="function"&&!x.transactions.some(A=>A.annotation(sse))){const b=x.state.doc.toString();n(b)}}),C=y.useMemo(()=>[p==="emacs"?[Ttt()]:p==="vim"?[ert(),BJ()]:[ba.of(rrt)],GR(),iZ(),N,QR({class:"cm-line-marker-gutter",initialSpacer:()=>Trt,lineMarker:(x,A)=>{const b=c==null?void 0:c.find(Y=>A.from>=Y.start&&A.to-1<=Y.end);if(b){const Y=b.start===A.from,k=b.end===A.to-1;return new Vk("marked",Y,k)}const _=rl(x.state.doc.toString(),{strict:!1,dialect:t==="postgresql"||t==="duckdb"?"psql":t==="singlestore"?"mysql":t||void 0}),{from:U,to:j}=x.state.selection.main,L=_.filter(Y=>Y.end+1>=U&&Y.start<=j);if(L.length===0)return null;const P=L.find(Y=>Y.end+1>=A.from&&Y.start<=A.to);if(!P)return null;const I=P.start===A.from,F=P.end===A.to-1;return new Vk("highlighted",I,F)}}),nZ(),Ert(),ntt({dialect:t==="sqlite"?jk:t==="mysql"||t==="singlestore"?Uk:kk,upperCaseKeywords:!0}),lse,mrt,ba.of([IP,{mac:"Cmd-Enter",win:"Ctrl-Enter",run:x=>{if(s||!i||!l)return!1;const A=rl(x.state.doc.toString(),{strict:!1,dialect:t==="postgresql"||t==="duckdb"?"psql":t==="singlestore"?"mysql":t||void 0}),{from:b,to:_}=x.state.selection.main,U=A.filter(j=>j.end+1>=b&&j.start<=_);return U.length===0?!1:(l(U),!0)}},{mac:"Shift-Cmd-Enter",win:"Shift-Ctrl-Enter",run:x=>{if(s||!i||!l)return!1;const A=rl(x.state.doc.toString(),{strict:!1,dialect:t==="postgresql"||t==="duckdb"?"psql":t==="singlestore"?"mysql":t||void 0});return A.length===0?!1:(l(A),!0)}}]),iee(),_r.readOnly.of(!!s),...s?[]:[PM(cse(t)),QR({class:"cm-run-gutter",markers:x=>x.state.field(lse),initialSpacer:()=>ise,domEventHandlers:{click(x,A,b){if(s||!i||!l||b.target.classList.contains("cm-run-gutter"))return!1;const U=rl(x.state.doc.toString(),{strict:!1,dialect:t==="postgresql"||t==="duckdb"?"psql":t==="singlestore"?"mysql":t||void 0}).find(j=>j.start>=A.from);return U?(l([U]),!0):!1}}})],kZ({markerDOM:x=>{const A=document.createElement("div");return A.className="flex items-center justify-center",A.innerHTML=`
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 0.75rem; height: 0.75rem;">
                  <path d="M5.67195 6.0625L18.3386 6.0625C19.0935 6.0625 19.5762 6.86698 19.221 7.53309L12.8876 19.4081C12.5112 20.114 11.4994 20.114 11.1229 19.4081L4.78959 7.53309C4.43434 6.86698 4.91703 6.0625 5.67195 6.0625Z" fill="currentColor"></path>
                </svg>
              `,A.style.transform=x?"":"rotate(-90deg)",A},domEventHandlers:{click:(x,A,b)=>(b.stopPropagation(),!1)}}),IM(),vP(),$u(tP,{fallback:!0}),ba.of([...OP,...AP]),f==="dark"?lrt:urt,Ctt({colors:{light:"color-mix(in srgb, var(--background), black 10%)",dark:"color-mix(in srgb, var(--background), white 10%)",activeLight:"color-mix(in srgb, var(--background), black 20%)",activeDark:"color-mix(in srgb, var(--background), white 20%)"},markerType:"codeOnly"}),dse.of(ot.theme({"#sql-editor & .cm-content":{fontSize:`${E}px`},"#sql-editor & .cm-gutters":{fontSize:`${E-2}px`}})),Bqe({activateOnTyping:!0,selectOnOpen:!0,override:[Bne({defaultSchema:t==="postgresql"||t==="duckdb"?"public":Object.keys(d||{})[0],schema:d,dialect:t==="sqlite"?jk:t==="mysql"||t==="singlestore"?Uk:kk}),prt(t,o,a)]}),...h],[h,o,a,n,l,i,s,t,f,d,p,c]);return y.useEffect(()=>{g==null||g.dispatch({effects:dse.reconfigure(ot.theme({"#sql-editor & .cm-content":{fontSize:`${E}px`},"#sql-editor & .cm-gutters":{fontSize:`${E-2}px`}}))})},[E]),y.useEffect(()=>{const x=new ot({doc:r,extensions:C,parent:v.current});return cse(t)(r,x),x.focus(),x.dispatch({selection:{anchor:r.length,head:r.length}}),T(x),S(x),()=>{x.destroy()}},[]),y.useEffect(()=>{g&&g.dispatch({effects:jt.reconfigure.of(C)})},[o,a,n,l,i,s,t,f,p,c,h]),y.useEffect(()=>{if(r===void 0)return;const x=g?g.state.doc.toString():"";g&&r!==x&&g.dispatch({changes:{from:0,to:x.length,insert:r||""},annotations:[sse.of(!0)]})},[r,g]),u.jsx("div",{tabIndex:0,ref:v,id:"sql-editor",className:z(e,"relative h-full w-full [&>div]:h-full"),...m})},vrt=t=>{const r=`drizzle-data-${new Date().toISOString()}.json`,n=JSON.stringify(t),s=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=r,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)},yrt=t=>{const r=`drizzle-data-${new Date().toISOString()}.csv`,n=$te.unparse(t,{quotes:!0}),s=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=r,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)},Art=async t=>{const r=`drizzle-data-${new Date().toISOString()}.xlsx`,n=t[0],s=Object.keys(n),i=t.map(d=>s.map(h=>{const m=d[h];return m&&typeof m=="object"?JSON.stringify(m):m==null?m:String(m)})),o=await XP({types:s.map(()=>tp.String),headings:s,data:i,wrapText:!0}),a=new Blob([o]),l=URL.createObjectURL(a),c=document.createElement("a");c.style.display="none",c.href=l,c.download=r,document.body.appendChild(c),c.click(),setTimeout(()=>{URL.revokeObjectURL(l),document.body.removeChild(c)},0)},Rrt=({snippetResult:t,selectedRecords:e})=>{const r=(n,s)=>{const i=(t==null?void 0:t.records)||[],o=s?Array.from(e).map(l=>i[+l]):i;if(o.length===0)return;const a=o.map(l=>Object.keys(l).reduce((c,d)=>{const h=l[d];return h&&typeof h=="object"&&n==="csv"?{...c,[d]:JSON.stringify(h)}:{...c,[d]:h}},{}));n==="json"?vrt(a):n==="csv"?yrt(a):n==="xlsx"&&Art(a)};return u.jsxs(Bs,{children:[u.jsx(br,{children:u.jsxs(Cr,{children:[u.jsx(xr,{asChild:!0,onFocus:n=>{n.preventDefault()},children:u.jsx(Fs,{className:"cursor-pointer p-1",asChild:!0,children:u.jsx(Le,{variant:"outline",size:"sm",className:"h-7 w-7 p-0",children:u.jsx(pz,{className:"h-4 w-4"})})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"Export"})]})}),u.jsxs(As,{children:[u.jsx(zt,{className:"cursor-pointer",onSelect:()=>r("json",!1),children:"Export all to .json"}),u.jsx(zt,{className:"cursor-pointer",onSelect:()=>r("csv",!1),children:"Export all to .csv"}),u.jsx(zt,{className:"cursor-pointer",onSelect:()=>r("xlsx",!1),children:"Export all to .xlsx"}),u.jsx(zt,{className:"cursor-pointer",disabled:e.size===0,onSelect:()=>r("json",!0),children:"Export selected to .json"}),u.jsx(zt,{className:"cursor-pointer",disabled:e.size===0,onSelect:()=>r("csv",!0),children:"Export selected to .csv"}),u.jsx(zt,{className:"cursor-pointer",disabled:e.size===0,onSelect:()=>r("xlsx",!0),children:"Export selected to .xlsx"})]})]})},Nrt=({onExecute:t,isShowSidebarSwitch:e=!0})=>{const r=it(({dialect:l})=>{if(!l)throw new Error("No dialect");return l}),n=ht(l=>l.setIsSchemaPaletteOpen),[s,i]=y.useState(!1),o=navigator.platform.toUpperCase().indexOf("MAC")>=0,a=y.useCallback(async()=>{const l=Vn.getState().view;if(!l)return;const c=l.state.doc.toString(),d=Ps(c,r,{keywordCase:"upper"});d!==c&&l.dispatch({changes:{from:0,to:l.state.doc.length,insert:d}}),i(!0),setTimeout(()=>{i(!1)},1e3)},[]);return y.useEffect(()=>{const l=c=>{c.code==="KeyF"&&c.altKey&&c.shiftKey&&(c.preventDefault(),c.stopPropagation(),a())};return window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}},[]),u.jsx("div",{className:"border-b",children:u.jsxs("div",{className:z("bg-background flex items-center gap-2 overflow-auto p-3"),children:[e&&u.jsx(nc,{}),u.jsxs(Le,{size:"sm",variant:"outline",className:"h-8 px-2",onClick:()=>{n(!0)},children:["Database Schema",u.jsx("div",{className:"flex items-center text-xs leading-3 opacity-70",children:o?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(ci,{className:"size-3.5 p-px"}),u.jsx("div",{className:"flex size-3 items-center justify-center",children:u.jsx("span",{className:"text-xs leading-3",children:"J"})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Ctrl+J"})})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(br,{children:u.jsxs(Cr,{open:s,children:[u.jsx(xr,{asChild:!0,children:u.jsxs(Le,{className:"h-8 px-2",size:"sm",variant:"outline",onClick:a,children:[u.jsx(T6,{className:"size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("span",{children:"Prettify"}),u.jsx("div",{className:"flex items-center text-xs leading-3 opacity-70",children:o?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(Hc,{className:"size-3.5 p-px"}),u.jsx(Rd,{className:"size-3.5 p-px"}),u.jsx("div",{className:"flex size-3 items-center justify-center",children:u.jsx("span",{className:"text-xs leading-3",children:"F"})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Shift + Alt + F"})})]})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"Prettified!"})]})}),u.jsxs("div",{className:"flex items-center ",children:[u.jsxs(Le,{className:"h-8 rounded-r-none border-r p-0 px-2",style:{borderColor:"color-mix(in srgb, var(--submit), white 40%)"},size:"sm",variant:"submit",onClick:()=>{const l=Vn.getState().view;if(!l)return;l.focus();const c=rl(l.state.doc.toString(),{strict:!1}),{from:d,to:h}=l.state.selection.main,m=c.filter(f=>f.end+1>=d&&f.start<=h);if(m.length===0)return!1;t(m)},children:[u.jsx(c0,{className:"size-4 shrink-0",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("span",{children:"Run"}),u.jsx("div",{className:"flex",style:{color:"color-mix(in srgb, var(--submit), var(--background) 70%)"},children:o?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(ci,{className:"size-3.5 p-px"}),u.jsx(za,{className:"size-3.5 p-px"})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Ctrl+Enter"})})]}),u.jsxs(Bs,{children:[u.jsx(Fs,{asChild:!0,children:u.jsx(Le,{className:"h-8 w-8 rounded-l-none p-0 !ring-0",size:"sm",variant:"submit",style:{color:"color-mix(in srgb, var(--submit), var(--background) 70%)"},children:u.jsx(yd,{className:"size-4",strokeWidth:1.25,absoluteStrokeWidth:!0})})}),u.jsx(As,{className:"p-1",children:u.jsxs(zt,{className:"h-9 cursor-pointer whitespace-nowrap",onClick:()=>{const l=Vn.getState().view;if(!l)return;l.focus();const c=rl(l.state.doc.toString(),{strict:!1});t(c)},children:[u.jsx(c0,{className:"mr-2 size-4 shrink-0",strokeWidth:1.25,absoluteStrokeWidth:!0}),u.jsx("span",{children:"Run all"}),u.jsx("div",{className:"ml-auto flex pl-2 opacity-70",children:o?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(Hc,{className:"size-3.5 p-px"}),u.jsx(ci,{className:"size-3.5 p-px"}),u.jsx(za,{className:"size-3.5 p-px"})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Shift+Ctrl+Enter"})})]})})]})]})]})]})})},brt=y.memo(Nrt),Crt=({row:t,column:e})=>{const r=y.useMemo(()=>e.key,[e.key]),n=y.useMemo(()=>t[r],[r,t]),s=y.useMemo(()=>{if(n===null)return u.jsx("div",{className:"text-muted-foreground",children:"NULL"});if(typeof n=="object")return u.jsx("div",{children:JSON.stringify(n)});switch(n){case"":return u.jsx("div",{className:"text-muted-foreground",children:"EMPTY STRING"});case!0:case!1:return u.jsx("div",{children:String(n).toUpperCase()});default:return u.jsx("div",{children:String(n)})}},[n]);return u.jsx("div",{className:"cell-content flex h-full items-center truncate px-2",children:s})},xrt=({column:t})=>u.jsx(u.Fragment,{children:u.jsx("div",{className:"flex w-full items-center justify-between font-table font-semibold text-muted-foreground",children:t.name})}),zk=482,wrt=900,hse=({value:t})=>{const{theme:e}=Is(),r=y.useRef(null),[n,s]=y.useState(void 0),i=o=>a=>{var m;const l=n??((m=r.current)==null?void 0:m.offsetWidth)??zk,c=a.pageX,d=f=>{const p=o==="left"?l+c-f.pageX:l-c+f.pageX;s(Math.min(Math.max(p,zk),wrt))},h=()=>{document.removeEventListener("mousemove",d)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",h,{once:!0})};return u.jsxs(am,{open:!0,children:[u.jsx(JL,{className:"h-full w-full"}),u.jsxs(zd,{className:"relative max-h-[28.125rem] w-full min-w-[30.125rem] max-w-[56.25rem] !animate-none overflow-hidden rounded-none border border-[#2196f3] p-0",align:"start",alignOffset:kr(-.0625),sideOffset:kr(-2),style:{width:n},ref:r,children:[u.jsx("div",{className:"z-popover absolute inset-y-0 left-[-0.25rem] w-2 cursor-col-resize",onMouseDown:o=>{o.preventDefault(),o.stopPropagation(),i("left")(o)}}),u.jsx(WP,{className:"bg-popover text-popover-foreground shadow-md [&>div]:max-h-[28.125rem] [&>div]:w-full [&>div]:min-w-[30.125rem] [&>div]:max-w-[56.25rem]",theme:e,value:t,readOnly:!0,onFocused:()=>{var o;s(((o=r.current)==null?void 0:o.offsetWidth)??zk)}}),u.jsx("div",{className:"z-popover absolute inset-y-0 right-[-0.25rem] w-2 cursor-col-resize",onMouseDown:o=>{o.preventDefault(),o.stopPropagation(),i("right")(o)}})]})]})},Ort=({onChange:t,...e})=>u.jsx(Po,{"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],disabled:e.disabled,checked:e.checked,tabIndex:e.tabIndex,onCheckedChange:r=>{t(!!r,!1)}}),Irt=(t,e)=>u.jsx(GG,{...e},t),_rt=({result:t,loading:e})=>e?null:t!=null&&t.error?u.jsx("div",{className:"absolute flex h-full w-full",children:u.jsx("pre",{className:"grow whitespace-pre-line  bg-[var(--page-background)] p-3 font-mono text-sm tracking-tight",children:u.jsx("code",{children:t.error.message})})}):(t==null?void 0:t.executionType)==="UNKNOWN"?u.jsx("div",{className:"text-muted-foreground absolute flex h-full w-full flex-col items-center justify-center font-mono tracking-tight",children:u.jsx("div",{children:"Executed. No rows"})}):(t==null?void 0:t.executionType)==="MODIFICATION"?u.jsx("div",{className:"text-muted-foreground absolute flex h-full w-full flex-col p-3 font-mono text-sm tracking-tight",children:u.jsx("div",{children:"OK"})}):u.jsx("div",{className:"text-muted-foreground absolute flex h-full w-full flex-col items-center justify-center font-mono tracking-tight",children:u.jsx("div",{children:"No rows"})}),fse="flex !p-0 items-center justify-center",Lrt={...zf,cellClass:fse,headerCellClass:fse,width:kr(2),maxWidth:kr(2),minWidth:kr(2),renderCell:zf.renderCell},Drt=({pending:t,result:e,selectedRecords:r,setSelectedRecords:n})=>{const{theme:s,customTheme:i}=Is(),[o,a]=y.useState(!1),{refs:l,floatingStyles:c}=Vy({placement:"top",open:o}),d=y.useRef(null),[h,m]=y.useState([]),f=y.useMemo(()=>{var T;if(!e||e.executionType==="MODIFICATION")return[];const g=Object.keys(((T=e.records)==null?void 0:T[0])||{}).map(S=>({key:S,name:S,minWidth:100,width:Dte({name:S,type:"string"}),resizable:!0,editable:v=>typeof v[S]=="object"&&v[S]!==null||typeof v[S]=="string"&&(v[S].startsWith("{")||v[S].startsWith("[")),renderHeaderCell:xrt,renderCell:v=>u.jsx(Crt,{...v}),renderEditCell:v=>{const N=v.row[v.column.key];if(typeof N=="object"&&N!==null)return u.jsx(hse,{value:N});if(typeof N=="string"&&(N.startsWith("{")||N.startsWith("[")))try{const C=JSON.parse(N);return u.jsx(hse,{value:C})}catch{}}}));return g.length>0?[Lrt,...g]:g},[e]),p=y.useCallback(g=>{var v;const T=g.type==="keydown"&&g.key==="Escape",S=g.type==="click"&&d.current&&!((v=d.current.element)!=null&&v.contains(g.target));if(T||S){const N=document.querySelector('[role="gridcell"][aria-selected="true"]'),C=document.querySelector('[role="columnheader"][aria-selected="true"]');if(N instanceof HTMLElement){N.setAttribute("aria-selected","false");return}if(C instanceof HTMLElement){C.setAttribute("aria-selected","false");return}}},[]),E=y.useCallback(({rows:g,columns:T},S)=>{var v,N;if(window.isSecureContext){const C=[];for(const I of g)C.push(T.map(F=>{const W=I[F.key];if(W===null)return"null";if(typeof W=="object"&&"_type"in W){if(W._type==="BINARY")return W.value}else return typeof W=="object"?JSON.stringify(W):String(W)}).join("	"));S.clipboardData.setData("text/plain",C.join(`
`)),S.preventDefault();const x=g[0],A=T[0].key,b=h.findIndex(I=>I._index===x._index),_=(N=(v=d.current)==null?void 0:v.element)==null?void 0:N.querySelectorAll(`[aria-rowindex="${b+2}"]`)[0],U=f.findIndex(I=>I.name===A),j=_==null?void 0:_.childNodes.item(U);if(!j)return;let L="Copied";l.setReference(j);const P=l.floating.current;if(P){P.innerHTML=L;const I=j.getBoundingClientRect().width;T.length>1&&(P.style.marginLeft=(T.length-1)*I/2+"px"),a(!0),setTimeout(()=>{a(!1),l.setReference(null),P.style.marginLeft=""},1e3)}}},[h,l,f]);return y.useLayoutEffect(()=>{var g;(e==null?void 0:e.executionType)==="MODIFICATION"?m([]):m(((g=e==null?void 0:e.records)==null?void 0:g.map((T,S)=>({...T,_index:S})))??[])},[e]),y.useEffect(()=>(document.addEventListener("click",p),document.addEventListener("keydown",p),()=>{document.removeEventListener("click",p),document.removeEventListener("keydown",p)}),[p]),y.useEffect(()=>{var g;(g=d.current)==null||g.scrollToCell({idx:0,rowIdx:0})},[f]),u.jsxs(u.Fragment,{children:[u.jsx(sg,{ref:d,rowKeyGetter:g=>String(g._index),columns:f,rows:h,onMultiCellCopy:E,headerRowHeight:s==="custom"&&(i==null?void 0:i.id)==="qsLXlcSlGvWMqmVK-vswg"?kr(1.5):kr(2),rowHeight:s==="custom"&&(i==null?void 0:i.id)==="qsLXlcSlGvWMqmVK-vswg"?kr(1.5):kr(2),selectedRows:r,onSelectedRowsChange:n,className:"fill-grid overscroll-x-none",renderers:{renderCheckbox:Ort,renderRow:Irt,noRowsFallback:_rt({result:e,loading:t})},enableVirtualization:h.length>100,enableRangeSelection:!0,selectionLeftBoundaryColIdx:0,selectionTopBoundaryRowIdx:-1}),u.jsx("div",{className:"bg-popover text-popover-foreground animate-in fade-in-50 slide-in-from-bottom-1 rounded-md border px-3 py-1.5 text-sm shadow-md",ref:l.setFloating,style:{...c,visibility:o?"visible":"hidden"}})]})},Mrt=({results:t,showResultAsJson:e,pending:r,selectedRecords:n,setSelectedRecords:s})=>{const{theme:i}=Is();return t.map((o,a)=>{let l=!o.records||o.executionType==="MODIFICATION"?{status:o.error?"error":"success",...o.error&&{error:o.error}}:o.records;return u.jsx(Rne,{className:"m-0 flex-1 overflow-auto",value:String(a),children:e?u.jsx(WP,{value:l,theme:i,readOnly:!0,watchValue:!0}):u.jsx(Drt,{result:o,pending:r,selectedRecords:n,setSelectedRecords:s})},"tab-content-"+a)})},Prt=y.memo(Mrt,(t,e)=>Pr(t,e));function krt(t){const r=[{suffix:"s",length:3,threshold:1e3,precision:0},{suffix:"ms",length:0,threshold:1,precision:0}].find(n=>t.toString().split(".")[0].length>n.length);return r?(t/r.threshold).toFixed(r.precision)+r.suffix:t+"ms"}const Urt=({snippet:t,isTempSnippet:e,additionalExtensions:r})=>{var A,b,_;const{changeSnippetSql:n,executeSnippet:s,toggleSnippetShowResultAsJson:i,selectSnippetResult:o,resetResultsQueryPosition:a}=Sn(),l=it(U=>{if(!U.query)throw new Error("Query function not set");return U.query}),c=it(U=>{if(!U.dialect)throw new Error("Dialect not supported");return U.dialect}),d=it(U=>U.schemas),{pull:h}=gn(),[m,f]=y.useState(()=>new Set),p=y.useMemo(()=>Object.values(d).reduce((U,j)=>{const L=Object.values(j.tables).map(P=>({label:(c==="postgresql"||c==="duckdb")&&j.name!=="public"?`${P.schema}.${P.name}`:P.name,type:"variable"}));return U.push(...L),U},[]),[d]),E=y.useMemo(()=>Object.values(d).reduce((U,j)=>{const L=Object.values(j.tables).reduce((P,I)=>{const F=Object.values(I.columns).map(W=>({label:`${I.name}.${W.name}`,type:"property"}));return P.push(...F),P},[]);return U.push(...L),U},[]),[d]),g=y.useMemo(()=>Object.values(d).reduce((U,j)=>(U[j.name]={self:{label:j.name,type:"namespace",boost:-99},children:Object.values(j.tables).reduce((L,P)=>(L[P.name]={self:{label:P.name,type:"variable",boost:-99},children:Object.values(P.columns).map(I=>({label:I.name,type:"property",boost:-99}))},L),{})},U),{}),[d]),T=y.useCallback(U=>{n(t.id,U,t.folderId),a(t.id,t.folderId)},[t.id,t.folderId]),[S,v]=y.useState(!1),N=y.useCallback(async U=>{v(!0);try{const{shouldRefetch:j}=await s(t.id,U,t.folderId);j&&h()}catch(j){throw j}finally{v(!1)}},[t.id,t.folderId]),C=t.selectedResultIndex||"0",x=(A=t.results)==null?void 0:A.at(+C);return u.jsxs("div",{className:z("flex min-w-[0] flex-1 flex-col",!1),children:[u.jsx(brt,{onExecute:N,isShowSidebarSwitch:!e}),u.jsxs(fet,{autoSaveId:"drizzle-studio-sql-runner",direction:"vertical",children:[u.jsx(ane,{className:"relative min-h-[2.75rem]",minSize:10,children:u.jsx(Srt,{dialect:c,value:t.sql,queryFn:U=>l(U),schema:g,additionalExtensions:r,tableCompletions:p,columnCompletions:E,onChange:T,onExecute:N,markedQueries:x!=null&&x.queryPosition?[x.queryPosition]:void 0})}),u.jsx(met,{withHandle:!0}),u.jsx(ane,{minSize:10,defaultSize:30,className:z(S&&"*:blur-[2px]"),children:u.jsxs(Tet,{value:C,defaultValue:C,onValueChange:U=>{o(t.id,U,t.folderId)},className:"flex h-full flex-col",children:[u.jsxs(yne,{className:"after:border-border flex h-9 min-h-[2.25rem] justify-start rounded-none p-0 after:flex after:h-full after:flex-1 after:border-b after:content-['']",children:[u.jsxs("div",{className:"flex h-full min-w-[12.5rem] items-center gap-1 border-b pl-1 pr-2",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Le,{className:z("h-fit w-fit rounded-r-none p-1.5",!(t!=null&&t.showResultAsJson)&&"z-[1]"),variant:"outline",isActive:!(t!=null&&t.showResultAsJson),size:"sm",onClick:()=>{t!=null&&t.showResultAsJson&&i(t.id,t.folderId)},"aria-label":"Show as table",children:u.jsx(ff,{className:"size-3.5",strokeWidth:1.25,absoluteStrokeWidth:!0})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"Show as table"})]})}),u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,children:[u.jsx(xr,{asChild:!0,children:u.jsx(Le,{className:z("-ml-px h-fit w-fit rounded-l-none p-1.5"),variant:"outline",isActive:t==null?void 0:t.showResultAsJson,size:"sm",onClick:()=>{t!=null&&t.showResultAsJson||i(t.id,t.folderId)},"aria-label":"Show as JSON",children:u.jsx(a6,{className:"size-3.5",strokeWidth:1.25,absoluteStrokeWidth:!0})})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",children:"Show as JSON"})]})})]}),u.jsx(Rrt,{snippetResult:x,selectedRecords:m}),x&&u.jsx("div",{className:"flex grow items-center justify-center",children:u.jsxs("p",{className:"text-muted-foreground  whitespace-nowrap text-[0.625rem]",children:[((b=x.records)==null?void 0:b.length)||0," ",((_=x.records)==null?void 0:_.length)===1?"row":"rows",typeof x.executionTime=="number"?`  ${krt(x.executionTime)}`:""]})})]}),t.results&&t.results.length>1&&u.jsx("div",{className:"flex h-full overflow-auto border-l",children:t.results.map((U,j)=>u.jsxs(Ane,{className:z("relative h-full items-center rounded-none border-b border-r px-2",String(j)===t.selectedResultIndex&&"border-b-transparent"),value:String(j),children:[U.error&&u.jsx("div",{className:"bg-destructive absolute top-0 h-0.5 w-full"}),u.jsxs("p",{className:"text-xs",children:["Query ",j+1]})]},"tab-trigger-"+j))})]}),t.results&&u.jsx(Prt,{results:t.results,showResultAsJson:(t==null?void 0:t.showResultAsJson)||!1,pending:S,selectedRecords:m,setSelectedRecords:f})]})})]})]})},jrt=({className:t,snippetId:e,folderId:r,setOpen:n,open:s})=>{const{deleteItem:i}=Sn();return u.jsxs(Bs,{onOpenChange:o=>{n(o)},open:s,children:[u.jsx("div",{className:z("grid place-items-center",t),children:u.jsx(Fs,{asChild:!0,children:u.jsx(Le,{className:z("invisible h-5 w-6 justify-self-end p-0 group-hover/item:visible",s&&"visible"),size:"sm",variant:"ghost",onFocus:o=>{o.stopPropagation(),o.preventDefault()},"aria-label":"Snippet options",children:u.jsx(Yf,{className:"h-4 w-4"})})})}),u.jsx(As,{align:"start",className:z("w-[12.5rem] p-2"),onClick:o=>{o.stopPropagation(),o.preventDefault()},children:u.jsxs(Le,{variant:"ghost",size:"sm",className:"w-full justify-start p-0",onClick:()=>{i(e,r)},children:[u.jsx("div",{className:"flex w-9 justify-center",children:u.jsx(g6,{className:"h-4 w-4"})}),"Delete snippet"]})})]})},Brt=({id:t,name:e,folderId:r,index:n=-1,count:s=-1,currentSnippetIndex:i=-1,className:o,isGlobal:a})=>{const l=Vn(L=>L.currentSnippetId),{selectSnippet:c,renameItem:d,moveSnippet:h}=Sn(),{attributes:m,listeners:f,setNodeRef:p,transform:E,isDragging:g}=Cre({id:t,data:{id:t,folderId:r},disabled:a}),T={transform:ip.Translate.toString(E)};ere({onDragEnd({active:L,over:P}){var I,F;h(L.id,(I=L.data.current)==null?void 0:I.folderId,(F=P==null?void 0:P.data.current)==null?void 0:F.folderId)}});const S=g?.4:1,v=y.useRef(null),[N,C]=y.useState(!1),[x,A]=y.useState(!1),[b,_]=y.useState(!1),[U,j]=y.useState(!1);return u.jsxs("div",{id:`snippet-${t}`,ref:p,className:z("bg-sidebar-list-item text-sidebar-list-item-text hover:text-sidebar-list-item-text-hover hover:bg-sidebar-list-item-hover group/item relative flex cursor-pointer items-center rounded-md pl-3 text-sm",!1,r&&"pl-9",l===t&&"text-sidebar-list-item-active-text hover:text-sidebar-list-item-active-text-hover bg-sidebar-list-item-active hover:bg-sidebar-list-item-active-hover font-semibold",o),onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),onDoubleClick:()=>{a||_(!0)},onClick:()=>c(t),style:{opacity:S,zIndex:g?10:"auto",...T},...f,...m,children:[r&&u.jsx("div",{className:"absolute left-2 top-0",children:i===-1?u.jsxs(u.Fragment,{children:[n<s-1&&u.jsx(OA,{className:"text-sidebar-list-subview-arrow absolute top-0"}),u.jsx(hY,{className:"text-sidebar-list-subview-arrow absolute top-0"}),x&&u.jsx(IA,{className:"text-sidebar-list-subview-arrow absolute top-0"})]}):u.jsxs(u.Fragment,{children:[l===t&&u.jsx(IA,{className:"text-sidebar-list-subview-arrow-active"}),i>n&&u.jsx(OA,{className:"text-sidebar-list-subview-arrow-active"}),x&&i>n&&u.jsx(uY,{className:"text-sidebar-list-subview-arrow absolute top-0"}),x&&i<n&&u.jsx(dY,{className:"text-sidebar-list-subview-arrow"})]})}),u.jsx("div",{className:"grid place-items-center",children:a?u.jsx(mLe,{className:z("size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0}):u.jsx(OO,{className:z("size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0})}),u.jsxs("div",{className:z("ml-2 flex min-w-[0] max-w-fit grow select-none justify-between pr-3 leading-8",r&&"leading-7"),children:[b?u.jsx(Lr,{className:z("text-secondary-foreground z-10 h-8 w-full",r&&"h-7"),autoFocus:!0,defaultValue:e,placeholder:"Rename snippet",onClick:L=>L.stopPropagation(),onFocus:L=>L.currentTarget.select(),onKeyDown:L=>{(L.key==="Enter"||L.key==="Escape")&&(d(t,L.currentTarget.value,r),_(!1))},onBlur:L=>{d(t,L.target.value,r),_(!1)}}):u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,open:U,onOpenChange:L=>{if(!L){j(!1);return}const P=v.current;L&&P&&P.offsetWidth<P.scrollWidth&&j(!0)},children:[u.jsx(xr,{asChild:!0,children:u.jsx("p",{ref:v,className:"select-none truncate",children:e})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",collisionPadding:11,children:u.jsx("p",{className:"font-mono text-xs",children:e})})]})}),!a&&u.jsx(jrt,{className:"ml-3",snippetId:t,folderId:r,open:N,setOpen:C})]})]},t)},mse=y.memo(Brt),Frt=({className:t,id:e,isExpanded:r,setOpen:n,open:s})=>{const{createSnippet:i,deleteItem:o,toggleFolder:a}=Sn();return u.jsxs(Bs,{onOpenChange:l=>{n(l)},open:s,children:[u.jsx("div",{className:z("grid place-items-center",t),children:u.jsx(Fs,{asChild:!0,children:u.jsx(Le,{className:z("invisible h-5 w-6 justify-self-end p-0 group-hover/item:visible",s&&"visible"),size:"sm",variant:"ghost",onFocus:l=>{l.stopPropagation(),l.preventDefault()},"aria-label":"Folder options",children:u.jsx(Yf,{className:"h-4 w-4"})})})}),u.jsxs(As,{align:"start",className:z("w-[12.5rem] p-2"),onClick:l=>{l.stopPropagation(),l.preventDefault()},children:[u.jsxs(zt,{className:"h-9 w-full cursor-pointer justify-start p-0",onClick:()=>{r||a(e);const l=i("Untitled snippet",void 0,e);Wk(`#snippet-${l}`).then(c=>{c==null||c.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const d=new MouseEvent("dblclick",{bubbles:!0,cancelable:!0});c==null||c.dispatchEvent(d)})},children:[u.jsx("div",{className:"flex w-9 justify-center",children:u.jsx(yLe,{className:"h-4 w-4"})}),"Create snippet"]}),u.jsxs(zt,{className:"h-9 w-full cursor-pointer justify-start p-0",onClick:()=>{o(e)},children:[u.jsx("div",{className:"flex w-9 justify-center",children:u.jsx(g6,{className:"h-4 w-4"})}),"Delete folder"]})]})]})},Hrt=({id:t,name:e,isExpanded:r,canDrop:n,isOver:s,currentSnippetIndex:i,childrenCount:o})=>{const{renameItem:a,toggleFolder:l}=Sn(),c=y.useRef(null),[d,h]=y.useState(!1),[m,f]=y.useState(!1),[p,E]=y.useState(!1);return u.jsxs("div",{id:`folder-${t}`,className:z("bg-sidebar-list-item text-sidebar-list-item-text hover:text-sidebar-list-item-text-hover hover:bg-sidebar-list-item-hover group/item relative flex cursor-pointer items-center rounded-md pl-3 text-sm",!1,(n&&s||n)&&"bg-secondary"),onDoubleClick:()=>f(!0),onClick:()=>l(t),children:[(i!==-1||r)&&o>0&&u.jsx(T2,{className:z("text-sidebar-list-subview-arrow-active absolute left-2",i===-1&&"text-sidebar-list-subview-arrow")}),u.jsx("div",{className:"grid place-items-center",children:r?u.jsx(ALe,{className:z("size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0}):u.jsx(l6,{className:z("size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0})}),u.jsxs("div",{className:"ml-2 flex min-w-[0] max-w-fit grow select-none items-center justify-between pr-3 leading-8",children:[m?u.jsx(Lr,{className:"text-secondary-foreground z-10 h-8 w-full",autoFocus:!0,placeholder:"Rename subview",defaultValue:e,onFocus:g=>g.currentTarget.select(),onKeyDown:g=>{(g.key==="Enter"||g.key==="Escape")&&(a(t,g.currentTarget.value),f(!1))},onClick:g=>g.stopPropagation(),onBlur:g=>{a(t,g.target.value),f(!1)}}):u.jsx(br,{children:u.jsxs(Cr,{delayDuration:500,open:p,onOpenChange:g=>{if(!g){E(!1);return}const T=c.current;g&&T&&T.offsetWidth<T.scrollWidth&&E(!0)},children:[u.jsx(xr,{asChild:!0,children:u.jsx("p",{ref:c,className:"w-[10.5rem] select-none truncate",children:e})}),u.jsx(vr,{className:"px-2 py-1 text-[0.8125rem]",collisionPadding:11,children:u.jsx("p",{className:"font-mono text-xs",children:e})})]})}),u.jsx(Frt,{className:"ml-3",id:t,isExpanded:r,open:d,setOpen:h})]})]})},$rt=y.memo(Hrt),Grt=({item:t})=>{var c;const e=Vn(d=>d.currentSnippetId),{setNodeRef:r,isOver:n,active:s}=pk({id:t.id,data:{folderId:t.id}}),i=t.children.filter(d=>t.isExpanded?!0:d.id===e),o=i.findIndex(d=>d.id===e),a=t.isExpanded||i.some(d=>d.id===e),l=!!s&&((c=s.data.current)==null?void 0:c.folderId)!==t.id;return u.jsxs("div",{ref:r,className:z((l&&n||l)&&"bg-secondary rounded-md"),children:[u.jsx($rt,{id:t.id,name:t.name,isExpanded:a,canDrop:l,isOver:n,currentSnippetIndex:o,childrenCount:t.children.length}),a&&u.jsx(u.Fragment,{children:i.map((d,h)=>u.jsx(mse,{id:d.id,name:d.name,folderId:t.id,index:h,className:z((l&&n||l)&&"bg-secondary"),count:i.length,currentSnippetIndex:i.findIndex(m=>m.id===e)},d.id))})]},t.id)},pse=({items:t,isGlobal:e})=>{var l;const{setNodeRef:r,isOver:n,active:s}=pk({id:e?"global-snippets":"local-snippets",data:{folderId:null}}),i=y.useMemo(()=>t.filter(c=>c.type==="folder"),[t]),o=y.useMemo(()=>t.filter(c=>c.type==="snippet"),[t]),a=!!s&&!!((l=s.data.current)!=null&&l.folderId);return u.jsxs(u.Fragment,{children:[i.map(c=>u.jsx(Grt,{item:c},c.id)),u.jsx("div",{ref:r,className:z(!e&&"min-h-[6.25rem]",(a&&n||a)&&"bg-secondary rounded-md"),children:o.map(c=>u.jsx(mse,{id:c.id,name:c.name,className:z((a&&n||a)&&"bg-secondary"),isGlobal:e},c.id))})]})},Vrt=({searchString:t})=>{const e=Vn(i=>Object.values(i.items).filter(o=>o.isGlobal)),r=Vn(i=>Object.values(i.items).filter(o=>!o.isGlobal)),n=y.useMemo(()=>Ws(i=>i.type==="folder"?i.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())||i.children.some(o=>o.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())):i.name.toLocaleLowerCase().includes(t.toLocaleLowerCase()),e).map(i=>{if(i.type==="folder"&&t){const o=i.children.filter(a=>a.name.toLocaleLowerCase().includes(t.toLocaleLowerCase()));return{...i,isExpanded:i.isExpanded||o.length>0,children:o}}return i}).sort((i,o)=>i.type==="folder"&&o.type!=="folder"?-1:i.type!=="folder"&&o.type==="folder"?1:i.name.localeCompare(o.name)),[e,t]),s=y.useMemo(()=>Ws(i=>i.type==="folder"?i.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())||i.children.some(o=>o.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())):i.name.toLocaleLowerCase().includes(t.toLocaleLowerCase()),r).map(i=>{if(i.type==="folder"&&t){const o=i.children.filter(a=>a.name.toLocaleLowerCase().includes(t.toLocaleLowerCase()));return{...i,isExpanded:i.isExpanded||o.length>0,children:o}}return i}).sort((i,o)=>i.type==="folder"&&o.type!=="folder"?-1:i.type!=="folder"&&o.type==="folder"?1:i.name.localeCompare(o.name)),[r,t]);return e.length===0&&r.length===0?u.jsx("div",{className:"text-muted-foreground bg-muted m-3 border p-3 text-center text-xs",children:"No snippets"}):n.length===0&&s.length===0?u.jsx("div",{className:"text-muted-foreground bg-muted m-3 border p-3 text-center text-xs",children:"No snippets found"}):u.jsx("div",{className:"flex h-full flex-col overflow-y-auto px-3",children:u.jsxs(Nre,{children:[u.jsx("div",{className:"mt-2 space-y-0.5",children:u.jsx(pse,{items:n,isGlobal:!0})}),u.jsx("div",{className:z("from-background sticky top-0 h-2 bg-gradient-to-b",!1)}),u.jsx("div",{className:"space-y-0.5",children:u.jsx(pse,{items:s})}),u.jsx("div",{className:z("from-background sticky bottom-0 h-2 bg-gradient-to-t",!1)})]})})};function Wk(t){const e=wn.getState().shadowRoot??document.body;return new Promise((r,n)=>{try{if(e.querySelector(t))return r(e.querySelector(t));const s=new MutationObserver(()=>{e.querySelector(t)&&(s.disconnect(),r(e.querySelector(t)))});s.observe(e,{childList:!0,subtree:!0}),setTimeout(()=>{s.disconnect()},5e3)}catch(s){n(s)}})}const Yk=268,zrt=Yk*2,Wrt=({setIsResizing:t,isResizing:e,CustomTopPanel:r,CustomTopButtons:n,CustomBottomPanel:s,CustomBottomButtons:i,isSeparate:o})=>{const a=it(b=>b.isPulling),l=Me(b=>b.currentPage==="main"?b.isSidebarOpen||!b.currentTable:b.isSidebarOpen),c=ht(b=>b.setSpotlightOpen),d=Me(b=>b.currentPage==="main"?b.isShowSidebarContent||!b.currentTable:b.isShowSidebarContent),h=Me(b=>b.sidebarWidth),{setCurrentPage:m,setSidebarWidth:f,toggleSidebarOpen:p}=sr(),{createSnippet:E,createFolder:g}=Sn(),[T,S]=y.useState(""),v=y.useRef(null),[N,C]=y.useState(h),x=navigator.platform.toUpperCase().indexOf("MAC")>=0,A=b=>_=>{var I;t==null||t(!0);const U=h??((I=v.current)==null?void 0:I.offsetWidth)??Yk,j=_.pageX,L=F=>{const W=U-j+F.pageX;C(Math.min(Math.max(W,Yk),zrt))},P=()=>{document.removeEventListener("mousemove",L),t==null||t(!1)};document.addEventListener("mousemove",L),document.addEventListener("mouseup",P,{once:!0})};return y.useEffect(()=>{const b=setTimeout(()=>{f(N)},100);return()=>{clearTimeout(b)}},[N]),y.useEffect(()=>{const b=_=>{_.code==="KeyS"&&_.altKey&&(_.preventDefault(),p())};return window.addEventListener("keydown",b),()=>{window.removeEventListener("keydown",b)}},[]),u.jsxs("div",{className:"relative flex",children:[u.jsx("div",{ref:v,style:{width:l?N:0},className:z("flex grow",!e&&"transition-width duration-150 ease-in-out",e&&"pointer-events-none"),children:u.jsxs("div",{className:z("bg-background flex min-w-[0] grow flex-col border border-y-0 border-l-0 transition-opacity duration-150 ease-in-out",d?"opacity-100":"opacity-0",!l&&!d&&"hidden",!1),children:[u.jsxs("div",{children:[r&&u.jsx(r,{}),u.jsxs("div",{className:z("p-3 pb-0",r&&"pt-0",!1),children:[u.jsxs("div",{className:z("space-y-1 [&>*:last-child]:!mb-6",!1),children:[u.jsxs("div",{className:z("bg-input text-input-placeholder border-input-border relative flex h-9 cursor-pointer items-center justify-between rounded-md border py-2 pl-3 pr-2 text-sm",a&&"cursor-default opacity-50"),onClick:()=>{a||c(!0)},children:["Spotlight...",u.jsx("span",{className:"flex items-center font-mono text-xs leading-3",children:x?u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx(ci,{className:"size-3.5 p-px"})}),u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border p-0.5",children:u.jsx("div",{className:"flex size-3.5 items-center justify-center",children:u.jsx("span",{className:"text-xs leading-3",children:"K"})})})]}):u.jsx("div",{className:"bg-muted text-muted-foreground rounded-md border px-1 py-0.5 font-mono text-xs leading-3",children:"Ctrl+K"})})]}),n&&u.jsx(n,{}),!o&&u.jsxs(Le,{className:z(" w-full justify-start gap-0 p-0",!1),variant:"outline",size:"sm",disabled:a,onClick:()=>{m("main")},children:[u.jsx("div",{className:"flex w-9 justify-center",children:u.jsx(xO,{className:z("size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0})}),u.jsx("span",{children:"Back to Tables"})]})]}),u.jsx("div",{className:"space-y-1",children:u.jsx("div",{className:"flex items-center",children:u.jsxs("div",{className:"flex grow items-center space-x-1",children:[u.jsxs("div",{className:"relative flex w-full items-center",children:[u.jsx(Lr,{className:z("bg-background relative h-9",T&&"pr-7",!1,!1),type:"text",placeholder:"Search...",value:T,onChange:b=>{rt("sidebar_search"),S(b.target.value)}}),T&&u.jsxs("div",{className:"absolute right-0 mr-2 flex items-center",children:[u.jsx("div",{className:"from-background h-[2.125rem] w-2 bg-gradient-to-l"}),u.jsx(Le,{size:"sm",className:"hover:bg-border h-fit rounded-full p-1 group-hover:block",variant:"ghost",onClick:()=>S(""),children:u.jsx(Ji,{className:"text-muted-foreground size-3"})})]})]}),u.jsx("div",{className:"flex space-x-1",children:u.jsxs(Bs,{children:[u.jsx(Fs,{asChild:!0,children:u.jsx(Le,{variant:"outline",size:"sm",className:z("h-9 w-9 p-0",!1,!1),"aria-label":"Create new snippet or folder",children:u.jsx(hf,{className:z("size-4"),strokeWidth:1.25,absoluteStrokeWidth:!0})})}),u.jsxs(As,{className:"w-[12.5rem] p-2",children:[u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:()=>{const b=E("Untitled snippet");Wk(`#snippet-${b}`).then(_=>{_==null||_.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const U=new MouseEvent("dblclick",{bubbles:!0,cancelable:!0});_==null||_.dispatchEvent(U)})},children:[u.jsx(OO,{className:"mr-2 size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),"Create snippet"]}),u.jsxs(zt,{className:"h-9 cursor-pointer",onClick:()=>{const b=g("Untitled folder");Wk(`#folder-${b}`).then(_=>{_==null||_.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const U=new MouseEvent("dblclick",{bubbles:!0,cancelable:!0});_==null||_.dispatchEvent(U)})},children:[u.jsx(l6,{className:"mr-2 size-4",strokeWidth:1.25,absoluteStrokeWidth:!0}),"Create folder"]})]})]})})]})})})]})]}),u.jsx(Vrt,{searchString:T}),u.jsxs("div",{className:"mt-auto flex gap-2 p-3",children:[u.jsx(sq,{isOnlySqlConsole:o}),!1,u.jsx(p7,{}),i&&u.jsx(i,{})]}),s&&u.jsx(s,{})]})}),u.jsx("div",{className:z("animate-delayPointerEvents bg-border pointer-events-none absolute inset-y-0 right-0 w-1 cursor-col-resize opacity-0 transition-opacity hover:opacity-100",e&&"opacity-100"),onMouseDown:b=>{rt("sidebar_resize"),b.preventDefault(),b.stopPropagation(),A()(b)}})]})},Yrt=y.memo(Wrt),qrt=({isSeparate:t,CustomTopPanel:e,CustomTopButtons:r,CustomBottomPanel:n,CustomBottomButtons:s,additionalExtensions:i,isTempSnippet:o})=>{const a=Vn(E=>E.currentSnippetId),l=ht(E=>E.isBugReportOpen),c=Vn(E=>E.items),{createSnippet:d,selectSnippet:h,deleteItem:m}=Sn(),f=y.useMemo(()=>oj(E=>E.type==="folder"?E.children.some(g=>g.id===a):E.id===a,Object.values(c)),[c,a]),p=y.useMemo(()=>(f==null?void 0:f.type)==="folder"?f.children.find(E=>E.id===a):(f==null?void 0:f.type)==="snippet"?f:null,[f,a]);return y.useEffect(()=>{if(!o)return;const E=d("temp-snippet",void 0,void 0,{isTemporary:!0});return h(E),()=>{m(E)}},[o]),u.jsxs("div",{className:"grid size-full",style:{gridTemplate:"100% / 100%"},children:[u.jsxs("div",{className:"grid-area-1-1 flex size-full",children:[!o&&u.jsx(Yrt,{isSeparate:t,CustomTopPanel:e,CustomTopButtons:r,CustomBottomButtons:s,CustomBottomPanel:n}),u.jsx(jZe,{}),p&&u.jsx(Urt,{snippet:p,additionalExtensions:i,isTempSnippet:o})]}),l&&t&&u.jsx(E7,{})]})},Krt=()=>u.jsxs("div",{className:"flex cursor-pointer items-center gap-2 border-t border-dashed px-3 py-2.5",onClick:()=>{window.open("https://driz.link/studio","_blank")},children:[u.jsx("span",{className:"text-muted-foreground text-xs",children:"Powered by"}),u.jsxs("svg",{height:"14",viewBox:"0 0 299 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M14.3596 16.1704C15.0809 14.9116 14.6389 13.3177 13.3724 12.6102C12.1058 11.9027 10.4943 12.3496 9.77301 13.6083L1.30562 28.3838C0.584285 29.6425 1.02627 31.2365 2.29282 31.9439C3.55937 32.6514 5.17087 32.2046 5.8922 30.9459L14.3596 16.1704Z",fill:"var(--primary)"}),u.jsx("path",{d:"M32.6106 4.84116C33.3319 3.58244 32.89 1.98851 31.6234 1.28102C30.3569 0.573534 28.7454 1.02039 28.024 2.27911L19.5566 17.0546C18.8353 18.3133 19.2773 19.9073 20.5438 20.6147C21.8104 21.3222 23.4219 20.8754 24.1432 19.6167L32.6106 4.84116Z",fill:"var(--primary)"}),u.jsx("path",{d:"M60.6936 4.84166C61.4149 3.58294 60.9729 1.98901 59.7064 1.28152C58.4398 0.574034 56.8283 1.02089 56.107 2.27961L47.6396 17.0551C46.9183 18.3138 47.3603 19.9078 48.6268 20.6152C49.8934 21.3227 51.5049 20.8759 52.2262 19.6172L60.6936 4.84166Z",fill:"var(--primary)"}),u.jsx("path",{d:"M42.4367 16.1704C43.158 14.9116 42.716 13.3177 41.4495 12.6102C40.1829 11.9027 38.5714 12.3496 37.8501 13.6083L29.3827 28.3838C28.6614 29.6425 29.1034 31.2365 30.3699 31.9439C31.6365 32.6514 33.248 32.2046 33.9693 30.9459L42.4367 16.1704Z",fill:"var(--primary)"}),u.jsx("path",{d:"M79.964 29.396C78.428 29.396 77.072 29.024 75.896 28.28C74.744 27.536 73.844 26.468 73.196 25.076C72.548 23.684 72.224 22.04 72.224 20.144C72.224 18.248 72.548 16.616 73.196 15.248C73.844 13.88 74.744 12.824 75.896 12.08C77.072 11.336 78.428 10.964 79.964 10.964C81.356 10.964 82.58 11.3 83.636 11.972C84.716 12.644 85.448 13.52 85.832 14.6H85.436V6.068C85.436 5.156 85.664 4.472 86.12 4.016C86.576 3.536 87.248 3.296 88.136 3.296C89 3.296 89.672 3.536 90.152 4.016C90.632 4.472 90.872 5.156 90.872 6.068V26.552C90.872 27.44 90.632 28.124 90.152 28.604C89.696 29.084 89.036 29.324 88.172 29.324C87.308 29.324 86.636 29.084 86.156 28.604C85.7 28.124 85.472 27.44 85.472 26.552V24.104L85.868 25.508C85.532 26.684 84.812 27.632 83.708 28.352C82.628 29.048 81.38 29.396 79.964 29.396ZM81.584 25.328C82.376 25.328 83.06 25.136 83.636 24.752C84.212 24.368 84.668 23.804 85.004 23.06C85.34 22.292 85.508 21.32 85.508 20.144C85.508 18.392 85.148 17.108 84.428 16.292C83.708 15.452 82.76 15.032 81.584 15.032C80.816 15.032 80.132 15.212 79.532 15.572C78.956 15.932 78.5 16.496 78.164 17.264C77.852 18.008 77.696 18.968 77.696 20.144C77.696 21.896 78.056 23.204 78.776 24.068C79.496 24.908 80.432 25.328 81.584 25.328ZM97.869 29.324C96.957 29.324 96.261 29.084 95.781 28.604C95.301 28.124 95.061 27.44 95.061 26.552V13.772C95.061 12.884 95.289 12.212 95.745 11.756C96.225 11.276 96.885 11.036 97.725 11.036C98.589 11.036 99.249 11.276 99.705 11.756C100.161 12.212 100.389 12.884 100.389 13.772V15.644H100.029C100.317 14.204 100.953 13.088 101.937 12.296C102.921 11.504 104.193 11.06 105.753 10.964C106.353 10.916 106.809 11.072 107.121 11.432C107.457 11.768 107.637 12.332 107.661 13.124C107.709 13.868 107.553 14.456 107.193 14.888C106.857 15.32 106.281 15.584 105.465 15.68L104.637 15.752C103.269 15.872 102.249 16.268 101.577 16.94C100.929 17.612 100.605 18.584 100.605 19.856V26.552C100.605 27.44 100.365 28.124 99.885 28.604C99.429 29.084 98.757 29.324 97.869 29.324ZM112.633 29.288C111.745 29.288 111.061 29.036 110.581 28.532C110.125 28.004 109.897 27.272 109.897 26.336V14.024C109.897 13.064 110.125 12.332 110.581 11.828C111.061 11.3 111.745 11.036 112.633 11.036C113.497 11.036 114.157 11.3 114.613 11.828C115.093 12.332 115.333 13.064 115.333 14.024V26.336C115.333 27.272 115.105 28.004 114.649 28.532C114.193 29.036 113.521 29.288 112.633 29.288ZM112.633 8.084C111.625 8.084 110.845 7.856 110.293 7.4C109.765 6.92 109.501 6.248 109.501 5.384C109.501 4.496 109.765 3.824 110.293 3.368C110.845 2.888 111.625 2.648 112.633 2.648C113.641 2.648 114.409 2.888 114.937 3.368C115.465 3.824 115.729 4.496 115.729 5.384C115.729 6.248 115.465 6.92 114.937 7.4C114.409 7.856 113.641 8.084 112.633 8.084ZM121.041 29C120.513 29 120.069 28.868 119.709 28.604C119.349 28.316 119.109 27.956 118.989 27.524C118.869 27.092 118.869 26.624 118.989 26.12C119.133 25.616 119.409 25.148 119.817 24.716L128.637 14.132V15.392H120.825C120.177 15.392 119.673 15.212 119.313 14.852C118.953 14.492 118.773 14 118.773 13.376C118.773 12.704 118.953 12.2 119.313 11.864C119.673 11.504 120.177 11.324 120.825 11.324H131.229C131.877 11.324 132.393 11.468 132.777 11.756C133.161 12.044 133.413 12.404 133.533 12.836C133.677 13.244 133.689 13.7 133.569 14.204C133.473 14.684 133.221 15.14 132.813 15.572L123.777 26.372V24.968H132.129C133.497 24.968 134.181 25.64 134.181 26.984C134.181 27.632 134.001 28.136 133.641 28.496C133.281 28.832 132.777 29 132.129 29H121.041ZM138.338 29C137.81 29 137.366 28.868 137.006 28.604C136.646 28.316 136.406 27.956 136.286 27.524C136.166 27.092 136.166 26.624 136.286 26.12C136.43 25.616 136.706 25.148 137.114 24.716L145.934 14.132V15.392H138.122C137.474 15.392 136.97 15.212 136.61 14.852C136.25 14.492 136.07 14 136.07 13.376C136.07 12.704 136.25 12.2 136.61 11.864C136.97 11.504 137.474 11.324 138.122 11.324H148.526C149.174 11.324 149.69 11.468 150.074 11.756C150.458 12.044 150.71 12.404 150.83 12.836C150.974 13.244 150.986 13.7 150.866 14.204C150.77 14.684 150.518 15.14 150.11 15.572L141.074 26.372V24.968H149.426C150.794 24.968 151.478 25.64 151.478 26.984C151.478 27.632 151.298 28.136 150.938 28.496C150.578 28.832 150.074 29 149.426 29H138.338ZM160.495 29.396C158.359 29.396 156.763 28.808 155.707 27.632C154.651 26.432 154.123 24.656 154.123 22.304V6.068C154.123 5.156 154.351 4.472 154.807 4.016C155.287 3.536 155.971 3.296 156.859 3.296C157.723 3.296 158.383 3.536 158.839 4.016C159.319 4.472 159.559 5.156 159.559 6.068V22.088C159.559 23.072 159.763 23.804 160.171 24.284C160.603 24.74 161.167 24.968 161.863 24.968C162.055 24.968 162.235 24.956 162.403 24.932C162.571 24.908 162.751 24.896 162.943 24.896C163.327 24.848 163.591 24.968 163.735 25.256C163.903 25.52 163.987 26.06 163.987 26.876C163.987 27.596 163.843 28.148 163.555 28.532C163.267 28.892 162.823 29.132 162.223 29.252C161.983 29.276 161.707 29.3 161.395 29.324C161.083 29.372 160.783 29.396 160.495 29.396ZM175.116 29.396C173.028 29.396 171.228 29.024 169.716 28.28C168.228 27.512 167.076 26.444 166.26 25.076C165.468 23.684 165.072 22.052 165.072 20.18C165.072 18.356 165.456 16.76 166.224 15.392C166.992 14 168.06 12.92 169.428 12.152C170.82 11.36 172.392 10.964 174.144 10.964C175.416 10.964 176.568 11.18 177.6 11.612C178.632 12.02 179.52 12.62 180.264 13.412C181.008 14.18 181.572 15.128 181.956 16.256C182.34 17.36 182.532 18.596 182.532 19.964C182.532 20.42 182.388 20.768 182.1 21.008C181.812 21.224 181.392 21.332 180.84 21.332H169.536V18.524H178.608L178.032 19.028C178.032 18.044 177.888 17.228 177.6 16.58C177.312 15.908 176.892 15.404 176.34 15.068C175.812 14.732 175.152 14.564 174.36 14.564C173.472 14.564 172.716 14.768 172.092 15.176C171.468 15.584 170.988 16.172 170.652 16.94C170.316 17.708 170.148 18.632 170.148 19.712V20C170.148 21.824 170.568 23.168 171.408 24.032C172.272 24.896 173.544 25.328 175.224 25.328C175.8 25.328 176.46 25.256 177.204 25.112C177.948 24.968 178.644 24.74 179.292 24.428C179.844 24.164 180.336 24.08 180.768 24.176C181.2 24.248 181.536 24.44 181.776 24.752C182.016 25.064 182.148 25.424 182.172 25.832C182.22 26.24 182.136 26.648 181.92 27.056C181.704 27.44 181.344 27.764 180.84 28.028C180.024 28.484 179.1 28.82 178.068 29.036C177.06 29.276 176.076 29.396 175.116 29.396ZM202.516 29.396C201.46 29.396 200.368 29.3 199.24 29.108C198.136 28.916 197.128 28.592 196.216 28.136C195.736 27.896 195.388 27.596 195.172 27.236C194.98 26.852 194.896 26.468 194.92 26.084C194.944 25.7 195.064 25.352 195.28 25.04C195.52 24.728 195.82 24.524 196.18 24.428C196.564 24.308 196.984 24.344 197.44 24.536C198.424 24.944 199.324 25.232 200.14 25.4C200.956 25.568 201.76 25.652 202.552 25.652C203.584 25.652 204.328 25.496 204.784 25.184C205.264 24.848 205.504 24.416 205.504 23.888C205.504 23.408 205.348 23.048 205.036 22.808C204.724 22.568 204.268 22.4 203.668 22.304L199.888 21.62C198.4 21.356 197.248 20.816 196.432 20C195.64 19.16 195.244 18.092 195.244 16.796C195.244 15.596 195.58 14.564 196.252 13.7C196.924 12.812 197.848 12.14 199.024 11.684C200.224 11.204 201.58 10.964 203.092 10.964C204.172 10.964 205.168 11.06 206.08 11.252C206.992 11.444 207.868 11.756 208.708 12.188C209.14 12.404 209.44 12.692 209.608 13.052C209.8 13.412 209.86 13.784 209.788 14.168C209.74 14.552 209.596 14.9 209.356 15.212C209.116 15.524 208.804 15.728 208.42 15.824C208.06 15.92 207.64 15.872 207.16 15.68C206.392 15.32 205.684 15.068 205.036 14.924C204.388 14.756 203.764 14.672 203.164 14.672C202.084 14.672 201.304 14.852 200.824 15.212C200.344 15.548 200.104 15.98 200.104 16.508C200.104 16.916 200.236 17.264 200.5 17.552C200.788 17.816 201.22 17.996 201.796 18.092L205.576 18.776C207.136 19.04 208.324 19.568 209.14 20.36C209.956 21.128 210.364 22.184 210.364 23.528C210.364 25.352 209.644 26.792 208.204 27.848C206.788 28.88 204.892 29.396 202.516 29.396ZM221.967 29.396C220.311 29.396 218.919 29.12 217.791 28.568C216.687 28.016 215.859 27.212 215.307 26.156C214.779 25.1 214.515 23.768 214.515 22.16V15.392H213.003C212.331 15.392 211.803 15.212 211.419 14.852C211.059 14.492 210.879 14 210.879 13.376C210.879 12.704 211.059 12.2 211.419 11.864C211.803 11.504 212.331 11.324 213.003 11.324H214.515V8.588C214.515 7.676 214.755 6.992 215.235 6.536C215.715 6.056 216.387 5.816 217.251 5.816C218.139 5.816 218.811 6.056 219.267 6.536C219.723 6.992 219.951 7.676 219.951 8.588V11.324H223.371C224.043 11.324 224.559 11.504 224.919 11.864C225.279 12.2 225.459 12.704 225.459 13.376C225.459 14 225.279 14.492 224.919 14.852C224.559 15.212 224.043 15.392 223.371 15.392H219.951V21.944C219.951 22.952 220.179 23.708 220.635 24.212C221.115 24.716 221.871 24.968 222.903 24.968C223.263 24.968 223.599 24.932 223.911 24.86C224.223 24.788 224.511 24.74 224.775 24.716C225.111 24.692 225.387 24.8 225.603 25.04C225.819 25.256 225.927 25.748 225.927 26.516C225.927 27.092 225.831 27.596 225.639 28.028C225.447 28.46 225.111 28.772 224.631 28.964C224.319 29.084 223.887 29.18 223.335 29.252C222.807 29.348 222.351 29.396 221.967 29.396ZM234.362 29.396C232.874 29.396 231.638 29.12 230.654 28.568C229.67 28.016 228.938 27.188 228.458 26.084C228.002 24.956 227.774 23.564 227.774 21.908V13.772C227.774 12.86 228.002 12.176 228.458 11.72C228.938 11.264 229.61 11.036 230.474 11.036C231.338 11.036 232.01 11.264 232.49 11.72C232.97 12.176 233.21 12.86 233.21 13.772V22.052C233.21 23.108 233.426 23.9 233.858 24.428C234.29 24.932 234.974 25.184 235.91 25.184C236.942 25.184 237.782 24.824 238.43 24.104C239.102 23.36 239.438 22.388 239.438 21.188V13.772C239.438 12.86 239.666 12.176 240.122 11.72C240.602 11.264 241.274 11.036 242.138 11.036C243.026 11.036 243.698 11.264 244.154 11.72C244.634 12.176 244.874 12.86 244.874 13.772V26.552C244.874 28.4 243.998 29.324 242.246 29.324C241.382 29.324 240.722 29.084 240.266 28.604C239.81 28.124 239.582 27.44 239.582 26.552V24.14L240.122 25.544C239.594 26.768 238.838 27.716 237.854 28.388C236.87 29.06 235.706 29.396 234.362 29.396ZM255.956 29.396C254.42 29.396 253.064 29.024 251.888 28.28C250.736 27.536 249.836 26.468 249.188 25.076C248.54 23.684 248.216 22.04 248.216 20.144C248.216 18.248 248.54 16.616 249.188 15.248C249.836 13.88 250.736 12.824 251.888 12.08C253.064 11.336 254.42 10.964 255.956 10.964C257.348 10.964 258.572 11.3 259.628 11.972C260.708 12.644 261.44 13.52 261.824 14.6H261.428V6.068C261.428 5.156 261.656 4.472 262.112 4.016C262.568 3.536 263.24 3.296 264.128 3.296C264.992 3.296 265.664 3.536 266.144 4.016C266.624 4.472 266.864 5.156 266.864 6.068V26.552C266.864 27.44 266.624 28.124 266.144 28.604C265.688 29.084 265.028 29.324 264.164 29.324C263.3 29.324 262.628 29.084 262.148 28.604C261.692 28.124 261.464 27.44 261.464 26.552V24.104L261.86 25.508C261.524 26.684 260.804 27.632 259.7 28.352C258.62 29.048 257.372 29.396 255.956 29.396ZM257.576 25.328C258.368 25.328 259.052 25.136 259.628 24.752C260.204 24.368 260.66 23.804 260.996 23.06C261.332 22.292 261.5 21.32 261.5 20.144C261.5 18.392 261.14 17.108 260.42 16.292C259.7 15.452 258.752 15.032 257.576 15.032C256.808 15.032 256.124 15.212 255.524 15.572C254.948 15.932 254.492 16.496 254.156 17.264C253.844 18.008 253.688 18.968 253.688 20.144C253.688 21.896 254.048 23.204 254.768 24.068C255.488 24.908 256.424 25.328 257.576 25.328ZM273.789 29.288C272.901 29.288 272.217 29.036 271.737 28.532C271.281 28.004 271.053 27.272 271.053 26.336V14.024C271.053 13.064 271.281 12.332 271.737 11.828C272.217 11.3 272.901 11.036 273.789 11.036C274.653 11.036 275.313 11.3 275.769 11.828C276.249 12.332 276.489 13.064 276.489 14.024V26.336C276.489 27.272 276.261 28.004 275.805 28.532C275.349 29.036 274.677 29.288 273.789 29.288ZM273.789 8.084C272.781 8.084 272.001 7.856 271.449 7.4C270.921 6.92 270.657 6.248 270.657 5.384C270.657 4.496 270.921 3.824 271.449 3.368C272.001 2.888 272.781 2.648 273.789 2.648C274.797 2.648 275.565 2.888 276.093 3.368C276.621 3.824 276.885 4.496 276.885 5.384C276.885 6.248 276.621 6.92 276.093 7.4C275.565 7.856 274.797 8.084 273.789 8.084ZM289.182 29.396C287.286 29.396 285.63 29.024 284.214 28.28C282.822 27.536 281.742 26.468 280.974 25.076C280.206 23.684 279.822 22.04 279.822 20.144C279.822 18.728 280.038 17.456 280.47 16.328C280.902 15.2 281.526 14.24 282.342 13.448C283.182 12.632 284.178 12.02 285.33 11.612C286.482 11.18 287.766 10.964 289.182 10.964C291.078 10.964 292.722 11.336 294.114 12.08C295.53 12.824 296.622 13.88 297.39 15.248C298.182 16.616 298.578 18.248 298.578 20.144C298.578 21.584 298.35 22.868 297.894 23.996C297.462 25.124 296.838 26.096 296.022 26.912C295.206 27.728 294.21 28.352 293.034 28.784C291.882 29.192 290.598 29.396 289.182 29.396ZM289.182 25.328C289.974 25.328 290.658 25.136 291.234 24.752C291.81 24.368 292.266 23.804 292.602 23.06C292.938 22.292 293.106 21.32 293.106 20.144C293.106 18.392 292.746 17.108 292.026 16.292C291.306 15.452 290.358 15.032 289.182 15.032C288.414 15.032 287.73 15.212 287.13 15.572C286.554 15.932 286.098 16.496 285.762 17.264C285.45 18.008 285.294 18.968 285.294 20.144C285.294 21.896 285.654 23.204 286.374 24.068C287.094 24.908 288.03 25.328 289.182 25.328Z",fill:"var(--primary)"})]})]}),Xrt=(t,e,r)=>{const n=async(c,d,h)=>{try{const m=Ii();e.sendMessage("query",{sql:c,params:d,arrayMode:h,id:m});const f=await new Promise(p=>{e.addMessageListenerOnce(`query-${m}`,E=>{p(E)})});if("error"in f)throw new Error(f.error);return f}catch{throw new Error("Failed to get data")}},s=async c=>{try{const d=Ii();return e.sendMessage("transaction",{queries:c,id:d}),(await new Promise(m=>{e.addMessageListenerOnce(`transaction-${d}`,f=>{m(f)})})).map(m=>"error"in m?new Error(m.error):m)}catch{throw new Error("Failed to get data")}},i=async(c,d=[],h)=>{const m=await n(c,d,(h==null?void 0:h.mode)==="array");if(!m||!Array.isArray(m)||(h==null?void 0:h.mode)==="array"&&m.length>0&&!Array.isArray(m[0])||(h==null?void 0:h.mode)!=="array"&&m.length>0&&typeof m[0]!="object")throw new cd("ExpoSQLite","Invalid response from ExpoSQLite driver",{sql:c,params:d,options:h,result:m});return m},o=async(c,d)=>{const h=await s(c.map(m=>({sql:m.sql,params:m.params})));if(!h||!Array.isArray(h)||h.some(m=>!Array.isArray(m)&&!(m instanceof Error)))throw new cd("ExpoSQLite","Invalid response from ExpoSQLite driver",{sql:c.map(m=>m.sql).join(`

`),params:c.map(m=>m.params),options:d,result:h});return h},a=K8(t),l=mz(t);it.getState().actions.initialize("sqlite",t,i,o).catch(r),ht.setState({mainStore:a,sqlEditorStore:l})},Qrt=({dbHash:t,client:e})=>{const r=ld(o=>o.showBoundary),n=Me(o=>o.restartTrigger),[s,i]=y.useState(!0);return y.useEffect(()=>{i(!0);try{Xrt(t,e,r),i(!1)}catch(o){r(o)}},[n,t,e]),y.useEffect(()=>{const o=l=>{l.target.closest("[data-scrollable]")||l.stopPropagation()},a=l=>{l.target.closest("[data-scrollable]")||l.stopPropagation()};return document.addEventListener("wheel",o,!0),document.addEventListener("touchmove",a,!0),()=>{document.removeEventListener("wheel",o,!0),document.removeEventListener("touchmove",a,!0)}},[]),s?u.jsx("div",{className:"flex h-full items-center justify-center",children:u.jsx(jn,{})}):u.jsx(UZe,{SQLRunner:qrt,CustomBottomPanel:Krt})},fp=yp()(t=>({dbHash:null,setDbHash:e=>{t({dbHash:e})},client:null,setClient:e=>{t({client:e})}})),Jrt={"--background":"#ffffff","--foreground":"#37352f","--muted":"#fafafa","--muted-foreground":"#3b3f4b","--dialog":"#ffffff","--edit":"#fff6e5","--edit-foreground":"#a45200","--edit-placeholder":"#c76300","--table-row":"#ffffff","--table-row-hover":"#f5f5f5","--table-row-border-hover":"#cacbcf","--table-cell-text-muted":"#8c8c8f","--table-cell-selected-border":"#1a73e9","--table-cell-selected-background":"#1a73e914","--table-cell-relation-button":"#ebebeb","--table-cell-relation-button-foreground":"#37352f","--tab-background":"#ffffff","--tab-background-hover":"#f1f5f9","--tab-background-active":"#f1f5f9","--tab-foreground":"#37352f","--tab-foreground-hover":"#37352f","--tab-foreground-active":"#37352f","--tab-border-active":"#eaeaea","--tab-close-active":"#37352f","--button-outline":"#ffffff","--button-outline-hover":"#fafafa","--button-outline-text":"#37352f","--button-outline-text-hover":"#37352f","--button-outline-border":"#eaeaea","--button-outline-border-hover":"#cacbcf","--button-outline-active":"#f5f5f5","--button-outline-active-hover":"#f7f7f7","--button-outline-active-text":"#37352f","--button-outline-active-hover-text":"#37352f","--button-outline-active-border":"#cacbcf","--button-outline-active-border-hover":"#cacbcf","--popover":"#ffffff","--popover-foreground":"#37352f","--card":"#ffffff","--card-foreground":"#37352f","--border":"#eaeaea","--input":"#ffffff","--input-placeholder":"#8c8c8f","--input-border":"#eaeaea","--input-border-focus":"#cacbcf","--primary":"#37352f","--primary-foreground":"#f8fafc","--secondary":"#f7f7f7","--secondary-foreground":"#37352f","--accent":"#f7f7f7","--accent-foreground":"#37352f","--destructive":"#ff0000","--destructive-foreground":"#f8fafc","--ring":"#94a3b8","--radius":"0.5rem","--expanded-grid":"#2f3747","--expanded-grid-border":"#1b202b","--loader":"#bebebe","--submit":"#15a449","--submit-foreground":"#fafafb","--number-color":"#F35815","--property-name":"#1A1A1A","--cursor":"#616161","--line-number":"#616161","--string-value":"#13862E","--boolean-value":"#5E49AF","--highlight-background":"#F4F4F470","--editor-background":"#ffffff","--selection":"#B4D7FF","--fold-gutter-hover":"#d6d9e4","--tooltip-background":"#f5f5f5","--font-weight-toolbar":"500","--font-weight-tabs":"600","--font-weight-tabs-active":"600","--font-weight-table-list-title":"600","--font-weight-table-list-item":"500","--table-font":"'Menlo', monospace","--interface-font":"'system-ui', sans-serif","--editor-font":"'Menlo', monospace","--filters-toolbar":"#fafafa","--filters-button":"#ebebeb","--checkbox-radius":"2px","--table-vertical-lines":"1px","--ts-variable-color":"#015cc5","--ts-method-color":"#6f42c1","--ts-function-color":"#6f42c1","--ts-property-color":"#24292f","--ts-definition-color":"#24292f","--ts-number-value-color":"#015cc5","--ts-string-value-color":"#022f62","--ts-boolean-value-color":"#015cc5","--sql-variable":"#24292f","--sql-keyword":"#d73a4a","--sql-number":"#015cc5","--sql-string":"#022f62","--sql-boolean":"#24292f","--page-background":"#f0f0f0","--sidebar-list-item":"#ffffff","--sidebar-list-item-text":"#3b3f4b","--sidebar-list-item-hover":"#fafafa","--sidebar-list-item-hover-text":"#37352f","--sidebar-list-item-active":"#f5f5f5","--sidebar-list-item-active-text":"#37352f","--sidebar-list-item-active-hover":"#f5f5f5","--sidebar-list-item-active-hover-text":"#37352f","--sidebar-list-subview-arrow":"#8A8C93","--sidebar-list-subview-arrow-active":"#3B3F4B","--structure":"#f8f8f8","--structure-button-link-text":"#3b82f6","--structure-card-border":"#e8e8e8","--structure-codeblock":"#fafafa","--structure-codeblock-border":"#e4e4e5","--structure-codeblock-border-hover":"#cacbcf","--structure-codeblock-hover":"#f5f5f5","--structure-codeblock-edit":"#fff6e5","--structure-codeblock-edit-hover":"#ffedce","--structure-codeblock-edit-text":"#a45200","--structure-codeblock-edit-border":"#ffd484","--structure-codeblock-edit-border-hover":"#ffd484","--structure-edit":"#fff6e5","--structure-edit-text":"#a45200","--sql-console-gutter-run-button":"#17A34A"},Ese="2.0.0";if(localStorage.getItem("drizzle-version")!==Ese){for(const t in localStorage)t.startsWith("drizzle-")&&localStorage.removeItem(t);localStorage.setItem("drizzle-version",Ese)}class Zrt extends HTMLElement{constructor(){super(...arguments);O(this,"root");O(this,"BaseApp",()=>{const r=fp(s=>s.dbHash),n=fp(s=>s.client);return!r||!n?u.jsx("div",{className:"flex h-full items-center justify-center",children:u.jsx(jn,{})}):u.jsx(Qrt,{dbHash:r,client:n})})}static get observedAttributes(){return["style"]}get dbHash(){return fp.getState().dbHash}set dbHash(r){fp.getState().setDbHash(r)}get client(){return fp.getState().client}set client(r){fp.getState().setClient(r)}connectedCallback(){const r=this.shadowRoot||this.attachShadow({mode:"open"});wn.getState().setShadowRoot(r);const n=document.createElement("style");n.textContent=wPe,r.appendChild(n);const s=document.createElement("div");s.id="drizzle-studio-root",r.appendChild(s),this.root=KG(s),this.root.render(u.jsx(eLe,{fallback:xPe({type:"internal"}),children:u.jsx(this.BaseApp,{})})),this.applyCssVariables()}disconnectedCallback(){wn.getState().setShadowRoot(null),setTimeout(()=>{var r;(r=this.root)==null||r.unmount(),this.root=void 0},0)}async attributeChangedCallback(r,n,s){if(n!==s)switch(r){case"style":this.updateStyle(s);break}}updateStyle(r){OPe.call(this,r)}applyCssVariables(){var r;if((r=this.shadowRoot)!=null&&r.host)try{const n=Jrt;for(const s in n){const i=n[s];if(typeof i!="string")throw new Error(`Value of ${s} must be a string.`);if(!/^--.+$/.test(s))throw new Error(`Invalid CSS variable name: ${s}`);this.shadowRoot.host.style.setProperty(s,i)}}catch(n){throw new Error(`Invalid 'css-variables' attribute: ${n.message}`)}}reset(){Me.getState().actions.reset()}restart(){Me.getState().actions.restart()}}customElements.get("drizzle-studio")||customElements.define("drizzle-studio",Zrt)})();
